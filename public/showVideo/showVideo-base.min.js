/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t){for(r in c){(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i)}}n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.5.1",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length" in e&&e.length,n=w(e);return !m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++){if(null!=(e=arguments[s])){for(t in e){r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r))}}}return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return !(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++){if(!1===t.call(e[r],r,e[r])){break}}}else{for(r in e){if(!1===t.call(e[r],r,e[r])){break}}}return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++){e[i++]=t[r]}return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++){!t(e[i],i)!==a&&r.push(e[i])}return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e)){for(r=e.length;o<r;o++){null!=(i=t(e[o],o,n))&&a.push(i)}}else{for(o in e){null!=(i=t(e[o],o,n))&&a.push(i)}}return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return -1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return !0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p){return n}if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t))){if(i=u[1]){if(9===p){if(!(a=e.getElementById(i))){return n}if(a.id===i){return n.push(a),n}}else{if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i){return n.push(a),n}}}else{if(u[2]){return H.apply(n,e.getElementsByTagName(t)),n}if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName){return H.apply(n,e.getElementsByClassName(i)),n}}}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--){l[o]=(s?"#"+s:":scope")+" "+xe(l[o])}c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return !!e(t)}catch(e){return !1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--){b.attrHandle[n[r]]=t}}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form" in e?e.parentNode&&!1===e.disabled?"label" in e?"label" in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label" in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--){e[n=r[i]]&&(e[n]=!(t[n]=e[n]))}})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return !Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e){return[o]}i=t.getElementsByName(e),r=0;while(o=i[r++]){if((n=o.getAttributeNode("id"))&&n.value===e){return[o]}}}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E){return t.getElementsByClassName(e)}},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},D=t?function(e,t){if(e===t){return l=!0,0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t){return l=!0,0}var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o){return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0}if(i===o){return pe(e,t)}n=e;while(n=n.parentNode){a.unshift(n)}n=t;while(n=n.parentNode){s.unshift(n)}while(a[r]===s[r]){r++}return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t))){try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType){return n}}catch(e){N(t,!0)}}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++]){t===e[i]&&(r=n.push(i))}while(r--){e.splice(n[r],1)}}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{while(t=e[r++]){n+=o(t)}}return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return !0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return !!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l]){if(x?a.nodeName.toLowerCase()===f:1===a.nodeType){return !1}}u=l="only"===h&&!u&&"nextSibling"}return !0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop()){if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}}else{if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d){while(a=++s&&a&&a[l]||(d=s=0)||u.pop()){if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e)){break}}}}return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--){e[n=P(e,r[i])]=!(t[n]=r[i])}}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--){(i=o[a])&&(e[a]=!(t[a]=i))}}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return -1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}}while((e=e.parentNode)&&1===e.nodeType);return !1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return !1}}return !0},parent:function(e){return !b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2){e.push(n)}return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2){e.push(n)}return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;){e.push(r)}return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;){e.push(r)}return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){b.pseudos[e]=de(e)}for(e in {submit:!0,reset:!0}){b.pseudos[e]=he(e)}function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++){r+=e[t].value}return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u]){if(1===e.nodeType||f){return s(e,t,n)}}return !1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u]){if((1===e.nodeType||f)&&s(e,t,n)){return !0}}}else{while(e=e[u]){if(1===e.nodeType||f){if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase()){e=e[u]||e}else{if((r=i[c])&&r[0]===k&&r[1]===p){return a[2]=r[2]}if((i[c]=a)[2]=s(e,t,n)){return !0}}}}}return !1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--){if(!i[r](e,t,n)){return !1}}return !0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++){(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)))}return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++){se(e,t[r],n)}return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--){(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}}if(e){if(y||d){if(y){i=[],o=p.length;while(o--){(a=p[o])&&i.push(f[o]=a)}y(null,p=[],i,r)}o=p.length;while(o--){(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}}else{p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)}})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return -1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++){if(t=b.relative[e[s].type]){c=[be(we(c),t)]}else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++){if(b.relative[e[n].type]){break}}return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l){return t?0:l.slice(0)}a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter){!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length))}if(!n){break}}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--){(a=Ee(t[n]))[S]?i.push(a):o.push(a)}(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||0.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++]){if(s(o,t||C,n)){r.push(o);break}}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++]){s(c,f,t,n)}if(e){if(0<u){while(l--){c[l]||f[l]||(f[l]=q.call(r))}}f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0])){return n}l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type]){break}if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o))){return H.apply(n,r),n}break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(D).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase()){return e.defaultValue}}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n){return !0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType){if(1===e.nodeType){if(i&&S(e).is(n)){break}r.push(e)}}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,n,r){return m(n)?S.grep(e,function(e,t){return !!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return -1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e){return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++){if(S.contains(i[t],this)){return !0}}}))}for(n=this.pushStack([]),t=0;t<r;t++){S.find(e,i[t],n)}return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return !!D(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e){return this}if(n=n||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t){return !t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t)){for(r in t){m(this[r])?this[r](t[r]):this.attr(r,t[r])}}return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,j=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType){}return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++){if(S.contains(this,t[e])){return !0}}})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e)){for(;r<i;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}}}}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length){!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n))){s.splice(n,1),n<=l&&l--}}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return !s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return !!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return !!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise()){throw new TypeError("Thenable self-resolution")}t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then))){return o.then()}while(t--){I(i[t],a(t),o.reject)}return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n)){for(s in i=!0,n){$(e,t,s,n[s],!0,o,a)}}else{if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t)){for(;s<u;s++){t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)))}}}return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t){i[X(t)]=n}else{for(r in t){i[X(r)]=t[r]}}return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t)) in r?[t]:t.match(P)||[]).length;while(n--){delete r[t[n]]}}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType){if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else{n=void 0}}return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--){a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]))}Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e){return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0}this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e){return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]}},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--){(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s))}return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--){S.style(e,t,c+l),(1-o)*(1-(o=s()/u||0.5))<=0&&(a=0),c/=o}c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++){(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)))}for(c=0;c<f;c++){null!=l[c]&&(e[c].style.display=l[c])}return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++){Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++){if((o=e[d])||0===o){if("object"===w(o)){S.merge(p,o.nodeType?[o]:o)}else{if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--){a=a.lastChild}S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else{p.push(t.createTextNode(o))}}}}f.textContent="",d=0;while(o=p[d++]){if(r&&-1<S.inArray(o,r)){i&&i.push(o)}else{if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++]){he.test(o.type||"")&&n.push(o)}}}}return f}var be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ce(){return !0}function Ee(){return !1}function Se(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in "string"!=typeof n&&(r=r||n,n=void 0),t){ke(e,s,n,r,t[s],o)}return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i){i=Ee}else{if(!i){return e}}return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ae(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length){(S.event.special[i]||{}).delegateType&&e.stopPropagation()}else{if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n){return e.stopImmediatePropagation(),e.preventDefault(),n.value}}}else{r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}}})):void 0===Y.get(e,i)&&S.event.add(e,i,Ce)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--){d=g=(s=Te.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--){if(d=g=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--){c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c))}a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else{for(d in u){S.event.remove(e,d+t[l],n,r,!0)}}}S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++){s[t]=arguments[t]}if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped()){u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button)){for(;l!==this;l=l.parentNode||this){if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++){void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r)}o.length&&s.push({elem:l,handlers:o})}}}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent){return e(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[t]}},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click",Ce),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event)){return new S.Event(e,t)}e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj){return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof e){for(i in e){this.off(i,t,e[i])}return this}return !1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){S.event.remove(this,e,n,t)})}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events)){for(i in Y.remove(t,"handle events"),s){for(n=0,r=s[i].length;n<r;n++){S.event.add(t,i,s[i][n])}}}Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function Pe(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&De.test(d)){return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Pe(t,r,i,o)})}if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Le)).length;c<f;c++){u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c)}if(s){for(l=a[a.length-1].ownerDocument,S.map(a,He),c=0;c<s;c++){u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(je,""),u,l))}}}return n}function Re(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++){n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r))}return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e))){for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++){s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue)}}if(t){if(n){for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++){Oe(o[r],a[r])}}else{Oe(e,c)}}return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++){if(V(n)){if(t=n[Y.expando]){if(t.events){for(r in t.events){i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle)}}n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}}),S.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="")}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType){return t.innerHTML}if("string"==typeof e&&!Ne.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++){1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e)}t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++){t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get())}return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},We=function(e,t,n){var r,i,o={};for(i in t){o[i]=e.style[i],e.style[i]=t[i]}for(i in r=n.call(e),t){e.style[i]=o[i]}return r},Fe=new RegExp(ne.join("|"),"i");function Be(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ie(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Me.test(a)&&Fe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e()){return(this.get=t).apply(this,arguments)}delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=3<parseInt(r.height),re.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ze=E.createElement("div").style,Ue={};function Xe(e){var t=S.cssProps[e]||Ue[e];return t||(e in ze?e:Ue[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=_e.length;while(n--){if((e=_e[n]+t) in ze){return e}}}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content")){return 0}for(;a<4;a+=2){"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i))}return !r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-0.5))||0),u}function Ze(e,t,n){var r=Ie(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n){return a}a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ge.test(t),l=e.style;if(u||(t=Xe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n){return a&&"get" in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]}"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set" in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ge.test(t)||(t=Xe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get" in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t){return !Ve.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):We(e,Ye,function(){return Ze(e,u,n)})}},set:function(e,t,n){var r,i=Ie(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-0.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t){return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++){n[i+ne[t]+o]=r[t]||r[t-2]||r[0]}return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++){o[t[a]]=S.css(e,t[a],!1,r)}return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t){i["margin"+(n=ne[r])]=i["padding"+n]=e}return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++){if(r=i[o].call(n,t,e)){return r}}}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a){return !1}for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++){l.tweens[r].run(n)}return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a){return this}for(a=!0;t<n;t++){l.tweens[t].run(1)}return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e){if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand" in a){for(n in o=a.expand(o),delete e[r],o){n in e||(e[n]=o[n],t[n]=i)}}else{t[r]=i}}}(c,l.opts.specialEasing);r<i;r++){if(n=ft.prefilters[r].call(l,o,c,l.opts)){return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n}}return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++){n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)}},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width" in t||"height" in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t){if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r]){continue}g=!0}d[r]=v&&v[r]||S.style(e,r)}}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d)){for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d){u||(v?"hidden" in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d){S.style(e,r,d[r])}})),u=ct(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t){r[t]&&r[t].stop&&a(r[t])}else{for(t in r){r[t]&&r[t].stop&&at.test(t)&&a(r[t])}}for(t=n.length;t--;){n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1))}!e&&o||S.dequeue(this,i)})},finish:function(a){return !1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;){i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1))}for(e=0;e<o;e++){n[e]&&n[e].finish&&n[e].finish.call(this)}delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++){(e=n[t])()||n[t]!==e||n.splice(t--,1)}n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",y.checkOn=""!==rt.value,y.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",y.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o){return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set" in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get" in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)}},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType){while(n=i[r++]){e.removeAttribute(n)}}}}),pt={set:function(e,t,n){return !1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(P)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o){return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set" in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get" in i&&null!==(r=i.get(e,t))?r:e[t]}},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t)){return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))})}if((e=mt(t)).length){while(n=this[u++]){if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++]){r.indexOf(" "+o+" ")<0&&(r+=o+" ")}i!==(s=vt(r))&&n.setAttribute("class",s)}}}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t)){return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))})}if(!arguments.length){return this.attr("class","")}if((e=mt(t)).length){while(n=this[u++]){if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++]){while(-1<r.indexOf(" "+o+" ")){r=r.replace(" "+o+" "," ")}}i!==(s=vt(r))&&n.setAttribute("class",s)}}}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=mt(i);while(e=r[t++]){n.hasClass(e)?n.removeClass(e):n.addClass(e)}}else{void 0!==i&&"boolean"!==o||((e=yt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))}})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++]){if(1===n.nodeType&&-1<(" "+vt(yt(n))+" ").indexOf(t)){return !0}}return !1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set" in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get" in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:vt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++){if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a){return t}s.push(t)}}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--){((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0)}return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=-1<S.inArray(S(e).val(),t)}}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin" in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode){p.push(o),a=o}a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped()){f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault())}return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n){return S.event.trigger(e,t,n,!0)}}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e){return null}try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Dt(n,e,r,i){var t;if(Array.isArray(e)){S.each(e,function(e,t){r||St.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)})}else{if(r||"object"!==w(e)){i(n,e)}else{for(t in e){Dt(n+"["+t+"]",e[t],r,i)}}}}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e){return""}if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e)){S.each(e,function(){i(this.name,this.value)})}else{for(n in e){Dt(n,e[n],t,i)}}return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var jt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t)){while(n=i[r++]){"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}}}function Bt(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t){void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n])}return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p)){n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e){if(h){T.always(e[T.status])}else{for(t in e){w[t]=[w[t],e[t]]}}}return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Bt(Rt,v,t,T),h){return T}for(i in (g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ot.test(v.type),f=v.url.replace(qt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(jt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Et.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+It+"; q=0.01":""):v.accepts["*"]),v.headers){T.setRequestHeader(i,v.headers[i])}if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h)){return T.abort()}if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Bt(Mt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h){return T}v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h){throw e}l(-1,e)}}else{l(-1,"No Transport")}function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0]){u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"))}if(r){for(i in s){if(s[i]&&s[i].test(r)){u.unshift(i);break}}}if(u[0] in n){o=u[0]}else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o){return o!==u[0]&&u.unshift(o),n[o]}}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1]){for(a in e.converters){l[a.toLowerCase()]=e.converters[a]}}o=c.shift();while(o){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift()){if("*"===o){o=u}else{if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o])){for(i in l){if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}}}if(!0!==a){if(a&&e["throws"]){t=a(t)}else{try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}}}}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers){"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return !S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return !!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();y.cors=!!zt&&"withCredentials" in zt,y.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(y.cors||zt&&!i.crossDomain){return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields){for(n in i.xhrFields){r[n]=i.xhrFields[n]}}for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e){r.setRequestHeader(n,e[n])}o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o){throw e}}},abort:function(){o&&o()}}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs){return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0]){return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}}),y.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return -1<s&&(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using" in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},S.fn.extend({offset:function(t){if(arguments.length){return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)})}var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position")){t=r.getBoundingClientRect()}else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position")){e=e.parentNode}e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position")){e=e.offsetParent}return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n){return r?r[i]:e[t]}r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t){return t=Be(e,n),Me.test(t)?S(e).position()[n]+"px":t}})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e)){return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i}},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}}}(function($,undefined){if(!("indexOf" in Array.prototype)){Array.prototype.indexOf=function(find,i){if(i===undefined){i=0}if(i<0){i+=this.length}if(i<0){i=0}for(var n=this.length;i<n;i++){if(i in this&&this[i]===find){return i}}return -1}}function timeZoneAbbreviation(){var abbreviation,date,formattedStr,i,len,matchedStrings,ref,str;date=(new Date()).toString();formattedStr=((ref=date.split("(")[1])!=null?ref.slice(0,-1):0)||date.split(" ");if(formattedStr instanceof Array){matchedStrings=[];for(var i=0,len=formattedStr.length;i<len;i++){str=formattedStr[i];if((abbreviation=(ref=str.match(/\b[A-Z]+\b/))!==null)?ref[0]:0){matchedStrings.push(abbreviation)}}formattedStr=matchedStrings.pop()}return formattedStr}function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}var Datetimepicker=function(element,options){var that=this;this.element=$(element);this.container=options.container||"body";this.oData=options.oData||[];this.dataType=options.dataType||"";this.language=options.language||this.element.data("date-language")||"en";this.language=this.language in dates?this.language:this.language.split("-")[0];this.language=this.language in dates?this.language:"en";this.isRTL=dates[this.language].rtl||false;this.formatType=options.formatType||this.element.data("format-type")||"standard";this.format=DPGlobal.parseFormat(options.format||this.element.data("date-format")||dates[this.language].format||DPGlobal.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.fontAwesome=options.fontAwesome||this.element.data("font-awesome")||false;this.bootcssVer=options.bootcssVer||(this.isInput?(this.element.is(".form-control")?3:2):(this.bootcssVer=this.element.is(".input-group")?3:2));this.component=this.element.is(".date")?(this.bootcssVer===3?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()):false;this.componentReset=this.element.is(".date")?(this.bootcssVer===3?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.linkField=options.linkField||this.element.data("link-field")||false;this.linkFormat=DPGlobal.parseFormat(options.linkFormat||this.element.data("link-format")||DPGlobal.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=options.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=options.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=options.showMeridian||this.element.data("show-meridian")||false;this.initialDate=options.initialDate||new Date();this.zIndex=options.zIndex||this.element.data("z-index")||undefined;this.title=typeof options.title==="undefined"?false:options.title;this.timezone=options.timezone||timeZoneAbbreviation();this.icons={leftArrow:this.fontAwesome?"fa-arrow-left":(this.bootcssVer===3?"glyphicon-arrow-left":"icon-arrow-left"),rightArrow:this.fontAwesome?"fa-arrow-right":(this.bootcssVer===3?"glyphicon-arrow-right":"icon-arrow-right")};this.icontype=this.fontAwesome?"fa":"glyphicon";this._attachEvents();this.clickedOutside=function(e){if($(e.target).closest(".datetimepicker").length===0){that.hide()}};this.formatViewType="datetime";if("formatViewType" in options){this.formatViewType=options.formatViewType}else{if("formatViewType" in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView" in options){this.minView=options.minView}else{if("minView" in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=DPGlobal.convertViewMode(this.minView);this.maxView=DPGlobal.modes.length-1;if("maxView" in options){this.maxView=options.maxView}else{if("maxView" in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=DPGlobal.convertViewMode(this.maxView);this.wheelViewModeNavigation=false;if("wheelViewModeNavigation" in options){this.wheelViewModeNavigation=options.wheelViewModeNavigation}else{if("wheelViewModeNavigation" in this.element.data()){this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")}}this.wheelViewModeNavigationInverseDirection=false;if("wheelViewModeNavigationInverseDirection" in options){this.wheelViewModeNavigationInverseDirection=options.wheelViewModeNavigationInverseDirection}else{if("wheelViewModeNavigationInverseDirection" in this.element.data()){this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")}}this.wheelViewModeNavigationDelay=100;if("wheelViewModeNavigationDelay" in options){this.wheelViewModeNavigationDelay=options.wheelViewModeNavigationDelay}else{if("wheelViewModeNavigationDelay" in this.element.data()){this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")}}this.startViewMode=2;if("startView" in options){this.startViewMode=options.startView}else{if("startView" in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=DPGlobal.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect" in options){this.viewSelect=options.viewSelect}else{if("viewSelect" in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=DPGlobal.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse" in options){this.forceParse=options.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}var template=this.bootcssVer===3?DPGlobal.templateV3:DPGlobal.template;while(template.indexOf("{iconType}")!==-1){template=template.replace("{iconType}",this.icontype)}while(template.indexOf("{leftArrow}")!==-1){template=template.replace("{leftArrow}",this.icons.leftArrow)}while(template.indexOf("{rightArrow}")!==-1){template=template.replace("{rightArrow}",this.icons.rightArrow)}this.picker=$(template).appendTo(this.isInline?this.element:this.container).on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)});if(this.wheelViewModeNavigation){if($.fn.mousewheel){this.picker.on({mousewheel:$.proxy(this.mousewheel,this)})}else{console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")}}if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");var selector=this.bootcssVer===3?".prev span, .next span":".prev i, .next i";this.picker.find(selector).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}$(document).on("mousedown touchend",this.clickedOutside);this.autoclose=false;if("autoclose" in options){this.autoclose=options.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in options){this.keyboardNavigation=options.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(options.todayBtn||this.element.data("date-today-btn")||false);this.clearBtn=(options.clearBtn||this.element.data("date-clear-btn")||false);this.todayHighlight=(options.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=0;if(typeof options.weekStart!=="undefined"){this.weekStart=options.weekStart}else{if(typeof this.element.data("date-weekstart")!=="undefined"){this.weekStart=this.element.data("date-weekstart")}else{if(typeof dates[this.language].weekStart!=="undefined"){this.weekStart=dates[this.language].weekStart}}}this.weekStart=this.weekStart%7;this.weekEnd=((this.weekStart+6)%7);this.onRenderDay=function(date){var render=(options.onRenderDay||function(){return[]})(date);if(typeof render==="string"){render=[render]}var res=["day"];return res.concat((render?render:[]))};this.onRenderHour=function(date){var render=(options.onRenderHour||function(){return[]})(date);var res=["hour"];if(typeof render==="string"){render=[render]}return res.concat((render?render:[]))};this.onRenderMinute=function(date){var render=(options.onRenderMinute||function(){return[]})(date);var res=["minute"];if(typeof render==="string"){render=[render]}if(date<this.startDate||date>this.endDate){res.push("disabled")}else{if(Math.floor(this.date.getUTCMinutes()/this.minuteStep)===Math.floor(date.getUTCMinutes()/this.minuteStep)){res.push("active")}}return res.concat((render?render:[]))};this.onRenderYear=function(date){var render=(options.onRenderYear||function(){return[]})(date);var res=["year"];if(typeof render==="string"){render=[render]}if(this.date.getUTCFullYear()===date.getUTCFullYear()){res.push("active")}var currentYear=date.getUTCFullYear();var endYear=this.endDate.getUTCFullYear();var startYear=this.startDate.getUTCFullYear();if(currentYear<startYear||currentYear>endYear){res.push("disabled")}return res.concat((render?render:[]))};this.onRenderMonth=function(date){var render=(options.onRenderMonth||function(){return[]})(date);var res=["month"];if(typeof render==="string"){render=[render]}return res.concat((render?render:[]))};this.startDate=new Date(-8639968443048000);this.endDate=new Date(8639968443048000);this.datesDisabled=[];this.daysOfWeekDisabled=[];this.setStartDate(options.startDate||this.element.data("date-startdate"));this.setEndDate(options.endDate||this.element.data("date-enddate"));this.setDatesDisabled(options.datesDisabled||this.element.data("date-dates-disabled"));this.setDaysOfWeekDisabled(options.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.setMinutesDisabled(options.minutesDisabled||this.element.data("date-minute-disabled"));this.setHoursDisabled(options.hoursDisabled||this.element.data("date-hour-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};Datetimepicker.prototype={constructor:Datetimepicker,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]];if(this.componentReset){this._events.push([this.componentReset,{click:$.proxy(this.reset,this)}])}}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:$.proxy(this.show,this)}]]}}}for(var i=0,el,ev;i<this._events.length;i++){el=this._events[i][0];ev=this._events[i][1];el.on(ev)}},_detachEvents:function(){for(var i=0,el,ev;i<this._events.length;i++){el=this._events[i][0];ev=this._events[i][1];el.off(ev)}this._events=[]},show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();if(this.forceParse){this.update()}this.place();$(window).on("resize",$.proxy(this.place,this));if(e){e.stopPropagation();e.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();$(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){$(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();$(document).off("mousedown",this.clickedOutside);this.picker.remove();delete this.picker;delete this.element.data().datetimepicker},getDate:function(){var d=this.getUTCDate();if(d===null){return null}return new Date(d.getTime())},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(initialDate){this.initialDate=initialDate},setDate:function(d){this.setUTCDate(new Date(d.getTime()))},setUTCDate:function(d){if(d>=this.startDate&&d<=this.endDate){this.date=d;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:d,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(format){this.format=DPGlobal.parseFormat(format,this.formatType);var element;if(this.isInput){element=this.element}else{if(this.component){element=this.element.find("input")}}if(element&&element.val()){this.setValue()}},setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(formatted)}this.element.data("date",formatted)}else{this.element.val(formatted)}if(this.linkField){$("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(format){format=format||this.format;return DPGlobal.formatDate(this.date,format,this.language,this.formatType,this.timezone)},setStartDate:function(startDate){this.startDate=startDate||this.startDate;if(this.startDate.valueOf()!==8639968443048000){this.startDate=DPGlobal.parseDate(this.startDate,this.format,this.language,this.formatType,this.timezone)}this.update();this.updateNavArrows()},setEndDate:function(endDate){this.endDate=endDate||this.endDate;if(this.endDate.valueOf()!==8639968443048000){this.endDate=DPGlobal.parseDate(this.endDate,this.format,this.language,this.formatType,this.timezone)}this.update();this.updateNavArrows()},setDatesDisabled:function(datesDisabled){this.datesDisabled=datesDisabled||[];if(!$.isArray(this.datesDisabled)){this.datesDisabled=this.datesDisabled.split(/,\s*/)}var mThis=this;this.datesDisabled=$.map(this.datesDisabled,function(d){return DPGlobal.parseDate(d,mThis.format,mThis.language,mThis.formatType,mThis.timezone).toDateString()});this.update();this.updateNavArrows()},setTitle:function(selector,value){return this.picker.find(selector).find("th:eq(1)").text(this.title===false?value:this.title)},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this.daysOfWeekDisabled=daysOfWeekDisabled||[];if(!$.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=$.map(this.daysOfWeekDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},setMinutesDisabled:function(minutesDisabled){this.minutesDisabled=minutesDisabled||[];if(!$.isArray(this.minutesDisabled)){this.minutesDisabled=this.minutesDisabled.split(/,\s*/)}this.minutesDisabled=$.map(this.minutesDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},setHoursDisabled:function(hoursDisabled){this.hoursDisabled=hoursDisabled||[];if(!$.isArray(this.hoursDisabled)){this.hoursDisabled=this.hoursDisabled.split(/,\s*/)}this.hoursDisabled=$.map(this.hoursDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}if(!this.zIndex){var index_highest=0;$("div").each(function(){var index_current=parseInt($(this).css("zIndex"),10);if(index_current>index_highest){index_highest=index_current}});this.zIndex=index_highest+10}var offset,top,left,containerOffset;if(this.container instanceof $){containerOffset=this.container.offset()}else{containerOffset=$(this.container).offset()}if(this.component){offset=this.component.offset();left=offset.left;if(this.pickerPosition==="bottom-left"||this.pickerPosition==="top-left"){left+=this.component.outerWidth()-this.picker.outerWidth()}}else{offset=this.element.offset();left=offset.left;if(this.pickerPosition==="bottom-left"||this.pickerPosition==="top-left"){left+=this.element.outerWidth()-this.picker.outerWidth()}}var bodyWidth=document.body.clientWidth||window.innerWidth;if(left+220>bodyWidth){left=bodyWidth-220}if(this.pickerPosition==="top-left"||this.pickerPosition==="top-right"){top=offset.top-this.picker.outerHeight()}else{top=offset.top+this.height}top=top-containerOffset.top;left=left-containerOffset.left;this.picker.css({top:top,left:left,zIndex:this.zIndex})},hour_minute:"^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]",update:function(){var date,fromArgs=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){date=arguments[0];fromArgs=true}else{date=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate;if(typeof date==="string"){date=date.replace(/^\s+|\s+$/g,"")}}if(!date){date=new Date();fromArgs=false}if(typeof date==="string"){if(new RegExp(this.hour_minute).test(date)||new RegExp(this.hour_minute+":[0-5][0-9]").test(date)){date=this.getDate()}}this.date=DPGlobal.parseDate(date,this.format,this.language,this.formatType,this.timezone);if(fromArgs){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var dowCnt=this.weekStart,html="<tr>";while(dowCnt<this.weekStart+7){html+='<th class="dow">'+dates[this.language].daysMin[(dowCnt++)%7]+"</th>"}html+="</tr>";this.picker.find(".datetimepicker-days thead").append(html)},fillMonths:function(){var html="";var d=new Date(this.viewDate);for(var i=0;i<12;i++){d.setUTCMonth(i);var classes=this.onRenderMonth(d);html+='<span class="'+classes.join(" ")+'">'+dates[this.language].monthsShort[i]+"</span>"}this.picker.find(".datetimepicker-months td").html(html)},fFill:function(data){this.oData=data;this.fill()},fill:function(){if(!this.date||!this.viewDate){return}var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),dayMonth=d.getUTCDate(),hours=d.getUTCHours(),startYear=this.startDate.getUTCFullYear(),startMonth=this.startDate.getUTCMonth(),endYear=this.endDate.getUTCFullYear(),endMonth=this.endDate.getUTCMonth()+1,currentDate=(new UTCDate(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),today=new Date(),oData=[];this.setTitle(".datetimepicker-days",dates[this.language].months[month]+" "+year);if(this.formatViewType==="time"){var formatted=this.getFormattedDate();this.setTitle(".datetimepicker-hours",formatted);this.setTitle(".datetimepicker-minutes",formatted)}else{this.setTitle(".datetimepicker-hours",dayMonth+" "+dates[this.language].months[month]+" "+year);this.setTitle(".datetimepicker-minutes",dayMonth+" "+dates[this.language].months[month]+" "+year)}this.picker.find("tfoot th.today").text(dates[this.language].today||dates["en"].today).toggle(this.todayBtn!==false);this.picker.find("tfoot th.clear").text(dates[this.language].clear||dates["en"].clear).toggle(this.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var classes;if(this.dataType&&this.dataType===2){var isShowColor=true;var dataIndex=0;oData=this.oData}while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()===this.weekStart){html.push("<tr>")}classes=this.onRenderDay(prevMonth);if(prevMonth.getUTCFullYear()<year||(prevMonth.getUTCFullYear()===year&&prevMonth.getUTCMonth()<month)){classes.push("old")}else{if(prevMonth.getUTCFullYear()>year||(prevMonth.getUTCFullYear()===year&&prevMonth.getUTCMonth()>month)){classes.push("new")}else{if(isShowColor){if(oData[dataIndex]&&oData[dataIndex].day){if(parseInt(oData[dataIndex].day)===prevMonth.getUTCDate()){if(oData[dataIndex].state&&oData[dataIndex].state==3){classes.push("green")}else{classes.push("red")}dataIndex++}else{}}else{}}}}if(this.todayHighlight&&prevMonth.getUTCFullYear()===today.getFullYear()&&prevMonth.getUTCMonth()===today.getMonth()&&prevMonth.getUTCDate()===today.getDate()){classes.push("today")}if(prevMonth.valueOf()===currentDate){classes.push("active")}if((prevMonth.valueOf()+86400000)<=this.startDate||prevMonth.valueOf()>this.endDate||$.inArray(prevMonth.getUTCDay(),this.daysOfWeekDisabled)!==-1||$.inArray(prevMonth.toDateString(),this.datesDisabled)!==-1){var nIndex=classes.indexOf("red");if(nIndex>=0){classes.splice(nIndex,1,"disabled")}else{classes.push("disabled")}}html.push('<td class="'+classes.join(" ")+'">'+prevMonth.getUTCDate()+"</td>");if(prevMonth.getUTCDay()===this.weekEnd){html.push("</tr>")}prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(html.join(""));html=[];var txt="",meridian="",meridianOld="";var hoursDisabled=this.hoursDisabled||[];d=new Date(this.viewDate);for(var i=0;i<24;i++){d.setUTCHours(i);classes=this.onRenderHour(d);if(hoursDisabled.indexOf(i)!==-1){classes.push("disabled")}var actual=UTCDate(year,month,dayMonth,i);if((actual.valueOf()+3600000)<=this.startDate||actual.valueOf()>this.endDate){classes.push("disabled")}else{if(hours===i){classes.push("active")}}if(this.showMeridian&&dates[this.language].meridiem.length===2){meridian=(i<12?dates[this.language].meridiem[0]:dates[this.language].meridiem[1]);if(meridian!==meridianOld){if(meridianOld!==""){html.push("</fieldset>")}html.push('<fieldset class="hour"><legend>'+meridian.toUpperCase()+"</legend>")}meridianOld=meridian;txt=(i%12?i%12:12);if(i<12){classes.push("hour_am")}else{classes.push("hour_pm")}html.push('<span class="'+classes.join(" ")+'">'+txt+"</span>");if(i===23){html.push("</fieldset>")}}else{txt=i+":00";html.push('<span class="'+classes.join(" ")+'">'+txt+"</span>")}}this.picker.find(".datetimepicker-hours td").html(html.join(""));html=[];txt="";meridian="";meridianOld="";var minutesDisabled=this.minutesDisabled||[];d=new Date(this.viewDate);for(var i=0;i<60;i+=this.minuteStep){if(minutesDisabled.indexOf(i)!==-1){continue}d.setUTCMinutes(i);d.setUTCSeconds(0);classes=this.onRenderMinute(d);if(this.showMeridian&&dates[this.language].meridiem.length===2){meridian=(hours<12?dates[this.language].meridiem[0]:dates[this.language].meridiem[1]);if(meridian!==meridianOld){if(meridianOld!==""){html.push("</fieldset>")}html.push('<fieldset class="minute"><legend>'+meridian.toUpperCase()+"</legend>")}meridianOld=meridian;txt=(hours%12?hours%12:12);html.push('<span class="'+classes.join(" ")+'">'+txt+":"+(i<10?"0"+i:i)+"</span>");if(i===59){html.push("</fieldset>")}}else{txt=i+":00";html.push('<span class="'+classes.join(" ")+'">'+hours+":"+(i<10?"0"+i:i)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(html.join(""));var currentYear=this.date.getUTCFullYear();var months=this.setTitle(".datetimepicker-months",year).end().find(".month").removeClass("active");if(currentYear===year){months.eq(this.date.getUTCMonth()).addClass("active")}if(year<startYear||year>endYear){months.addClass("disabled")}if(year===startYear){months.slice(0,startMonth).addClass("disabled")}if(year===endYear){months.slice(endMonth).addClass("disabled")}if(this.dataType&&this.dataType===3){oData=this.oData;if(oData){for(var i=0;i<oData.length;i++){if(oData[i]){if(oData[i].month){var s=Number(oData[i].month.replace(/^0/,""))-1;if(oData[i].state===2){months.eq(s).addClass("green")}else{if(oData[i].state===1){months.eq(s).addClass("red")}}}}}}}html="";year=parseInt(year/10,10)*10;var yearCont=this.setTitle(".datetimepicker-years",year+"-"+(year+9)).end().find("td");year-=1;d=new Date(this.viewDate);for(var i=-1;i<11;i++){d.setUTCFullYear(year);classes=this.onRenderYear(d);if(i===-1||i===10){classes.push(old)}html+='<span class="'+classes.join(" ")+'">'+year+"</span>";year+=1}yearCont.html(html);this.place()},updateNavArrows:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),day=d.getUTCDate(),hour=d.getUTCHours();switch(this.viewMode){case 0:if(year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()&&hour<=this.startDate.getUTCHours()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()&&hour>=this.endDate.getUTCHours()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:if(year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 2:if(year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(year<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(year>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},mousewheel:function(e){e.preventDefault();e.stopPropagation();if(this.wheelPause){return}this.wheelPause=true;var originalEvent=e.originalEvent;var delta=originalEvent.wheelDelta;var mode=delta>0?1:(delta===0)?0:-1;if(this.wheelViewModeNavigationInverseDirection){mode=-mode}this.showMode(mode);setTimeout($.proxy(function(){this.wheelPause=false},this),this.wheelViewModeNavigationDelay)},click:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target).closest("span, td, th, legend");if(target.is("."+this.icontype)){target=$(target).parent().closest("span, td, th, legend")}if(target.length===1){if(target.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,dir);break;case 1:this.viewDate=this.moveDate(this.viewDate,dir);break;case 2:this.viewDate=this.moveMonth(this.viewDate,dir);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,dir);break}this.fill();this.element.trigger({type:target[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate,fFill:this.fFill.bind(this)});break;case"clear":this.reset();if(this.autoclose){this.hide()}break;case"today":var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),0);if(date<this.startDate){date=this.startDate}else{if(date>this.endDate){date=this.endDate}}this.viewMode=this.startViewMode;this.showMode(0);this._setDate(date);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!target.is(".disabled")){var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),day=this.viewDate.getUTCDate(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".month")){this.viewDate.setUTCDate(1);month=target.parent().find("span").index(target);day=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(month);this.element.trigger({type:"changeMonth",date:this.viewDate,fFill:this.fFill.bind(this)});if(this.viewSelect>=3){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".year")){this.viewDate.setUTCDate(1);year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this.element.trigger({type:"changeYear",date:this.viewDate,fFill:this.fFill.bind(this)});if(this.viewSelect>=4){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".hour")){hours=parseInt(target.text(),10)||0;if(target.hasClass("hour_am")||target.hasClass("hour_pm")){if(hours===12&&target.hasClass("hour_am")){hours=0}else{if(hours!==12&&target.hasClass("hour_pm")){hours+=12}}}this.viewDate.setUTCHours(hours);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".minute")){minutes=parseInt(target.text().substr(target.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(minutes);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}}}}if(this.viewMode!==0){var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode===this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(target.is(".day")&&!target.is(".disabled")){var day=parseInt(target.text(),10)||1;var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".old")){if(month===0){month=11;year-=1}else{month-=1}}else{if(target.is(".new")){if(month===11){month=0;year+=1}else{month+=1}}}this.viewDate.setUTCFullYear(year);this.viewDate.setUTCMonth(month,day);this.element.trigger({type:"changeDay",date:this.viewDate,fFill:this.fFill.bind(this),oTarget:target});if(this.viewSelect>=2){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode===this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(date,which){if(!which||which==="date"){this.date=date}if(!which||which==="view"){this.viewDate=date}this.fill();this.setValue();var element;if(this.isInput){element=this.element}else{if(this.component){element=this.element.find("input")}}if(element){element.change()}this.element.trigger({type:"changeDate",date:this.getDate()});if(date===null){this.date=this.viewDate}},moveMinute:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCMinutes(new_date.getUTCMinutes()+(dir*this.minuteStep));return new_date},moveHour:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCHours(new_date.getUTCHours()+dir);return new_date},moveDate:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCDate(new_date.getUTCDate()+dir);return new_date},moveMonth:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag===1){test=dir===-1?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11){new_month=(new_month+12)%12}}else{for(var i=0;i<mag;i++){new_date=this.moveMonth(new_date,dir)}new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!==new_date.getUTCMonth()}}while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.startDate&&date<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode===27){this.show()}return}var dateChanged=false,dir,newDate,newViewDate;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}dir=e.keyCode===37?-1:1;var viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode===4){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(viewMode===3){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{if(viewMode===2){newDate=this.moveDate(this.date,dir);newViewDate=this.moveDate(this.viewDate,dir)}else{if(viewMode===1){newDate=this.moveHour(this.date,dir);newViewDate=this.moveHour(this.viewDate,dir)}else{if(viewMode===0){newDate=this.moveMinute(this.date,dir);newViewDate=this.moveMinute(this.viewDate,dir)}}}}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 38:case 40:if(!this.keyboardNavigation){break}dir=e.keyCode===38?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode===4){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(viewMode===3){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{if(viewMode===2){newDate=this.moveDate(this.date,dir*7);newViewDate=this.moveDate(this.viewDate,dir*7)}else{if(viewMode===1){if(this.showMeridian){newDate=this.moveHour(this.date,dir*6);newViewDate=this.moveHour(this.viewDate,dir*6)}else{newDate=this.moveHour(this.date,dir*4);newViewDate=this.moveHour(this.viewDate,dir*4)}}else{if(viewMode===0){newDate=this.moveMinute(this.date,dir*4);newViewDate=this.moveMinute(this.viewDate,dir*4)}}}}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 13:if(this.viewMode!==0){var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode===this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}e.preventDefault();break;case 9:this.hide();break}if(dateChanged){var element;if(this.isInput){element=this.element}else{if(this.component){element=this.element.find("input")}}if(element){element.change()}this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(dir){if(dir){var newViewMode=Math.max(0,Math.min(DPGlobal.modes.length-1,this.viewMode+dir));if(newViewMode>=this.minView&&newViewMode<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:newViewMode});this.viewMode=newViewMode}}this.picker.find(">div").hide().filter(".datetimepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(){this._setDate(null,"date")},convertViewModeText:function(viewMode){switch(viewMode){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var old=$.fn.datetimepicker;$.fn.datetimepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data("datetimepicker"),options=typeof option==="object"&&option;if(!data){$this.data("datetimepicker",(data=new Datetimepicker(this,$.extend({},$.fn.datetimepicker.defaults,options))))}if(typeof option==="string"&&typeof data[option]==="function"){internal_return=data[option].apply(data,args);if(internal_return!==undefined){return false}}});if(internal_return!==undefined){return internal_return}else{return this}};$.fn.datetimepicker.defaults={};$.fn.datetimepicker.Constructor=Datetimepicker;var dates=$.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"},"zh-CN":{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",suffix:[],meridiem:["上午","下午"]}};var DPGlobal={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0))},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month]},getDefaultFormat:function(type,field){if(type==="standard"){if(field==="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(type==="php"){if(field==="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(type){if(type==="standard"){return/t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(type==="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(format,type){var separators=format.replace(this.validParts(type),"\0").split("\0"),parts=format.match(this.validParts(type));if(!separators||!separators.length||!parts||parts.length===0){throw new Error("Invalid date format.")}return{separators:separators,parts:parts}},parseDate:function(date,format,language,type,timezone){if(date instanceof Date){var dateUTC=new Date(date.valueOf());dateUTC.setMilliseconds(0);return dateUTC}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(date)){format=this.parseFormat("yyyy-mm-dd",type)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(date)){format=this.parseFormat("yyyy-mm-dd hh:ii",type)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(date)){format=this.parseFormat("yyyy-mm-dd hh:ii:ss",type)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(date)){var part_re=/([-+]\d+)([dmwy])/,parts=date.match(/([-+]\d+)([dmwy])/g),part,dir;date=new Date();for(var i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+dir*7);break;case"y":date=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,date,dir);break}}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),0)}var parts=date&&date.toString().match(this.nonpunctuation)||[],date=new Date(0,0,0,0,0,0,0),parsed={},setters_order=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P","z","Z"],setters_map={hh:function(d,v){return d.setUTCHours(v)},h:function(d,v){return d.setUTCHours(v)},HH:function(d,v){return d.setUTCHours(v===12?0:v)},H:function(d,v){return d.setUTCHours(v===12?0:v)},ii:function(d,v){return d.setUTCMinutes(v)},i:function(d,v){return d.setUTCMinutes(v)},ss:function(d,v){return d.setUTCSeconds(v)},s:function(d,v){return d.setUTCSeconds(v)},yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2000+v)},m:function(d,v){v-=1;while(v<0){v+=12}v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v){if(isNaN(d.getUTCMonth())){return d}else{d.setUTCDate(d.getUTCDate()-1)}}return d},d:function(d,v){return d.setUTCDate(v)},p:function(d,v){return d.setUTCHours(v===1?d.getUTCHours()+12:d.getUTCHours())},z:function(){return timezone}},val,filtered,part;setters_map["M"]=setters_map["MM"]=setters_map["mm"]=setters_map["m"];setters_map["dd"]=setters_map["d"];setters_map["P"]=setters_map["p"];setters_map["Z"]=setters_map["z"];date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds());if(parts.length===format.parts.length){for(var i=0,cnt=format.parts.length;i<cnt;i++){val=parseInt(parts[i],10);part=format.parts[i];if(isNaN(val)){switch(part){case"MM":filtered=$(dates[language].months).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m===p});val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()===p.toLowerCase()});val=$.inArray(filtered[0],dates[language].monthsShort)+1;break;case"p":case"P":val=$.inArray(parts[i].toLowerCase(),dates[language].meridiem);break;case"z":case"Z":timezone;break}}parsed[part]=val}for(var i=0,s;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){setters_map[s](date,parsed[s])}}}return date},formatDate:function(date,format,language,type,timezone){if(date===null){return""}var val;if(type==="standard"){val={t:date.getTime(),yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear(),m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],p:(dates[language].meridiem.length===2?dates[language].meridiem[date.getUTCHours()<12?0:1]:""),h:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds(),z:timezone};if(dates[language].meridiem.length===2){val.H=(val.h%12===0?12:val.h%12)}else{val.H=val.h}val.HH=(val.H<10?"0":"")+val.H;val.P=val.p.toUpperCase();val.Z=val.z;val.hh=(val.h<10?"0":"")+val.h;val.ii=(val.i<10?"0":"")+val.i;val.ss=(val.s<10?"0":"")+val.s;val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m}else{if(type==="php"){val={y:date.getUTCFullYear().toString().substring(2),Y:date.getUTCFullYear(),F:dates[language].months[date.getUTCMonth()],M:dates[language].monthsShort[date.getUTCMonth()],n:date.getUTCMonth()+1,t:DPGlobal.getDaysInMonth(date.getUTCFullYear(),date.getUTCMonth()),j:date.getUTCDate(),l:dates[language].days[date.getUTCDay()],D:dates[language].daysShort[date.getUTCDay()],w:date.getUTCDay(),N:(date.getUTCDay()===0?7:date.getUTCDay()),S:(date.getUTCDate()%10<=dates[language].suffix.length?dates[language].suffix[date.getUTCDate()%10-1]:""),a:(dates[language].meridiem.length===2?dates[language].meridiem[date.getUTCHours()<12?0:1]:""),g:(date.getUTCHours()%12===0?12:date.getUTCHours()%12),G:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()};val.m=(val.n<10?"0":"")+val.n;val.d=(val.j<10?"0":"")+val.j;val.A=val.a.toString().toUpperCase();val.h=(val.g<10?"0":"")+val.g;val.H=(val.G<10?"0":"")+val.G;val.i=(val.i<10?"0":"")+val.i;val.s=(val.s<10?"0":"")+val.s}else{throw new Error("Invalid format type.")}}var date=[],seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<cnt;i++){if(seps.length){date.push(seps.shift())}date.push(val[format.parts[i]])}if(seps.length){date.push(seps.shift())}return date.join("")},convertViewMode:function(viewMode){switch(viewMode){case 4:case"decade":viewMode=4;break;case 3:case"year":viewMode=3;break;case 2:case"month":viewMode=2;break;case 1:case"day":viewMode=1;break;case 0:case"hour":viewMode=0;break}return viewMode},headTemplate:"<thead>"+"<tr>"+'<th class="prev"><i class="{iconType} {leftArrow}"/></th>'+'<th colspan="5" class="switch"></th>'+'<th class="next"><i class="{iconType} {rightArrow}"/></th>'+"</tr>"+"</thead>",headTemplateV3:"<thead>"+"<tr>"+'<th class="prev"><span class="{iconType} {leftArrow}"></span> </th>'+'<th colspan="5" class="switch"></th>'+'<th class="next"><span class="{iconType} {rightArrow}"></span> </th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:"<tfoot>"+'<tr><th colspan="7" class="today"></th></tr>'+'<tr><th colspan="7" class="clear"></th></tr>'+"</tfoot>"};DPGlobal.template='<div class="datetimepicker">'+'<div class="datetimepicker-minutes">'+'<table class=" table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-hours">'+'<table class=" table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-days">'+'<table class=" table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-months">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-years">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+"</div>";DPGlobal.templateV3='<div class="datetimepicker">'+'<div class="datetimepicker-minutes">'+'<table class=" table-condensed">'+DPGlobal.headTemplateV3+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-hours">'+'<table class=" table-condensed">'+DPGlobal.headTemplateV3+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-days">'+'<table class=" table-condensed">'+DPGlobal.headTemplateV3+"<tbody></tbody>"+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-months">'+'<table class="table-condensed">'+DPGlobal.headTemplateV3+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datetimepicker-years">'+'<table class="table-condensed">'+DPGlobal.headTemplateV3+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+"</div>";$.fn.datetimepicker.DPGlobal=DPGlobal;$.fn.datetimepicker.noConflict=function(){$.fn.datetimepicker=old;return this};$(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var $this=$(this);if($this.data("datetimepicker")){return}e.preventDefault();$this.datetimepicker("show")});$(function(){$('[data-provide="datetimepicker-inline"]').datetimepicker()})}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(e){return e.replace(/\n\r?\s*/g,"")}function i(e,t){it(e).forEach(function(i){return t(e[i],i)})}function r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(t){t&&i(t,function(t,i){e[i]=t})}),e)}function n(e){return!!e&&"object"===(void 0===e?"undefined":He(e))}function o(e){return n(e)&&"[object Object]"===tt.call(e)&&e.constructor===Object}function a(e,t){if(!e||!t)return"";if("function"==typeof Ue.getComputedStyle){var i=Ue.getComputedStyle(e);return i?i[t]:""}return""}function s(e){return"string"==typeof e&&/\S/.test(e)}function u(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function l(){return Ge===Ue.document}function c(e){return n(e)&&1===e.nodeType}function h(){try{return Ue.parent!==Ue.self}catch(e){return!0}}function d(e){return function(t,i){if(!s(t))return Ge[e](null);s(i)&&(i=Ge.querySelector(i));var r=c(i)?i:Ge;return r[e]&&r[e](t)}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],n=Ge.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(We.warn(Ve(rt,e,i)),n.setAttribute(e,i)):"textContent"===e?p(n,i):n[e]=i}),Object.getOwnPropertyNames(i).forEach(function(e){n.setAttribute(e,i[e])}),r&&O(n,r),n}function p(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function A(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function g(e,t){return u(t),e.classList?e.classList.contains(t):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(t).test(e.className)}function m(e,t){return e.classList?e.classList.add(t):g(e,t)||(e.className=(e.className+" "+t).trim()),e}function y(e,t){return e.classList?e.classList.remove(t):(u(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function v(e,t,i){var r=g(e,t);if("function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=!r),i!==r)return i?m(e,t):y(e,t),e}function E(e,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];null===r||void 0===r||!1===r?e.removeAttribute(i):e.setAttribute(i,!0===r?"":r)})}function w(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,r=i.length-1;r>=0;r--){var n=i[r].name,o=i[r].value;"boolean"!=typeof e[n]&&-1===",autoplay,stretch,fluent,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+n+",")||(o=null!==o),t[n]=o}return t}function b(e,t){return e.getAttribute(t)}function C(e,t,i){e.setAttribute(t,i)}function I(e,t){e.removeAttribute(t)}function S(){Ge.body.focus(),Ge.onselectstart=function(){return!1}}function M(){Ge.onselectstart=function(){return!0}}function k(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(a(e,"height"))),i.width||(i.width=parseFloat(a(e,"width"))),i}}function T(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var i=Ge.documentElement,r=Ge.body,n=i.clientLeft||r.clientLeft||0,o=Ue.pageXOffset||r.scrollLeft,a=t.left+o-n,s=i.clientTop||r.clientTop||0,u=Ue.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function D(e,t){var i={},r=T(e),n=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(a-u+o)/o)),i.x=Math.max(0,Math.min(1,(l-s)/n)),i}function B(e){return n(e)&&3===e.nodeType}function R(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Q(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),c(e)||B(e)?e:"string"==typeof e&&/\S/.test(e)?Ge.createTextNode(e):void 0}).filter(function(e){return e})}function O(e,t){return Q(t).forEach(function(t){return e.appendChild(t)}),e}function L(e,t){return O(R(e),t)}function x(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons}function q(){return st++}function K(e){var t=e[lt];return t||(t=e[lt]=q()),ut[t]||(ut[t]={}),ut[t]}function U(e){var t=e[lt];return!!t&&!!Object.getOwnPropertyNames(ut[t]).length}function F(e){var t=e[lt];if(t){delete ut[t];try{delete e[lt]}catch(t){e.removeAttribute?e.removeAttribute(lt):e[lt]=null}}}function j(e,t){var i=K(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&F(e)}function N(e,t,i,r){i.forEach(function(i){e(t,i,r)})}function J(e){function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped){var r=e||Ue.event;for(var n in e={},r)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&("returnValue"===n&&r.preventDefault||(e[n]=r[n]));if(e.target||(e.target=e.srcElement||Ge),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var o=Ge.documentElement,a=Ge.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function G(e,t,i){if(Array.isArray(t))return N(G,e,t,i);var r=K(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),i.guid||(i.guid=q()),r.handlers[t].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,i){if(!r.disabled){t=J(t);var n=r.handlers[t.type];if(n)for(var o=n.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,i)}catch(e){We.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var n=!1;ct&&ht.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,r.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function Y(e,t,i){if(U(e)){var r=K(e);if(r.handlers){if(Array.isArray(t))return N(Y,e,t,i);var n=function(e,t){r.handlers[t]=[],j(e,t)};if(void 0!==t){var o=r.handlers[t];if(o){if(!i)return void n(e,t);if(i.guid)for(var a=0;a<o.length;a++)o[a].guid===i.guid&&o.splice(a--,1);j(e,t)}}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&n(e,s)}}}function P(e,t,i){var r=U(e)?K(e):{},n=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=J(t),r.dispatcher&&r.dispatcher.call(e,t,i),n&&!t.isPropagationStopped()&&!0===t.bubbles)P.call(null,n,t,i);else if(!n&&!t.defaultPrevented){var o=K(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function z(e,t,i){if(Array.isArray(t))return N(z,e,t,i);var r=function r(){Y(e,t,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||q(),G(e,t,r)}function Z(e,t){t&&(pt=t),Ue.setTimeout(At,e)}function W(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=f("span",{className:"vjs-event-bus"});return r(e,Bt),e.on("dispose",function(){e.off(),Ue.setTimeout(function(){e.eventBusEl_=null},0)}),e}function V(e,t){return r(e,Rt),e.state=r({},e.state,t),"function"==typeof e.handleStateChanged&&Ct(e)&&e.on("statechanged",e.handleStateChanged),e}function H(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function X(){for(var e={},t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){t&&i(t,function(t,i){o(t)?(o(e[i])||(e[i]={}),e[i]=X(e[i],t)):e[i]=t})}),e}function _(e,t,i,r){return function(e,t,i){if("number"!=typeof t||t<0||t>i)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}(e,r,i.length-1),i[r][t]}function $(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:_.bind(null,"start",0,e),end:_.bind(null,"end",1,e)}}function ee(e,t){return Array.isArray(e)?$(e):void 0===e||void 0===t?$():$([[e,t]])}function te(e,t){var i=0,r=void 0,n=void 0;if(!t)return 0;e&&e.length||(e=ee(0,0));for(var o=0;o<e.length;o++)r=e.start(o),(n=e.end(o))>t&&(n=t),i+=n-r;return i/t}function ie(e){if(e instanceof ie)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:n(e)&&("number"==typeof e.code&&(this.code=e.code),r(this,e)),this.message||(this.message=ie.defaultMessages[this.code]||"")}function re(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function ne(e){re(e)&&e.then(null,function(e){})}function oe(e,t,i){var r=e;return Ui(t)?(i=t,"string"==typeof e&&(r={uri:e})):r=Xi(t,{uri:e}),r.callback=i,r}function ae(e,t,i){return se(t=oe(e,t,i))}function se(e){function t(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,A)}function i(){if(!s){var t;clearTimeout(u),t=e.useXDR&&void 0===o.status?200:1223===o.status?204:o.status;var i=A,r=null;return 0!==t?(i={body:function(){var e=void 0;if(e=o.response?o.response:o.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(o),p)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:c,headers:{},url:l,rawRequest:o},o.getAllResponseHeaders&&(i.headers=Hi(o.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),n(r,i,i.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var r=!1,n=function(t,i,n){r||(r=!0,e.callback(t,i,n))},o=e.xhr||null;o||(o=e.cors||e.useXDR?new ae.XDomainRequest:new ae.XMLHttpRequest);var a,s,u,l=o.url=e.uri||e.url,c=o.method=e.method||"GET",h=e.body||e.data,d=o.headers=e.headers||{},f=!!e.sync,p=!1,A={body:void 0,headers:{},statusCode:0,method:c,url:l,rawRequest:o};if("json"in e&&!1!==e.json&&(p=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),o.onreadystatechange=function(){4===o.readyState&&setTimeout(i,0)},o.onload=i,o.onerror=t,o.onprogress=function(){},o.onabort=function(){s=!0},o.ontimeout=t,o.open(c,l,!f,e.username,e.password),f||(o.withCredentials=!!e.withCredentials),!f&&e.timeout>0&&(u=setTimeout(function(){if(!s){s=!0,o.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},e.timeout)),o.setRequestHeader)for(a in d)d.hasOwnProperty(a)&&o.setRequestHeader(a,d[a]);else e.headers&&function(e){for(var t in e)if(e.hasOwnProperty(t))return!1}(e.headers);return"responseType"in e&&(o.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(o),o.send(h||null),o}function ue(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function le(e){function t(e,t,i,r){return 3600*(0|e)+60*(0|t)+(0|i)+(0|r)/1e3}var i=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function ce(){this.values=cr(null)}function he(e,t,i,r){var n=r?e.split(r):[e];for(var o in n)if("string"==typeof n[o]){var a=n[o].split(i);if(2===a.length)t(a[0],a[1])}}function de(e,t,i){function r(){var t=le(e);if(null===t)throw new ue(ue.Errors.BadTimeStamp,"Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function n(){e=e.replace(/^\s+/,"")}var o=e;if(n(),t.startTime=r(),n(),"--\x3e"!==e.substr(0,3))throw new ue(ue.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),n(),t.endTime=r(),n(),function(e,t){var r=new ce;he(e,function(e,t){switch(e){case"region":for(var n=i.length-1;n>=0;n--)if(i[n].id===t){r.set(e,i[n].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}function fe(e,t){function i(e){return hr[e]}for(var r,n=e.document.createElement("div"),o=n,a=[];null!==(r=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]*>?)?/);return function(e){return t=t.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==r[0])o.appendChild(e.document.createTextNode(function(e){for(;l=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(l[0],i);return e}(r)));else{if("/"===r[1]){a.length&&a[a.length-1]===r.substr(2).replace(">","")&&(a.pop(),o=o.parentNode);continue}var s,u=le(r.substr(1,r.length-2));if(u){s=e.document.createProcessingInstruction("timestamp",u),o.appendChild(s);continue}var l=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!l)continue;if(!(s=function(t,i){var r=dr[t];if(!r)return null;var n=e.document.createElement(r);n.localName=r;var o=fr[t];return o&&i&&(n[o]=i.trim()),n}(l[1],l[3])))continue;if(!function(e,t){return!pr[t.localName]||pr[t.localName]===e.localName}(o,s))continue;l[2]&&(s.className=l[2].substr(1).replace("."," ")),a.push(l[1]),o.appendChild(s),o=s}return n}function pe(e){for(var t=0;t<Ar.length;t++){var i=Ar[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function Ae(){}function ge(e,t,i){Ae.call(this),this.cue=t,this.cueDiv=fe(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:function(e){function t(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}function i(e){if(!e||!e.length)return null;var r=e.pop(),n=r.textContent||r.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===r.tagName?i(e):r.childNodes?(t(e,r),i(e)):void 0}var r=[],n="";if(!e||!e.childNodes)return"ltr";for(t(r,e);n=i(r);)for(var o=0;o<n.length;o++)if(pe(n.charCodeAt(o)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var n=0;switch(t.positionAlign){case"start":n=t.position;break;case"middle":n=t.position-t.size/2;break;case"end":n=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function me(e){var t,i,r,n;if(e.div){i=e.div.offsetHeight,r=e.div.offsetWidth,n=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||n,this.height=e.height||i,this.bottom=e.bottom||n+(e.height||i),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function ye(e,t,i,r){var n=new me(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,r=0,n=0;n<i.length&&i[n]!==t;n++)"showing"===i[n].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=n.lineHeight,c=l*Math.round(a),h=i[u]+l,d=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),a<0&&(c+=""===o.vertical?i.height:i.width,s=s.reverse()),n.move(d,c)}else{var f=n.lineHeight/i.height*100;switch(o.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],n=new me(t)}var p=function(e,t){for(var n,o=new me(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(i,t[s])||e.within(i)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(i))return e;var u=e.intersectPercentage(i);a>u&&(n=new me(e),a=u),e=new me(o)}return n||o}(n,s);t.move(p.toCSSCompatValues(i))}function ve(){}function Ee(e){return"string"==typeof e&&!!Er[e.toLowerCase()]&&e.toLowerCase()}function we(e,t,i){this.hasBeenReset=!1;var r="",n=!1,o=e,a=t,s=i,u=null,l="",c=!0,h="auto",d="start",f=50,p="middle",A=50,g="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(e){r=""+e}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(e){n=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(e){s=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&!!vr[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&e!==yr)throw new SyntaxError("An invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(e){var t=Ee(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");f=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=Ee(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return A},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");A=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=Ee(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}function be(e){return"number"==typeof e&&e>=0&&e<=100}function Ce(e,t,i){e.setTimeout(function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],o=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=i[0],l=i.slice(1);if("string"==typeof u)e(t,Rr[u],n,o,a,s);else if(u){var c=function(e,t){var i=Qr[e.id()],r=null;if(void 0===i||null===i)return r=t(e),Qr[e.id()]=[[t,r]],r;for(var n=0;n<i.length;n++){var o=i[n],a=o[0],s=o[1];a===t&&(r=s)}return null===r&&(r=t(e),i.push([t,r])),r}(o,u);if(!c.setSource)return a.push(c),e(t,l,n,o,a,s);c.setSource(r({},t),function(i,r){if(i)return e(t,l,n,o,a,s);a.push(c),e(r,t.type===r.type?l:Rr[r.type],n,o,a,s)})}else l.length?e(t,l,n,o,a,s):s?n(t,a):e(t,Rr["*"],n,o,a,!0)}(t,Rr[t.type],i,e)},1)}function Ie(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n="call"+H(i),o=e.reduce(Se(n),r),a=o===Or,s=a?null:t[i](o);return function(e,t,i,r){for(var n=e.length-1;n>=0;n--){var o=e[n];o[t]&&o[t](r,i)}}(e,i,s,a),s}function Se(e){return function(t,i){return t===Or?Or:i[e]?i[e](t):t}}function Me(e){var t=Ur(e.src);return!e.type&&t&&(e.type=t),e}function ke(e,t){var i=void 0;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function Te(e,t,i){try{e.style[t]=i}catch(e){return}}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Hr(e,t)}function Be(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Re(e,t,i){var r=Re.getPlayer(e);if(r)return t&&We.warn('Player "'+e+'" is already initialised. Options will not be applied.'),i&&r.ready(i),r;var o="string"==typeof e?nt("#"+Mo(e)):e;if(!c(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");Ge.body.contains(o)||We.warn("The element supplied is not included in the DOM"),t=t||{},Re.hooks("beforesetup").forEach(function(e){var i=e(o,X(t));n(i)&&!Array.isArray(i)?t=X(t,i):We.error("please return an object in beforesetup hooks")});var a=Qt.getComponent("Player");return r=new a(o,t,i),Re.hooks("setup").forEach(function(e){return e(r)}),r}function Qe(e,t){return function(i){var r=this;if(!t)return new Vh(e);if(Vh&&!i){var n=Oe(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ph]=new Vh(n),function(e,t){if(e&&t){var i=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Wh.revokeObjectURL(e.objURL),i.call(e)}}}(this[Ph],n),this[Ph]}var o={postMessage:function(e){r.onmessage&&setTimeout(function(){r.onmessage({data:e,target:o})})}};t.call(o),this.postMessage=function(e){setTimeout(function(){o.onmessage({data:e,target:r})})},this.isThisThread=!0}}function Oe(e){try{return Wh.createObjectURL(new Blob([e],{type:zh}))}catch(i){var t=new Zh;return t.append(e),Wh.createObjectURL(t.getBlob(type))}}function Le(){}var xe,qe="7.2.4",Ke="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ue="undefined"!=typeof window?window:void 0!==Ke?Ke:"undefined"!=typeof self?self:{},Fe={},je=Object.freeze({default:Fe}),Ne=je&&Fe||je,Je=void 0!==Ke?Ke:"undefined"!=typeof window?window:{};"undefined"!=typeof document?xe=document:(xe=Je["__GLOBAL_DOCUMENT_CACHE@4"])||(xe=Je["__GLOBAL_DOCUMENT_CACHE@4"]=Ne);var Ge=xe,Ye=void 0,Pe="info",ze=[],Ze=function(e,t){var i=Ye.levels[Pe],r=new RegExp("^("+i+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),ze&&ze.push([].concat(t)),t.unshift("VIDEOJS:"),Ue.console){var n=Ue.console[e];n||"debug"!==e||(n=Ue.console.info||Ue.console.log),!n||!i||r.test(e)}};(Ye=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];Ze("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:Pe},Ye.level=function(e){if("string"==typeof e){if(!Ye.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');Pe=e}return Pe},Ye.history=function(){return ze?[].concat(ze):[]},Ye.history.clear=function(){ze&&(ze.length=0)},Ye.history.disable=function(){null!==ze&&(ze.length=0,ze=null)},Ye.history.enable=function(){null===ze&&(ze=[])},Ye.error=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return Ze("error",t)},Ye.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return Ze("warn",t)},Ye.debug=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return Ze("debug",t)};var We=Ye,Ve=function(e){for(var i="",r=0;r<arguments.length;r++)i+=t(e[r])+(arguments[r+1]||"");return i},He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_e=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},$e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},et=function(e,t){return e.raw=t,e},tt=Object.prototype.toString,it=function(e){return n(e)?Object.keys(e):[]},rt=et(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),nt=d("querySelector"),ot=d("querySelectorAll"),at=Object.freeze({isReal:l,isEl:c,isInFrame:h,createEl:f,textContent:p,prependTo:A,hasClass:g,addClass:m,removeClass:y,toggleClass:v,setAttributes:E,getAttributes:w,getAttribute:b,setAttribute:C,removeAttribute:I,blockTextSelection:S,unblockTextSelection:M,getBoundingClientRect:k,findPosition:T,getPointerPosition:D,isTextNode:B,emptyEl:R,normalizeContent:Q,appendContent:O,insertContent:L,isSingleLeftClick:x,$:nt,$$:ot}),st=1,ut={},lt="vdata"+(new Date).getTime(),ct=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){ct=!0}});Ue.addEventListener("test",null,e),Ue.removeEventListener("test",null,e)}catch(e){}}();var ht=["touchstart","touchmove"],dt=Object.freeze({fixEvent:J,on:G,off:Y,trigger:P,one:z}),ft=!1,pt=void 0,At=function(){if(l()&&!1!==pt.options.autoSetup){var e=Array.prototype.slice.call(Ge.getElementsByTagName("video")),t=Array.prototype.slice.call(Ge.getElementsByTagName("audio")),i=Array.prototype.slice.call(Ge.getElementsByTagName("video-js")),r=e.concat(t,i);if(r&&r.length>0)for(var n=0,o=r.length;n<o;n++){var a=r[n];if(!a||!a.getAttribute){Z(1);break}if(void 0===a.player)null!==a.getAttribute("data-setup")&&pt(a)}else ft||Z(1)}};l()&&"complete"===Ge.readyState?ft=!0:z(Ue,"load",function(){ft=!0});var gt=function(e){var t=Ge.createElement("style");return t.className=e,t},mt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},yt=function(e,t,i){t.guid||(t.guid=q());var r=function(){return t.apply(e,arguments)};return r.guid=i?i+"_"+t.guid:t.guid,r},vt=function(e,t){var i=Date.now();return function(){var r=Date.now();r-i>=t&&(e.apply(void 0,arguments),i=r)}},Et=function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ue,n=void 0,o=function(){var o=this,a=arguments,s=function(){n=null,s=null,i||e.apply(o,a)};!n&&i&&e.apply(o,a),r.clearTimeout(n),n=r.setTimeout(s,t)};return o.cancel=function(){r.clearTimeout(n),n=null},o},wt=function(){};wt.prototype.allowedEvents_={},wt.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},G(this,e,t),this.addEventListener=i},wt.prototype.addEventListener=wt.prototype.on,wt.prototype.off=function(e,t){Y(this,e,t)},wt.prototype.removeEventListener=wt.prototype.off,wt.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},z(this,e,t),this.addEventListener=i},wt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=J(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),P(this,e)},wt.prototype.dispatchEvent=wt.prototype.trigger;var bt=void 0;wt.prototype.queueTrigger=function(e){var t=this;bt||(bt=new Map);var i=e.type||e,r=bt.get(this);r||(r=new Map,bt.set(this,r));var n=r.get(i);r.delete(i),Ue.clearTimeout(n);var o=Ue.setTimeout(function(){0===r.size&&(r=null,bt.delete(t)),t.trigger(e)},0);r.set(i,o)};var Ct=function(e){return e instanceof wt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},It=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},St=function(e){if(!e.nodeName&&!Ct(e))throw new Error("Invalid target; must be a DOM node or evented object.")},Mt=function(e){if(!It(e))throw new Error("Invalid event type; must be a non-empty string or array.")},kt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},Tt=function(e,t){var i=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,n=void 0,o=void 0;return i?(r=e.eventBusEl_,t.length>=3&&t.shift(),n=t[0],o=t[1]):(r=t[0],n=t[1],o=t[2]),St(r),Mt(n),kt(o),{isTargetingSelf:i,target:r,type:n,listener:o=yt(e,o)}},Dt=function(e,t,i,r){St(e),e.nodeName?dt[t](e,i,r):e[t](i,r)},Bt={on:function(){for(var e=this,t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=Tt(this,i),o=n.isTargetingSelf,a=n.target,s=n.type,u=n.listener;if(Dt(a,"on",s,u),!o){var l=function(){return e.off(a,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,Dt(this,"on","dispose",l),Dt(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=Tt(this,i),o=n.isTargetingSelf,a=n.target,s=n.type,u=n.listener;if(o)Dt(a,"one",s,u);else{var l=function t(){for(var i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];e.off(a,s,t),u.apply(null,r)};l.guid=u.guid,Dt(a,"one",s,l)}},off:function(e,t,i){if(!e||It(e))Y(this.eventBusEl_,e,t);else{var r=e,n=t;St(r),Mt(n),kt(i),i=yt(this,i),this.off("dispose",i),r.nodeName?(Y(r,n,i),Y(r,"dispose",i)):Ct(r)&&(r.off(n,i),r.off("dispose",i))}},trigger:function(e,t){return P(this.eventBusEl_,e,t)}},Rt={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var r=void 0;return i(e,function(e,i){t.state[i]!==e&&((r=r||{})[i]={from:t.state[i],to:e}),t.state[i]=e}),r&&Ct(this)&&this.trigger({changes:r,type:"statechanged"}),r}},Qt=function(){function e(t,i,r){if(Xe(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=X({},this.options_),i=this.options_=X(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+q()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&W(this,{eventBusKey:this.el_?"el_":null}),V(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==i.initChildren&&this.initChildren(),this.ready(r),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),F(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return We.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=X(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,i){return f(e,t,i)},e.prototype.localize=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),o=n&&n[r],a=r&&r.split("-")[0],s=n&&n[a],u=i;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,function(e,i){var r=t[i-1],n=r;return void 0===r&&(n=e),n})),u},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=H(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,n=void 0,o=void 0;if("string"==typeof t){o=H(t);var a=i.componentClass||o;i.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;n=new s(this.player_||this,i)}else n=t;if(this.children_.splice(r,0,n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(o=o||n.name&&H(n.name()))&&(this.childNameIndex_[o]=n),"function"==typeof n.el&&n.el()){var u=this.contentEl().children[r]||null;this.contentEl().insertBefore(n.el(),u)}return n},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,i=this.options_.children;if(i){var r=this.options_,n=void 0,o=e.getComponent("Tech");(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!n.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,n=void 0;return"string"==typeof e?n=i[r=e]||t.options_[r]||{}:(r=e.name,n=e),{name:r,opts:n}}).filter(function(t){var i=e.getComponent(t.opts.componentClass||H(t.name));return i&&!o.isTech(i)}).forEach(function(e){var i=e.name,n=e.opts;if(void 0!==r[i]&&(n=r[i]),!1!==n){!0===n&&(n={}),n.playerOptions=t.options_.playerOptions;var o=t.addChild(i,n);o&&(t[i]=o)}})}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return nt(e,t||this.contentEl())},e.prototype.$$=function(e,t){return ot(e,t||this.contentEl())},e.prototype.hasClass=function(e){return g(this.el_,e)},e.prototype.addClass=function(e){m(this.el_,e)},e.prototype.removeClass=function(e){y(this.el_,e)},e.prototype.toggleClass=function(e,t){v(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return b(this.el_,e)},e.prototype.setAttribute=function(e,t){C(this.el_,e,t)},e.prototype.removeAttribute=function(e){I(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],n=r.indexOf("px");return-1!==n?parseInt(r.slice(0,n),10):parseInt(this.el_["offset"+H(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof Ue.getComputedStyle){var i=Ue.getComputedStyle(this.el_);t=i.getPropertyValue(e)||i[e]}if(0===(t=parseFloat(t))){var r="offset"+H(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,i=void 0;this.on("touchstart",function(r){1===r.touches.length&&(t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,n=e.touches[0].pageY-t.pageY;Math.sqrt(r*r+n*n)>10&&(i=!1)}});var r=function(){i=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){t=null,!0===i&&(new Date).getTime()-e<200&&(r.preventDefault(),this.trigger("tap"))})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=yt(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},e.prototype.setTimeout=function(e,t){var i,r,n=this;return e=yt(this,e),i=Ue.setTimeout(function(){n.off("dispose",r),e()},t),(r=function(){return n.clearTimeout(i)}).guid="vjs-timeout-"+i,this.on("dispose",r),i},e.prototype.clearTimeout=function(e){Ue.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){var i=this;e=yt(this,e);var r=Ue.setInterval(e,t),n=function(){return i.clearInterval(r)};return n.guid="vjs-interval-"+r,this.on("dispose",n),r},e.prototype.clearInterval=function(e){Ue.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t,i,r=this;return this.supportsRaf_?(e=yt(this,e),t=Ue.requestAnimationFrame(function(){r.off("dispose",i),e()}),(i=function(){return r.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",i),t):this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){Ue.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,i){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),n=r&&r.isTech(i),o=e===i||e.prototype.isPrototypeOf(i.prototype);if(n||!o){throw new Error('Illegal component, "'+t+'"; '+(n?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".")}t=H(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,u=Object.keys(s);if(s&&u.length>0&&u.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=i,i},e.getComponent=function(t){if(t)return t=H(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();Qt.prototype.supportsRaf_="function"==typeof Ue.requestAnimationFrame&&"function"==typeof Ue.cancelAnimationFrame,Qt.registerComponent("Component",Qt);for(var Ot=Ue.navigator&&Ue.navigator.userAgent||"",Lt=/AppleWebKit\/([\d.]+)/i.exec(Ot),xt=Lt?parseFloat(Lt.pop()):null,qt=/iPad/i.test(Ot),Kt=/iPhone/i.test(Ot)&&!qt,Ut=/iPod/i.test(Ot),Ft=Kt||qt||Ut,jt=function(){var e=Ot.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Nt=/Android/i.test(Ot),Jt=function(){var e=Ot.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),Gt=Nt&&Jt<5&&xt<537,Yt=/Firefox/i.test(Ot),Pt=/Edge/i.test(Ot),zt=!Pt&&(/Chrome/i.test(Ot)||/CriOS/i.test(Ot)),Zt=function(){var e=Ot.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Wt=function(){var e=/MSIE\s(\d+)\.\d/.exec(Ot),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ot)&&/rv:11.0/.test(Ot)&&(t=11),t}(),Vt=/Safari/i.test(Ot)&&!zt&&!Nt&&!Pt,Ht=(Vt||Ft)&&!zt,Xt=(l()&&("ontouchstart"in Ue||Ue.navigator.maxTouchPoints||Ue.DocumentTouch&&Ue.document instanceof Ue.DocumentTouch)),_t=Object.freeze({IS_IPAD:qt,IS_IPHONE:Kt,IS_IPOD:Ut,IS_IOS:Ft,IOS_VERSION:jt,IS_ANDROID:Nt,ANDROID_VERSION:Jt,IS_NATIVE_ANDROID:Gt,IS_FIREFOX:Yt,IS_EDGE:Pt,IS_CHROME:zt,CHROME_VERSION:Zt,IE_VERSION:Wt,IS_SAFARI:Vt,IS_ANY_SAFARI:Ht,TOUCH_ENABLED:Xt}),$t={},ei=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ti=ei[0],ii=void 0,ri=0;ri<ei.length;ri++)if(ei[ri][1]in Ge){ii=ei[ri];break}if(ii)for(var ni=0;ni<ii.length;ni++)$t[ti[ni]]=ii[ni];ie.prototype.code=0,ie.prototype.message="",ie.prototype.status=null,ie.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ie.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var oi=0;oi<ie.errorTypes.length;oi++)ie[ie.errorTypes[oi]]=oi,ie.prototype[ie.errorTypes[oi]]=oi;var ai=function(e,t){var i,r=null;try{i=JSON.parse(e,t)}catch(e){r=e}return[r,i]},si=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i,r){return e[i]&&(t[i]=e[i]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},ui=function(e){var t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=si(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(si))},li=function(e,t){return e.forEach(function(e){var i=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return i.addCue(e)})}),t.textTracks()},ci="vjs-modal-dialog",hi=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=f("div",{className:ci+"-content"},{role:"document"}),n.descEl_=f("p",{className:ci+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),p(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return ci+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",yt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",yt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,i=this.getChild("closeButton");if(t&&!i){var r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close)}!t&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),L(t,e),this.trigger("modalfill"),r?i.insertBefore(t,r):i.appendChild(t);var n=this.getChild("closeButton");n&&i.appendChild(n.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),R(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=Ge.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(Ge,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(Ge,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=void 0,n=0;n<t.length;n++)if(i===t[n]){r=n;break}Ge.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof Ue.HTMLAnchorElement||e instanceof Ue.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof Ue.HTMLInputElement||e instanceof Ue.HTMLSelectElement||e instanceof Ue.HTMLTextAreaElement||e instanceof Ue.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof Ue.HTMLIFrameElement||e instanceof Ue.HTMLObjectElement||e instanceof Ue.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(Qt);hi.prototype.options_={pauseOnOpen:!0,temporary:!0},Qt.registerComponent("ModalDialog",hi);var di=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Xe(this,t);var r=$e(this,e.call(this));r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var n=0;n<i.length;n++)r.addTrack(i[n]);return r}return _e(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,i=0,r=this.length;i<r;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,i=0,r=this.length;i<r;i++){var n=this[i];if(n.id===e){t=n;break}}return t},t}(wt);for(var fi in di.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},di.prototype.allowedEvents_)di.prototype["on"+fi]=null;var pi=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},Ai=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Xe(this,t);for(var r=i.length-1;r>=0;r--)if(i[r].enabled){pi(i,i[r]);break}var n=$e(this,e.call(this,i));return n.changing_=!1,n}return _e(t,e),t.prototype.addTrack=function(t){var i=this;t.enabled&&pi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,pi(i,t),i.changing_=!1,i.trigger("change"))})},t}(di),gi=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)},mi=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Xe(this,t);for(var r=i.length-1;r>=0;r--)if(i[r].selected){gi(i,i[r]);break}var n=$e(this,e.call(this,i));return n.changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}return _e(t,e),t.prototype.addTrack=function(t){var i=this;t.selected&&gi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,gi(i,t),i.changing_=!1,i.trigger("change"))})},t}(di),yi=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",yt(this,function(){this.queueTrigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",yt(this,function(){this.trigger("selectedlanguagechange")}))},t}(di),vi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Xe(this,e),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,r=t.length;i<r;i++)this.addTrackElement_(t[i])}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),Ei=function(){function e(t){Xe(this,e),e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}return e.prototype.setCues_=function(e){var t=this.length||0,i=0,r=e.length;this.cues_=e,this.length_=e.length;var n=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(i=t;i<r;i++)n.call(this,i)},e.prototype.getCueById=function(e){for(var t=null,i=0,r=this.length;i<r;i++){var n=this[i];if(n.id===e){t=n;break}}return t},e}(),wi={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},bi={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ci={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ii={disabled:"disabled",hidden:"hidden",showing:"showing"},Si=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe(this,t);var r=$e(this,e.call(this)),n={id:i.id||"vjs_track_"+q(),kind:i.kind||"",label:i.label||"",language:i.language||""};for(var o in n)!function(e){Object.defineProperty(r,e,{get:function(){return n[e]},set:function(){}})}(o);return r}return _e(t,e),t}(wt),Mi=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=Ge.createElement("a");i.href=e;var r=""===i.host&&"file:"!==i.protocol,n=void 0;r&&((n=Ge.createElement("div")).innerHTML='<a href="'+e+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),Ge.body.appendChild(n));for(var o={},a=0;a<t.length;a++)o[t[a]]=i[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=Ue.location.protocol),r&&Ge.body.removeChild(n),o},ki=function(e){if(!e.match(/^https?:\/\//)){var t=Ge.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Ti=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},Di=function(e){var t=Ue.location,i=Mi(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host},Bi=Object.freeze({parseUrl:Mi,getAbsoluteURL:ki,getFileExtension:Ti,isCrossOrigin:Di}),Ri=function(e){var t=Qi.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},Qi=Object.prototype.toString,Oi=Object.freeze({default:Ri,__moduleExports:Ri}),Li=e(function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),xi=Li.left,qi=Li.right,Ki=Object.freeze({default:Li,__moduleExports:Li,left:xi,right:qi}),Ui=Oi&&Ri||Oi,Fi=function(e,t,i){if(!Ui(t))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this),"[object Array]"===ji.call(e)?function(e,t,i){for(var r=0,n=e.length;r<n;r++)Ni.call(e,r)&&t.call(i,e[r],r,e)}(e,t,i):"string"==typeof e?function(e,t,i){for(var r=0,n=e.length;r<n;r++)t.call(i,e.charAt(r),r,e)}(e,t,i):function(e,t,i){for(var r in e)Ni.call(e,r)&&t.call(i,e[r],r,e)}(e,t,i)},ji=Object.prototype.toString,Ni=Object.prototype.hasOwnProperty,Ji=Object.freeze({default:Fi,__moduleExports:Fi}),Gi=Ki&&Li||Ki,Yi=Ji&&Fi||Ji,Pi=function(e){if(!e)return{};var t={};return Yi(Gi(e).split("\n"),function(e){var i=e.indexOf(":"),r=Gi(e.slice(0,i)).toLowerCase(),n=Gi(e.slice(i+1));void 0===t[r]?t[r]=n:function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t[r])?t[r].push(n):t[r]=[t[r],n]}),t},zi=Object.freeze({default:Pi,__moduleExports:Pi}),Zi=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)Wi.call(i,r)&&(e[r]=i[r])}return e},Wi=Object.prototype.hasOwnProperty,Vi=Object.freeze({default:Zi,__moduleExports:Zi}),Hi=zi&&Pi||zi,Xi=Vi&&Zi||Vi,_i=ae;ae.XMLHttpRequest=Ue.XMLHttpRequest||function(){},ae.XDomainRequest="withCredentials"in new ae.XMLHttpRequest?ae.XMLHttpRequest:Ue.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],function(e){ae["delete"===e?"del":e]=function(t,i,r){return(i=oe(t,i,r)).method=e.toUpperCase(),se(i)}});var $i=function(e,t){var i=new Ue.WebVTT.Parser(Ue,Ue.vttjs,Ue.WebVTT.StringDecoder()),r=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){r.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),r.length>0&&(Ue.console&&Ue.console.groupCollapsed&&Ue.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return We.error(e)}),Ue.console&&Ue.console.groupEnd&&Ue.console.groupEnd()),i.flush()},er=function(e,t){var i={uri:e},r=Di(e);r&&(i.cors=r),_i(i,yt(this,function(e,i,r){if(e)return We.error(e,i);if(t.loaded_=!0,"function"!=typeof Ue.WebVTT){if(t.tech_){var n=function(){return $i(r,t)};t.tech_.on("vttjsloaded",n),t.tech_.on("vttjserror",function(){We.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",n)})}}else $i(r,t)}))},tr=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Xe(this,t),!i.tech)throw new Error("A tech was not provided.");var r=X(i,{kind:Ci[i.kind]||"subtitles",language:i.language||i.srclang||""}),n=Ii[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(n="hidden");var a=$e(this,e.call(this,r));a.tech_=r.tech,a.cues_=[],a.activeCues_=[];var s=new Ei(a.cues_),u=new Ei(a.activeCues_),l=!1,c=yt(a,function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==n&&a.tech_.ready(function(){a.tech_.on("timeupdate",c)},!0),Object.defineProperties(a,{default:{get:function(){return o},set:function(){}},mode:{get:function(){return n},set:function(e){var t=this;Ii[e]&&("disabled"!==(n=e)?this.tech_.ready(function(){t.tech_.on("timeupdate",c)},!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return u;for(var e=this.tech_.currentTime(),t=[],i=0,r=this.cues.length;i<r;i++){var n=this.cues[i];n.startTime<=e&&n.endTime>=e?t.push(n):n.startTime===n.endTime&&n.startTime<=e&&n.startTime+.5>=e&&t.push(n)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,u.setCues_(this.activeCues_),u},set:function(){}}}),r.src?(a.src=r.src,er(r.src,a)):a.loaded_=!0,a}return _e(t,e),t.prototype.addCue=function(e){var t=e;if(Ue.vttjs&&!(e instanceof Ue.vttjs.VTTCue)){for(var i in t=new Ue.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),n=0;n<r.length;n++)r[n]!==this&&r[n].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Si);tr.prototype.allowedEvents_={cuechange:"cuechange"};var ir=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe(this,t);var r=X(i,{kind:bi[i.kind]||""}),n=$e(this,e.call(this,r)),o=!1;return Object.defineProperty(n,"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return _e(t,e),t}(Si),rr=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe(this,t);var r=X(i,{kind:wi[i.kind]||""}),n=$e(this,e.call(this,r)),o=!1;return Object.defineProperty(n,"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return _e(t,e),t}(Si),nr=0,or=2,ar=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe(this,t);var r=$e(this,e.call(this)),n=void 0,o=new tr(i);return r.kind=o.kind,r.src=o.src,r.srclang=o.language,r.label=o.label,r.default=o.default,Object.defineProperties(r,{readyState:{get:function(){return n}},track:{get:function(){return o}}}),n=nr,o.addEventListener("loadeddata",function(){n=or,r.trigger({type:"load",target:r})}),r}return _e(t,e),t}(wt);ar.prototype.allowedEvents_={load:"load"},ar.NONE=nr,ar.LOADING=1,ar.LOADED=or,ar.ERROR=3;var sr={audio:{ListClass:Ai,TrackClass:ir,capitalName:"Audio"},video:{ListClass:mi,TrackClass:rr,capitalName:"Video"},text:{ListClass:yi,TrackClass:tr,capitalName:"Text"}};Object.keys(sr).forEach(function(e){sr[e].getterName=e+"Tracks",sr[e].privateName=e+"Tracks_"});var ur={remoteText:{ListClass:yi,TrackClass:tr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:vi,TrackClass:ar,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},lr=X(sr,ur);ur.names=Object.keys(ur),sr.names=Object.keys(sr),lr.names=[].concat(ur.names).concat(sr.names);var cr=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();ue.prototype=cr(Error.prototype),ue.prototype.constructor=ue,ue.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ce.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var hr={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},dr={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},fr={v:"title",lang:"lang"},pr={rt:"ruby"},Ar=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];Ae.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},Ae.prototype.formatStyle=function(e,t){return 0===e?0:e+t},ge.prototype=cr(Ae.prototype),ge.prototype.constructor=ge,me.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},me.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},me.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},me.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},me.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},me.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},me.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},me.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||i}},ve.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},ve.convertCueToDOMTree=function(e,t){return e&&t?fe(e,t):null},ve.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",i.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var n=[],o=me.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var i,s,u=0;u<t.length;u++)s=t[u],i=new ge(e,s,a),r.appendChild(i.div),ye(0,i,o,n),s.displayState=i.div,n.push(me.getSimpleBoxPosition(i))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},ve.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},ve.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ue))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}function i(e){var t=new ce;if(he(e,function(e,i){switch(e){case"id":t.set(e,i);break;case"width":t.percent(e,i);break;case"lines":t.integer(e,i);break;case"regionanchor":case"viewportanchor":var r=i.split(",");if(2!==r.length)break;var n=new ce;if(n.percent("x",r[0]),n.percent("y",r[1]),!n.has("x")||!n.has("y"))break;t.set(e+"X",n.get("x")),t.set(e+"Y",n.get("y"));break;case"scroll":t.alt(e,i,["up"])}},/=/,/\s/),t.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:t.get("id"),region:i})}}function r(e){var t=new ce;he(e,function(e,i){switch(e){case"MPEGT":t.integer(e+"S",i);break;case"LOCA":t.set(e+"L",le(i))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}var n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var o;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var a=(o=t()).match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new ue(ue.Errors.BadSignature);n.state="HEADER"}for(var s=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(s?s=!1:o=t(),n.state){case"HEADER":/:/.test(o)?function(e){e.match(/X-TIMESTAMP-MAP/)?he(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":r(t)}},/=/):he(e,function(e,t){switch(e){case"Region":i(t)}},/:/)}(o):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;if(n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,""),n.state="CUE",-1===o.indexOf("--\x3e")){n.cue.id=o;continue}case"CUE":try{de(o,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var u=-1!==o.indexOf("--\x3e");if(!o||u&&(s=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=o;continue;case"BADCUE":o||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new ue(ue.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var gr=ve,mr=Object.freeze({default:gr,__moduleExports:gr}),yr="auto",vr={"":1,lr:1,rl:1},Er={start:1,middle:1,end:1,left:1,right:1};we.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var wr=we,br=Object.freeze({default:wr,__moduleExports:wr}),Cr={"":!0,up:!0},Ir=function(){var e=100,t=3,i=0,r=100,n=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!be(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!be(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!be(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!be(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!be(e))throw new Error("ViewportAnchorX must be between 0 and 100.");n=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=function(e){return"string"==typeof e&&!!Cr[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})},Sr=Object.freeze({default:Ir,__moduleExports:Ir}),Mr=mr&&gr||mr,kr=br&&wr||br,Tr=Sr&&Ir||Sr,Dr=e(function(e){var t=e.exports={WebVTT:Mr,VTTCue:kr,VTTRegion:Tr};Ue.vttjs=t,Ue.WebVTT=t.WebVTT;var i=t.VTTCue,r=t.VTTRegion,n=Ue.VTTCue,o=Ue.VTTRegion;t.shim=function(){Ue.VTTCue=i,Ue.VTTRegion=r},t.restore=function(){Ue.VTTCue=n,Ue.VTTRegion=o},Ue.VTTCue||t.shim()}),Br=(Dr.WebVTT,Dr.VTTCue,Dr.VTTRegion,function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Xe(this,t),i.reportTouchActivity=!1;var n=$e(this,e.call(this,null,i,r));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),lr.names.forEach(function(e){var t=lr[e];i&&i[t.getterName]&&(n[t.privateName]=i[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===i["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==i.nativeCaptions&&!0!==i.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new lr.text.ListClass,n.initTrackListeners(),i.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}return _e(t,e),t.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(yt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return ee(0,0)},t.prototype.bufferedPercent=function(){return te(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(sr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var i=t[e+"Tracks"]()||[],r=i.length;r--;){var n=i[r];"text"===e&&t.removeRemoteTextTrack(n),i.removeTrack(n)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new ie(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?ee(0,0):ee()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;sr.names.forEach(function(t){var i=sr[t],r=function(){e.trigger(t+"trackchange")},n=e[i.getterName]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),e.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!Ue.WebVTT)if(Ge.body.contains(this.el())){if(!this.options_["vtt.js"]&&o(Dr)&&Object.keys(Dr).length>0)return void this.trigger("vttjsloaded");var t=Ge.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),Ue.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),i=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},n=function(e){return t.removeTrack(e.track)};i.on("addtrack",r),i.on("removetrack",n),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var i=t[e];i.removeEventListener("cuechange",o),"showing"===i.mode&&i.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){i.off("addtrack",r),i.off("removetrack",n),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)})},t.prototype.addTextTrack=function(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();n.kind=t,i&&(n.label=i),r&&(n.language=r),n.tech=e;var a=new lr.text.TrackClass(n);return o.addTrack(a),a}(this,e,t,i)},t.prototype.createRemoteTextTrack=function(e){var t=X(e,{tech:this});return new ur.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],r=this.createRemoteTextTrack(t);return!0!==i&&!1!==i&&(We.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==i&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)}),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.overrideNativeAudioTracks=function(){},t.prototype.overrideNativeVideoTracks=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,i){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,i){if(t.techs_||(t.techs_={}),!t.isTech(i))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=H(e),t.techs_[e]=i,"Tech"!==e&&t.defaultTechOrder_.push(e),i},t.getTech=function(e){if(e)return e=H(e),t.techs_&&t.techs_[e]?t.techs_[e]:Ue&&Ue.videojs&&Ue.videojs[e]?(We.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Ue.videojs[e]):void 0},t}(Qt));lr.names.forEach(function(e){var t=lr[e];Br.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Br.prototype.featuresVolumeControl=!0,Br.prototype.featuresMuteControl=!0,Br.prototype.featuresFullscreenResize=!1,Br.prototype.featuresPlaybackRate=!1,Br.prototype.featuresProgressEvents=!1,Br.prototype.featuresSourceset=!1,Br.prototype.featuresTimeupdateEvents=!1,Br.prototype.featuresNativeTextTracks=!1,Br.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===i&&(i=r.length),r.splice(i,0,t)},e.canPlayType=function(t){for(var i=e.sourceHandlers||[],r=void 0,n=0;n<i.length;n++)if(r=i[n].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,i){for(var r=e.sourceHandlers||[],n=0;n<r.length;n++)if(r[n].canHandleSource(t,i))return r[n];return null},e.canPlaySource=function(t,i){var r=e.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:We.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Qt.registerComponent("Tech",Br),Br.registerTech("Tech",Br),Br.defaultTechOrder_=[];var Rr={},Qr={},Or={},Lr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},xr={setCurrentTime:1},qr={play:1,pause:1},Kr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Ti(e);return Kr[t.toLowerCase()]||""},Fr=function(e){function t(i,r,n){Xe(this,t);var o=X({createEl:!1},r),a=$e(this,e.call(this,i,o,n));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)i.src(r.playerOptions.sources);else for(var s=0,u=r.playerOptions.techOrder;s<u.length;s++){var l=H(u[s]),c=Br.getTech(l);if(l||(c=Qt.getComponent(l)),c&&c.isSupported()){i.loadTech_(l);break}}return a}return _e(t,e),t}(Qt);Qt.registerComponent("MediaLoader",Fr);var jr=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.emitTapEvents(),n.enable(),n}return _e(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=r({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===t&&We.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=r({role:"button"},n),this.tabIndex_=i.tabIndex;var o=e.prototype.createEl.call(this,t,i,n);return this.createControlTextEl(o),o},t.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=f("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,p(this.controlTextEl_,i),this.nonIconControl||t.setAttribute("title",i)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){G(Ge,"keydown",yt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){Y(Ge,"keydown",yt(this,this.handleKeyPress))},t}(Qt);Qt.registerComponent("ClickableComponent",jr);var Nr=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.update(),i.on("posterchange",yt(n,n.update)),n}return _e(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){return f("div",{className:"vjs-poster",tabIndex:-1})},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?ne(this.player_.play()):this.player_.pause())},t}(jr);Qt.registerComponent("PosterImage",Nr);var Jr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Gr=function(e){function t(i,r,n){Xe(this,t);var o=$e(this,e.call(this,i,r,n)),a=yt(o,o.updateDisplay);return i.on("loadstart",yt(o,o.toggleDisplay)),i.on("texttrackchange",a),i.on("loadstart",yt(o,o.preselectTrack)),i.ready(yt(o,function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",a),i.on("playerresize",a),Ue.addEventListener("orientationchange",a),i.on("dispose",function(){return Ue.removeEventListener("orientationchange",a)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),o}return _e(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage,r=void 0,n=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];i&&i.enabled&&i.language===s.language?s.kind===i.kind?o=s:o||(o=s):i&&!i.enabled?(o=null,r=null,n=null):s.default&&("descriptions"!==s.kind||r?s.kind in e&&!n&&(n=s):r=s)}o?o.mode="showing":n?n.mode="showing":r&&(r.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof Ue.WebVTT&&Ue.WebVTT.processCues(Ue,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,i=null,r=e.length;r--;){var n=e[r];"showing"===n.mode&&("descriptions"===n.kind?t=n:i=n)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof Ue.WebVTT&&e.activeCues){for(var t=[],i=0;i<e.activeCues.length;i++)t.push(e.activeCues[i]);if(Ue.WebVTT.processCues(Ue,t,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),n=t.length;n--;){var o=t[n];if(o){var a=o.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&Te(a.firstChild,"color",ke(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Te(a.firstChild,"backgroundColor",ke(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Te(a,"backgroundColor",ke(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===r.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&1!==r.fontPercent){var s=Ue.parseFloat(a.style.fontSize);a.style.fontSize=s*r.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Jr[r.fontFamily])}}}},t}(Qt);Qt.registerComponent("TextTrackDisplay",Gr);var Yr=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),i=this.localize(t?"Audio Player":"Video Player"),r=f("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),n=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n},t}(Qt);Qt.registerComponent("LoadingSpinner",Yr);var Pr=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e="button",t=r({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),i=r({type:"button"},i);var n=Qt.prototype.createEl.call(this,e,t,i);return this.createControlTextEl(n),n},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return We.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Qt.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(jr);Qt.registerComponent("Button",Pr);var zr=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)ne(t);else{var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var n=function(){return r.focus()};re(t)?t.then(n,function(){}):this.setTimeout(n,1)}else this.player_.focus()}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(Pr);zr.prototype.controlText_="Play Video",Qt.registerComponent("BigPlayButton",zr);var Zr=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.controlText(r&&r.controlText||n.localize("Close")),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(Pr);Qt.registerComponent("CloseButton",Zr);var Wr=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on(i,"play",n.handlePlay),n.on(i,"pause",n.handlePause),n.on(i,"ended",n.handleEnded),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Pr);Wr.prototype.controlText_="Play",Qt.registerComponent("PlayToggle",Wr);var Vr=function(e,t){e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),n=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(n=r=i="-"),(n=n>0||a>0?n+":":"")+(r=((n||o>=10)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)},Hr=Vr,Xr=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.throttledUpdateContent=vt(yt(n,n.updateContent),25),n.on(i,"timeupdate",n.throttledUpdateContent),n}return _e(t,e),t.prototype.createEl=function(t){var i=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=f("span",{className:i+"-display"},{"aria-live":"off"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},t.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=Ge.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(e){return De(e)},t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(e){},t}(Qt);Xr.prototype.labelText_="Time",Xr.prototype.controlText_="Time",Qt.registerComponent("TimeDisplay",Xr);var _r=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on(i,"ended",n.handleEnded),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(Xr);_r.prototype.labelText_="Current Time",_r.prototype.controlText_="Current Time",Qt.registerComponent("CurrentTimeDisplay",_r);var $r=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on(i,"durationchange",n.updateContent),n.on(i,"loadedmetadata",n.throttledUpdateContent),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(Xr);$r.prototype.labelText_="Duration",$r.prototype.controlText_="Duration",Qt.registerComponent("DurationDisplay",$r);var en=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(Qt);Qt.registerComponent("TimeDivider",en);var tn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on(i,"durationchange",n.throttledUpdateContent),n.on(i,"ended",n.handleEnded),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(Xr);tn.prototype.labelText_="Remaining Time",tn.prototype.controlText_="Remaining Time",Qt.registerComponent("RemainingTimeDisplay",tn);var rn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return _e(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=f("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Qt);Qt.registerComponent("LiveDisplay",rn);var nn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}return _e(t,e),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.prototype.createEl=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=r({tabIndex:0},i),n=r({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,i,n)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||zt||e.preventDefault(),S(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;M(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var i=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=i:r.width=i,e}}},t.prototype.calculateDistance=function(e){var t=D(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Qt);Qt.registerComponent("Slider",nn);var on=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.partEls_=[],n.on(i,"progress",n.update),n}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},t.prototype.update=function(e){var t=this.player_.buffered(),i=this.player_.duration(),r=this.player_.bufferedEnd(),n=this.partEls_,o=function(e,t){var i=e/t||0;return 100*(i>=1?1:i)+"%"};this.el_.style.width=o(r,i);for(var a=0;a<t.length;a++){var s=t.start(a),u=t.end(a),l=n[a];l||(l=this.el_.appendChild(f()),n[a]=l),l.style.left=o(s,r),l.style.width=o(u-s,r)}for(var c=n.length;c>t.length;c--)this.el_.removeChild(n[c-1]);n.length=t.length},t}(Qt);Qt.registerComponent("LoadProgressBar",on);var an=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,i){var r=k(this.el_),n=k(this.player_.el()),o=e.width*t;if(n&&r){var a=e.left-n.left+o,s=e.width-o+(n.right-e.right),u=r.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",p(this.el_,i)}},t}(Qt);Qt.registerComponent("TimeTooltip",an);var sn=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=De(i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),i.player_.duration()),n=i.getChild("timeTooltip");n&&n.update(e,t,r)})},t}(Qt);sn.prototype.options_={children:[]},Ft||Nt||sn.prototype.options_.children.push("timeTooltip"),Qt.registerComponent("PlayProgressBar",sn);var un=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.update=vt(yt(n,n.update),25),n}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=i.player_.duration(),n=De(t*r,r);i.el_.style.left=e.width*t+"px",i.getChild("timeTooltip").update(e,t,n)})},t}(Qt);un.prototype.options_={children:["timeTooltip"]},Qt.registerComponent("MouseTimeDisplay",un);var ln=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.setEventHandlers_(),n}return _e(t,e),t.prototype.setEventHandlers_=function(){var e=this;this.update=vt(yt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(e,t){var i=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[De(e,i),De(i,i)],"{1} of {2}")),this.bar.update(k(this.el_),t)},t.prototype.update=function(t){var i=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),i),i},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e||0},t.prototype.handleMouseDown=function(t){x(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(e){if(x(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},t.prototype.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ne(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(nn);ln.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Ft||Nt||ln.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ln.prototype.playerEvent="timeupdate",Qt.registerComponent("SeekBar",ln);var cn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.handleMouseMove=vt(yt(n,n.handleMouseMove),25),n.throttledHandleMouseSeek=vt(yt(n,n.handleMouseSeek),25),n.enable(),n}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var i=t.getChild("mouseTimeDisplay"),r=t.el(),n=k(r),o=D(r,e).x;o>1?o=1:o<0&&(o=0),i&&i.update(n,o)}},t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(Qt);cn.prototype.options_={children:["seekBar"]},Qt.registerComponent("ProgressControl",cn);var hn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on(i,"fullscreenchange",n.handleFullscreenChange),!1===Ge[$t.fullscreenEnabled]&&n.disable(),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Pr);hn.prototype.controlText_="Fullscreen",Qt.registerComponent("FullscreenToggle",hn);var dn=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},fn=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Qt);Qt.registerComponent("VolumeLevel",fn);var pn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on("slideractive",n.updateLastVolume_),n.on(i,"volumechange",n.updateARIAAttributes),i.ready(function(){return n.updateARIAAttributes()}),n}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){x(t)&&e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){x(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(nn);pn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},pn.prototype.playerEvent="volumechange",Qt.registerComponent("VolumeBar",pn);var An=function(e){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(this,t),r.vertical=r.vertical||!1,(void 0===r.volumeBar||o(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var n=$e(this,e.call(this,i,r));return dn(n,i),n.throttledHandleMouseMove=vt(yt(n,n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}return _e(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Qt);An.prototype.options_={children:["volumeBar"]},Qt.registerComponent("VolumeControl",An);var gn=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},mn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return gn(n,i),n.on(i,["loadstart","volumechange"],n.update),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){var r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;Ft&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)y(this.el_,"vjs-vol-"+i);m(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Pr);mn.prototype.controlText_="Mute",Qt.registerComponent("MuteToggle",mn);var yn=function(e){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(this,t),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||o(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var n=$e(this,e.call(this,i,r));return n.on(i,["loadstart"],n.volumePanelState_),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}return _e(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Qt);yn.prototype.options_={children:["muteToggle","volumeControl"]},Qt.registerComponent("VolumePanel",yn);var vn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return r&&(n.menuButton_=r.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return _e(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",yt(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),G(i,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),i},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Qt);Qt.registerComponent("Menu",vn);var En=function(e){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(this,t);var n=$e(this,e.call(this,i,r));n.menuButton_=new Pr(i,r),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var o=Pr.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+o,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}return _e(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new vn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=f("li",{className:"vjs-menu-title",innerHTML:H(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),A(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Pr.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",yt(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){G(Ge,"keydown",yt(this,this.handleKeyPress))},t.prototype.handleBlur=function(){Y(Ge,"keydown",yt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ft&&h())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Qt);Qt.registerComponent("MenuButton",En);var wn=function(e){function t(i,r){Xe(this,t);var n=r.tracks,o=$e(this,e.call(this,i,r));if(o.items.length<=1&&o.hide(),!n)return $e(o);var a=yt(o,o.update);return n.addEventListener("removetrack",a),n.addEventListener("addtrack",a),o.player_.on("ready",a),o.player_.on("dispose",function(){n.removeEventListener("removetrack",a),n.removeEventListener("addtrack",a)}),o}return _e(t,e),t}(En);Qt.registerComponent("TrackButton",wn);var bn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.selectable=r.selectable,n.isSelected_=r.selected||!1,n.multiSelectable=r.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}return _e(t,e),t.prototype.createEl=function(t,i,n){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",r({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(jr);Qt.registerComponent("MenuItem",bn);var Cn=function(e){function t(i,r){Xe(this,t);var n=r.track,o=i.textTracks();r.label=n.label||n.language||"Unknown",r.selected="showing"===n.mode;var a=$e(this,e.call(this,i,r));a.track=n;var s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];a.handleTracksChange.apply(a,t)},u=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];a.handleSelectedLanguageChange.apply(a,t)};if(i.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)}),void 0===o.onchange){var l=void 0;a.on(["tap","click"],function(){if("object"!==He(Ue.Event))try{l=new Ue.Event("change")}catch(e){}l||(l=Ge.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)})}return a.handleTracksChange(),a}return _e(t,e),t.prototype.handleClick=function(t){var i=this.track.kind,r=this.track.kinds,n=this.player_.textTracks();if(r||(r=[i]),e.prototype.handleClick.call(this,t),n)for(var o=0;o<n.length;o++){var a=n[o];a===this.track&&r.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},t.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(bn);Qt.registerComponent("TextTrackMenuItem",Cn);var In=function(e){function t(i,r){return Xe(this,t),r.track={player:i,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,$e(this,e.call(this,i,r))}return _e(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,r=0,n=t.length;r<n;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},t.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,r=0,n=t.length;r<n;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Cn);Qt.registerComponent("OffTextTrackMenuItem",In);var Sn=function(e){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xe(this,t),r.tracks=i.textTracks(),$e(this,e.call(this,i,r))}return _e(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn,i=void 0;this.label_&&(i=this.label_+" off"),e.push(new In(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var n=0;n<r.length;n++){var o=r[n];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(wn);Qt.registerComponent("TextTrackButton",Sn);var Mn=function(e){function t(i,r){Xe(this,t);var n=r.track,o=r.cue,a=i.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime;var s=$e(this,e.call(this,i,r));return s.track=n,s.cue=o,n.addEventListener("cuechange",yt(s,s.update)),s}return _e(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,i=this.player_.currentTime();this.selected(t.startTime<=i&&i<t.endTime)},t}(bn);Qt.registerComponent("ChaptersTrackMenuItem",Mn);var kn=function(e){function t(i,r,n){return Xe(this,t),$e(this,e.call(this,i,r,n))}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var i=e[t];if(i.kind===this.kind_)return i}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(H(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,r=t.length;i<r;i++){var n=t[i],o=new Mn(this.player_,{track:this.track_,cue:n});e.push(o)}return e},t}(Sn);kn.prototype.kind_="chapters",kn.prototype.controlText_="Chapters",Qt.registerComponent("ChaptersButton",kn);var Tn=function(e){function t(i,r,n){Xe(this,t);var o=$e(this,e.call(this,i,r,n)),a=i.textTracks(),s=yt(o,o.handleTracksChange);return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return _e(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,r=0,n=t.length;r<n;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){i=!0;break}}i?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Sn);Tn.prototype.kind_="descriptions",Tn.prototype.controlText_="Descriptions",Qt.registerComponent("DescriptionsButton",Tn);var Dn=function(e){function t(i,r,n){return Xe(this,t),$e(this,e.call(this,i,r,n))}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Sn);Dn.prototype.kind_="subtitles",Dn.prototype.controlText_="Subtitles",Qt.registerComponent("SubtitlesButton",Dn);var Bn=function(e){function t(i,r){Xe(this,t),r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var n=$e(this,e.call(this,i,r));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+r.kind+" settings dialog"),n}return _e(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Cn);Qt.registerComponent("CaptionSettingsMenuItem",Bn);var Rn=function(e){function t(i,r,n){return Xe(this,t),$e(this,e.call(this,i,r,n))}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Bn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Sn);Rn.prototype.kind_="captions",Rn.prototype.controlText_="Captions",Qt.registerComponent("CaptionsButton",Rn);var Qn=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(t,i,n){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,r({innerHTML:o},i),n)},t}(Cn);Qt.registerComponent("SubsCapsMenuItem",Qn);var On=function(e){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(this,t);var n=$e(this,e.call(this,i,r));return n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(H(n.label_)),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Bn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,Qn)},t}(Sn);On.prototype.kinds_=["captions","subtitles"],On.prototype.controlText_="Subtitles",Qt.registerComponent("SubsCapsButton",On);var Ln=function(e){function t(i,r){Xe(this,t);var n=r.track,o=i.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled;var a=$e(this,e.call(this,i,r));a.track=n,a.addClass("vjs-"+n.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];a.handleTracksChange.apply(a,t)};return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return _e(t,e),t.prototype.createEl=function(t,i,n){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,r({innerHTML:o},i),n)},t.prototype.handleClick=function(t){var i=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<i.length;r++){var n=i[r];n.enabled=n===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(bn);Qt.registerComponent("AudioTrackMenuItem",Ln);var xn=function(e){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xe(this,t),r.tracks=i.audioTracks(),$e(this,e.call(this,i,r))}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var r=t[i];e.push(new Ln(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(wn);xn.prototype.controlText_="Audio Track",Qt.registerComponent("AudioTrackButton",xn);var qn=function(e){function t(i,r){Xe(this,t);var n=r.rate,o=parseFloat(n,10);r.label=n,r.selected=1===o,r.selectable=!0,r.multiSelectable=!1;var a=$e(this,e.call(this,i,r));return a.label=n,a.rate=o,a.on(i,"ratechange",a.update),a}return _e(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(bn);qn.prototype.contentElType="button",Qt.registerComponent("PlaybackRateMenuItem",qn);var Kn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.updateVisibility(),n.updateLabel(),n.on(i,"loadstart",n.updateVisibility),n.on(i,"ratechange",n.updateLabel),n}return _e(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=f("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new vn(this.player()),t=this.playbackRates();if(t)for(var i=t.length-1;i>=0;i--)e.addChild(new qn(this.player(),{rate:t[i]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),i=this.playbackRates(),r=i[0],n=0;n<i.length;n++)if(i[n]>t){r=i[n];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(En);Kn.prototype.controlText_="Playback Rate",Qt.registerComponent("PlaybackRateMenuButton",Kn);var Un=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Qt);Qt.registerComponent("Spacer",Un);var Fn=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(Un);Qt.registerComponent("CustomControlSpacer",Fn);var jn=function(e){function t(){return Xe(this,t),$e(this,e.apply(this,arguments))}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Qt);jn.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Qt.registerComponent("ControlBar",jn);var Nn=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r));return n.on(i,"error",n.open),n}return _e(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(hi);Nn.prototype.options_=X(hi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Qt.registerComponent("ErrorDisplay",Nn);var Jn=["#000","Black"],Gn=["#00F","Blue"],Yn=["#0FF","Cyan"],Pn=["#0F0","Green"],zn=["#F0F","Magenta"],Zn=["#F00","Red"],Wn=["#FFF","White"],Vn=["#FF0","Yellow"],Hn=["1","Opaque"],Xn=["0.5","Semi-Transparent"],_n=["0","Transparent"],$n={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Jn,Wn,Zn,Pn,Gn,Vn,zn,Yn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Hn,Xn,_n]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Wn,Jn,Zn,Pn,Gn,Vn,zn,Yn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Hn,Xn]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[_n,Xn,Hn]}};$n.windowColor.options=$n.backgroundColor.options;var eo=function(e){function t(r,n){Xe(this,t),n.temporary=!1;var o=$e(this,e.call(this,r,n));return o.updateDisplay=yt(o,o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=f("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),void 0===n.persistTextTrackSettings&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),i($n,function(e){o.on(o.$(e.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}return _e(t,e),t.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},t.prototype.createElSelect_=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",n=$n[e],o=n.id.replace("%s",this.id_),a=[i,o].join(" ").trim();return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(n.label),"</"+r+">",'<select aria-labelledby="'+a+'">'].concat(n.options.map(function(e){var i=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+i+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+i+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElColors_=function(){return f("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.prototype.createElFont_=function(){return f("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return f("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.prototype.label=function(){return this.localize("Caption Settings Dialog")},t.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.prototype.getValues=function(){var e=this;return function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return it(e).reduce(function(i,r){return t(i,e[r],r)},i)}($n,function(t,i,r){var n=function(e,t){return Be(e.options[e.options.selectedIndex].value,t)}(e.$(i.selector),i.parser);return void 0!==n&&(t[r]=n),t},{})},t.prototype.setValues=function(e){var t=this;i($n,function(i,r){!function(e,t,i){if(t)for(var r=0;r<e.options.length;r++)if(Be(e.options[r].value,i)===t){e.selectedIndex=r;break}}(t.$(i.selector),e[r],i.parser)})},t.prototype.setDefaults=function(){var e=this;i($n,function(t){var i=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=i})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(Ue.localStorage.getItem("vjs-text-track-settings"))}catch(e){We.warn(e)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?Ue.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):Ue.localStorage.removeItem("vjs-text-track-settings")}catch(e){We.warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(Ge,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()},t}(hi);Qt.registerComponent("TextTrackSettings",eo);var to=function(e){function t(i,r){Xe(this,t);var n=r.ResizeObserver||Ue.ResizeObserver;null===r.ResizeObserver&&(n=!1);var o=X({createEl:!n,reportTouchActivity:!1},r),a=$e(this,e.call(this,i,o));return a.ResizeObserver=r.ResizeObserver||Ue.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=Et(function(){a.resizeHandler()},100,!1,a),n?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){a.el_&&a.el_.contentWindow&&G(a.el_.contentWindow,"resize",a.debouncedHandler_)},a.one("load",a.loadListener_)),a}return _e(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},t.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},t.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Y(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(Qt);Qt.registerComponent("ResizeManager",to);var io=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var i=e.$$("source"),r=[],n="";if(!i.length)return!1;for(var o=0;o<i.length;o++){var a=i[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(n=r[0]),e.triggerSourceset(n),!0)},ro=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=Ge.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=Ge.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",Ue.Element.prototype.appendChild.call(this,i),this.innerHTML}}),no=function(e,t){for(var i={},r=0;r<e.length&&!((i=Object.getOwnPropertyDescriptor(e[r],t))&&i.set&&i.get);r++);return i.enumerable=!0,i.configurable=!0,i},oo=function(e){var t=e.el();if(!t.resetSourceWatch_){var i={},r=function(e){return no([e.el(),Ue.HTMLMediaElement.prototype,Ue.Element.prototype,ro],"innerHTML")}(e),n=function(i){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=i.apply(t,n);return io(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(i[e]=t[e],t[e]=n(i[e]))}),Object.defineProperty(t,"innerHTML",X(r,{set:n(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(i).forEach(function(e){t[e]=i[e]}),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},ao=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ki(Ue.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return Ue.Element.prototype.setAttribute.call(this,"src",e),e}}),so=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var i=function(e){return no([e.el(),Ue.HTMLMediaElement.prototype,ao],"src")}(e),r=t.setAttribute,n=t.load;Object.defineProperty(t,"src",X(i,{set:function(r){var n=i.set.call(t,r);return e.triggerSourceset(t.src),n}})),t.setAttribute=function(i,n){var o=r.call(t,i,n);return/src/i.test(i)&&e.triggerSourceset(t.src),o},t.load=function(){var i=n.call(t);return io(e)||(e.triggerSourceset(""),oo(e)),i},t.currentSrc?e.triggerSourceset(t.currentSrc):io(e)||oo(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=n,t.setAttribute=r,Object.defineProperty(t,"src",i),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},uo=et(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),lo=function(e){function t(i,r){Xe(this,t);var n=$e(this,e.call(this,i,r)),o=i.source,a=!1;if(o&&(n.el_.currentSrc!==o.src||i.tag&&3===i.tag.initNetworkState_)?n.setSource(o):n.handleLateInit_(n.el_),i.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var s=n.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),a||n.el_.hasAttribute("crossorigin")||!Di(c.src)||(a=!0)):l.push(c))}for(var h=0;h<l.length;h++)n.el_.removeChild(l[h])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&a&&We.warn(Ve(uo)),n.restoreMetadataTracksInIOSNativePlayer_(),(Xt||Kt||Gt)&&!0===i.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}return _e(t,e),t.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},t.prototype.setupSourcesetHandling_=function(){so(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,i=function(){t=[];for(var i=0;i<e.length;i++){var r=e[i];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};i(),e.addEventListener("change",i),this.on("dispose",function(){return e.removeEventListener("change",i)});var r=function i(){for(var r=0;r<t.length;r++){var n=t[r];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",i),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",r)})},t.prototype.overrideNative_=function(e,t){var i=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(e){i.el()[r+"Tracks"].removeEventListener(e,i[r+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},t.prototype.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},t.prototype.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},t.prototype.proxyNativeTracksForType_=function(e){var t=this,i=sr[e],r=this.el()[i.getterName],n=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},addtrack:function(e){n.addTrack(e.track)},removetrack:function(e){n.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<n.length;t++){for(var i=!1,o=0;o<r.length;o++)if(r[o]===n[t]){i=!0;break}i||e.push(n[t])}for(;e.length;)n.removeTrack(e.shift())};this[i.getterName+"Listeners_"]=o,Object.keys(o).forEach(function(e){var i=o[e];r.addEventListener(e,i),t.on("dispose",function(t){return r.removeEventListener(e,i)})}),this.on("loadstart",a),this.on("dispose",function(e){return t.off("loadstart",a)})}},t.prototype.proxyNativeTracks_=function(){var e=this;sr.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),t.disposeMediaElement(e),e=i}else{e=Ge.createElement("video");var n=X({},this.options_.tag&&w(this.options_.tag));Xt&&!0===this.options_.nativeControlsForTouch||delete n.controls,E(e,r(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&C(e,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay","stretch","fluent"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];void 0!==u&&(u?C(e,s,s):I(e,s),e[s]=u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on("loadstart",i);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(e){this.trigger(e)},this)})}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){We(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&Nt&&zt&&0===this.el_.currentTime){return this.on("timeupdate",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){e.off("webkitbeginfullscreen",i),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=Ue.navigator&&Ue.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,r):e.prototype.addTextTrack.call(this,t,i,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=Ge.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},t.prototype.addRemoteTextTrack=function(t,i){var r=e.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)t!==i[r]&&t!==i[r].track||this.el().removeChild(i[r])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Ue.performance&&"function"==typeof Ue.performance.now?e.creationTime=Ue.performance.now():Ue.performance&&Ue.performance.timing&&"number"==typeof Ue.performance.timing.navigationStart&&(e.creationTime=Ue.Date.now()-Ue.performance.timing.navigationStart),e},t}(Br);if(l()){lo.TEST_VID=Ge.createElement("video");var co=Ge.createElement("track");co.kind="captions",co.srclang="en",co.label="English",lo.TEST_VID.appendChild(co)}lo.isSupported=function(){try{lo.TEST_VID.volume=.5}catch(e){return!1}return!(!lo.TEST_VID||!lo.TEST_VID.canPlayType)},lo.canPlayType=function(e){return lo.TEST_VID.canPlayType(e)},lo.canPlaySource=function(e,t){return lo.canPlayType(e.type)},lo.canControlVolume=function(){try{var e=lo.TEST_VID.volume;return lo.TEST_VID.volume=e/2+.1,e!==lo.TEST_VID.volume}catch(e){return!1}},lo.canMuteVolume=function(){try{var e=lo.TEST_VID.muted;return lo.TEST_VID.muted=!e,lo.TEST_VID.muted?C(lo.TEST_VID,"muted","muted"):I(lo.TEST_VID,"muted"),e!==lo.TEST_VID.muted}catch(e){return!1}},lo.canControlPlaybackRate=function(){if(Nt&&zt&&Zt<58)return!1;try{var e=lo.TEST_VID.playbackRate;return lo.TEST_VID.playbackRate=e/2+.1,e!==lo.TEST_VID.playbackRate}catch(e){return!1}},lo.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(Ge.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(Ge.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(Ge.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(Ge.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},lo.supportsNativeTextTracks=function(){return Ht||Ft&&zt},lo.supportsNativeVideoTracks=function(){return!(!lo.TEST_VID||!lo.TEST_VID.videoTracks)},lo.supportsNativeAudioTracks=function(){return!(!lo.TEST_VID||!lo.TEST_VID.audioTracks)},lo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],lo.prototype.featuresVolumeControl=lo.canControlVolume(),lo.prototype.featuresMuteControl=lo.canMuteVolume(),lo.prototype.featuresPlaybackRate=lo.canControlPlaybackRate(),lo.prototype.featuresSourceset=lo.canOverrideAttributes(),lo.prototype.movingMediaElementInDOM=!Ft,lo.prototype.featuresFullscreenResize=!0,lo.prototype.featuresProgressEvents=!0,lo.prototype.featuresTimeupdateEvents=!0,lo.prototype.featuresNativeTextTracks=lo.supportsNativeTextTracks(),lo.prototype.featuresNativeVideoTracks=lo.supportsNativeVideoTracks(),lo.prototype.featuresNativeAudioTracks=lo.supportsNativeAudioTracks();var ho=lo.TEST_VID&&lo.TEST_VID.constructor.prototype.canPlayType,fo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;lo.patchCanPlayType=function(){Jt>=4&&!Yt&&!zt&&(lo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&fo.test(e)?"maybe":ho.call(this,e)})},lo.unpatchCanPlayType=function(){var e=lo.TEST_VID.constructor.prototype.canPlayType;return lo.TEST_VID.constructor.prototype.canPlayType=ho,e},lo.patchCanPlayType(),lo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},lo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","stretch","fluent","controls","loop","playsinline"].forEach(function(e){lo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){lo.prototype["set"+H(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){lo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){lo.prototype["set"+H(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){lo.prototype[e]=function(){return this.el_[e]()}}),Br.withSourceHandlers(lo),lo.nativeSourceHandler={},lo.nativeSourceHandler.canPlayType=function(e){try{return lo.TEST_VID.canPlayType(e)}catch(e){return""}},lo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return lo.nativeSourceHandler.canPlayType(e.type);if(e.src){var i=Ti(e.src);return lo.nativeSourceHandler.canPlayType("video/"+i)}return""},lo.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},lo.nativeSourceHandler.dispose=function(){},lo.registerSourceHandler(lo.nativeSourceHandler),Br.registerTech("Html5",lo);var po=et(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Ao=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],go={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},mo=function(e){function t(i,n,o){if(Xe(this,t),i.id=i.id||n.id||"vjs_video_"+q(),(n=r(t.getTagSettings(i),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof i.closest){var a=i.closest("[lang]");a&&a.getAttribute&&(n.language=a.getAttribute("lang"))}else for(var s=i;s&&1===s.nodeType;){if(w(s).hasOwnProperty("lang")){n.language=s.getAttribute("lang");break}s=s.parentNode}var u=$e(this,e.call(this,null,n,o));if(u.isPosterFromTech_=!1,u.queuedCallbacks_=[],u.isReady_=!1,u.hasStarted_=!1,u.userActive_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=i,u.tagAttributes=i&&w(i),u.language(u.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEach(function(e){l[e.toLowerCase()]=n.languages[e]}),u.languages_=l}else u.languages_=t.prototype.options_.languages;u.cache_={},u.poster_=n.poster||"",u.controls_=!!n.controls,u.cache_.lastVolume=1,i.controls=!1,i.removeAttribute("controls"),i.hasAttribute("autoplay")?u.options_.autoplay=!0:u.autoplay(u.options_.autoplay),u.scrubbing_=!1,u.el_=u.createEl(),u.cache_.lastPlaybackRate=u.defaultPlaybackRate(),W(u,{eventBusKey:"el_"});var c=X(u.options_);if(n.plugins){var h=n.plugins;Object.keys(h).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](h[e])},u)}u.options_.playerOptions=c,u.middleware_=[],u.initChildren(),u.isAudio("audio"===i.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),Ft||u.addClass("vjs-workinghover"),t.players[u.id_]=u;var d=qe.split(".")[0];return u.addClass("vjs-v"+d),u.userActive(!0),u.reportUserActivity(),u.one("play",u.listenForUserActivity_),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u.changingSrc_=!1,u.playWaitingForReady_=!1,u.playOnLoadstart_=null,u}return _e(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(e){Qr[e.id()]=null}(this),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,i=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();r?i=this.el_=t.parentNode:n||(i=this.el_=e.prototype.createEl.call(this,"div"));var o=w(t);if(n){for(i=this.el_=t,t=this.tag=Ge.createElement("video");i.children.length;)t.appendChild(i.firstChild);g(i,"video-js")||m(i,"video-js"),i.appendChild(t),r=this.playerElIngest_=i,Object.keys(i).forEach(function(e){t[e]=i[e]})}if(t.setAttribute("tabindex","-1"),o.tabindex="-1",Wt&&(t.setAttribute("role","application"),o.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(e){n&&"class"===e||i.setAttribute(e,o[e]),n&&t.setAttribute(e,o[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=i.player=this,this.addClass("vjs-paused"),!0!==Ue.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=gt("vjs-styles-dimensions");var a=nt(".vjs-styles-defaults"),s=nt("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=t.getElementsByTagName("a"),l=0;l<u.length;l++){var c=u.item(l);m(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(i,t),A(t,i),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=i,i},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t)return this[i]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?We.error('Improper value "'+t+'" supplied for for '+e):(this[i]=r,this.updateStyleEl_())},t.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==Ue.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,i,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),n=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/n:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*n,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),mt(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*n+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},t.prototype.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var n=H(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Br.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var a={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,stretch:this.options_.stretch,fluent:this.options_.fluent,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};lr.names.forEach(function(e){var t=lr[e];a[t.getterName]=i[t.privateName]}),r(a,this.options_[n]),r(a,this.options_[o]),r(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=Br.getTech(e);if(!s)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(yt(this,this.handleTechReady_),!0),li(this.textTracksJson_||[],this.tech_),Ao.forEach(function(e){i.on(i.tech_,e,i["handleTech"+H(e)+"_"])}),Object.keys(go).forEach(function(e){i.on(i.tech_,e,function(t){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+go[e]+"_"].bind(i),event:t}):i["handleTech"+go[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreentoggle",this.handleTechFullscreenToggle_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||A(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;lr.names.forEach(function(t){var i=lr[t];e[i.privateName]=e[i.getterName]()}),this.textTracksJson_=ui(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.prototype.tech=function(e){return void 0===e&&We.warn(Ve(po)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},t.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},t.prototype.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var i=function(){var e=t.muted();t.muted(!0);var i=t.play();if(i&&i.then&&i.catch)return i.catch(function(i){t.muted(e)})},r=void 0;if("any"===e?(r=this.play())&&r.then&&r.catch&&r.catch(function(){return i()}):r="muted"===e?i():this.play(),r&&r.then&&r.catch)return r.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(i){t.trigger({type:"autoplay-failure",autoplay:e})})}},t.prototype.updateSourceCaches_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,i="";if("string"!=typeof t&&(t=e.src,i=e.type),!/^blob:/.test(t)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var r=e.$$("source"),n=0;n<r.length;n++){var o=r[n];if(o.type&&o.src&&o.src===t)return o.type}return Ur(t)}(this,t)),this.cache_.source=X({},e,{src:t,type:i});for(var r=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),n=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=w(o[s]);n.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!r.length?this.cache_.sources=n:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}},t.prototype.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_&&(this.updateSourceCaches_(e.src),!e.src)){this.tech_.one(["sourceset","loadstart"],function e(i){"sourceset"!==i.type&&t.updateSourceCaches_(t.techGet_("currentSrc")),t.tech_.off(["sourceset","loadstart"],e)})}this.trigger({src:e.src,type:"sourceset"})},t.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(We.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){x(e)&&this.controls_&&this.paused()},t.prototype.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechFullscreenToggle_=function(e,t){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready(function(){if(e in xr)return function(e,t,i,r){return t[i](e.reduce(Se(i),r))}(this.middleware_,this.tech_,e,t);if(e in qr)return Ie(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw We(e),e}},!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Lr)return function(e,t,i){return e.reduceRight(Se(i),t[i]())}(this.middleware_,this.tech_,e);if(e in qr)return Ie(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw We("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw We("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw We(t),t}}},t.prototype.play=function(){var e=this,t=this.options_.Promise||Ue.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},t.prototype.play_=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||ee(0,0)},t.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=ee(0,0)),e},t.prototype.bufferedPercent=function(){return te(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return i>t&&(i=t),i},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?void this.techCall_("setMuted",e):this.techGet_("muted")||!1},t.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){return void 0!==e&&0!==e?void(this.cache_.lastVolume=e):this.cache_.lastVolume},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?void(this.isFullscreen_=!!e):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=$t;this.isFullscreen(!0),e.requestFullscreen?(G(Ge,e.fullscreenchange,yt(this,function t(i){this.isFullscreen(Ge[e.fullscreenElement]),!1===this.isFullscreen()&&Y(Ge,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=$t;this.isFullscreen(!1),e.requestFullscreen?Ge[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=Ge.documentElement.style.overflow,G(Ge,"keydown",yt(this,this.fullWindowOnEscKey)),Ge.documentElement.style.overflow="hidden",m(Ge.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,Y(Ge,"keydown",this.fullWindowOnEscKey),Ge.documentElement.style.overflow=this.docOrigOverflow,y(Ge.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,i=0,r=this.options_.techOrder;i<r.length;i++){var n=r[i],o=Br.getTech(n);if(o||(o=Qt.getComponent(n)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else We.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,i=this.options_.techOrder.map(function(e){return[e,Br.getTech(e)]}).filter(function(e){var t=e[0],i=e[1];return i?i.isSupported():(We.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,i){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=i(e,t))return!0})}),r},n=function(e,i){var r=e[0];if(e[1].canPlaySource(i,t.options_[r.toLowerCase()]))return{source:i,tech:r}};return(this.options_.sourceOrder?r(e,i,function(e){return function(t,i){return e(i,t)}}(n)):r(i,e,n))||!1},t.prototype.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var i=function e(t){if(Array.isArray(t)){var i=[];t.forEach(function(t){t=e(t),Array.isArray(t)?i=i.concat(t):n(t)&&i.push(t)}),t=i}else t="string"==typeof t&&t.trim()?[Me({src:t})]:n(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Me(t)]:[];return t}(e);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),Ce(this,i[0],function(e,r){if(t.middleware_=r,t.cache_.sources=i,t.updateSourceCaches_(e),t.src_(e))return i.length>1?t.src(i.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());!function(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}(r,t.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.prototype.src_=function(e){var t=this,i=this.selectSource([e]);return!i||(function(e,t){return H(e)===H(t)}(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},t.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.stretch=function(e){return void 0!==e?(this.techCall_("setStretch",e),this.options_.stretch=e,this):this.techGet_("stretch",e)},t.prototype.fluent=function(e){return void 0!=e?(this.techCall_("setFluent",e),this.options_.fluent=e,this):this.techGet_("fluent",e)},t.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ie(e),this.addClass("vjs-error"),We.error("(CODE:"+this.error_.code+" "+ie.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,i=void 0,r=yt(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,r())}),this.on("mouseup",function(t){r(),this.clearInterval(e)}),this.on("keydown",r),this.on("keyup",r);var n=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(n);var e=this.options_.inactivityTimeout;e<=0||(n=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?void this.techCall_("setPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},t.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?void(this.isAudio_=!!e):!!this.isAudio_},t.prototype.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return X(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=X(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var r=t[i];(r=X(r)).player=void 0,e.tracks[i]=r}return e},t.prototype.createModal=function(e,t){var i=this;(t=t||{}).content=e||"";var r=new hi(this,t);return this.addChild(r),r.on("dispose",function(){i.removeChild(r)}),r.open(),r},t.getTagSettings=function(e){var t={sources:[],tracks:[]},i=w(e),n=i["data-setup"];if(g(e,"vjs-fluid")&&(i.fluid=!0),null!==n){var o=ai(n||"{}"),a=o[0],s=o[1];a&&We.error(a),r(i,s)}if(r(t,i),e.hasChildNodes())for(var u=e.childNodes,l=0,c=u.length;l<c;l++){var h=u[l],d=h.nodeName.toLowerCase();"source"===d?t.sources.push(w(h)):"track"===d&&t.tracks.push(w(h))}return t},t.prototype.flexNotSupported_=function(){var e=Ge.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Qt);lr.names.forEach(function(e){var t=lr[e];mo.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),mo.players={};var yo=Ue.navigator;mo.prototype.options_={techOrder:Br.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:yo&&(yo.languages&&yo.languages[0]||yo.userLanguage||yo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){mo.prototype[e]=function(){return this.techGet_(e)}}),Ao.forEach(function(e){mo.prototype["handleTech"+H(e)+"_"]=function(){return this.trigger(e)}}),Qt.registerComponent("Player",mo);var vo={},Eo=function(e){return vo.hasOwnProperty(e)},wo=function(e){return Eo(e)?vo[e]:void 0},bo=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Co=function(e,t,i){var r=(i?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Io=function(e,t){return t.prototype.name=e,function(){Co(this,{name:e,plugin:t,instance:null},!0);for(var i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];var o=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));return this[e]=function(){return o},Co(this,o.getEventHash()),o}},So=function(){function e(t){if(Xe(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,W(this),delete this.trigger,V(this,this.constructor.defaultState),bo(t,this.name),this.dispose=yt(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(e){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Io(e,vo[e])},e.isBasic=function(t){var i="string"==typeof t?wo(t):t;return"function"==typeof i&&!e.prototype.isPrototypeOf(i.prototype)},e.registerPlugin=function(t,i){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":He(t))+".");if(Eo(t))We.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(mo.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===i?"undefined":He(i))+".");return vo[t]=i,"plugin"!==t&&(e.isBasic(i)?mo.prototype[t]=function(e,t){var i=function(){Co(this,{name:e,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return bo(this,e),Co(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i}(t,i):mo.prototype[t]=Io(t,i)),i},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Eo(e)&&(delete vo[e],delete mo.prototype[e])},e.getPlugins=function(){var e=void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(vo)).forEach(function(t){var i=wo(t);i&&((e=e||{})[t]=i)}),e},e.getPluginVersion=function(e){var t=wo(e);return t&&t.VERSION||""},e}();So.getPlugin=wo,So.BASE_PLUGIN_NAME="plugin",So.registerPlugin("plugin",So),mo.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},mo.prototype.hasPlugin=function(e){return!!Eo(e)};var Mo=function(e){return 0===e.indexOf("#")?e.slice(1):e};if(Re.hooks_={},Re.hooks=function(e,t){return Re.hooks_[e]=Re.hooks_[e]||[],t&&(Re.hooks_[e]=Re.hooks_[e].concat(t)),Re.hooks_[e]},Re.hook=function(e,t){Re.hooks(e,t)},Re.hookOnce=function(e,t){Re.hooks(e,[].concat(t).map(function(t){return function i(){return Re.removeHook(e,i),t.apply(void 0,arguments)}}))},Re.removeHook=function(e,t){var i=Re.hooks(e).indexOf(t);return!(i<=-1||(Re.hooks_[e]=Re.hooks_[e].slice(),Re.hooks_[e].splice(i,1),0))},!0!==Ue.VIDEOJS_NO_DYNAMIC_STYLE&&l()){var ko=nt(".vjs-styles-defaults");if(!ko){ko=gt("vjs-styles-defaults");var To=nt("head");To&&To.insertBefore(ko,To.firstChild),mt(ko,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Z(1,Re),Re.VERSION=qe,Re.options=mo.prototype.options_,Re.getPlayers=function(){return mo.players},Re.getPlayer=function(e){var t=mo.players,i=void 0;if("string"==typeof e){var r=Mo(e),n=t[r];if(n)return n;i=nt("#"+r)}else i=e;if(c(i)){var o=i,a=o.player,s=o.playerId;if(a||t[s])return a||t[s]}},Re.getAllPlayers=function(){return Object.keys(mo.players).map(function(e){return mo.players[e]}).filter(Boolean)},Re.players=mo.players,Re.getComponent=Qt.getComponent,Re.registerComponent=function(e,t){Br.isTech(t)&&We.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Qt.registerComponent.call(Qt,e,t)},Re.getTech=Br.getTech,Re.registerTech=Br.registerTech,Re.use=function(e,t){Rr[e]=Rr[e]||[],Rr[e].push(t)},Object.defineProperty(Re,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Re.middleware,"TERMINATOR",{value:Or,writeable:!1,enumerable:!0}),Re.browser=_t,Re.TOUCH_ENABLED=Xt,Re.extend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){e.apply(this,arguments)},r={};for(var n in"object"===(void 0===t?"undefined":He(t))?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):"function"==typeof t&&(i=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":He(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(i,e),r)r.hasOwnProperty(n)&&(i.prototype[n]=r[n]);return i},Re.mergeOptions=X,Re.bind=yt,Re.registerPlugin=So.registerPlugin,Re.deregisterPlugin=So.deregisterPlugin,Re.plugin=function(e,t){return We.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),So.registerPlugin(e,t)},Re.getPlugins=So.getPlugins,Re.getPlugin=So.getPlugin,Re.getPluginVersion=So.getPluginVersion,Re.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),Re.options.languages=X(Re.options.languages,((i={})[e]=t,i)),Re.options.languages[e]},Re.log=We,Re.createTimeRange=Re.createTimeRanges=ee,Re.formatTime=De,Re.setFormatTime=function(e){Hr=e},Re.resetFormatTime=function(){Hr=Vr},Re.parseUrl=Mi,Re.isCrossOrigin=Di,Re.EventTarget=wt,Re.on=G,Re.one=z,Re.off=Y,Re.trigger=P,Re.xhr=_i,Re.TextTrack=tr,Re.AudioTrack=ir,Re.VideoTrack=rr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Re[e]=function(){return We.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),at[e].apply(null,arguments)}}),Re.computedStyle=a,Re.dom=at,Re.url=Bi;var Do,Bo,Ro,Qo,Oo,Lo,xo,qo,Ko,Uo,Fo,jo,No,Jo,Go,Yo,Po,zo,Zo,Wo,Vo,Ho,Xo,_o,$o,ea,ta,ia,ra,na,oa,aa,sa,ua,la,ca,ha,da,fa=e(function(e,t){var i,r,n,o,a;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=a.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=a.normalizePath(n.path),a.buildURLFromParts(n)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(h)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a}),pa=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ga=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":He(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ma=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":He(t))&&"function"!=typeof t?e:t},ya=function(){function e(){pa(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),i>-1},e.prototype.trigger=function(e){var t=this.listeners[e],i=void 0,r=void 0,n=void 0;if(t)if(2===arguments.length)for(r=t.length,i=0;i<r;++i)t[i].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),r=t.length,i=0;i<r;++i)t[i].apply(this,n)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),va=function(e){function t(){pa(this,t);var i=ma(this,e.call(this));return i.buffer="",i}return ga(t,e),t.prototype.push=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(ya),Ea=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=t.length,n=void 0;r--;)""!==t[r]&&((n=/([^=]*)=(.*)/.exec(t[r]).slice(1))[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),i[n[0]]=n[1]);return i},wa=function(e){function t(){pa(this,t);var i=ma(this,e.call(this));return i.customParsers=[],i}return ga(t,e),t.prototype.push=function(e){var t=void 0,i=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});for(var r=0;r<this.customParsers.length;r++)if(this.customParsers[r].call(this,e))return;if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var n=Ea(t[1]);if(n.URI&&(i.uri=n.URI),n.BYTERANGE){var o=n.BYTERANGE.split("@"),a=o[0],s=o[1];i.byterange={},a&&(i.byterange.length=parseInt(a,10)),s&&(i.byterange.offset=parseInt(s,10))}}return void this.trigger("data",i)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=Ea(t[1]),i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),i.attributes.RESOLUTION=l}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}return void this.trigger("data",i)}if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=Ea(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.trigger("data",{type:"tag",tagType:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.trigger("data",{type:"tag",tagType:"discontinuity"});if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=Ea(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=Ea(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);this.trigger("data",{type:"tag",data:e.slice(4)})}},t.prototype.addParser=function(e){var t=this,i=e.expression,r=e.customType,n=e.dataParser,o=e.segment;"function"!=typeof n&&(n=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:n(e),customType:r,segment:o}),!0})},t}(ya),ba=function(e){function t(){pa(this,t);var i=ma(this,e.call(this));i.lineStream=new va,i.parseStream=new wa,i.lineStream.pipe(i.parseStream);var r=i,n=[],o={},a=void 0,s=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;return i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},i.parseStream.on("data",function(e){var t=void 0,i=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(o.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(s=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void(void 0!==e.attributes.IV&&(s.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,l=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){a={},e.uri&&(a.uri=e.uri),e.byterange&&(a.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(o.attributes||(o.attributes={}),Aa(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var r=this.manifest.mediaGroups[e.attributes.TYPE];r[e.attributes["GROUP-ID"]]=r[e.attributes["GROUP-ID"]]||{},t=r[e.attributes["GROUP-ID"]],(i={default:/yes/i.test(e.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(i.language=e.attributes.LANGUAGE),e.attributes.URI&&(i.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(i.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(i.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(i.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=i}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}})[e.tagType]||function(){}).call(r)},uri:function(){o.uri=e.uri,n.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),s&&(o.key=s),o.timeline=l,a&&(o.map=a),o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)}),i}return ga(t,e),t.prototype.push=function(e){this.lineStream.push(e)},t.prototype.end=function(){this.lineStream.push("\n")},t.prototype.addParser=function(e){this.parseStream.addParser(e)},t}(ya),Ca=function(e){var t,i=e.attributes,r=e.segments,n={attributes:(t={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1};return i.contentProtection&&(n.contentProtection=i.contentProtection),n},Ia="function"==typeof Symbol&&"symbol"===He(Symbol.iterator)?function(e){return void 0===e?"undefined":He(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":He(e)},Sa=function(e){return!!e&&"object"===(void 0===e?"undefined":Ia(e))},Ma=function e(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.reduce(function(t,i){return Object.keys(i).forEach(function(r){Array.isArray(t[r])&&Array.isArray(i[r])?t[r]=t[r].concat(i[r]):Sa(t[r])&&Sa(i[r])?t[r]=e(t[r],i[r]):t[r]=i[r]}),t},{})},ka=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=fa.buildAbsoluteURL(Ue.location.href,e)),fa.buildAbsoluteURL(e,t))},Ta=function(e){var t=e.baseUrl,i=void 0===t?"":t,r=e.source,n=void 0===r?"":r,o=e.range,a=void 0===o?"":o,s={uri:n,resolvedUri:ka(i||"",n)};if(a){var u=a.split("-"),l=parseInt(u[0],10),c=parseInt(u[1],10);s.byterange={length:c-l,offset:l}}return s},Da=function(e,t,i){var r=e.NOW,n=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,u=e.start,l=void 0===u?0:u,c=e.minimumUpdatePeriod,h=(r+n)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((h*s-t)/i)},Ba=function(e,t){for(var i=e.type,r=void 0===i?"static":i,n=e.minimumUpdatePeriod,o=void 0===n?0:n,a=e.media,s=void 0===a?"":a,u=e.sourceDuration,l=e.timescale,c=void 0===l?1:l,h=e.startNumber,d=void 0===h?1:h,f=e.periodIndex,p=[],A=-1,g=0;g<t.length;g++){var m=t[g],y=m.d,v=m.r||0,E=m.t||0;A<0&&(A=E),E&&E>A&&(A=E);var w=void 0;if(v<0){var b=g+1;w=b===t.length?"dynamic"===r&&o>0&&s.indexOf("$Number$")>0?Da(e,A,y):(u*c-A)/y:(t[b].t-A)/y}else w=v+1;for(var C=d+p.length+w,I=d+p.length;I<C;)p.push({number:I,duration:y/c,time:A,timeline:f}),A+=y,I++}return p},Ra=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},Qa=function(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},Oa={static:function(e){var t=e.duration,i=e.timescale,r=void 0===i?1:i,n=e.sourceDuration;return{start:0,end:Math.ceil(n/(t/r))}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,r=e.availabilityStartTime,n=e.timescale,o=void 0===n?1:n,a=e.duration,s=e.start,u=void 0===s?0:s,l=e.minimumUpdatePeriod,c=void 0===l?0:l,h=e.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(t+i)/1e3,p=r+u,A=f+c-p,g=Math.ceil(A*o/a),m=Math.floor((f-p-d)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,m),end:Math.min(g,y)}}},La=function(e){var t=e.type,i=void 0===t?"static":t,r=e.duration,n=e.timescale,o=void 0===n?1:n,a=e.sourceDuration,s=Oa[i](e),u=function(e,t){for(var i=[],r=e;r<t;r++)i.push(r);return i}(s.start,s.end).map(function(e){return function(t,i){var r=e.duration,n=e.timescale,o=void 0===n?1:n,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:r/o,timeline:a,time:i*r}}}(e));if("static"===i){var l=u.length-1;u[l].duration=a-r/o*l}return u},xa=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,qa=function(e,t){return e.replace(xa,function(e){return function(t,i,r,n){if("$$"===t)return"$";if(void 0===e[i])return t;var o=""+e[i];return"RepresentationID"===i?o:(n=r?parseInt(n,10):1,o.length>=n?o:""+new Array(n-o.length+1).join("0")+o)}}(t))},Ka=function(e,t){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,n=void 0===r?{sourceURL:"",range:""}:r,o=Ta({baseUrl:e.baseUrl,source:qa(n.sourceURL,i),range:n.range});return function(e,t){return e.duration||t?e.duration?La(e):Ba(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map(function(t){i.Number=t.number,i.Time=t.time;var r=qa(e.media||"",i);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:ka(e.baseUrl||"",r),map:o,number:t.number}})},Ua="INVALID_NUMBER_OF_PERIOD",Fa="DASH_EMPTY_MANIFEST",ja="DASH_INVALID_XML",Na="NO_BASE_URL",Ja="SEGMENT_TIME_UNSPECIFIED",Ga="UNSUPPORTED_UTC_TIMING_SCHEME",Ya=function(e,t){var i=e.duration,r=e.segmentUrls,n=void 0===r?[]:r;if(!i&&!t||i&&t)throw new Error(Ja);var o=n.map(function(t){return function(e,t){var i=e.baseUrl,r=e.initialization,n=void 0===r?{}:r,o=Ta({baseUrl:i,source:n.sourceURL,range:n.range}),a=Ta({baseUrl:i,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}),a=void 0;return i&&(a=La(e)),t&&(a=Ba(e,t)),a.map(function(e,t){if(o[t]){var i=o[t];return i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i}}).filter(function(e){return e})},Pa=function(e){var t=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,n=e.sourceDuration,o=e.timescale,a=void 0===o?1:o,s=e.indexRange,u=void 0===s?"":s,l=e.duration;if(!t)throw new Error(Na);var c=Ta({baseUrl:t,source:r.sourceURL,range:r.range}),h=Ta({baseUrl:t,source:t,range:u});if(h.map=c,l){var d=La(e);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else n&&(h.duration=n/a,h.timeline=0);return h.number=0,[h]},za=function(e){var t=e.attributes,i=e.segmentInfo,r=void 0,n=void 0;if(i.template?(n=Ka,r=Ma(t,i.template)):i.base?(n=Pa,r=Ma(t,i.base)):i.list&&(n=Ya,r=Ma(t,i.list)),!n)return{attributes:t};var o=n(r,i.timeline);if(r.duration){var a=r,s=a.duration,u=a.timescale,l=void 0===u?1:u;r.duration=s/l}else o.length?r.duration=o.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):r.duration=0;return{attributes:r,segments:o}},Za=function(e,t){return Qa(e.childNodes).filter(function(e){return e.tagName===t})},Wa=function(e){return e.textContent.trim()},Va=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var i=t.slice(1),r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],u=i[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(n||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},Ha={mediaPresentationDuration:function(e){return Va(e)},availabilityStartTime:function(e){return function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)}(e)/1e3},minimumUpdatePeriod:function(e){return Va(e)},timeShiftBufferDepth:function(e){return Va(e)},start:function(e){return Va(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Va(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Xa=function(e){return e&&e.attributes?Qa(e.attributes).reduce(function(e,t){var i=Ha[t.name]||Ha.DEFAULT;return e[t.name]=i(t.value),e},{}):{}},_a={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},$a=function(e,t){return t.length?Ra(e.map(function(e){return t.map(function(t){return ka(e,Wa(t))})})):e},es=function(e){var t=Za(e,"SegmentTemplate")[0],i=Za(e,"SegmentList")[0],r=i&&Za(i,"SegmentURL").map(function(e){return Ma({tag:"SegmentURL"},Xa(e))}),n=Za(e,"SegmentBase")[0],o=i||t,a=o&&Za(o,"SegmentTimeline")[0],s=i||n||t,u=s&&Za(s,"Initialization")[0],l=t&&Xa(t);l&&u?l.initialization=u&&Xa(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&Za(a,"S").map(function(e){return Xa(e)}),list:i&&Ma(Xa(i),{segmentUrls:r,initialization:Xa(u)}),base:n&&Ma(Xa(n),{initialization:Xa(u)})};return Object.keys(c).forEach(function(e){c[e]||delete c[e]}),c},ts=function(e){return e.reduce(function(e,t){var i=Xa(t),r=_a[i.schemeIdUri];if(r){e[r]={attributes:i};var n=Za(t,"cenc:pssh")[0];if(n){var o=Wa(n),a=o&&function(e){for(var t=Ue.atob(e),i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(o);e[r].pssh=a}}return e},{})},is=function(e,t,i){return function(r){var n=Xa(r),o=$a(t,Za(r,"BaseURL")),a=Za(r,"Role")[0],s={role:Xa(a)},u=Ma(e,n,s),l=ts(Za(r,"ContentProtection"));Object.keys(l).length&&(u=Ma(u,{contentProtection:l}));var c=es(r),h=Za(r,"Representation"),d=Ma(i,c);return Ra(h.map(function(e,t,i){return function(r){var n=Za(r,"BaseURL"),o=$a(t,n),a=Ma(e,Xa(r)),s=es(r);return o.map(function(e){return{segmentInfo:Ma(i,s),attributes:Ma(a,{baseUrl:e})}})}}(u,o,d)))}},rs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.manifestUri,r=void 0===i?"":i,n=t.NOW,o=void 0===n?Date.now():n,a=t.clientOffset,s=void 0===a?0:a,u=Za(e,"Period");if(1!==u.length)throw new Error(Ua);var l=Xa(e),c=$a([r],Za(e,"BaseURL"));return l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=o,l.clientOffset=s,Ra(u.map(function(e,t){return function(i,r){var n=$a(t,Za(i,"BaseURL")),o=Xa(i),a=Ma(e,o,{periodIndex:r}),s=Za(i,"AdaptationSet"),u=es(i);return Ra(s.map(is(a,n,u)))}}(l,c)))},ns=function(e){if(""===e)throw new Error(Fa);var t=(new Ue.DOMParser).parseFromString(e,"application/xml"),i=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(ja);return i},os=function(e,t){return function(e){var t;if(!e.length)return{};var i=e[0].attributes,r=i.sourceDuration,n=i.minimumUpdatePeriod,o=void 0===n?0:n,a=e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}).map(Ca),s=e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}),u=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),l={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:r,playlists:a,minimumUpdatePeriod:1e3*o};return s.length&&(l.mediaGroups.AUDIO.audio=function(e){return e.reduce(function(e,t){var i=t.attributes.role&&t.attributes.role.value||"main",r=t.attributes.lang||"",n="main";return r&&(n=t.attributes.lang+" ("+i+")"),e[n]&&e[n].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth?e:(e[n]={language:r,autoselect:!0,default:"main"===i,playlists:[function(e){var t,i=e.attributes,r=e.segments,n={attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1};return i.contentProtection&&(n.contentProtection=i.contentProtection),n}(t)],uri:""},e)},{})}(s)),u.length&&(l.mediaGroups.SUBTITLES.subs=function(e){return e.reduce(function(e,t){var i=t.attributes.lang||"text";return e[i]?e:(e[i]={language:i,default:!1,autoselect:!1,playlists:[function(e){var t,i=e.attributes,r=e.segments;return void 0===r&&(r=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1}}(t)],uri:""},e)},{})}(u)),l}(function(e){return e.map(za)}(rs(ns(e),t)))},as=function(e){return function(e){var t=Za(e,"UTCTiming")[0];if(!t)return null;var i=Xa(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Ga)}return i}(ns(e))},ss={toUnsigned:function(e){return e>>>0}},us=ss.toUnsigned,ls=Object.freeze({default:ss,__moduleExports:ss,toUnsigned:us}),cs=(ls&&ss||ls).toUnsigned,hs={findBox:Do=function(e,t){var i,r,n,o,a,s=[];if(!t.length)return null;for(i=0;i<e.byteLength;)r=cs(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),n=Bo(e.subarray(i+4,i+8)),o=r>1?i+r:e.byteLength,n===t[0]&&(1===t.length?s.push(e.subarray(i+8,o)):(a=Do(e.subarray(i+8,o),t.slice(1))).length&&(s=s.concat(a))),i=o;return s},parseType:Bo=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},timescale:function(e){return Do(e,["moov","trak"]).reduce(function(e,t){var i,r,n,o,a;return(i=Do(t,["tkhd"])[0])?(r=i[0],o=cs(i[n=0===r?12:20]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3]),(a=Do(t,["mdia","mdhd"])[0])?(n=0===(r=a[0])?12:20,e[o]=cs(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3]),e):null):null},{})},startTime:function(e,t){var i,r,n;return i=Do(t,["moof","traf"]),r=[].concat.apply([],i.map(function(t){return Do(t,["tfhd"]).map(function(i){var r,n;return r=cs(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),n=e[r]||9e4,(Do(t,["tfdt"]).map(function(e){var t,i;return t=e[0],i=cs(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(i*=Math.pow(2,32),i+=cs(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),i})[0]||1/0)/n})})),n=Math.min.apply(null,r),isFinite(n)?n:0},videoTrackIds:function(e){var t=[];return Do(e,["moov","trak"]).forEach(function(e){var i=Do(e,["mdia","hdlr"]),r=Do(e,["tkhd"]);i.forEach(function(e,i){var n,o,a=Bo(e.subarray(8,12)),s=r[i];"vide"===a&&(o=0===(n=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),t.push(o))})}),t}},ds=Math.pow(2,32)-1;!function(){var e;if($o={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in $o)$o.hasOwnProperty(e)&&($o[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);ea=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ia=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ta=new Uint8Array([0,0,0,1]),ra=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),na=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),oa={video:ra,audio:na},ua=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),sa=new Uint8Array([0,0,0,0,0,0,0,0]),la=new Uint8Array([0,0,0,0,0,0,0,0]),ca=la,ha=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),da=la,aa=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),Ro=function(e){var t,i,r=[],n=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)n+=r[t].byteLength;for(i=new Uint8Array(n+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,n=8;t<r.length;t++)i.set(r[t],n),n+=r[t].byteLength;return i},Qo=function(){return Ro($o.dinf,Ro($o.dref,ua))},Oo=function(e){return Ro($o.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},Lo=function(){return Ro($o.ftyp,ea,ta,ea,ia)},zo=function(e){return Ro($o.hdlr,oa[e])},xo=function(e){return Ro($o.mdat,e)},Po=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),Ro($o.mdhd,t)},Yo=function(e){return Ro($o.mdia,Po(e),zo(e.type),Ko(e))},qo=function(e){return Ro($o.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},Ko=function(e){return Ro($o.minf,"video"===e.type?Ro($o.vmhd,aa):Ro($o.smhd,sa),Qo(),Wo(e))},Uo=function(e,t){for(var i=[],r=t.length;r--;)i[r]=Ho(t[r]);return Ro.apply(null,[$o.moof,qo(e)].concat(i))},Fo=function(e){for(var t=e.length,i=[];t--;)i[t]=Jo(e[t]);return Ro.apply(null,[$o.moov,No(4294967295)].concat(i).concat(jo(e)))},jo=function(e){for(var t=e.length,i=[];t--;)i[t]=Xo(e[t]);return Ro.apply(null,[$o.mvex].concat(i))},No=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ro($o.mvhd,t)},Zo=function(e){var t,i,r=e.samples||[],n=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)t=r[i].flags,n[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return Ro($o.sdtp,n)},Wo=function(e){return Ro($o.stbl,Vo(e),Ro($o.stts,da),Ro($o.stsc,ca),Ro($o.stsz,ha),Ro($o.stco,la))},function(){var e,t;Vo=function(i){return Ro($o.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?e(i):t(i))},e=function(e){var t,i=e.sps||[],r=e.pps||[],n=[],o=[];for(t=0;t<i.length;t++)n.push((65280&i[t].byteLength)>>>8),n.push(255&i[t].byteLength),n=n.concat(Array.prototype.slice.call(i[t]));for(t=0;t<r.length;t++)o.push((65280&r[t].byteLength)>>>8),o.push(255&r[t].byteLength),o=o.concat(Array.prototype.slice.call(r[t]));return Ro($o.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Ro($o.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(n).concat([r.length]).concat(o))),Ro($o.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return Ro($o.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),Oo(e))}}(),Go=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return Ro($o.tkhd,t)},Ho=function(e){var t,i,r,n,o,a;return t=Ro($o.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(ds+1)),a=Math.floor(e.baseMediaDecodeTime%(ds+1)),i=Ro($o.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),92,"audio"===e.type?(r=_o(e,92),Ro($o.traf,t,i,r)):(n=Zo(e),r=_o(e,n.length+92),Ro($o.traf,t,i,r,n))},Jo=function(e){return e.duration=e.duration||4294967295,Ro($o.trak,Go(e),Yo(e))},Xo=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),Ro($o.trex,t)},function(){var e,t,i;i=function(e,t){var i=0,r=0,n=0,o=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(n=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,i|r|n|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var r,n,o,a;for(t+=20+16*(n=e.samples||[]).length,r=i(n,t),a=0;a<n.length;a++)o=n[a],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return Ro($o.trun,new Uint8Array(r))},e=function(e,t){var r,n,o,a;for(t+=20+8*(n=e.samples||[]).length,r=i(n,t),a=0;a<n.length;a++)o=n[a],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return Ro($o.trun,new Uint8Array(r))},_o=function(i,r){return"audio"===i.type?e(i,r):t(i,r)}}();var fs={ftyp:Lo,mdat:xo,moof:Uo,moov:Fo,initSegment:function(e){var t,i=Lo(),r=Fo(e);return(t=new Uint8Array(i.byteLength+r.byteLength)).set(i),t.set(r,i.byteLength),t}},ps=fs.ftyp,As=fs.mdat,gs=fs.moof,ms=fs.moov,ys=fs.initSegment,vs=Object.freeze({default:fs,__moduleExports:fs,ftyp:ps,mdat:As,moof:gs,moov:ms,initSegment:ys}),Es=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var r;return!!e[t]&&(r=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var i,r,n,o;if(i=e[t])if(2===arguments.length)for(n=i.length,r=0;r<n;++r)i[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(n=i.length,r=0;r<n;++r)i[r].apply(this,o)}},this.dispose=function(){e={}}}};Es.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},Es.prototype.push=function(e){this.trigger("data",e)},Es.prototype.flush=function(e){this.trigger("done",e)};var ws=Es,bs=Object.freeze({default:ws,__moduleExports:ws}),Cs=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},Is={groupNalsIntoFrames:function(e){var t,i,r=[],n=[];for(r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(r.length&&(r.duration=i.dts-r.dts,n.push(r)),(r=[i]).byteLength=i.data.byteLength,r.pts=i.pts,r.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(r.keyFrame=!0),r.duration=i.dts-r.dts,r.byteLength+=i.data.byteLength,r.push(i));return n.length&&(!r.duration||r.duration<=0)&&(r.duration=n[n.length-1].duration),n.push(r),n},groupFramesIntoGops:function(e){var t,i,r=[],n=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(r.length&&(n.push(r),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration),(r=[i]).nalCount=i.length,r.byteLength=i.byteLength,r.pts=i.pts,r.dts=i.dts,r.duration=i.duration):(r.duration+=i.duration,r.nalCount+=i.length,r.byteLength+=i.byteLength,r.push(i));return n.length&&r.duration<=0&&(r.duration=n[n.length-1].duration),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration,n.push(r),n},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var i,r,n,o,a,s=t||0,u=[];for(i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)a=o[r],s+=(n=Cs(a,s)).size,u.push(n);return u},concatenateNalData:function(e){var t,i,r,n,o,a,s=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(o=n[i],r=0;r<o.length;r++)a=o[r],h.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c}},Ss=Is.groupNalsIntoFrames,Ms=Is.groupFramesIntoGops,ks=Is.extendFirstKeyFrame,Ts=Is.generateSampleTable,Ds=Is.concatenateNalData,Bs=Object.freeze({default:Is,__moduleExports:Is,groupNalsIntoFrames:Ss,groupFramesIntoGops:Ms,extendFirstKeyFrame:ks,generateSampleTable:Ts,concatenateNalData:Ds}),Rs={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var i,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=r,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/9e4,i=Math.floor(i)),i},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},Qs=Rs.clearDtsInfo,Os=Rs.calculateTrackBaseMediaDecodeTime,Ls=Rs.collectDtsInfo,xs=Object.freeze({default:Rs,__moduleExports:Rs,clearDtsInfo:Qs,calculateTrackBaseMediaDecodeTime:Os,collectDtsInfo:Ls}),qs={parseSei:function(e){for(var t=0,i={payloadType:-1,payloadSize:0},r=0,n=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!i.payload&&4===r){i.payloadType=r,i.payloadSize=n,i.payload=e.subarray(t,t+n);break}t+=n,r=0,n=0}return i},parseUserData:function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,r,n,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],i=0;i<r;i++)o={type:3&t[2+(n=3*i)],pts:e},4&t[n+2]&&(o.ccData=t[n+3]<<8|t[n+4],a.push(o));return a},discardEmulationPreventionBytes:function(e){for(var t,i,r=e.byteLength,n=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=e[a];return i},USER_DATA_REGISTERED_ITU_T_T35:4},Ks=qs.parseSei,Us=qs.parseUserData,Fs=qs.parseCaptionPackets,js=qs.discardEmulationPreventionBytes,Ns=qs.USER_DATA_REGISTERED_ITU_T_T35,Js=Object.freeze({default:qs,__moduleExports:qs,parseSei:Ks,parseUserData:Us,parseCaptionPackets:Fs,discardEmulationPreventionBytes:js,USER_DATA_REGISTERED_ITU_T_T35:Ns}),Gs=bs&&ws||bs,Ys=Js&&qs||Js,Ps=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Hs(0,0),new Hs(0,1),new Hs(1,0),new Hs(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};(Ps.prototype=new Gs).push=function(e){var t,i,r;if("sei_rbsp"===e.nalUnitType&&((t=Ys.parseSei(e.escapedRBSP)).payloadType===Ys.USER_DATA_REGISTERED_ITU_T_T35&&(i=Ys.parseUserData(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=Ys.parseCaptionPackets(e.pts,i),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ps.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},Ps.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Ps.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ps.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ps.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var zs={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Zs=function(e){return null===e?"":(e=zs[e]||e,String.fromCharCode(e))},Ws=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Vs=function(){for(var e=[],t=15;t--;)e.push("");return e},Hs=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,r,n,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,n=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Vs();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Vs();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Vs()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,n))o=Zs((r=(3&r)<<8)|n),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Zs((r=(3&r)<<8)|n),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,n))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,n))this.column_+=3&n;else if(this.isPAC(r,n)){var a=Ws.indexOf(7968&t);"rollUp"===this.mode_&&this.setRollUp(e.pts,a),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===n&&(n=null),o=Zs(r),o+=Zs(n),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Hs.prototype=new Gs,Hs.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Hs.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Vs(),this.nonDisplayed_=Vs(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Hs.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Hs.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Hs.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Hs.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Hs.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Hs.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Hs.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Hs.prototype.isNormalChar=function(e){return e>=32&&e<=127},Hs.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Vs(),this.displayed_=Vs()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Hs.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},Hs.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Hs.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Hs.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Hs.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Hs.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};var Xs={CaptionStream:Ps,Cea608Stream:Hs},_s=Xs.CaptionStream,$s=Xs.Cea608Stream,eu=Object.freeze({default:Xs,__moduleExports:Xs,CaptionStream:_s,Cea608Stream:$s}),tu={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},iu=tu.H264_STREAM_TYPE,ru=tu.ADTS_STREAM_TYPE,nu=tu.METADATA_STREAM_TYPE,ou=Object.freeze({default:tu,__moduleExports:tu,H264_STREAM_TYPE:iu,ADTS_STREAM_TYPE:ru,METADATA_STREAM_TYPE:nu}),au=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},su=function e(t){var i,r;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=au(e.dts,r),e.pts=au(e.pts,r),i=e.dts,this.trigger("data",e))},this.flush=function(){r=i,this.trigger("done")},this.discontinuity=function(){r=void 0,i=void 0}};su.prototype=new Gs;var uu,lu={TimestampRolloverStream:su,handleRollover:au},cu=lu.TimestampRolloverStream,hu=lu.handleRollover,du=Object.freeze({default:lu,__moduleExports:lu,TimestampRolloverStream:cu,handleRollover:hu}),fu=ou&&tu||ou,pu=function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n},Au=function(e,t,i){return decodeURIComponent(pu(e,t,i))},gu=function(e,t,i){return unescape(pu(e,t,i))},mu=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},yu={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Au(e.data,1,t),e.value=Au(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Au(e.data,1,t),e.url=Au(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=gu(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(uu=function(e){var t,i={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,n=[],o=0;if(uu.prototype.init.call(this),this.dispatchType=fu.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,u,l;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(o=0,n.length=0),0===n.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(i.debug&&console.log("Skipping unrecognized metadata packet"));if(n.push(e),o+=e.data.byteLength,1===n.length&&(r=mu(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:n[0].pts,dts:n[0].dts},l=0;l<r;)t.data.set(n[0].data.subarray(0,r-l),l),l+=n[0].data.byteLength,o-=n[0].data.byteLength,n.shift();a=10,64&t.data[5]&&(a+=4,a+=mu(t.data.subarray(10,14)),r-=mu(t.data.subarray(16,20)));do{if((s=mu(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=u.id,yu[u.id]&&(yu[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],u.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),a+=10,a+=s}while(a<r);this.trigger("data",t)}}}}).prototype=new Gs;var vu,Eu,wu,bu=uu,Cu=Object.freeze({default:bu,__moduleExports:bu}),Iu=eu&&Xs||eu,Su=du&&lu||du,Mu=Cu&&bu||Cu,ku=Su.TimestampRolloverStream;(vu=function(){var e=new Uint8Array(188),t=0;vu.prototype.init.call(this),this.push=function(i){var r,n=0,o=188;for(t?((r=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),r.set(i,t),t=0):r=i;o<r.byteLength;)71!==r[n]||71!==r[o]?(n++,o++):(this.trigger("data",r.subarray(n,o)),n+=188,o+=188);n<r.byteLength&&(e.set(r.subarray(n),0),t=r.byteLength-n)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new Gs,(Eu=function(){var e,t,i,r;Eu.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var n=0;r.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===r.type?t(e.subarray(n),r):i(e.subarray(n),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},i=function(e,t){var i,n;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var o=e[n],a=(31&e[n+1])<<8|e[n+2];o===fu.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===fu.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===fu.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var i={},r=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===i.pid)i.type="pat",e(t.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,i]):this.processPes_(t,r,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=fu.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=fu.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new Gs,Eu.STREAM_TYPES={h264:27,adts:15},(wu=function(){var e=this,t={data:[],size:0},i={data:[],size:0},r={data:[],size:0},n=function(t,i,r){var n,o=new Uint8Array(t.size),a={type:i},s=0,u=0,l=!1;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,s=0;s<t.data.length;s++)n=t.data[s],o.set(n.data,u),u+=n.data.byteLength;(function(e,t){var i;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])})(o,a),l="video"===i||a.packetLength<=t.size,(r||l)&&(t.size=0,t.data.length=0),l&&e.trigger("data",a)}};wu.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case fu.H264_STREAM_TYPE:case fu.H264_STREAM_TYPE:e=t,a="video";break;case fu.ADTS_STREAM_TYPE:e=i,a="audio";break;case fu.METADATA_STREAM_TYPE:e=r,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&n(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},i=o.programMapTable;null!==i.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){n(t,"video"),n(i,"audio"),n(r,"timed-metadata"),this.trigger("done")}}).prototype=new Gs;var Tu={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:vu,TransportParseStream:Eu,ElementaryStream:wu,TimestampRolloverStream:ku,CaptionStream:Iu.CaptionStream,Cea608Stream:Iu.Cea608Stream,MetadataStream:Mu};for(var Du in fu)fu.hasOwnProperty(Du)&&(Tu[Du]=fu[Du]);var Bu,Ru=Tu,Qu=Object.freeze({default:Ru,__moduleExports:Ru}),Ou=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Bu=function(){var e;Bu.prototype.init.call(this),this.push=function(t){var i,r,n,o,a,s,u=0,l=0;if("audio"===t.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+t.data.byteLength)).set(o),e.set(t.data,o.byteLength)):e=t.data;u+5<e.length;)if(255===e[u]&&240==(246&e[u+1])){if(r=2*(1&~e[u+1]),i=(3&e[u+3])<<11|e[u+4]<<3|(224&e[u+5])>>5,s=9e4*(a=1024*(1+(3&e[u+6])))/Ou[(60&e[u+2])>>>2],n=u+i,e.byteLength<n)return;if(this.trigger("data",{pts:t.pts+l*s,dts:t.dts+l*s,sampleCount:a,audioobjecttype:1+(e[u+2]>>>6&3),channelcount:(1&e[u+2])<<2|(192&e[u+3])>>>6,samplerate:Ou[(60&e[u+2])>>>2],samplingfrequencyindex:(60&e[u+2])>>>2,samplesize:16,data:e.subarray(u+7+r,n)}),e.byteLength===n)return void(e=void 0);l++,e=e.subarray(n)}else u++},this.flush=function(){this.trigger("done")}}).prototype=new Gs;var Lu,xu,qu,Ku=Bu,Uu=Object.freeze({default:Ku,__moduleExports:Ku}),Fu=function(e){var t=e.byteLength,i=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var n=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(n,n+a)),i=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var n;r>e?(i<<=e,r-=e):(e-=r,e-=8*(n=Math.floor(e/8)),t-=n,this.loadWord(),i<<=e,r-=e)},this.readBits=function(e){var n=Math.min(r,e),o=i>>>32-n;return(r-=n)>0?i<<=n:t>0&&this.loadWord(),(n=e-n)>0?o<<n|this.readBits(n):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(i&2147483648>>>e))return i<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},ju=Object.freeze({default:Fu,__moduleExports:Fu}),Nu=ju&&Fu||ju;(xu=function(){var e,t,i=0;xu.prototype.init.call(this),this.push=function(r){var n;for(t?((n=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),n.set(r.data,t.byteLength),t=n):t=r.data;i<t.byteLength-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<t.length);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")}}).prototype=new Gs,qu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Lu=function(){var e,t,i,r,n,o,a,s=new xu;Lu.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,r=e.dts,s.push(e))},s.on("data",function(a){var s={trackId:t,pts:i,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=n(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=n(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)}),s.on("done",function(){e.trigger("done")}),this.flush=function(){s.flush()},a=function(e,t){var i,r=8,n=8;for(i=0;i<e;i++)0!==n&&(n=(r+t.readExpGolomb()+256)%256),r=0===n?r:n},n=function(e){for(var t,i,r=e.byteLength,n=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=e[a];return i},o=function(e){var t,i,r,n,o,s,u,l,c,h,d,f,p,A=0,g=0,m=0,y=0,v=1;if(i=(t=new Nu(e)).readUnsignedByte(),n=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),qu[i]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==o?8:12,p=0;p<d;p++)t.readBoolean()&&a(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),p=0;p<u;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(A=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(v=f[0]/f[1])}return{profileIdc:i,levelIdc:r,profileCompatibility:n,width:Math.ceil((16*(l+1)-2*A-2*g)*v),height:(2-h)*(c+1)*16-2*m-2*y}}}).prototype=new Gs;var Ju,Gu={H264Stream:Lu,NalByteStream:xu},Yu=Gu.H264Stream,Pu=Gu.NalByteStream,zu=Object.freeze({default:Gu,__moduleExports:Gu,H264Stream:Yu,NalByteStream:Pu});(Ju=function(){var e=new Uint8Array,t=0;Ju.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},this.parseAdtsSize=function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i},this.push=function(i){var r,n,o,a,s=0,u=0;for(e.length?(a=e.length,(e=new Uint8Array(i.byteLength+a)).set(e.subarray(0,a)),e.set(i,a)):e=i;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(!0&e[u]&&240==(240&e[u+1])){if(e.length-u<7)break;if((s=this.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else u++;else{if(e.length-u<10)break;if((s=this.parseId3TagSize(e,u))>e.length)break;n={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",n),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array}}).prototype=new Gs;var Zu,Wu,Vu,Hu,Xu,_u,$u,el,tl,il,rl,nl=Ju,ol=Object.freeze({default:nl,__moduleExports:nl}),al=[33,16,5,32,164,27],sl=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ul=function(e){for(var t=[];e--;)t.push(0);return t},ll=function(e){return Object.keys(e).reduce(function(t,i){return t[i]=new Uint8Array(e[i].reduce(function(e,t){return e.concat(t)},[])),t},{})}({96000:[al,[227,64],ul(154),[56]],88200:[al,[231],ul(170),[56]],64000:[al,[248,192],ul(240),[56]],48000:[al,[255,192],ul(268),[55,148,128],ul(54),[112]],44100:[al,[255,192],ul(268),[55,163,128],ul(84),[112]],32000:[al,[255,192],ul(268),[55,234],ul(226),[112]],24000:[al,[255,192],ul(268),[55,255,128],ul(268),[111,112],ul(126),[224]],16000:[al,[255,192],ul(268),[55,255,128],ul(268),[111,255],ul(269),[223,108],ul(195),[1,192]],12000:[sl,ul(268),[3,127,248],ul(268),[6,255,240],ul(268),[13,255,224],ul(268),[27,253,128],ul(259),[56]],11025:[sl,ul(268),[3,127,248],ul(268),[6,255,240],ul(268),[13,255,224],ul(268),[27,255,192],ul(268),[55,175,128],ul(108),[112]],8000:[sl,ul(268),[3,121,16],ul(47),[7]]}),cl=Object.freeze({default:ll,__moduleExports:ll}),hl={secondsToVideoTs:Zu=function(e){return 9e4*e},secondsToAudioTs:Wu=function(e,t){return e*t},videoTsToSeconds:Vu=function(e){return e/9e4},audioTsToSeconds:Hu=function(e,t){return e/t},audioTsToVideoTs:function(e,t){return Zu(Hu(e,t))},videoTsToAudioTs:function(e,t){return Wu(Vu(e),t)}},dl=hl.secondsToVideoTs,fl=hl.secondsToAudioTs,pl=hl.videoTsToSeconds,Al=hl.audioTsToSeconds,gl=hl.audioTsToVideoTs,ml=hl.videoTsToAudioTs,yl=Object.freeze({default:hl,__moduleExports:hl,secondsToVideoTs:dl,secondsToAudioTs:fl,videoTsToSeconds:pl,audioTsToSeconds:Al,audioTsToVideoTs:gl,videoTsToAudioTs:ml}),vl=vs&&fs||vs,El=Bs&&Is||Bs,wl=xs&&Rs||xs,bl=Qu&&Ru||Qu,Cl=Uu&&Ku||Uu,Il=ol&&nl||ol,Sl=cl&&ll||cl,Ml=yl&&hl||yl,kl=(zu&&Gu||zu).H264Stream,Tl=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Dl=["width","height","profileIdc","levelIdc","profileCompatibility"];tl=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},il=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},rl=function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i},(_u=function(e,t){var i=[],r=0,n=0,o=0,a=1/0;t=t||{},_u.prototype.init.call(this),this.push=function(t){wl.collectDtsInfo(e,t),e&&Tl.forEach(function(i){e[i]=t[i]}),i.push(t)},this.setEarliestDts=function(t){n=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var n,o,a,s;0!==i.length?(n=this.trimAdtsFramesByEarliestDts_(i),e.baseMediaDecodeTime=wl.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.prefixWithSilence_(e,n),e.samples=this.generateSampleTable_(n),a=vl.mdat(this.concatenateFrameData_(n)),i=[],o=vl.moof(r,[e]),s=new Uint8Array(o.byteLength+a.byteLength),r++,s.set(o),s.set(a,o.byteLength),wl.clearDtsInfo(e),this.trigger("data",{track:e,boxes:s}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var i,r,n,s=0,u=0,l=0,c=0;if(t.length&&(i=Ml.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),o&&a&&(u=i-Math.max(o,a),c=(l=Math.floor(u/s))*s),!(l<1||c>45e3))){for((r=Sl[e.samplerate])||(r=t[0].data),n=0;n<l;n++)t.splice(n,0,{data:r});e.baseMediaDecodeTime-=Math.floor(Ml.videoTsToAudioTs(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,i,r=[];for(t=0;t<e.length;t++)i=e[t],r.push({size:i.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,i,r=0,n=new Uint8Array(rl(e));for(t=0;t<e.length;t++)i=e[t],n.set(i.data,r),r+=i.data.byteLength;return n}}).prototype=new Gs,(Xu=function(e,t){var i,r,n=0,o=[],a=[];t=t||{},Xu.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){wl.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Dl.forEach(function(t){e[t]=i[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,r,s,u,l,c;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=El.groupNalsIntoFrames(o),(s=El.groupFramesIntoGops(i))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=El.extendFirstKeyFrame(s)),a.length){var h;if(!(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");wl.clearDtsInfo(e),s=h}wl.collectDtsInfo(e,s),e.samples=El.generateSampleTable(s),l=vl.mdat(El.concatenateNalData(s)),e.baseMediaDecodeTime=wl.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=vl.moof(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){wl.clearDtsInfo(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var i,r,n,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)n=(o=this.gopCache_[a]).gop,e.pps&&il(e.pps[0],o.pps[0])&&e.sps&&il(e.sps[0],o.sps[0])&&(n.dts<e.timelineStartInfo.dts||(i=t.dts-n.dts-n.duration)>=-1e4&&i<=45e3&&(!r||s>i)&&(r=o,s=i));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,i,r,n,o,s,u,l;for(o=e.byteLength,s=e.nalCount,u=e.duration,t=i=0;t<a.length&&i<e.length&&(r=a[t],n=e[i],r.pts!==n.pts);)n.pts>r.pts?t++:(i++,o-=n.byteLength,s-=n.nalCount,u-=n.duration);return 0===i?e:i===e.length?null:((l=e.slice(i)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,i,r,n,o,s,u;for(t=a.length-1,i=e.length-1,o=null,s=!1;t>=0&&i>=0;){if(r=a[t],n=e[i],r.pts===n.pts){s=!0;break}r.pts>n.pts?t--:(t===a.length-1&&(o=i),i--)}if(!s&&null===o)return null;if(0===(u=s?i:o))return e;var l=e.slice(u),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){a=e}}).prototype=new Gs,(el=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,el.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new Gs,el.prototype.flush=function(e){var t,i,r,n,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Dl.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Tl.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=vl.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)a.data.set(this.pendingBoxes[n],o),o+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(t=this.pendingCaptions[n]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)(i=this.pendingMetadata[n]).cueTime=i.pts-s,i.cueTime/=9e4,a.metadata.push(i);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},($u=function(e){var t,i,r=this,n=!0;$u.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new bl.MetadataStream,t.aacStream=new Il,t.audioTimestampRolloverStream=new bl.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new bl.TimestampRolloverStream("timed-metadata"),t.adtsStream=new Cl,t.coalesceStream=new el(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(n){"timed-metadata"!==n.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new _u(i,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="ts",n.metadataStream=new bl.MetadataStream,n.packetStream=new bl.TransportPacketStream,n.parseStream=new bl.TransportParseStream,n.elementaryStream=new bl.ElementaryStream,n.videoTimestampRolloverStream=new bl.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new bl.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new bl.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Cl,n.h264Stream=new kl,n.captionStream=new bl.CaptionStream,n.coalesceStream=new el(e,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?i||"audio"!==o.tracks[a].type||((i=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Xu(t,e),n.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),i&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new _u(i,e),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,wl.clearDtsInfo(i),i.timelineStartInfo.baseMediaDecodeTime=e,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,wl.clearDtsInfo(t),r.captionStream.reset(),t.timelineStartInfo.baseMediaDecodeTime=e),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(n){var t=tl(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Gs;var Bl,Rl,Ql={Transmuxer:$u,VideoSegmentStream:Xu,AudioSegmentStream:_u,AUDIO_PROPERTIES:Tl,VIDEO_PROPERTIES:Dl},Ol=Ql.Transmuxer,Ll=Ql.VideoSegmentStream,xl=Ql.AudioSegmentStream,ql=Ql.AUDIO_PROPERTIES,Kl=Ql.VIDEO_PROPERTIES,Ul=Object.freeze({default:Ql,__moduleExports:Ql,Transmuxer:Ol,VideoSegmentStream:Ll,AudioSegmentStream:xl,AUDIO_PROPERTIES:ql,VIDEO_PROPERTIES:Kl}),Fl=hs.parseType,jl=function(e){return new Date(1e3*e-20828448e5)},Nl=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Jl={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:Bl(e.subarray(78,e.byteLength))}},avcC:function(e){var t,i,r,n,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(r=6,n=0;n<s;n++)i=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(e.subarray(r,r+i))),r+=i;for(t=e[r],r++,n=0;n<t;n++)i=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(e.subarray(r,r+i))),r+=i;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={majorBrand:Fl(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)i.compatibleBrands.push(Fl(e.subarray(r,r+4))),r+=4;return i},dinf:function(e){return{boxes:Bl(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:Bl(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:Fl(e.subarray(8,12)),name:""},i=8;for(i=24;i<e.byteLength;i++){if(0===e[i]){i++;break}t.name+=String.fromCharCode(e[i])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,i,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=[];for(t=0;t+4<e.length;t+=i)if(i=r.getUint32(t),t+=4,i<=0)n.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:n.push("slice_layer_without_partitioning_rbsp");break;case 5:n.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:n.push("sei_rbsp");break;case 7:n.push("seq_parameter_set_rbsp");break;case 8:n.push("pic_parameter_set_rbsp");break;case 9:n.push("access_unit_delimiter_rbsp");break;default:n.push("UNKNOWN NAL - "+e[t]&31)}return n}(e)}},mdhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:i.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===n.version?(r+=4,n.creationTime=jl(i.getUint32(r)),r+=8,n.modificationTime=jl(i.getUint32(r)),r+=4,n.timescale=i.getUint32(r),r+=8,n.duration=i.getUint32(r)):(n.creationTime=jl(i.getUint32(r)),r+=4,n.modificationTime=jl(i.getUint32(r)),r+=4,n.timescale=i.getUint32(r),r+=4,n.duration=i.getUint32(r)),r+=4,t=i.getUint16(r),n.language+=String.fromCharCode(96+(t>>10)),n.language+=String.fromCharCode(96+((992&t)>>5)),n.language+=String.fromCharCode(96+(31&t)),n},mdia:function(e){return{boxes:Bl(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:Bl(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(i.streamDescriptor=Bl(e.subarray(28))[0]),i},moof:function(e){return{boxes:Bl(e)}},moov:function(e){return{boxes:Bl(e)}},mvex:function(e){return{boxes:Bl(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(i+=4,r.creationTime=jl(t.getUint32(i)),i+=8,r.modificationTime=jl(t.getUint32(i)),i+=4,r.timescale=t.getUint32(i),i+=8,r.duration=t.getUint32(i)):(r.creationTime=jl(t.getUint32(i)),i+=4,r.modificationTime=jl(t.getUint32(i)),i+=4,r.timescale=t.getUint32(i),i+=4,r.duration=t.getUint32(i)),i+=4,r.rate=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,r.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,i+=8,r.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,i+=24,r.nextTrackId=t.getUint32(i),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)i.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return i},sidx:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},n=i.getUint16(22);for(t=24;n;t+=12,n--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&i.getUint32(t),subsegmentDuration:i.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&i.getUint32(t+8)});return r},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:Bl(e)}},stco:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},n=i.getUint32(4);for(t=8;n;t+=4,n--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=i.getUint32(4),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;r;t+=12,r--)n.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return n},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:Bl(e.subarray(8))}},stsz:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},n=i.getUint32(4);for(t=8;n;t+=8,n--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(e){return Jl.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},n=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],l=65536&r.flags[0],c=131072&r.flags[0];return t=8,n&&(t+=4,r.baseDataOffset=i.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(r.defaultSampleDuration=i.getUint32(t),t+=4),s&&(r.defaultSampleSize=i.getUint32(t),t+=4),u&&(r.defaultSampleFlags=i.getUint32(t)),l&&(r.durationIsEmpty=!0),!n&&c&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(i+=4,r.creationTime=jl(t.getUint32(i)),i+=8,r.modificationTime=jl(t.getUint32(i)),i+=4,r.trackId=t.getUint32(i),i+=4,i+=8,r.duration=t.getUint32(i)):(r.creationTime=jl(t.getUint32(i)),i+=4,r.modificationTime=jl(t.getUint32(i)),i+=4,r.trackId=t.getUint32(i),i+=4,i+=4,r.duration=t.getUint32(i)),i+=4,i+=8,r.layer=t.getUint16(i),i+=2,r.alternateGroup=t.getUint16(i),i+=2,r.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,r.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,r.width=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,r.height=t.getUint16(i)+t.getUint16(i+2)/16,r},traf:function(e){return{boxes:Bl(e)}},trak:function(e){return{boxes:Bl(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=1&i.flags[2],o=4&i.flags[2],a=1&i.flags[1],s=2&i.flags[1],u=4&i.flags[1],l=8&i.flags[1],c=r.getUint32(4),h=8;for(n&&(i.dataOffset=r.getInt32(h),h+=4),o&&c&&(t={flags:Nl(e.subarray(h,h+4))},h+=4,a&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),l&&(t.compositionTimeOffset=r.getUint32(h),h+=4),i.samples.push(t),c--);c--;)t={},a&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),u&&(t.flags=Nl(e.subarray(h,h+4)),h+=4),l&&(t.compositionTimeOffset=r.getUint32(h),h+=4),i.samples.push(t);return i},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},Gl={inspect:Bl=function(e){for(var t,i,r,n,o,a=0,s=[],u=new ArrayBuffer(e.length),l=new Uint8Array(u),c=0;c<e.length;++c)l[c]=e[c];for(t=new DataView(u);a<e.byteLength;)i=t.getUint32(a),r=Fl(e.subarray(a+4,a+8)),n=i>1?a+i:e.byteLength,(o=(Jl[r]||function(e){return{data:e}})(e.subarray(a+8,n))).size=i,o.type=r,s.push(o),a=n;return s},textify:Rl=function(e,t){var i;return t=t||0,i=new Array(2*t+1).join(" "),e.map(function(e,r){return i+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var r=i+"  "+t+": ",n=e[t];if(n instanceof Uint8Array||n instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(e){return i+"  "+e}).join("\n")+"\n"+i+"  >":r+"<>"}return r+JSON.stringify(n,null,2).split("\n").map(function(e,t){return 0===t?e:i+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+Rl(e.boxes,t+1):"")}).join("\n")},parseTfdt:Jl.tfdt,parseHdlr:Jl.hdlr,parseTfhd:Jl.tfhd,parseTrun:Jl.trun},Yl=Gl.inspect,Pl=Gl.textify,zl=Gl.parseTfdt,Zl=Gl.parseHdlr,Wl=Gl.parseTfhd,Vl=Gl.parseTrun,Hl=Object.freeze({default:Gl,__moduleExports:Gl,inspect:Yl,textify:Pl,parseTfdt:zl,parseHdlr:Zl,parseTfhd:Wl,parseTrun:Vl}),Xl=Hl&&Gl||Hl,_l=Ys.discardEmulationPreventionBytes,$l=Iu.CaptionStream,ec=function(e,t){for(var i=e,r=0;r<t.length;r++){var n=t[r];if(i<n.size)return n;i-=n.size}return null},tc=function(e,t){var i=hs.findBox(e,["moof","traf"]),r={},n=[];return hs.findBox(e,["mdat"]).forEach(function(e,t){var r=i[t];n.push({mdat:e,traf:r})}),n.forEach(function(e){var i,n,o=e.mdat,a=e.traf,s=hs.findBox(a,["tfhd"]),u=Xl.parseTfhd(s[0]),l=u.trackId,c=hs.findBox(a,["tfdt"]),h=c.length>0?Xl.parseTfdt(c[0]).baseMediaDecodeTime:0,d=hs.findBox(a,["trun"]);t===l&&d.length>0&&(i=function(e,t,i){var r=t,n=i.defaultSampleDuration||0,o=i.defaultSampleSize||0,a=i.trackId,s=[];return e.forEach(function(e){var t=Xl.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=n),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration}),s=s.concat(t)}),s}(d,h,u),n=function(e,t,i){var r,n,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(n=0;n+4<e.length;n+=o)if(o=s.getUint32(n),n+=4,!(o<=0))switch(31&e[n]){case 6:var l=e.subarray(n+1,n+1+o),c=ec(n,t);r={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:_l(l),trackId:i},c?(r.pts=c.pts,r.dts=c.dts,a=c):(r.pts=a.pts,r.dts=a.dts),u.push(r)}return u}(o,i,l),r[l]||(r[l]=[]),r[l]=r[l].concat(n))}),r},ic=function(){var e,t,i,r,n,o=!1;this.isInitialized=function(){return o},this.init=function(){e=new $l,o=!0,e.on("data",function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,n.captions.push(e),n.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===(void 0===t?"undefined":He(t))&&0===Object.keys(t).length||i===e[0]&&r===t[i])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))i=o[0],r=a[i];else if(!i||!r)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return null!==(s=function(e,t,i){return t?{seiNals:tc(e,t)[t],timescale:i}:null}(e,i,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),n):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){n.captions=[],n.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,r=null,n?this.clearParsedCaptions():n={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},rc=Object.freeze({default:ic,__moduleExports:ic}),nc=Ul&&Ql||Ul,oc=rc&&ic||rc,ac={generator:vl,probe:hs,Transmuxer:nc.Transmuxer,AudioSegmentStream:nc.AudioSegmentStream,VideoSegmentStream:nc.VideoSegmentStream,CaptionParser:oc}.CaptionParser,sc=function(e){var t=31&e[1];return(t<<=8)|e[2]},uc=function(e){return!!(64&e[1])},lc=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},cc=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},hc={parseType:function(e,t){var i=sc(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=uc(e),i=4+lc(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=uc(e),r=4+lc(e);if(i&&(r+=e[r]+1),1&e[r+5]){var n;n=3+((15&e[r+1])<<8|e[r+2])-4;for(var o=12+((15&e[r+10])<<8|e[r+11]);o<n;){var a=r+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:uc,parsePesType:function(e,t){switch(t[sc(e)]){case fu.H264_STREAM_TYPE:return"video";case fu.ADTS_STREAM_TYPE:return"audio";case fu.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!uc(e))return null;var t=4+lc(e);if(t>=e.byteLength)return null;var i,r=null;return 192&(i=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&i&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+lc(e),i=e.subarray(t),r=0,n=0,o=!1;n<i.byteLength-3;n++)if(1===i[n+2]){r=n+5;break}for(;r<i.byteLength;)switch(i[r]){case 0:if(0!==i[r-1]){r+=2;break}if(0!==i[r-2]){r++;break}n+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===cc(31&i[n+3])&&(o=!0);do{r++}while(1!==i[r]&&r<i.length);n=r-2,r+=3;break;case 1:if(0!==i[r-1]||0!==i[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===cc(31&i[n+3])&&(o=!0),n=r-2,r+=3;break;default:r+=3}return i=i.subarray(n),r-=n,n=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===cc(31&i[n+3])&&(o=!0),o}},dc=hc.parseType,fc=hc.parsePat,pc=hc.parsePmt,Ac=hc.parsePayloadUnitStartIndicator,gc=hc.parsePesType,mc=hc.parsePesTime,yc=hc.videoPacketContainsKeyFrame,vc=Object.freeze({default:hc,__moduleExports:hc,parseType:dc,parsePat:fc,parsePmt:pc,parsePayloadUnitStartIndicator:Ac,parsePesType:gc,parsePesTime:mc,videoPacketContainsKeyFrame:yc}),Ec=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],wc=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},bc=function(e,t,i){return unescape(function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n}(e,t,i))},Cc={parseId3TagSize:function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Ec[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,r;t=10,64&e[5]&&(t+=4,t+=wc(e.subarray(10,14)));do{if((i=wc(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+i+10);for(var n=0;n<r.byteLength;n++)if(0===r[n]){if("com.apple.streaming.transportStreamTimestamp"===bc(r,0,n)){var o=r.subarray(n+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return(a*=4)+(3&o[7])}break}}t+=10,t+=i}while(t<e.byteLength);return null}},Ic=Cc.parseId3TagSize,Sc=Cc.parseAdtsSize,Mc=Cc.parseType,kc=Cc.parseSampleRate,Tc=Cc.parseAacTimestamp,Dc=Object.freeze({default:Cc,__moduleExports:Cc,parseId3TagSize:Ic,parseAdtsSize:Sc,parseType:Mc,parseSampleRate:kc,parseAacTimestamp:Tc}),Bc=vc&&hc||vc,Rc=Dc&&Cc||Dc,Qc=Su.handleRollover,Oc={};Oc.ts=Bc,Oc.aac=Rc;var Lc=function(e,t,i){for(var r,n,o,a,s=0,u=188,l=!1;u<e.byteLength;)if(71!==e[s]||71!==e[u])s++,u++;else{switch(r=e.subarray(s,u),Oc.ts.parseType(r,t.pid)){case"pes":n=Oc.ts.parsePesType(r,t.table),o=Oc.ts.parsePayloadUnitStartIndicator(r),"audio"===n&&o&&(a=Oc.ts.parsePesTime(r))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;s+=188,u+=188}for(s=(u=e.byteLength)-188,l=!1;s>=0;)if(71!==e[s]||71!==e[u])s--,u--;else{switch(r=e.subarray(s,u),Oc.ts.parseType(r,t.pid)){case"pes":n=Oc.ts.parsePesType(r,t.table),o=Oc.ts.parsePayloadUnitStartIndicator(r),"audio"===n&&o&&(a=Oc.ts.parsePesTime(r))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;s-=188,u-=188}},xc=function(e,t,i){for(var r,n,o,a,s,u,l,c=0,h=188,d=!1,f={data:[],size:0};h<e.byteLength;)if(71!==e[c]||71!==e[h])c++,h++;else{switch(r=e.subarray(c,h),Oc.ts.parseType(r,t.pid)){case"pes":if(n=Oc.ts.parsePesType(r,t.table),o=Oc.ts.parsePayloadUnitStartIndicator(r),"video"===n&&(o&&!d&&(a=Oc.ts.parsePesTime(r))&&(a.type="video",i.video.push(a),d=!0),!i.firstKeyFrame)){if(o&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;Oc.ts.videoPacketContainsKeyFrame(s)&&(i.firstKeyFrame=Oc.ts.parsePesTime(s),i.firstKeyFrame.type="video"),f.size=0}f.data.push(r),f.size+=r.byteLength}}if(d&&i.firstKeyFrame)break;c+=188,h+=188}for(c=(h=e.byteLength)-188,d=!1;c>=0;)if(71!==e[c]||71!==e[h])c--,h--;else{switch(r=e.subarray(c,h),Oc.ts.parseType(r,t.pid)){case"pes":n=Oc.ts.parsePesType(r,t.table),o=Oc.ts.parsePayloadUnitStartIndicator(r),"video"===n&&o&&(a=Oc.ts.parsePesTime(r))&&(a.type="video",i.video.push(a),d=!0)}if(d)break;c-=188,h-=188}},qc=function(e){var t={pid:null,table:null},i={};for(var r in function(e,t){for(var i,r=0,n=188;n<e.byteLength;)if(71!==e[r]||71!==e[n])r++,n++;else{switch(i=e.subarray(r,n),Oc.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=Oc.ts.parsePat(i));break;case"pmt":t.table||(t.table=Oc.ts.parsePmt(i))}if(t.pid&&t.table)return;r+=188,n+=188}}(e,t),t.table)if(t.table.hasOwnProperty(r)){switch(t.table[r]){case fu.H264_STREAM_TYPE:i.video=[],xc(e,t,i),0===i.video.length&&delete i.video;break;case fu.ADTS_STREAM_TYPE:i.audio=[],Lc(e,t,i),0===i.audio.length&&delete i.audio}}return i},Kc=function(e,t){var i;return(i=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)}(e)?function(e){for(var t,i=!1,r=0,n=null,o=null,a=0,s=0;e.length-s>=3;){switch(Oc.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){i=!0;break}if((a=Oc.aac.parseId3TagSize(e,s))>e.length){i=!0;break}null===o&&(t=e.subarray(s,s+a),o=Oc.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){i=!0;break}if((a=Oc.aac.parseAdtsSize(e,s))>e.length){i=!0;break}null===n&&(t=e.subarray(s,s+a),n=Oc.aac.parseSampleRate(t)),r++,s+=a;break;default:s++}if(i)return null}if(null===n||null===o)return null;var u=9e4/n;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*u,pts:o+1024*r*u}]}}(e):qc(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;void 0===i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=Qc(e.dts,i),e.pts=Qc(e.pts,i),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=Qc(e.dts,r),e.pts=Qc(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var n=e.firstKeyFrame;n.dts=Qc(n.dts,r),n.pts=Qc(n.pts,r),n.dtsTime=n.dts/9e4,n.ptsTime=n.dts/9e4}}}(i,t),i):null},Uc=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Fc=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),jc=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":He(t))&&"function"!=typeof t?e:t},Nc=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],r=t[4],n=i[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,r[a]=d,n[d]=a,p=16843009*u[h=u[c=u[a]]]^65537*h^257*c^16843008*a,f=257*u[d]^16843008*d,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,i[o][d]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),i[o]=i[o].slice(0);return e},Jc=null,Gc=function(){function e(t){Uc(this,e),Jc||(Jc=Nc()),this._tables=[[Jc[0][0].slice(),Jc[0][1].slice(),Jc[0][2].slice(),Jc[0][3].slice(),Jc[0][4].slice()],[Jc[1][0].slice(),Jc[1][1].slice(),Jc[1][2].slice(),Jc[1][3].slice(),Jc[1][4].slice()]];var i=void 0,r=void 0,n=void 0,o=void 0,a=void 0,s=this._tables[0][4],u=this._tables[1],l=t.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(o=t.slice(0),a=[],this._key=[o,a],i=l;i<4*l+28;i++)n=o[i-1],(i%l==0||8===l&&i%l==4)&&(n=s[n>>>24]<<24^s[n>>16&255]<<16^s[n>>8&255]<<8^s[255&n],i%l==0&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),o[i]=o[i-l]^n;for(r=0;i;r++,i--)n=o[3&r?i:i-4],a[r]=i<=4||r<4?n:u[0][s[n>>>24]]^u[1][s[n>>16&255]]^u[2][s[n>>8&255]]^u[3][s[255&n]]}return e.prototype.decrypt=function(e,t,i,r,n,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,A=void 0,g=4,m=this._tables[1],y=m[0],v=m[1],E=m[2],w=m[3],b=m[4];for(A=0;A<p;A++)h=y[s>>>24]^v[u>>16&255]^E[l>>8&255]^w[255&c]^a[g],d=y[u>>>24]^v[l>>16&255]^E[c>>8&255]^w[255&s]^a[g+1],f=y[l>>>24]^v[c>>16&255]^E[s>>8&255]^w[255&u]^a[g+2],c=y[c>>>24]^v[s>>16&255]^E[u>>8&255]^w[255&l]^a[g+3],g+=4,s=h,u=d,l=f;for(A=0;A<4;A++)n[(3&-A)+o]=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^a[g++],h=s,s=u,u=l,l=c,c=h},e}(),Yc=function(){function e(){Uc(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),i>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,r=0;r<i;++r)t[r].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,n)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),Pc=function(e){function t(){Uc(this,t);var i=jc(this,e.call(this,Yc));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":He(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(Yc),zc=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},Zc=function(e,t,i){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),n=new Gc(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,A=void 0;for(s=i[0],u=i[1],l=i[2],c=i[3],A=0;A<r.length;A+=4)h=zc(r[A]),d=zc(r[A+1]),f=zc(r[A+2]),p=zc(r[A+3]),n.decrypt(h,d,f,p,a,A),a[A]=zc(a[A]^s),a[A+1]=zc(a[A+1]^u),a[A+2]=zc(a[A+2]^l),a[A+3]=zc(a[A+3]^c),s=h,u=d,l=f,c=p;return o},Wc=function(){function e(t,i,r,n){Uc(this,e);var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),u=0;for(this.asyncStream_=new Pc,this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),i,r,s)),u=o;u<a.length;u+=o)r=new Uint32Array([zc(a[u-4]),zc(a[u-3]),zc(a[u-2]),zc(a[u-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),i,r,s));this.asyncStream_.push(function(){var e;n(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))})}return e.prototype.decryptChunk_=function(e,t,i,r){return function(){var n=Zc(e,t,i);r.set(n,e.byteOffset)}},Fc(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),Vc=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=fa.buildAbsoluteURL(Ue.location.href,e)),fa.buildAbsoluteURL(e,t))},Hc=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Xc=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":He(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},$c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":He(t))&&"function"!=typeof t?e:t},eh=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),th=Re.mergeOptions,ih=Re.EventTarget,rh=Re.log,nh=function(e,t){["AUDIO","SUBTITLES"].forEach(function(i){for(var r in e.mediaGroups[i])for(var n in e.mediaGroups[i][r]){var o=e.mediaGroups[i][r][n];t(o,i,r,n)}})},oh=function(e,t){var i=th(e,{}),r=i.playlists[t.uri];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)return null;var n=th(r,t);r.segments&&(n.segments=function(e,t,i){var r=t.slice();i=i||0;for(var n=Math.min(e.length,t.length+i),o=i;o<n;o++)r[o-i]=th(e[o],r[o-i]);return r}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),n.segments.forEach(function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=Vc(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Vc(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Vc(t,e.map.uri))}(e,n.resolvedUri)});for(var o=0;o<i.playlists.length;o++)i.playlists[o].uri===t.uri&&(i.playlists[o]=n);return i.playlists[t.uri]=n,i},ah=function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];e.playlists[i.uri]=i,i.resolvedUri=Vc(e.uri,i.uri),i.id=t,i.attributes||(i.attributes={},rh.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},sh=function(e){nh(e,function(t){t.uri&&(t.resolvedUri=Vc(e.uri,t.uri))})},uh=function(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)},lh=function(e){function t(e,i,r){Hc(this,t);var n=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.srcUrl=e,n.hls_=i,n.withCredentials=r,!n.srcUrl)throw new Error("A non-empty playlist URL is required");return n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:Vc(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))}),n}return _c(t,ih),Xc(t,[{key:"playlistRequestError",value:function(e,t,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var i=this;this.request=null,this.state="HAVE_METADATA";var r=new ba;r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var n=oh(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,n?(this.master=n,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(Ue.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=Ue.setTimeout(function(){i.trigger("mediaupdatetimeout")},uh(this.media(),!!n))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),Ue.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(Vc(this.master.uri,e.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:Vc(this.master.uri,e.uri),withCredentials:this.withCredentials},function(r,n){if(t.request){if(r)return t.playlistRequestError(t.request,e.uri,i);t.haveMetadata(n,e.uri),"HAVE_MASTER"===i?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),Ue.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;Ue.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Ue.setTimeout(function(){return t.load()},r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new ba;return r.push(i.responseText),r.end(),e.state="HAVE_MASTER",r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,ah(e.master),sh(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Ue.location.href,playlists:[{uri:e.srcUrl,id:0}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.master.playlists[0].resolvedUri=e.srcUrl,e.master.playlists[0].attributes=e.master.playlists[0].attributes||{},e.haveMetadata(i,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(),ch=Re.createTimeRange,hh=function(e,t,i){var r=void 0,n=void 0;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=function(e,t){var i=0,r=t-e.mediaSequence,n=e.segments[r];if(n){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)return{result:n.end-n.duration,precise:!0}}for(;r--;){if(void 0!==(n=e.segments[r]).end)return{result:i+n.end,precise:!0};if(i+=n.duration,void 0!==n.start)return{result:i+n.start,precise:!0}}return{result:i,precise:!1}}(e,t)).precise?r.result:(n=function(e,t){for(var i=0,r=void 0,n=t-e.mediaSequence;n<e.segments.length;n++){if(void 0!==(r=e.segments[n]).start)return{result:r.start-i,precise:!0};if(i+=r.duration,void 0!==r.end)return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?n.result:r.result+i},dh=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Ue.Infinity}return hh(e,t,i)},fh=function(e,t,i){var r=0;if(t>i){var n=[i,t];t=n[0],i=n[1]}if(t<0){for(var o=t;o<Math.min(0,i);o++)r+=e.targetDuration;t=0}for(var a=t;a<i;a++)r+=e.segments[a].duration;return r},ph=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,i=e.segments[t].duration||e.targetDuration,r=i+2*e.targetDuration;t--&&!((i+=e.segments[t].duration)>=r););return Math.max(0,t)},Ah=function(e,t,i){if(!e||!e.segments)return null;if(e.endList)return dh(e);if(null===t)return null;t=t||0;var r=i?ph(e):e.segments.length;return hh(e,e.mediaSequence+r,t)},gh=function(e){return e-Math.floor(e)==0},mh=function(e,t){if(gh(t))return t+.1*e;for(var i=t.toString().split(".")[1].length,r=1;r<=i;r++){var n=Math.pow(10,r),o=t*n;if(gh(o)||r===i)return(o+e)/n}},yh=mh.bind(null,1),vh=mh.bind(null,-1),Eh=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},wh=function(e){return e.excludeUntil&&e.excludeUntil===1/0},bh=function(e){var t=Eh(e);return!e.disabled&&!t},Ch=function(e,t){return t.attributes&&t.attributes[e]},Ih=function(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!bh(e)&&(e.attributes.BANDWIDTH||0)<i}).length},Sh={duration:dh,seekable:function(e,t){var i=t||0,r=Ah(e,t,!0);return null===r?ch():ch(i,r)},safeLiveIndex:ph,getMediaInfoForTime:function(e,t,i,r){var n=void 0,o=void 0,a=e.segments.length,s=t-r;if(s<0){if(i>0)for(n=i-1;n>=0;n--)if(o=e.segments[n],(s+=vh(o.duration))>0)return{mediaIndex:n,startTime:r-fh(e,i,n)};return{mediaIndex:0,startTime:t}}if(i<0){for(n=i;n<0;n++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(n=i;n<a;n++)if(o=e.segments[n],(s-=yh(o.duration))<0)return{mediaIndex:n,startTime:r+fh(e,i,n)};return{mediaIndex:a-1,startTime:t}},isEnabled:bh,isDisabled:function(e){return e.disabled},isBlacklisted:Eh,isIncompatible:wh,playlistEnd:Ah,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:Ch,estimateSegmentRequestTime:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Ch("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:Ih},Mh=Re.xhr,kh=Re.mergeOptions,Th=function(){return function e(t,i){t=kh({timeout:45e3},t);var r=e.beforeRequest||Re.Hls.xhr.beforeRequest;if(r&&"function"==typeof r){var n=r(t);n&&(t=n)}var o=Mh(t,function(e,t){var r=o.response;!e&&r&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=r.byteLength||r.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t.headers&&(o.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(r||o.responseText)))),i(e,o)}),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o}},Dh=function(e,t){return e.start(t)+"-"+e.end(t)},Bh=function(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},Rh=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Qh=function(e){var t={};return Object.keys(e).forEach(function(i){var r=e[i];ArrayBuffer.isView(r)?t[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[i]=r}),t},Oh=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Lh=function(e){for(var t=Array.prototype.slice.call(e),i="",r=0;r<t.length/16;r++)i+=t.slice(16*r,16*r+16).map(Bh).join("")+" "+t.slice(16*r,16*r+16).map(Rh).join("")+"\n";return i},xh=Object.freeze({createTransferableMessage:Qh,initSegmentId:Oh,hexDump:Lh,tagDump:function(e){var t=e.bytes;return Lh(t)},textRanges:function(e){var t="",i=void 0;for(i=0;i<e.length;i++)t+=Dh(e,i)+" ";return t}}),qh=function(e,t){var i=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&i.push([e.start(r),e.end(r)]);return Re.createTimeRanges(i)},Kh=function(e,t){return qh(e,function(e,i){return e-1/30<=t&&i+1/30>=t})},Uh=function(e,t){return qh(e,function(e){return e-1/30>=t})},Fh=function(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},jh=function(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t},Nh=function(e,t,i){var r=void 0,n=void 0;if(i&&i.cues)for(r=i.cues.length;r--;)(n=i.cues[r]).startTime<=t&&n.endTime>=e&&i.removeCue(n)},Jh=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},Gh=function(e,t,i){var r=Ue.WebKitDataCue||Ue.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),i){var n=Jh(e.mediaSource_.duration);if(i.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var i=new r(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Re.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Re.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Re.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(i),this.metadataTrack_.addCue(i)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var o=e.metadataTrack_.cues,a=[],s=0;s<o.length;s++)o[s]&&a.push(o[s]);var u=a.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),l=Object.keys(u).sort(function(e,t){return Number(e)-Number(t)});l.forEach(function(e,t){var i=u[e],r=Number(l[t+1])||n;i.forEach(function(e){e.endTime=r})})}}},Yh="undefined"!=typeof window?window:{},Ph="undefined"==typeof Symbol?"__target":Symbol(),zh="application/javascript",Zh=Yh.BlobBuilder||Yh.WebKitBlobBuilder||Yh.MozBlobBuilder||Yh.MSBlobBuilder,Wh=Yh.URL||Yh.webkitURL||Wh&&Wh.msURL,Vh=Yh.Worker;if(Vh){var Hh,Xh=Oe("self.onmessage = function () {}"),_h=new Uint8Array(1);try{(Hh=new Vh(Xh)).postMessage(_h,[_h.buffer])}catch(e){Vh=null}finally{Wh.revokeObjectURL(Xh),Hh&&Hh.terminate()}}var $h=new Qe("./transmuxer-worker.worker.js",function(e,t){var i=this;!function(){var e,t,r,n,o,a,s,u,l,c,h,d,f,p,A,g,m,y,v,E,w,b,C,I,S,M,k,T,D,B,R,Q,O,L,x,q,K=Math.pow(2,32)-1;!function(){var e;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in C)C.hasOwnProperty(e)&&(C[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);I=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),M=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),T=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:k,audio:T},Q=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),O=new Uint8Array([0,0,0,0,0,0,0,0]),L=O,x=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),q=O,B=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(e){var t,i,r=[],n=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)n+=r[t].byteLength;for(i=new Uint8Array(n+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,n=8;t<r.length;t++)i.set(r[t],n),n+=r[t].byteLength;return i},t=function(){return e(C.dinf,e(C.dref,Q))},r=function(t){return e(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},n=function(){return e(C.ftyp,I,S,I,M)},g=function(t){return e(C.hdlr,D[t])},o=function(t){return e(C.mdat,t)},A=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(i[12]=t.samplerate>>>24&255,i[13]=t.samplerate>>>16&255,i[14]=t.samplerate>>>8&255,i[15]=255&t.samplerate),e(C.mdhd,i)},p=function(t){return e(C.mdia,A(t),g(t.type),s(t))},a=function(t){return e(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(i){return e(C.minf,"video"===i.type?e(C.vmhd,B):e(C.smhd,R),t(),y(i))},u=function(t,i){for(var r=[],n=i.length;n--;)r[n]=E(i[n]);return e.apply(null,[C.moof,a(t)].concat(r))},l=function(t){for(var i=t.length,r=[];i--;)r[i]=d(t[i]);return e.apply(null,[C.moov,h(4294967295)].concat(r).concat(c(t)))},c=function(t){for(var i=t.length,r=[];i--;)r[i]=w(t[i]);return e.apply(null,[C.mvex].concat(r))},h=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(C.mvhd,i)},m=function(t){var i,r,n=t.samples||[],o=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)i=n[r].flags,o[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e(C.sdtp,o)},y=function(t){return e(C.stbl,v(t),e(C.stts,q),e(C.stsc,L),e(C.stsz,x),e(C.stco,O))},function(){var t,i;v=function(r){return e(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===r.type?t(r):i(r))},t=function(t){var i,r=t.sps||[],n=t.pps||[],o=[],a=[];for(i=0;i<r.length;i++)o.push((65280&r[i].byteLength)>>>8),o.push(255&r[i].byteLength),o=o.concat(Array.prototype.slice.call(r[i]));for(i=0;i<n.length;i++)a.push((65280&n[i].byteLength)>>>8),a.push(255&n[i].byteLength),a=a.concat(Array.prototype.slice.call(n[i]));return e(C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(C.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length]).concat(o).concat([n.length]).concat(a))),e(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},i=function(t){return e(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))}}(),f=function(t){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(C.tkhd,i)},E=function(t){var i,r,n,o,a,s;return i=e(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(K+1)),s=Math.floor(t.baseMediaDecodeTime%(K+1)),r=e(C.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===t.type?(n=b(t,92),e(C.traf,i,r,n)):(o=m(t),n=b(t,o.length+92),e(C.traf,i,r,n,o))},d=function(t){return t.duration=t.duration||4294967295,e(C.trak,f(t),p(t))},w=function(t){var i=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(i[i.length-1]=0),e(C.trex,i)},function(){var t,i,r;r=function(e,t){var i=0,r=0,n=0,o=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(n=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,i|r|n|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},i=function(t,i){var n,o,a,s;for(i+=20+16*(o=t.samples||[]).length,n=r(o,i),s=0;s<o.length;s++)a=o[s],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return e(C.trun,new Uint8Array(n))},t=function(t,i){var n,o,a,s;for(i+=20+8*(o=t.samples||[]).length,n=r(o,i),s=0;s<o.length;s++)a=o[s],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return e(C.trun,new Uint8Array(n))},b=function(e,r){return"audio"===e.type?t(e,r):i(e,r)}}();var U,F,j={ftyp:n,mdat:o,moof:u,moov:l,initSegment:function(e){var t,i=n(),r=l(e);return(t=new Uint8Array(i.byteLength+r.byteLength)).set(i),t.set(r,i.byteLength),t}},N=function(e){return e>>>0},J={findBox:U=function(e,t){var i,r,n,o,a,s=[];if(!t.length)return null;for(i=0;i<e.byteLength;)r=N(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),n=F(e.subarray(i+4,i+8)),o=r>1?i+r:e.byteLength,n===t[0]&&(1===t.length?s.push(e.subarray(i+8,o)):(a=U(e.subarray(i+8,o),t.slice(1))).length&&(s=s.concat(a))),i=o;return s},parseType:F=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},timescale:function(e){return U(e,["moov","trak"]).reduce(function(e,t){var i,r,n,o,a;return(i=U(t,["tkhd"])[0])?(r=i[0],o=N(i[n=0===r?12:20]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3]),(a=U(t,["mdia","mdhd"])[0])?(n=0===(r=a[0])?12:20,e[o]=N(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3]),e):null):null},{})},startTime:function(e,t){var i,r,n;return i=U(t,["moof","traf"]),r=[].concat.apply([],i.map(function(t){return U(t,["tfhd"]).map(function(i){var r,n;return r=N(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),n=e[r]||9e4,(U(t,["tfdt"]).map(function(e){var t,i;return t=e[0],i=N(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(i*=Math.pow(2,32),i+=N(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),i})[0]||1/0)/n})})),n=Math.min.apply(null,r),isFinite(n)?n:0},videoTrackIds:function(e){var t=[];return U(e,["moov","trak"]).forEach(function(e){var i=U(e,["mdia","hdlr"]),r=U(e,["tkhd"]);i.forEach(function(e,i){var n,o,a=F(e.subarray(8,12)),s=r[i];"vide"===a&&(o=0===(n=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),t.push(o))})}),t}},G=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var r;return!!e[t]&&(r=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var i,r,n,o;if(i=e[t])if(2===arguments.length)for(n=i.length,r=0;r<n;++r)i[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(n=i.length,r=0;r<n;++r)i[r].apply(this,o)}},this.dispose=function(){e={}}}};G.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},G.prototype.push=function(e){this.trigger("data",e)},G.prototype.flush=function(e){this.trigger("done",e)};var Y=G,P=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},z=function(e){var t,i,r=[],n=[];for(r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(r.length&&(r.duration=i.dts-r.dts,n.push(r)),(r=[i]).byteLength=i.data.byteLength,r.pts=i.pts,r.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(r.keyFrame=!0),r.duration=i.dts-r.dts,r.byteLength+=i.data.byteLength,r.push(i));return n.length&&(!r.duration||r.duration<=0)&&(r.duration=n[n.length-1].duration),n.push(r),n},Z=function(e){var t,i,r=[],n=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(r.length&&(n.push(r),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration),(r=[i]).nalCount=i.length,r.byteLength=i.byteLength,r.pts=i.pts,r.dts=i.dts,r.duration=i.duration):(r.duration+=i.duration,r.nalCount+=i.length,r.byteLength+=i.byteLength,r.push(i));return n.length&&r.duration<=0&&(r.duration=n[n.length-1].duration),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration,n.push(r),n},W=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},V=function(e,t){var i,r,n,o,a,s=t||0,u=[];for(i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)a=o[r],s+=(n=P(a,s)).size,u.push(n);return u},H=function(e){var t,i,r,n,o,a,s=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(o=n[i],r=0;r<o.length;r++)a=o[r],h.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},X=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},_=function(e,t){var i,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=r,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/9e4,i=Math.floor(i)),i},$=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},ee=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},r=0,n=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!i.payload&&4===r){i.payloadType=r,i.payloadSize=n,i.payload=e.subarray(t,t+n);break}t+=n,r=0,n=0}return i},te=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},ie=function(e,t){var i,r,n,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],i=0;i<r;i++)o={type:3&t[2+(n=3*i)],pts:e},4&t[n+2]&&(o.ccData=t[n+3]<<8|t[n+4],a.push(o));return a},re=function(e){for(var t,i,r=e.byteLength,n=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=e[a];return i},ne=4,oe=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new ce(0,0),new ce(0,1),new ce(1,0),new ce(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};(oe.prototype=new Y).push=function(e){var t,i,r;if("sei_rbsp"===e.nalUnitType&&((t=ee(e.escapedRBSP)).payloadType===ne&&(i=te(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=ie(e.pts,i),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},oe.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},oe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},oe.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},oe.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},oe.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var ae={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},se=function(e){return null===e?"":(e=ae[e]||e,String.fromCharCode(e))},ue=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],le=function(){for(var e=[],t=15;t--;)e.push("");return e},ce=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,r,n,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,n=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=le();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=le();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=le()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,n))o=se((r=(3&r)<<8)|n),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=se((r=(3&r)<<8)|n),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,n))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,n))this.column_+=3&n;else if(this.isPAC(r,n)){var a=ue.indexOf(7968&t);"rollUp"===this.mode_&&this.setRollUp(e.pts,a),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===n&&(n=null),o=se(r),o+=se(n),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};ce.prototype=new Y,ce.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},ce.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=le(),this.nonDisplayed_=le(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},ce.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},ce.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},ce.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},ce.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},ce.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},ce.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},ce.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},ce.prototype.isNormalChar=function(e){return e>=32&&e<=127},ce.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=le(),this.displayed_=le()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},ce.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},ce.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},ce.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},ce.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},ce.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},ce.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};var he={CaptionStream:oe,Cea608Stream:ce},de={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},fe=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},pe=function e(t){var i,r;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=fe(e.dts,r),e.pts=fe(e.pts,r),i=e.dts,this.trigger("data",e))},this.flush=function(){r=i,this.trigger("done")},this.discontinuity=function(){r=void 0,i=void 0}};pe.prototype=new Y;var Ae,ge=pe,me=function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n},ye=function(e,t,i){return decodeURIComponent(me(e,t,i))},ve=function(e,t,i){return unescape(me(e,t,i))},Ee=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},we={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=ye(e.data,1,t),e.value=ye(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=ye(e.data,1,t),e.url=ye(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=ve(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ae=function(e){var t,i={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,n=[],o=0;if(Ae.prototype.init.call(this),this.dispatchType=de.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,u,l;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(o=0,n.length=0),0===n.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(i.debug&&console.log("Skipping unrecognized metadata packet"));if(n.push(e),o+=e.data.byteLength,1===n.length&&(r=Ee(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:n[0].pts,dts:n[0].dts},l=0;l<r;)t.data.set(n[0].data.subarray(0,r-l),l),l+=n[0].data.byteLength,o-=n[0].data.byteLength,n.shift();a=10,64&t.data[5]&&(a+=4,a+=Ee(t.data.subarray(10,14)),r-=Ee(t.data.subarray(16,20)));do{if((s=Ee(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=u.id,we[u.id]&&(we[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],u.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),a+=10,a+=s}while(a<r);this.trigger("data",t)}}}}).prototype=new Y;var be,Ce,Ie,Se=Ae,Me=ge;(be=function(){var e=new Uint8Array(188),t=0;be.prototype.init.call(this),this.push=function(i){var r,n=0,o=188;for(t?((r=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),r.set(i,t),t=0):r=i;o<r.byteLength;)71!==r[n]||71!==r[o]?(n++,o++):(this.trigger("data",r.subarray(n,o)),n+=188,o+=188);n<r.byteLength&&(e.set(r.subarray(n),0),t=r.byteLength-n)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new Y,(Ce=function(){var e,t,i,r;Ce.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var n=0;r.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===r.type?t(e.subarray(n),r):i(e.subarray(n),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},i=function(e,t){var i,n;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var o=e[n],a=(31&e[n+1])<<8|e[n+2];o===de.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===de.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===de.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var i={},r=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===i.pid)i.type="pat",e(t.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,i]):this.processPes_(t,r,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=de.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=de.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new Y,Ce.STREAM_TYPES={h264:27,adts:15},(Ie=function(){var e=this,t={data:[],size:0},i={data:[],size:0},r={data:[],size:0},n=function(t,i,r){var n,o=new Uint8Array(t.size),a={type:i},s=0,u=0,l=!1;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,s=0;s<t.data.length;s++)n=t.data[s],o.set(n.data,u),u+=n.data.byteLength;(function(e,t){var i;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])})(o,a),l="video"===i||a.packetLength<=t.size,(r||l)&&(t.size=0,t.data.length=0),l&&e.trigger("data",a)}};Ie.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case de.H264_STREAM_TYPE:case de.H264_STREAM_TYPE:e=t,a="video";break;case de.ADTS_STREAM_TYPE:e=i,a="audio";break;case de.METADATA_STREAM_TYPE:e=r,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&n(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},i=o.programMapTable;null!==i.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){n(t,"video"),n(i,"audio"),n(r,"timed-metadata"),this.trigger("done")}}).prototype=new Y;var ke={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:be,TransportParseStream:Ce,ElementaryStream:Ie,TimestampRolloverStream:Me,CaptionStream:he.CaptionStream,Cea608Stream:he.Cea608Stream,MetadataStream:Se};for(var Te in de)de.hasOwnProperty(Te)&&(ke[Te]=de[Te]);var De,Be=ke,Re=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(De=function(){var e;De.prototype.init.call(this),this.push=function(t){var i,r,n,o,a,s,u=0,l=0;if("audio"===t.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+t.data.byteLength)).set(o),e.set(t.data,o.byteLength)):e=t.data;u+5<e.length;)if(255===e[u]&&240==(246&e[u+1])){if(r=2*(1&~e[u+1]),i=(3&e[u+3])<<11|e[u+4]<<3|(224&e[u+5])>>5,s=9e4*(a=1024*(1+(3&e[u+6])))/Re[(60&e[u+2])>>>2],n=u+i,e.byteLength<n)return;if(this.trigger("data",{pts:t.pts+l*s,dts:t.dts+l*s,sampleCount:a,audioobjecttype:1+(e[u+2]>>>6&3),channelcount:(1&e[u+2])<<2|(192&e[u+3])>>>6,samplerate:Re[(60&e[u+2])>>>2],samplingfrequencyindex:(60&e[u+2])>>>2,samplesize:16,data:e.subarray(u+7+r,n)}),e.byteLength===n)return void(e=void 0);l++,e=e.subarray(n)}else u++},this.flush=function(){this.trigger("done")}}).prototype=new Y;var Qe,Oe,Le,xe=De,qe=function(e){var t=e.byteLength,i=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var n=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(n,n+a)),i=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var n;r>e?(i<<=e,r-=e):(e-=r,e-=8*(n=Math.floor(e/8)),t-=n,this.loadWord(),i<<=e,r-=e)},this.readBits=function(e){var n=Math.min(r,e),o=i>>>32-n;return(r-=n)>0?i<<=n:t>0&&this.loadWord(),(n=e-n)>0?o<<n|this.readBits(n):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(i&2147483648>>>e))return i<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Oe=function(){var e,t,i=0;Oe.prototype.init.call(this),this.push=function(r){var n;for(t?((n=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),n.set(r.data,t.byteLength),t=n):t=r.data;i<t.byteLength-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<t.length);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")}}).prototype=new Y,Le={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Qe=function(){var e,t,i,r,n,o,a,s=new Oe;Qe.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,r=e.dts,s.push(e))},s.on("data",function(a){var s={trackId:t,pts:i,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=n(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=n(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)}),s.on("done",function(){e.trigger("done")}),this.flush=function(){s.flush()},a=function(e,t){var i,r=8,n=8;for(i=0;i<e;i++)0!==n&&(n=(r+t.readExpGolomb()+256)%256),r=0===n?r:n},n=function(e){for(var t,i,r=e.byteLength,n=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=e[a];return i},o=function(e){var t,i,r,n,o,s,u,l,c,h,d,f,p,A=0,g=0,m=0,y=0,v=1;if(i=(t=new qe(e)).readUnsignedByte(),n=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Le[i]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==o?8:12,p=0;p<d;p++)t.readBoolean()&&a(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),p=0;p<u;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(A=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(v=f[0]/f[1])}return{profileIdc:i,levelIdc:r,profileCompatibility:n,width:Math.ceil((16*(l+1)-2*A-2*g)*v),height:(2-h)*(c+1)*16-2*m-2*y}}}).prototype=new Y;var Ke,Ue={H264Stream:Qe,NalByteStream:Oe};(Ke=function(){var e=new Uint8Array,t=0;Ke.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},this.parseAdtsSize=function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i},this.push=function(i){var r,n,o,a,s=0,u=0;for(e.length?(a=e.length,(e=new Uint8Array(i.byteLength+a)).set(e.subarray(0,a)),e.set(i,a)):e=i;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(!0&e[u]&&240==(240&e[u+1])){if(e.length-u<7)break;if((s=this.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else u++;else{if(e.length-u<10)break;if((s=this.parseId3TagSize(e,u))>e.length)break;n={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",n),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array}}).prototype=new Y;var Fe,je,Ne,Je,Ge,Ye,Pe,ze,Ze,We,Ve,Xe=Ke,_e=[33,16,5,32,164,27],$e=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],et=function(e){for(var t=[];e--;)t.push(0);return t},tt=function(e){return Object.keys(e).reduce(function(t,i){return t[i]=new Uint8Array(e[i].reduce(function(e,t){return e.concat(t)},[])),t},{})}({96000:[_e,[227,64],et(154),[56]],88200:[_e,[231],et(170),[56]],64000:[_e,[248,192],et(240),[56]],48000:[_e,[255,192],et(268),[55,148,128],et(54),[112]],44100:[_e,[255,192],et(268),[55,163,128],et(84),[112]],32000:[_e,[255,192],et(268),[55,234],et(226),[112]],24000:[_e,[255,192],et(268),[55,255,128],et(268),[111,112],et(126),[224]],16000:[_e,[255,192],et(268),[55,255,128],et(268),[111,255],et(269),[223,108],et(195),[1,192]],12000:[$e,et(268),[3,127,248],et(268),[6,255,240],et(268),[13,255,224],et(268),[27,253,128],et(259),[56]],11025:[$e,et(268),[3,127,248],et(268),[6,255,240],et(268),[13,255,224],et(268),[27,255,192],et(268),[55,175,128],et(108),[112]],8000:[$e,et(268),[3,121,16],et(47),[7]]}),it=(Fe=function(e){return 9e4*e},je=function(e,t){return e*t},Ne=function(e){return e/9e4},Je=function(e,t){return e/t},function(e,t){return Fe(Je(e,t))}),rt=function(e,t){return je(Ne(e),t)},nt=Ue.H264Stream,ot=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],at=["width","height","profileIdc","levelIdc","profileCompatibility"];Ze=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},We=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},Ve=function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i},(Ye=function(e,t){var i=[],r=0,n=0,o=0,a=1/0;t=t||{},Ye.prototype.init.call(this),this.push=function(t){$(e,t),e&&ot.forEach(function(i){e[i]=t[i]}),i.push(t)},this.setEarliestDts=function(t){n=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var n,o,a,s;0!==i.length?(n=this.trimAdtsFramesByEarliestDts_(i),e.baseMediaDecodeTime=_(e,t.keepOriginalTimestamps),this.prefixWithSilence_(e,n),e.samples=this.generateSampleTable_(n),a=j.mdat(this.concatenateFrameData_(n)),i=[],o=j.moof(r,[e]),s=new Uint8Array(o.byteLength+a.byteLength),r++,s.set(o),s.set(a,o.byteLength),X(e),this.trigger("data",{track:e,boxes:s}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var i,r,n,s=0,u=0,l=0,c=0;if(t.length&&(i=it(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),o&&a&&(u=i-Math.max(o,a),c=(l=Math.floor(u/s))*s),!(l<1||c>45e3))){for((r=tt[e.samplerate])||(r=t[0].data),n=0;n<l;n++)t.splice(n,0,{data:r});e.baseMediaDecodeTime-=Math.floor(rt(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,i,r=[];for(t=0;t<e.length;t++)i=e[t],r.push({size:i.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,i,r=0,n=new Uint8Array(Ve(e));for(t=0;t<e.length;t++)i=e[t],n.set(i.data,r),r+=i.data.byteLength;return n}}).prototype=new Y,(Ge=function(e,t){var i,r,n=0,o=[],a=[];t=t||{},Ge.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){$(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],at.forEach(function(t){e[t]=i[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,r,s,u,l,c;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=z(o),(s=Z(i))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=W(s)),a.length){var h;if(!(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");X(e),s=h}$(e,s),e.samples=V(s),l=j.mdat(H(s)),e.baseMediaDecodeTime=_(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=j.moof(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){X(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var i,r,n,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)n=(o=this.gopCache_[a]).gop,e.pps&&We(e.pps[0],o.pps[0])&&e.sps&&We(e.sps[0],o.sps[0])&&(n.dts<e.timelineStartInfo.dts||(i=t.dts-n.dts-n.duration)>=-1e4&&i<=45e3&&(!r||s>i)&&(r=o,s=i));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,i,r,n,o,s,u,l;for(o=e.byteLength,s=e.nalCount,u=e.duration,t=i=0;t<a.length&&i<e.length&&(r=a[t],n=e[i],r.pts!==n.pts);)n.pts>r.pts?t++:(i++,o-=n.byteLength,s-=n.nalCount,u-=n.duration);return 0===i?e:i===e.length?null:((l=e.slice(i)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,i,r,n,o,s,u;for(t=a.length-1,i=e.length-1,o=null,s=!1;t>=0&&i>=0;){if(r=a[t],n=e[i],r.pts===n.pts){s=!0;break}r.pts>n.pts?t--:(t===a.length-1&&(o=i),i--)}if(!s&&null===o)return null;if(0===(u=s?i:o))return e;var l=e.slice(u),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){a=e}}).prototype=new Y,(ze=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ze.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new Y,ze.prototype.flush=function(e){var t,i,r,n,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,at.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,ot.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=j.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)a.data.set(this.pendingBoxes[n],o),o+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(t=this.pendingCaptions[n]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)(i=this.pendingMetadata[n]).cueTime=i.pts-s,i.cueTime/=9e4,a.metadata.push(i);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Pe=function(e){var t,i,r=this,n=!0;Pe.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new Be.MetadataStream,t.aacStream=new Xe,t.audioTimestampRolloverStream=new Be.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new Be.TimestampRolloverStream("timed-metadata"),t.adtsStream=new xe,t.coalesceStream=new ze(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(n){"timed-metadata"!==n.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new Ye(i,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="ts",n.metadataStream=new Be.MetadataStream,n.packetStream=new Be.TransportPacketStream,n.parseStream=new Be.TransportParseStream,n.elementaryStream=new Be.ElementaryStream,n.videoTimestampRolloverStream=new Be.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new Be.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new Be.TimestampRolloverStream("timed-metadata"),n.adtsStream=new xe,n.h264Stream=new nt,n.captionStream=new Be.CaptionStream,n.coalesceStream=new ze(e,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?i||"audio"!==o.tracks[a].type||((i=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Ge(t,e),n.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),i&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new Ye(i,e),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,X(i),i.timelineStartInfo.baseMediaDecodeTime=e,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,X(t),r.captionStream.reset(),t.timelineStartInfo.baseMediaDecodeTime=e),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(n){var t=Ze(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Y;var st,ut,lt={Transmuxer:Pe,VideoSegmentStream:Ge,AudioSegmentStream:Ye,AUDIO_PROPERTIES:ot,VIDEO_PROPERTIES:at},ct=J.parseType,ht=function(e){return new Date(1e3*e-20828448e5)},dt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},ft={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:st(e.subarray(78,e.byteLength))}},avcC:function(e){var t,i,r,n,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(r=6,n=0;n<s;n++)i=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(e.subarray(r,r+i))),r+=i;for(t=e[r],r++,n=0;n<t;n++)i=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(e.subarray(r,r+i))),r+=i;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={majorBrand:ct(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)i.compatibleBrands.push(ct(e.subarray(r,r+4))),r+=4;return i},dinf:function(e){return{boxes:st(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:st(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:ct(e.subarray(8,12)),name:""},i=8;for(i=24;i<e.byteLength;i++){if(0===e[i]){i++;break}t.name+=String.fromCharCode(e[i])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,i,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=[];for(t=0;t+4<e.length;t+=i)if(i=r.getUint32(t),t+=4,i<=0)n.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:n.push("slice_layer_without_partitioning_rbsp");break;case 5:n.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:n.push("sei_rbsp");break;case 7:n.push("seq_parameter_set_rbsp");break;case 8:n.push("pic_parameter_set_rbsp");break;case 9:n.push("access_unit_delimiter_rbsp");break;default:n.push("UNKNOWN NAL - "+e[t]&31)}return n}(e)}},mdhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:i.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===n.version?(r+=4,n.creationTime=ht(i.getUint32(r)),r+=8,n.modificationTime=ht(i.getUint32(r)),r+=4,n.timescale=i.getUint32(r),r+=8,n.duration=i.getUint32(r)):(n.creationTime=ht(i.getUint32(r)),r+=4,n.modificationTime=ht(i.getUint32(r)),r+=4,n.timescale=i.getUint32(r),r+=4,n.duration=i.getUint32(r)),r+=4,t=i.getUint16(r),n.language+=String.fromCharCode(96+(t>>10)),n.language+=String.fromCharCode(96+((992&t)>>5)),n.language+=String.fromCharCode(96+(31&t)),n},mdia:function(e){return{boxes:st(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:st(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(i.streamDescriptor=st(e.subarray(28))[0]),i},moof:function(e){return{boxes:st(e)}},moov:function(e){return{boxes:st(e)}},mvex:function(e){return{boxes:st(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(i+=4,r.creationTime=ht(t.getUint32(i)),i+=8,r.modificationTime=ht(t.getUint32(i)),i+=4,r.timescale=t.getUint32(i),i+=8,r.duration=t.getUint32(i)):(r.creationTime=ht(t.getUint32(i)),i+=4,r.modificationTime=ht(t.getUint32(i)),i+=4,r.timescale=t.getUint32(i),i+=4,r.duration=t.getUint32(i)),i+=4,r.rate=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,r.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,i+=8,r.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,i+=24,r.nextTrackId=t.getUint32(i),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)i.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return i},sidx:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},n=i.getUint16(22);for(t=24;n;t+=12,n--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&i.getUint32(t),subsegmentDuration:i.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&i.getUint32(t+8)});return r},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:st(e)}},stco:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},n=i.getUint32(4);for(t=8;n;t+=4,n--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=i.getUint32(4),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;r;t+=12,r--)n.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return n},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:st(e.subarray(8))}},stsz:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},n=i.getUint32(4);for(t=8;n;t+=8,n--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(e){return ft.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},n=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],l=65536&r.flags[0],c=131072&r.flags[0];return t=8,n&&(t+=4,r.baseDataOffset=i.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(r.defaultSampleDuration=i.getUint32(t),t+=4),s&&(r.defaultSampleSize=i.getUint32(t),t+=4),u&&(r.defaultSampleFlags=i.getUint32(t)),l&&(r.durationIsEmpty=!0),!n&&c&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(i+=4,r.creationTime=ht(t.getUint32(i)),i+=8,r.modificationTime=ht(t.getUint32(i)),i+=4,r.trackId=t.getUint32(i),i+=4,i+=8,r.duration=t.getUint32(i)):(r.creationTime=ht(t.getUint32(i)),i+=4,r.modificationTime=ht(t.getUint32(i)),i+=4,r.trackId=t.getUint32(i),i+=4,i+=4,r.duration=t.getUint32(i)),i+=4,i+=8,r.layer=t.getUint16(i),i+=2,r.alternateGroup=t.getUint16(i),i+=2,r.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,r.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,r.width=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,r.height=t.getUint16(i)+t.getUint16(i+2)/16,r},traf:function(e){return{boxes:st(e)}},trak:function(e){return{boxes:st(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=1&i.flags[2],o=4&i.flags[2],a=1&i.flags[1],s=2&i.flags[1],u=4&i.flags[1],l=8&i.flags[1],c=r.getUint32(4),h=8;for(n&&(i.dataOffset=r.getInt32(h),h+=4),o&&c&&(t={flags:dt(e.subarray(h,h+4))},h+=4,a&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),l&&(t.compositionTimeOffset=r.getUint32(h),h+=4),i.samples.push(t),c--);c--;)t={},a&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),u&&(t.flags=dt(e.subarray(h,h+4)),h+=4),l&&(t.compositionTimeOffset=r.getUint32(h),h+=4),i.samples.push(t);return i},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},pt={inspect:st=function(e){for(var t,i,r,n,o,a=0,s=[],u=new ArrayBuffer(e.length),l=new Uint8Array(u),c=0;c<e.length;++c)l[c]=e[c];for(t=new DataView(u);a<e.byteLength;)i=t.getUint32(a),r=ct(e.subarray(a+4,a+8)),n=i>1?a+i:e.byteLength,(o=(ft[r]||function(e){return{data:e}})(e.subarray(a+8,n))).size=i,o.type=r,s.push(o),a=n;return s},textify:ut=function(e,t){var i;return t=t||0,i=new Array(2*t+1).join(" "),e.map(function(e,r){return i+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var r=i+"  "+t+": ",n=e[t];if(n instanceof Uint8Array||n instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(e){return i+"  "+e}).join("\n")+"\n"+i+"  >":r+"<>"}return r+JSON.stringify(n,null,2).split("\n").map(function(e,t){return 0===t?e:i+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+ut(e.boxes,t+1):"")}).join("\n")},parseTfdt:ft.tfdt,parseHdlr:ft.hdlr,parseTfhd:ft.tfhd,parseTrun:ft.trun},At=re,gt=he.CaptionStream,mt=function(e,t){for(var i=e,r=0;r<t.length;r++){var n=t[r];if(i<n.size)return n;i-=n.size}return null},yt=function(e,t){var i=J.findBox(e,["moof","traf"]),r={},n=[];return J.findBox(e,["mdat"]).forEach(function(e,t){var r=i[t];n.push({mdat:e,traf:r})}),n.forEach(function(e){var i,n,o=e.mdat,a=e.traf,s=J.findBox(a,["tfhd"]),u=pt.parseTfhd(s[0]),l=u.trackId,c=J.findBox(a,["tfdt"]),h=c.length>0?pt.parseTfdt(c[0]).baseMediaDecodeTime:0,d=J.findBox(a,["trun"]);t===l&&d.length>0&&(i=function(e,t,i){var r=t,n=i.defaultSampleDuration||0,o=i.defaultSampleSize||0,a=i.trackId,s=[];return e.forEach(function(e){var t=pt.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=n),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration}),s=s.concat(t)}),s}(d,h,u),n=function(e,t,i){var r,n,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(n=0;n+4<e.length;n+=o)if(o=s.getUint32(n),n+=4,!(o<=0))switch(31&e[n]){case 6:var l=e.subarray(n+1,n+1+o),c=mt(n,t);r={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:At(l),trackId:i},c?(r.pts=c.pts,r.dts=c.dts,a=c):(r.pts=a.pts,r.dts=a.dts),u.push(r)}return u}(o,i,l),r[l]||(r[l]=[]),r[l]=r[l].concat(n))}),r},vt={generator:j,probe:J,Transmuxer:lt.Transmuxer,AudioSegmentStream:lt.AudioSegmentStream,VideoSegmentStream:lt.VideoSegmentStream,CaptionParser:function(){var e,t,i,r,n,o=!1;this.isInitialized=function(){return o},this.init=function(){e=new gt,o=!0,e.on("data",function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,n.captions.push(e),n.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===(void 0===t?"undefined":He(t))&&0===Object.keys(t).length||i===e[0]&&r===t[i])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))i=o[0],r=a[i];else if(!i||!r)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return null!==(s=function(e,t,i){return t?{seiNals:yt(e,t)[t],timescale:i}:null}(e,i,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),n):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){n.captions=[],n.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,r=null,n?this.clearParsedCaptions():n={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},Et=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},wt=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),bt=function(){function e(t,i){Et(this,e),this.options=i||{},this.self=t,this.init()}return wt(e,[{key:"init",value:function(){var e,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new vt.Transmuxer(this.options),e=this.self,(t=this.transmuxer).on("data",function(t){var i=t.initSegment;t.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){e.postMessage({action:"caption",data:t})}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new bt(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new bt(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(i)}()}),ed={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},td=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})},id=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i={codecCount:0};return i.codecCount=t.split(",").length,i.codecCount=i.codecCount||2,(e=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t))&&(i.videoCodec=e[2],i.videoObjectTypeIndicator=e[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),i.audioProfile=i.audioProfile&&i.audioProfile[2],i},rd=function(e,t,i){return e+"/"+t+'; codecs="'+i.filter(function(e){return!!e}).join(", ")+'"'},nd=function(e,t){var i=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),r=function(e){var t=e.attributes||{};return t.CODECS?id(t.CODECS):ed}(t),n=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&n.AUDIO){var s=e.mediaGroups.AUDIO[n.AUDIO];if(s)for(var u in a=!0,o=!1,s)if(!s[u].uri&&!s[u].playlists){o=!0;break}}a&&!r.audioProfile&&(o||(r.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var r in i){var n=i[r];if(n.default&&n.playlists)return id(n.playlists[0].attributes.CODECS).audioProfile}return null}(e,n.AUDIO)),r.audioProfile||(Re.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=ed.audioProfile));var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var c=rd("audio",i,[l.audio]),h=rd("video",i,[l.video]),d=rd("video",i,[l.video,l.audio]);return a?!o&&l.video?[h,c]:o||l.video?[d,c]:[c,c]:l.video?[d]:[c]},od=function(e){return/mp4a\.\d+.\d+/i.test(e)},ad=function(e){return/avc1\.[\da-f]+/i.test(e)},sd=function(e,t,i){var r=null,n=null,o=0,a=[],s=[];if(!e&&!t)return Re.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(i)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return Re.createTimeRange();for(var u=e.buffered,l=t.buffered,c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?2==++o&&(r=a[c].time):"end"===a[c].type&&1==--o&&(n=a[c].time),null!==r&&null!==n&&(s.push([r,n]),r=null,n=null);return Re.createTimeRanges(s)},ud=function(e){function t(e,i){Hc(this,t);var r=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Re.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=i,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Re.browser.IE_VERSION>=11;var n={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(e){od(e)?r.audioCodec_=e:ad(e)&&(r.videoCodec_=e)}),r.transmuxer_=new $h,r.transmuxer_.postMessage({action:"init",options:n}),r.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return sd(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return _c(t,e),Xc(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,i){var r=t.player_;if(i.captions&&i.captions.length)for(var n in e.inbandTextTracks_||(e.inbandTextTracks_={}),i.captionStreams)if(!e.inbandTextTracks_[n]){r.tech_.trigger({type:"usage",name:"hls-608"});var o=r.textTracks().getTrackById(n);e.inbandTextTracks_[n]=o||r.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}i.metadata&&i.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(i){if(e[i+"Codec_"]&&!e[i+"Buffer_"]){var r=null;if(e.mediaSource_[i+"Buffer_"])(r=e.mediaSource_[i+"Buffer_"]).updating=!1;else{var n=i+'/mp4;codecs="'+e[i+"Codec_"]+'"';r=function(e,t){var i=e.addSourceBuffer(t),r=Object.create(null);for(var n in r.updating=!1,r.realBuffer_=i,i)!function(e){"function"==typeof i[e]?r[e]=function(){return i[e].apply(i,arguments)}:void 0===r[e]&&Object.defineProperty(r,e,{get:function(){return i[e]},set:function(t){return i[e]=t}})}(n);return r}(e.mediaSource_.nativeMediaSource_,n),e.mediaSource_[i+"Buffer_"]=r}e[i+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(n){r.addEventListener(n,function(){if("audio"!==i||!e.audioDisabled_)return"updateend"===n&&(e[i+"Buffer_"].updating=!1),t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||i===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating})?e.trigger(n):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(e,t,i){if(void 0===t||null===t||!e.length)return[];var r=Math.ceil(9e4*(t-i+3)),n=void 0;for(n=0;n<e.length&&!(e[n].pts>r);n++);return e.slice(n)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var r=t[0].pts,n=0;n<e.length&&!(e[n].pts>=r);n++);return e.slice(0,n).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,i,r){for(var n=Math.ceil(9e4*(t-r)),o=Math.ceil(9e4*(i-r)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(e[u].pts<=n););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Nh(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Nh(e,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var i=t.type,r=t.data,n=t.initSegment;return e[i].segments.push(r),e[i].bytes+=r.byteLength,e[i].initSegment=n,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[i].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),Gh(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var i=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,i),i+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(Re.EventTarget),ld=function(e){function t(){Hc(this,t);var e=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=void 0;for(i in e.nativeMediaSource_=new Ue.MediaSource,e.nativeMediaSource_)i in t.prototype||"function"!=typeof e.nativeMediaSource_[i]||(e[i]=e.nativeMediaSource_[i].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?Re.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var i=!1,r=!0,n=0;n<e.player_.audioTracks().length;n++){var o=e.player_.audioTracks()[n];if(o.enabled&&"main"!==o.kind){i=!0,r=!1;break}}e.sourceBuffers.forEach(function(t,n){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=i;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=n?r:!r,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)})},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},e.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},e),e.on("sourceopen",function(t){var i=Ge.querySelector('[src="'+e.url_+'"]');i&&(e.player_=Re(i.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))}),e.on("sourceended",function(t){for(var i=Jh(e.duration),r=0;r<e.sourceBuffers.length;r++){var n=e.sourceBuffers[r],o=n.metadataTrack_&&n.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=i)}}),e.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),e}return _c(t,e),Xc(t,[{key:"addSeekableRange_",value:function(e,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,i=function(e){var t={type:"",parameters:{}},i=e.trim().split(";");return t.type=i.shift().trim(),i.forEach(function(e){var i=e.trim().split("=");if(i.length>1){var r=i[0].replace(/"/g,"").trim(),n=i[1].replace(/"/g,"").trim();t.parameters[r]=n}}),t}(e);if(/^(video|audio)\/mp2t$/i.test(i.type)){var r=[];i.parameters&&i.parameters.codecs&&(r=i.parameters.codecs.split(","),r=(r=td(r)).filter(function(e){return od(e)||ad(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new ud(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(Re.EventTarget),cd=0;Re.mediaSources={};var hd=function(e,t){var i=Re.mediaSources[e];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:t})},dd=function(){return!!Ue.MediaSource&&!!Ue.MediaSource.isTypeSupported&&Ue.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},fd=function(){if(this.MediaSource={open:hd,supportsNativeMediaSources:dd},dd())return new ld;throw new Error("Cannot use create a virtual MediaSource for this video")};fd.open=hd,fd.supportsNativeMediaSources=dd;var pd={createObjectURL:function(e){var t=void 0;return e instanceof ld?(t=Ue.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof ld?(t="blob:vjs-media-source/"+cd,cd++,Re.mediaSources[t]=e,t):(t=Ue.URL.createObjectURL(e),e.url_=t,t)}};Re.MediaSource=fd,Re.URL=pd;var Ad=Re.EventTarget,gd=Re.mergeOptions,md=function(e,t){for(var i=gd(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),r=0;r<t.playlists.length;r++){var n=oh(i,t.playlists[r]);n&&(i=n)}return nh(t,function(e,t,r,n){if(e.playlists&&e.playlists.length){var o=e.playlists[0].uri,a=oh(i,e.playlists[0]);a&&((i=a).mediaGroups[t][r][n].playlists[0]=i.playlists[o])}}),i},yd=function(e){function t(e,i,r,n){Hc(this,t);var o=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(o.hls_=i,o.withCredentials=r,!e)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_()}),"string"==typeof e?(o.srcUrl=e,o.state="HAVE_NOTHING",$c(o)):(o.masterPlaylistLoader_=n,o.state="HAVE_METADATA",o.started=!0,o.media(e),Ue.setTimeout(function(){o.trigger("loadedmetadata")},0),o)}return _c(t,Ad),Xc(t,[{key:"dispose",value:function(){this.stopRequest(),Ue.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var t=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var i=!this.media_||e.uri!==this.media_.uri;this.state="HAVE_METADATA",i&&(this.media_&&this.trigger("mediachanging"),this.media_=e,this.refreshMedia_(),"HAVE_MASTER"!==t&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=os(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var i="placeholder-uri-"+t;e.playlists[t].uri=i,e.playlists[i]=e.playlists[t]}return nh(e,function(t,i,r,n){if(t.playlists&&t.playlists.length){var o="placeholder-uri-"+i+"-"+r+"-"+n;t.playlists[0].uri=o,e.playlists[o]=t.playlists[0]}}),ah(e),sh(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?e.masterLoaded_=Date.parse(i.responseHeaders.date):e.masterLoaded_=Date.now(),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}})}},{key:"syncClientServerClock_",value:function(e){var t=this,i=as(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:Vc(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(r,n){if(t.request){if(r)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o;o="HEAD"===i.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):t.masterLoaded_:Date.parse(n.responseText),t.clientOffset_=o-Date.now(),e()}}))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),Ue.setTimeout(function(){e.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&Ue.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=i.responseText;var r=e.parseMasterXml();e.master=md(e.master,r),Ue.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var e=this,t=void 0,i=void 0;this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,i=this.masterPlaylistLoader_.parseMasterXml()):(t=this.master,i=this.parseMasterXml());var r=md(t,i);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=Ue.setTimeout(function(){e.trigger("mediaupdatetimeout")},uh(this.media(),!!r))),this.trigger("loadedplaylist")}}]),t}(),vd=function(e){return Re.log.debug?Re.log.debug.bind(Re,"VHS:",e+" >"):function(){}},Ed=function(){function e(t,i,r,n){Hc(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=r,this.mimeType_=i,this.logger_=vd("SourceUpdater["+r+"]["+i+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,i,n)):this.createSourceBuffer_(i,n)}return Xc(e,[{key:"createSourceBuffer_",value:function(e,t){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){i.start_()}):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.logger_("buffered ["+Fh(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Re.createTimeRanges()}},{key:"remove",value:function(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le;this.processedAppend_&&this.queueCallback_(function(){i.logger_("remove ["+e+" => "+t+"]"),i.sourceBuffer_.remove(e,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}(),wd={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},bd=2,Cd=-101,Id=-102,Sd=function(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t},Md=function(e){e.forEach(function(e){e.abort()})},kd=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Cd,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Id,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:bd,xhr:t}:null},Td=function(e,t,i){var r=[],n=0;return function(o,a){if(o&&(Md(e),r.push(o)),(n+=1)===e.length){if(a.endOfAllRequests=Date.now(),r.length>0){var s=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})}(r);return i(s,a)}return a.encryptedBytes?function(e,t,i){e.addEventListener("message",function r(n){if(n.data.source===t.requestId){e.removeEventListener("message",r);var o=n.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),i(null,t)}}),e.postMessage(Qh({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])}(t,a,i):i(null,a)}}},Dd=function(e,t){return function(i){return e.stats=Re.mergeOptions(e.stats,function(e){var t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(i)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(i,e)}},Bd=function(e,t,i,r,n,o,a){var s=[],u=Td(s,i,a);if(n.key){var l=Re.mergeOptions(t,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),c=function(e,t){return function(i,r){var n=r.response,o=kd(i,r);if(o)return t(o,e);if(16!==n.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:bd,xhr:r},e);var a=new DataView(n);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(n,u),h=e(l,c);s.push(h)}if(n.map&&!n.map.bytes){var d=Re.mergeOptions(t,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:Sd(n.map)}),f=function(e,t,i){return function(r,n){var o=n.response,a=kd(r,n);return a?i(a,e):0===o.byteLength?i({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:bd,xhr:n},e):(e.map.bytes=new Uint8Array(n.response),t.isInitialized()||t.init(),e.map.timescales=hs.timescale(e.map.bytes),e.map.videoTrackIds=hs.videoTrackIds(e.map.bytes),i(null,e))}}(n,r,u),p=e(d,f);s.push(p)}var A=Re.mergeOptions(t,{uri:n.resolvedUri,responseType:"arraybuffer",headers:Sd(n)}),g=function(e,t,i){return function(r,n){var o=n.response,a=kd(r,n),s=void 0;return a?i(a,e):0===o.byteLength?i({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:bd,xhr:n},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(n),e.key?e.encryptedBytes=new Uint8Array(n.response):e.bytes=new Uint8Array(n.response),e.map&&e.map.bytes&&(t.isInitialized()||t.init(),(s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales))&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),i(null,e))}}(n,r,u),m=e(A,g);return m.addEventListener("progress",Dd(n,o)),s.push(m),function(){return Md(s)}},Rd=function(e,t){var i=void 0;return e?(i=Ue.getComputedStyle(e))?i[t]:"":""},Qd=function(e,t){var i=e.slice();e.sort(function(e,r){var n=t(e,r);return 0===n?i.indexOf(e)-i.indexOf(r):n})},Od=function(e,t){var i=void 0,r=void 0;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||Ue.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),i-(r=r||Ue.Number.MAX_VALUE)},Ld=function(e,t,i){if(!e||!t)return!1;var r=i===e.segments.length;return e.endList&&"open"===t.readyState&&r},xd=function(e){return"number"==typeof e&&isFinite(e)},qd=function(e){function t(e){Hc(this,t);var i=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=e.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=e.hasPlayed,i.currentTime_=e.currentTime,i.seekable_=e.seekable,i.seeking_=e.seeking,i.duration_=e.duration,i.mediaSource_=e.mediaSource,i.hls_=e.hls,i.loaderType_=e.loaderType,i.startingMedia_=void 0,i.segmentMetadataTrack_=e.segmentMetadataTrack,i.goalBufferLength_=e.goalBufferLength,i.sourceType_=e.sourceType,i.inbandTextTracks_=e.inbandTextTracks,i.state_="INIT",i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.mimeType_=null,i.sourceUpdater_=null,i.xhrOptions_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.captionParser_=new ac,i.decrypter_=e.decrypter,i.syncController_=e.syncController,i.syncPoint_={segmentIndex:0,time:0},i.syncController_.on("syncinfoupdate",function(){return i.trigger("syncinfoupdate")}),i.mediaSource_.addEventListener("sourceopen",function(){return i.ended_=!1}),i.fetchAtBuffer_=!1,i.logger_=vd("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(i,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),i}return _c(t,e),Xc(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Re.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var i=Oh(e),r=this.initSegments_[i];return t&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Ed(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var i=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var n=i?i.id:null;if(this.logger_("playlist update ["+n+" => "+e.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var o=e.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),r&&(r.mediaIndex-=o,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(Ue.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,i),Nh(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Nh(e,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&Ue.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Ue.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&Ue.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Ue.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){if(Ld(this.playlist_,this.mediaSource_,e.mediaIndex))return void this.endOfStream();(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(e))}}}},{key:"checkBuffer_",value:function(e,t,i,r,n,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var u=Math.max(0,a-n);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!r&&u>=1)return null;if(null===o)return i=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,i,null,!0);if(null!==i){var l=t.segments[i];return s=l&&l.end?l.end:a,this.generateSegmentInfo_(t,i+1,s,!1)}if(this.fetchAtBuffer_){var c=Sh.getMediaInfoForTime(t,a,o.segmentIndex,o.time);i=c.mediaIndex,s=c.startTime}else{var h=Sh.getMediaInfoForTime(t,n,o.segmentIndex,o.time);i=h.mediaIndex,s=h.startTime}return this.generateSegmentInfo_(t,i,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,i,r){if(t<0||t>=e.segments.length)return null;var n=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:n.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:n.timeline,duration:n.duration,segment:n}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,n=Sh.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),o=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/i}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(n<=o)return!1;var a=function(e){var t=e.master,i=e.currentTime,r=e.bandwidth,n=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,u=e.syncController,l=t.playlists.filter(function(e){return!Sh.isIncompatible(e)}),c=l.filter(Sh.isEnabled);c.length||(c=l.filter(function(e){return!Sh.isDisabled(e)}));var h=c.filter(Sh.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=u.getSyncPoint(e,n,s,i)?1:2;return{playlist:e,rebufferingImpact:Sh.estimateSegmentRequestTime(o,r,e)*t-a}}),d=h.filter(function(e){return e.rebufferingImpact<=0});return Qd(d,function(e,t){return Od(t.playlist,e.playlist)}),d.length?d[0]:(Qd(h,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=n-o-a.rebufferingImpact,u=.5;return o<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*wd.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Bd(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,i){var r;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Id?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Cd?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(e,t,i){for(var r in i)if(!e[r]){t.trigger({type:"usage",name:"hls-608"});var n=t.textTracks().getTrackById(r);e[r]=n||t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var t=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var n=window.WebKitDataCue||window.VTTCue;i.forEach(function(e){var i=e.stream,o=e.startTime,a=e.endTime;t[i]&&(o+=r,a+=r,t[i].addCue(new n(o,a,e.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,i=t.segment,r=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var n=function(e,t,i){return"main"===e&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,r);if(n)return this.error({message:n,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var o=this.syncController_.mappingForTimeline(t.timeline);if(null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",i.map){var a=Oh(i.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==a){var s=this.initSegment(i.map);this.sourceUpdater_.appendBuffer(s.bytes,function(){e.activeInitSegmentId_=a})}}t.byteLength=t.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.logger_(function(e){var t=e.segment,i=t.start,r=t.end,n=e.playlist,o=n.mediaSequence,a=n.id,s=n.segments,u=void 0===s?[]:s,l=e.mediaIndex,c=e.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+i+" => "+r+"] in timeline ["+c+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),Ld(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,r=t.end;if(xd(i)&&xd(r)){Nh(i,r,this.segmentMetadataTrack_);var n=Ue.WebKitDataCue||Ue.VTTCue,o={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:i,end:r},a=new n(i,r,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}}}]),t}(Re.EventTarget),Kd=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Ud=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Fd=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Hc(this,t);var r=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return _c(t,qd),Xc(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Re.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return Re.createTimeRanges([[t,i]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var i=Oh(e),r=this.initSegments_[i];if(t&&!r&&e.bytes){var n=Ud.byteLength+e.bytes.byteLength,o=new Uint8Array(n);o.set(e.bytes),o.set(Ud,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){Nh(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,i=t.segment;if("function"!=typeof Ue.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){e.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",r),void this.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",r),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")})}i.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,i=!1;"function"==typeof Ue.TextDecoder?t=new Ue.TextDecoder("utf8"):(t=Ue.WebVTT.StringDecoder(),i=!0);var r=new Ue.WebVTT.Parser(Ue,Ue.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){Re.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var n=e.segment.map.bytes;i&&(n=Kd(n)),r.parse(n)}var o=e.bytes;i&&(o=Kd(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,i){var r=e.segment;if(t){if(!e.cues.length)return void(r.empty=!0);var n=e.timestampmap,o=n.MPEGTS/9e4-n.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!i.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}}}]),t}(),jd=function(e,t){for(var i=e.cues,r=0;r<i.length;r++){var n=i[r];if(t>=n.adStartTime&&t<=n.adEndTime)return n}return null},Nd=Kc,Jd=[{name:"VOD",run:function(e,t,i,r,n){return i!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,i,r,n){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;n=n||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,h=Math.abs(n-c);if(null!==s&&s<h)break;s=h,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(e,t,i,r,n){var o=t.segments||[],a=null,s=null;n=n||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===r&&void 0!==l.start){var c=Math.abs(n-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,i,r,n){var o=null;if(n=n||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var h=Math.abs(n-c.time);if(null!==a&&a<h)break;(!o||null===a||a>=h)&&(a=h,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(e,t,i,r,n){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],Gd=function(e){function t(){Hc(this,t);var e=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=vd("SyncController"),e}return _c(t,e),Xc(t,[{key:"getSyncPoint",value:function(e,t,i,r){var n=this.runStrategies_(e,t,i,r);return n.length?this.selectSyncPoint_(n,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+fh(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,i,r){for(var n=[],o=0;o<Jd.length;o++){var a=Jd[o],s=a.run(this,e,t,i,r);s&&(s.strategy=a.name,n.push({strategy:a.name,syncPoint:s}))}return n}},{key:"selectSyncPoint_",value:function(e,t){for(var i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),n=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,i=e[o].syncPoint,n=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+n+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;i>=0;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t,i=e.segment,r=e.playlist;return(t=i.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,t)&&(this.saveDiscontinuitySyncInfo_(e),r.syncInfo||(r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:i.start})),t}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,i=hs.timescale(t.map.bytes),r=hs.startTime(i,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Nd(e.bytes,this.inspectCache_),i=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:i,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var i=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]"),i.start=e.startOfSegment,i.end=t.end+r.mapping;else{if(!r)return!1;i.start=t.start+r.mapping,i.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var n=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=n-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u;u=a<0?i.start-fh(t,e.mediaIndex,n):i.end+fh(t,e.mediaIndex+1,n),this.discontinuities[o]={time:u,accuracy:s}}}}}]),t}(Re.EventTarget),Yd=new Qe("./decrypter-worker.worker.js",function(e,t){var i=this;!function(){var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":He(t))&&"function"!=typeof t?e:t},n=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],r=t[4],n=i[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,r[a]=d,n[d]=a,p=16843009*u[h=u[c=u[a]]]^65537*h^257*c^16843008*a,f=257*u[d]^16843008*d,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,i[o][d]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),i[o]=i[o].slice(0);return e},o=null,a=function(){function t(i){e(this,t),o||(o=n()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=this._tables[0][4],h=this._tables[1],d=i.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(u=i.slice(0),l=[],this._key=[u,l],r=d;r<4*d+28;r++)s=u[r-1],(r%d==0||8===d&&r%d==4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],r%d==0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),u[r]=u[r-d]^s;for(a=0;r;a++,r--)s=u[3&a?r:r-4],l[a]=r<=4||a<4?s:h[0][c[s>>>24]]^h[1][c[s>>16&255]]^h[2][c[s>>8&255]]^h[3][c[255&s]]}return t.prototype.decrypt=function(e,t,i,r,n,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,A=void 0,g=4,m=this._tables[1],y=m[0],v=m[1],E=m[2],w=m[3],b=m[4];for(A=0;A<p;A++)h=y[s>>>24]^v[u>>16&255]^E[l>>8&255]^w[255&c]^a[g],d=y[u>>>24]^v[l>>16&255]^E[c>>8&255]^w[255&s]^a[g+1],f=y[l>>>24]^v[c>>16&255]^E[s>>8&255]^w[255&u]^a[g+2],c=y[c>>>24]^v[s>>16&255]^E[u>>8&255]^w[255&l]^a[g+3],g+=4,s=h,u=d,l=f;for(A=0;A<4;A++)n[(3&-A)+o]=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^a[g++],h=s,s=u,u=l,l=c,c=h},t}(),s=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),i>-1},t.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,r=0;r<i;++r)t[r].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,n)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},t}(),u=function(t){function i(){e(this,i);var n=r(this,t.call(this,s));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":He(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(s),l=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},c=function(){function i(t,r,n,o){e(this,i);var a=i.STEP,s=new Int32Array(t.buffer),c=new Uint8Array(t.byteLength),h=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+a),r,n,c)),h=a;h<s.length;h+=a)n=new Uint32Array([l(s[h-4]),l(s[h-3]),l(s[h-2]),l(s[h-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+a),r,n,c));this.asyncStream_.push(function(){o(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(c))})}return i.prototype.decryptChunk_=function(e,t,i,r){return function(){var n=function(e,t,i){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),n=new a(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),s=new Int32Array(o.buffer),u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,A=void 0,g=void 0,m=void 0;for(u=i[0],c=i[1],h=i[2],d=i[3],m=0;m<r.length;m+=4)f=l(r[m]),p=l(r[m+1]),A=l(r[m+2]),g=l(r[m+3]),n.decrypt(f,p,A,g,s,m),s[m]=l(s[m]^u),s[m+1]=l(s[m+1]^c),s[m+2]=l(s[m+2]^h),s[m+3]=l(s[m+3]^d),u=f,c=p,h=A,d=g;return o}(e,t,i);r.set(n,e.byteOffset)}},t(i,null,[{key:"STEP",get:function(){return 32e3}}]),i}();new function(e){e.onmessage=function(t){var i=t.data,r=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),o=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new c(r,n,o,function(t,r){e.postMessage(function(e){var t={};return Object.keys(e).forEach(function(i){var r=e[i];ArrayBuffer.isView(r)?t[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[i]=r}),t}({source:i.source,decrypted:r}),[r.buffer])})}}(i)}()}),Pd=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},zd=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Zd=function(e,t){t.activePlaylistLoader=e,e.load()},Wd={AUDIO:function(e,t){return function(){var i=t.segmentLoaders[e],r=t.mediaTypes[e],n=t.blacklistCurrentPlaylist;zd(i,r);var o=r.activeTrack(),a=r.activeGroup(),s=(a.filter(function(e){return e.default})[0]||a[0]).id,u=r.tracks[s];if(o!==u){for(var l in Re.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[l].enabled=r.tracks[l]===u;r.onTrackChanged()}else n({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var i=t.segmentLoaders[e],r=t.mediaTypes[e];Re.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),zd(i,r);var n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}}},Vd={AUDIO:function(e,t,i){if(t){var r=i.tech,n=i.requestOptions,o=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,n),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),n),r.paused()||o.load()}),t.on("error",Wd[e](e,i))}},SUBTITLES:function(e,t,i){var r=i.tech,n=i.requestOptions,o=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,n),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),n),r.paused()||o.load()}),t.on("error",Wd[e](e,i))}},Hd=function(e,t){return function(i){return i.attributes[e]===t}},Xd=function(e){return function(t){return t.resolvedUri===e}},_d={AUDIO:function(e,t){var i=t.hls,r=t.sourceType,n=t.segmentLoaders[e],o=t.requestOptions.withCredentials,a=t.master,s=a.mediaGroups,u=a.playlists,l=t.mediaTypes[e],c=l.groups,h=l.tracks,d=t.masterPlaylistLoader;for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}}),s[e]){c[f]||(c[f]=[]);var p=u.filter(Hd(e,f));for(var A in s[e][f]){var g=s[e][f][A];p.filter(Xd(g.resolvedUri)).length&&delete g.resolvedUri;var m;if(m=g.resolvedUri?new lh(g.resolvedUri,i,o):g.playlists&&"dash"===r?new yd(g.playlists[0],i,o,d):null,g=Re.mergeOptions({id:A,playlistLoader:m},g),Vd[e](e,g.playlistLoader,t),c[f].push(g),void 0===h[A]){var y=new Re.AudioTrack({id:A,kind:Pd(g),enabled:!1,language:g.language,default:g.default,label:A});h[A]=y}}}n.on("error",Wd[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,r=t.hls,n=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions.withCredentials,s=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,h=t.masterPlaylistLoader;for(var d in s[e])for(var f in l[d]||(l[d]=[]),s[e][d])if(!s[e][d][f].forced){var p=s[e][d][f],A=void 0;if("hls"===n?A=new lh(p.resolvedUri,r,a):"dash"===n&&(A=new yd(p.playlists[0],r,a,h)),p=Re.mergeOptions({id:f,playlistLoader:A},p),Vd[e](e,p.playlistLoader,t),l[d].push(p),void 0===c[f]){var g=i.addRemoteTextTrack({id:f,kind:"subtitles",enabled:!1,language:p.language,label:f},!1).track;c[f]=g}}o.on("error",Wd[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,r=t.master.mediaGroups,n=t.mediaTypes[e],o=n.groups,a=n.tracks;for(var s in r[e])for(var u in o[s]||(o[s]=[]),r[e][s]){var l=r[e][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(Re.mergeOptions({id:u},l)),void 0===a[u])){var c=i.addRemoteTextTrack({id:l.instreamId,kind:"captions",enabled:!1,language:l.language,label:u},!1).track;a[u]=c}}}},$d={AUDIO:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var r in i)if("showing"===i[r].mode)return i[r];return null}}},ef=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){_d[t](t,e)});var t=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,n=e.hls;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=function(e,t){return function(i){var r=t.masterPlaylistLoader,n=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=n[o.attributes[e]]),a=a||n.main,void 0===i?a:null===i?null:a.filter(function(e){return e.id===i.id})[0]||null}}(i,e),t[i].activeTrack=$d[i](i,e),t[i].onGroupChanged=function(e,t){return function(){var i=t.segmentLoaders,r=i[e],n=i.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(zd(r,o),s){if(!s.playlistLoader)return void(u&&n.resetEverything());r.resyncLoader(),Zd(s.playlistLoader,o)}}}(i,e),t[i].onTrackChanged=function(e,t){return function(){var i=t.segmentLoaders,r=i[e],n=i.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(zd(r,o),s){if(!s.playlistLoader)return void n.resetEverything();if(u===s.playlistLoader)return void Zd(s.playlistLoader,o);r.track&&r.track(a),r.resetEverything(),Zd(s.playlistLoader,o)}}}(i,e)});var o=t.AUDIO.activeGroup(),a=(o.filter(function(e){return e.default})[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};for(var u in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),n.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[u])},tf=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Le,activeTrack:Le,onGroupChanged:Le,onTrackChanged:Le}}),e},rf=void 0,nf=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],of=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},af=function(e){function t(e){Hc(this,t);var i=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.url,n=e.withCredentials,o=e.tech,a=e.bandwidth,s=e.externHls,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist,h=e.sourceType,d=e.seekTo;if(!r)throw new Error("A non-empty playlist URL is required");rf=s,i.withCredentials=n,i.tech_=o,i.hls_=o.hls,i.seekTo_=d,i.sourceType_=h,i.useCueTags_=u,i.blacklistDuration=l,i.enableLowInitialPlaylist=c,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:i.withCredentials,timeout:null},i.mediaTypes_=tf(),i.mediaSource=new Re.MediaSource,i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_.bind(i)),i.seekable_=Re.createTimeRanges(),i.hasPlayed_=function(){return!1},i.syncController_=new Gd(e),i.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new Yd,i.inbandTextTracks_={};var f={hls:i.hls_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_()},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:a,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new yd(r,i.hls_,i.withCredentials):new lh(r,i.hls_,i.withCredentials),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new qd(Re.mergeOptions(f,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),e),i.audioSegmentLoader_=new qd(Re.mergeOptions(f,{loaderType:"audio"}),e),i.subtitleSegmentLoader_=new Fd(Re.mergeOptions(f,{loaderType:"vtt"}),e),i.setupSegmentLoaderListeners_(),nf.forEach(function(e){i[e+"_"]=of.bind(i,e)}),i.logger_=vd("MPC"),i.masterPlaylistLoader_.load(),i}return _c(t,e),Xc(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*e.masterPlaylistLoader_.targetDuration*1e3;Ih(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),ef({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return Re.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var i=void 0;return e.enableLowInitialPlaylist&&(i=e.selectInitialPlaylist()),i||(i=e.selectPlaylist()),e.initialMedia_=i,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var r=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){e.tech_.one("durationchange",function t(){e.duration()===1/0?r():e.tech_.one("durationchange",t)})}else r()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*e.masterPlaylistLoader_.targetDuration*1e3;Ih(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var i=e.mediaGroups||{},r=!0,n=Object.keys(i.AUDIO);for(var o in i.AUDIO)for(var a in i.AUDIO[o]){i.AUDIO[o][a].uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),rf.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),rf.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.length&&Object.keys(i.AUDIO[n[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),i=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),n=r.length?r.end(r.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!i.endList||e.duration()<wd.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<i.attributes.BANDWIDTH||n>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){Re.browser.IE_VERSION||Re.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(Re.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(i.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(i.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return Re.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var i=rf.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),n=this.tech_.buffered();if(!n.length)return i-r<=.1;var o=n.end(n.length-1);return o-r<=.1&&i-o<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=void 0,r=void 0;if(i=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!i){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var n=1===this.masterPlaylistLoader_.master.playlists.filter(bh).length;return n?(Re.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(n)):(i.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),Re.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Kh(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:rf.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var r=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==r&&0!==(e=rf.Playlist.seekable(i,r)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(t=rf.Playlist.seekable(i,r)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Re.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.logger_("seekable updated ["+Fh(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,i=rf.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),n=function t(){e.mediaSource.duration=i,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(i=Math.max(i,r.end(r.length-1))),t!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",n):n())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var i=e.mediaTypes_[t].groups;for(var r in i)i[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if((t=nd(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new Re.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&Ue.MediaSource&&Ue.MediaSource.isTypeSupported&&!Ue.MediaSource.isTypeSupported('video/mp4; codecs="'+function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return td([e])[0]})}(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,i=null,r=void 0;e.attributes.CODECS&&(r=id(e.attributes.CODECS),i=r.videoCodec,t=r.codecCount),this.master().playlists.forEach(function(e){var r={codecCount:2,videoCodec:null};e.attributes.CODECS&&(r=id(e.attributes.CODECS)),r.codecCount!==t&&(e.excludeUntil=1/0),r.videoCodec!==i&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var r=i,n=void 0,o=0;o<e.segments.length;o++){var a=e.segments[o];if(n||(n=jd(t,r+a.duration/2)),n){if("cueIn"in a){n.endTime=r,n.adEndTime=r,r+=a.duration,n=null;continue}if(r<n.endTime){r+=a.duration;continue}n.endTime+=a.duration}else if("cueOut"in a&&((n=new Ue.VTTCue(r,r+a.duration,a.cueOut)).adStartTime=r,n.adEndTime=r+parseFloat(a.cueOut),t.addCue(n)),"cueOutCont"in a){var s,u,l=a.cueOutCont.split("/").map(parseFloat),c=eh(l,2);s=c[0],u=c[1],(n=new Ue.VTTCue(r,r+a.duration,"")).adStartTime=r-s,n.adEndTime=n.adStartTime+u,t.addCue(n)}r+=a.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=wd.GOAL_BUFFER_LENGTH,i=wd.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,wd.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=wd.BUFFER_LOW_WATER_LINE,i=wd.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,wd.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,r)}}]),t}(Re.EventTarget),sf=function e(t,i,r){Hc(this,e);var n=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(i.attributes.RESOLUTION){var o=i.attributes.RESOLUTION;this.width=o.width,this.height=o.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=r,this.enabled=function(e,t,i){return function(r){var n=e.master.playlists[t],o=wh(n),a=bh(n);return void 0===r?a:(r?delete n.disabled:n.disabled=!0,r===a||o||(i(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}}(t.playlists,i.uri,n)},uf=["seeking","seeked","pause","playing","error"],lf=function(){function e(t){var i=this;Hc(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=vd("PlaybackWatcher"),this.logger_("initialize");var r=function(){return i.monitorCurrentTime_()},n=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},a=function(){return i.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",n),this.tech_.on(uf,o),this.tech_.on("canplay",r),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",a),i.tech_.off("waiting",n),i.tech_.off(uf,o),i.tech_.off("canplay",r),i.checkCurrentTimeTimeout_&&Ue.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}return Xc(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Ue.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Ue.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),i=this.tech_.currentTime(),r=void 0;return e&&this.afterSeekableWindow_(t,i)&&(r=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,i)&&(r=t.start(0)+.1),void 0!==r&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+Fh(t)+". Seeking to "+r+"."),this.seekTo(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=Kh(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.seekTo(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),n=Uh(r,t);if(this.videoUnderflow_(n,r,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(n.length>0){var o=n.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+n.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,i){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,i);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),r=Uh(t,i);this.cancelTimer_(),0!==r.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var i=function(e){if(e.length<2)return Re.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var r=e.end(i-1),n=e.start(i);t.push([r,n])}return Re.createTimeRanges(t)}(e),r=0;r<i.length;r++){var n=i.start(r),o=i.end(r);if(t-n<4&&t-n>2)return{start:n,end:o}}return null}}]),e}(),cf={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},hf=function(e){!function e(t,i){var r=0,n=0,o=Re.mergeOptions(cf,i);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){n&&t.currentTime(n)},s=function(e){null!==e&&void 0!==e&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},u=function(){return Date.now()-r<1e3*o.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):o.getSource&&"function"==typeof o.getSource?(r=Date.now(),o.getSource.call(t,s)):void Re.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function e(){t.off("loadedmetadata",a),t.off("error",u),t.off("dispose",e)};t.on("error",u),t.on("dispose",l),t.reloadSourceOnError=function(i){l(),e(t,i)}}(this,e)};Re.use("*",function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.currentTime())}}});var df={PlaylistLoader:lh,Playlist:Sh,Decrypter:Wc,AsyncStream:Pc,decrypt:Zc,utils:xh,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,i,r){var n=e.playlists.map(function(e){var t,i;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||Ue.Number.MAX_VALUE,width:t,height:i,playlist:e}});Qd(n,function(e,t){return e.bandwidth-t.bandwidth});var o=(n=n.filter(function(e){return!Sh.isIncompatible(e.playlist)})).filter(function(e){return Sh.isEnabled(e.playlist)});o.length||(o=n.filter(function(e){return!Sh.isDisabled(e.playlist)}));var a=o.filter(function(e){return e.bandwidth*wd.BANDWIDTH_VARIANCE<t}),s=a[a.length-1],u=a.filter(function(e){return e.bandwidth===s.bandwidth})[0],l=a.filter(function(e){return e.width&&e.height});Qd(l,function(e,t){return e.width-t.width});var c=l.filter(function(e){return e.width===i&&e.height===r});s=c[c.length-1];var h=c.filter(function(e){return e.bandwidth===s.bandwidth})[0],d=void 0,f=void 0,p=void 0;h||(f=(d=l.filter(function(e){return e.width>i||e.height>r})).filter(function(e){return e.width===d[0].width&&e.height===d[0].height}),s=f[f.length-1],p=f.filter(function(e){return e.bandwidth===s.bandwidth})[0]);var A=p||h||u||o[0]||n[0];return A?A.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Rd(this.tech_.el(),"width"),10),parseInt(Rd(this.tech_.el(),"height"),10))},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Sh.isEnabled);return Qd(e,function(e,t){return Od(e,t)}),e.filter(function(e){return id(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Od,comparePlaylistResolution:function(e,t){var i=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||Ue.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),i===(r=r||Ue.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-r},xhr:Th()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(df,e,{get:function(){return Re.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),wd[e]},set:function(t){Re.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Re.log.warn("value of Hls."+e+" must be greater than or equal to 0"):wd[e]=t}})});var ff=function(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null},pf=function(e,t){for(var i=t.media(),r=-1,n=0;n<e.length;n++)if(e[n].id===i.uri){r=n;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};df.canPlaySource=function(){return Re.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Af=function(e){if("dash"===e.options_.sourceType){var t=Re.players[e.tech_.options_.playerId];if(t.eme){var i=function(e,t,i){if(!e)return e;var r={};for(var n in e)r[n]={audioContentType:'audio/mp4; codecs="'+i.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[n]&&t.contentProtection[n].pssh&&(r[n].pssh=t.contentProtection[n].pssh),"string"==typeof e[n]&&(r[n].url=e[n]);return Re.mergeOptions(e,r)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());i&&(t.currentSource().keySystems=i)}}};df.supportsNativeHls=function(){var e=Ge.createElement("video");return!!Re.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),df.supportsNativeDash=!!Re.getTech("Html5").isSupported()&&/maybe|probably/i.test(Ge.createElement("video").canPlayType("application/dash+xml")),df.supportsTypeNatively=function(e){return"hls"===e?df.supportsNativeHls:"dash"===e&&df.supportsNativeDash},df.isSupported=function(){return Re.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var gf=Re.getComponent("Component"),mf=function(e){function t(e,i,r){Hc(this,t);var n=$c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,r.hls));if(i.options_&&i.options_.playerId){var o=Re(i.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Re.log.warn("player.hls is deprecated. Use player.tech().hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),n}}),o.vhs=n,o.dash=n}if(n.tech_=i,n.source_=e,n.stats={},n.setOptions_(),n.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(Ge,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=Ge.fullscreenElement||Ge.webkitFullscreenElement||Ge.mozFullScreenElement||Ge.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.smoothQualityChange_()}),n.on(n.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}return _c(t,gf),Xc(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e,t){var i=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=df,this.options_.sourceType=ff(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e),i.setCurrentTime(e)},this.masterPlaylistController_=new af(this.options_),this.playbackWatcher_=new lf(Re.mergeOptions(this.options_,{seekable:function(){return i.seekable()}})),this.masterPlaylistController_.on("error",function(){Re.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):df.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=df.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Re.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return jh(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return jh(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;t=(e=i).playlists,e.representations=function(){return t.master.playlists.filter(function(e){return!wh(e)}).map(function(t,i){return new sf(e,t,t.uri)})},Af(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Re.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Re.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),pf(e,t.playlists)}(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){pf(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),function e(t,i,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(),yf={name:"videojs-http-streaming",VERSION:"1.2.6",canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Re.mergeOptions(Re.options,t);return yf.canPlayType(e.type,i)},handleSource:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Re.mergeOptions(Re.options,i);return t.hls=new mf(e,t,r),t.hls.xhr=Th(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Re.mergeOptions(Re.options,t).hls.overrideNative,r=ff(e);return!r||df.supportsTypeNatively(r)&&!i?"":"maybe"}};return void 0!==Re.MediaSource&&void 0!==Re.URL||(Re.MediaSource=fd,Re.URL=pd),fd.supportsNativeMediaSources()&&Re.getTech("Html5").registerSourceHandler(yf,0),Re.HlsHandler=mf,Re.HlsSourceHandler=yf,Re.Hls=df,Re.use||Re.registerComponent("Hls",df),Re.options.hls=Re.options.hls||{},Re.registerPlugin?Re.registerPlugin("reloadSourceOnError",hf):Re.plugin("reloadSourceOnError",hf),Re}),function(){var e,t;e=window,(t=e&&e.videojs)&&(t.CDN_VERSION="7.2.4")}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.flvjs=t():e.flvjs=t()}(this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(r,n,function(t){return e[t]}.bind(null,n));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=230)}([function(e,t,i){"use strict";var r=i(8),n=i.n(r),o=function(){function e(){}return e.e=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",r),e.ENABLE_ERROR&&(console.error?console.error(r):console.warn?console.warn(r):console.log(r))},e.i=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",r),e.ENABLE_INFO&&(console.info?console.info(r):console.log(r))},e.w=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",r),e.ENABLE_WARN&&(console.warn?console.warn(r):console.log(r))},e.d=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",r),e.ENABLE_DEBUG&&(console.debug?console.debug(r):console.log(r))},e.v=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",r),e.ENABLE_VERBOSE&&console.log(r)},e}();o.GLOBAL_TAG="flv.js",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new n.a,t.a=o},function(e,t,i){"use strict";function r(e){q=e}function n(){return q}function o(e){}function a(){return K}function s(e){return new Promise(function(t){return setTimeout(t,e)})}function u(e){var t,i=new Date,r=i.getFullYear(),n=i.getMonth()+1,o=i.getDate();i.getDay(),t=r+"-"+n+"-"+o+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),console.log("["+t+"]:  "+e)}function l(){for(var e=window.location.href.split("/"),t="",i=0;i<3;i++)t+=e[i],t+="/";return t}i.d(t,"G",function(){return c}),i.d(t,"E",function(){return h}),i.d(t,"F",function(){return d}),i.d(t,"w",function(){return f}),i.d(t,"l",function(){return p}),i.d(t,"q",function(){return A}),i.d(t,"y",function(){return g}),i.d(t,"v",function(){return m}),i.d(t,"k",function(){return y}),i.d(t,"s",function(){return v}),i.d(t,"t",function(){return E}),i.d(t,"m",function(){return w}),i.d(t,"D",function(){return b}),i.d(t,"x",function(){return C}),i.d(t,"A",function(){return I}),i.d(t,"B",function(){return S}),i.d(t,"u",function(){return M}),i.d(t,"r",function(){return k}),i.d(t,"o",function(){return T}),i.d(t,"z",function(){return D}),i.d(t,"n",function(){return B}),i.d(t,"b",function(){return R}),i.d(t,"a",function(){return Q}),i.d(t,"f",function(){return O}),i.d(t,"p",function(){return L}),i.d(t,"C",function(){return x}),i.d(t,"i",function(){return r}),i.d(t,"d",function(){return n}),i.d(t,"h",function(){return o}),i.d(t,"c",function(){return a}),i.d(t,"j",function(){return s}),i.d(t,"e",function(){return u}),i.d(t,"g",function(){return l});var c=1,h=2,d=3,f=1,p=2,A=3,g=4,m=6,y=7,v=10,E=11,w=12,b=13,C=14,I=15,S=16,M=20,k=21,T=102,D=103,B=200,R=1,Q=2,O=3,L=22,x=23,q=!0,K=!0},function(e,t,i){"use strict";t.a={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint",RECONNECT_ING:"reconnect_ing",RECONNECT_SUCCESS:"reconnect_success",IS_ENCODED_H265:"encoded_265",SOURCE_ENDED:"source_ended",UPDATE_DURATION:"update_duration",UPDATE_KBPS:"update_kbps",SOCKET_CLOSE:"socket_close",SEI_DATA:"sei_data",AUDIO_ERROR:"audio_error",ON_DBL_CLICK:"ondblclick",RECORDING:"recording"}},function(e,t,i){"use strict";i.d(t,"c",function(){return n}),i.d(t,"b",function(){return o}),i.d(t,"a",function(){return a});var r=i(4),n={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},o={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},a=function(){function e(e){this._type=e||"undefined",this._status=n.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onHLSError=null,this._onError=null,this._onComplete=null}var t,i,o=e.prototype;return o.destroy=function(){this._status=n.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onHLSError=null,this._onComplete=null},o.isWorking=function(){return this._status===n.kConnecting||this._status===n.kBuffering},o.open=function(e,t){throw new r.c("Unimplemented abstract function!")},o.abort=function(){throw new r.c("Unimplemented abstract function!")},t=e,(i=[{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onHLSError",get:function(){return this._onHLSError},set:function(e){this._onHLSError=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,i){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}i.d(t,"d",function(){return a}),i.d(t,"a",function(){return s}),i.d(t,"b",function(){return u}),i.d(t,"c",function(){return l});var a=function(){function e(e){this._message=e}return e.prototype.toString=function(){return this.name+": "+this.message},o(e,[{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),e}(),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),o(t,[{key:"name",get:function(){return"IllegalStateException"}}]),t}(a),u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),o(t,[{key:"name",get:function(){return"InvalidArgumentException"}}]),t}(a),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),o(t,[{key:"name",get:function(){return"NotImplementedException"}}]),t}(a)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},function(e,t,i){function r(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return a(e,t,i)}var o=i(10),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n),n.prototype=Object.create(a.prototype),r(a,n),n.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},n.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,i){"use strict";var r={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},o={};if(n.browser){o[n.browser]=!0;var a=n.majorVersion.split(".");o.version={major:parseInt(n.majorVersion,10),string:n.version},a.length>1&&(o.version.minor=parseInt(a[1],10)),a.length>2&&(o.version.build=parseInt(a[2],10))}for(var s in n.platform&&(o[n.platform]=!0),(o.chrome||o.opr||o.safari)&&(o.webkit=!0),(o.rv||o.iemobile)&&(o.rv&&delete o.rv,n.browser="msie",o.msie=!0),o.edge&&(delete o.edge,n.browser="msedge",o.msedge=!0),o.opr&&(n.browser="opera",o.opera=!0),o.safari&&o.android&&(n.browser="android",o.android=!0),o.name=n.browser,o.platform=n.platform,r)r.hasOwnProperty(s)&&delete r[s];Object.assign(r,o)}(),t.a=r},function(e,t,i){"use strict";function r(){r.init.call(this)}function n(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function a(e,t,i,r){var a,s,u,l;if(n(i),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),u=s[t]),void 0===u)u=s[t]=i,++e._eventsCount;else if("function"==typeof u?u=s[t]=r?[i,u]:[u,i]:r?u.unshift(i):u.push(i),(a=o(e))>0&&u.length>a&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,l=c,console&&console.warn&&console.warn(l)}return e}function s(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return n.listener=i,r.wrapFn=n,n}function u(e,t,i){var r=e._events;if(void 0===r)return[];var n=r[t];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(n):c(n,n.length)}function l(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function c(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function h(e,t,i,r){if("function"==typeof e.on)r.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function n(o){r.once&&e.removeEventListener(t,n),i(o)})}}var d,f="object"==typeof Reflect?Reflect:null,p=f&&"function"==typeof f.apply?f.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};d=f&&"function"==typeof f.ownKeys?f.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var A=Number.isNaN||function(e){return e!=e};e.exports=r,e.exports.once=function(e,t){return new Promise(function(i,r){function n(i){e.removeListener(t,o),r(i)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",n),i([].slice.call(arguments))}h(e,t,o,{once:!0}),"error"!==t&&function(e,t,i){"function"==typeof e.on&&h(e,"error",t,{once:!0})}(e,n)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var g=10;Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(e){if("number"!=typeof e||e<0||A(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||A(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=n[e];if(void 0===s)return!1;if("function"==typeof s)p(s,this,t);else{var u=s.length,l=c(s,u);for(i=0;i<u;++i)p(l[i],this,t)}return!0},r.prototype.addListener=function(e,t){return a(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return a(this,e,t,!0)},r.prototype.once=function(e,t){return n(t),this.on(e,s(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return n(t),this.prependListener(e,s(this,e,t)),this},r.prototype.removeListener=function(e,t){var i,r,o,a,s;if(n(t),void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(o=-1,a=i.length-1;a>=0;a--)if(i[a]===t||i[a].listener===t){s=i[a].listener,o=a;break}if(o<0)return this;0===o?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,o),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var n,o=Object.keys(i);for(r=0;r<o.length;++r)"removeListener"!==(n=o[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return u(this,e,!0)},r.prototype.rawListeners=function(e){return u(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},r.prototype.listenerCount=l,r.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(l===setTimeout)return setTimeout(e,0);if((l===i||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(){p&&d&&(p=!1,d.length?f=d.concat(f):A=-1,f.length&&a())}function a(){if(!p){var e=n(o);p=!0;for(var t=f.length;t;){for(d=f,f=[];++A<t;)d&&d[A].run();A=-1,t=f.length}d=null,p=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:i}catch(e){l=i}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var d,f=[],p=!1,A=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new s(e,t)),1!==f.length||p||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,i){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,i){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,i)}function a(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r),o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=l(e,t),e}(e,t,i,r):"string"==typeof t?function(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,i),a=(e=n(e,r)).write(t,i);return a!==r&&(e=e.slice(0,a)),e}(e,t,i):function(e,t){if(o.isBuffer(t)){var i=0|c(t.length);return 0===(e=n(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?n(e,0):l(e,t);if("Buffer"===t.type&&j(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(s(t),e=n(e,t<0?0:0|c(t)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function l(e,t){var i=t.length<0?0:0|c(t.length);e=n(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function c(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return x(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return q(e).length;default:if(r)return x(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function f(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:p(e,t,i,r,n);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):p(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function p(e,t,i,r,n){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,u/=2,l/=2,i/=2}if(n){var c=-1;for(a=i;a<u;a++)if(o(e,a)===o(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*s}else-1!==c&&(a-=a-c),c=-1}else for(i+l>u&&(i=u-l),a=i;a>=0;a--){for(var h=!0,d=0;d<l;d++)if(o(e,a+d)!==o(t,d)){h=!1;break}if(h)return a}return-1}function A(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function g(e,t,i,r){return K(x(t,e.length-i),e,i,r)}function m(e,t,i,r){return K(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function y(e,t,i,r){return m(e,t,i,r)}function v(e,t,i,r){return K(q(t),e,i,r)}function E(e,t,i,r){return K(function(e,t){for(var i,r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(i=e.charCodeAt(a))>>8,n=i%256,o.push(n),o.push(r);return o}(t,e.length-i),e,i,r)}function w(e,t,i){return 0===t&&i===e.length?U.fromByteArray(e):U.fromByteArray(e.slice(t,i))}function b(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,a,s,u,l=e[n],c=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h<=i)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[n+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return i}(r)}function C(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function I(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function S(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=L(e[o]);return n}function M(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function k(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,i,r,n,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function D(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function B(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function R(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Q(e,t,i,r,n){return n||R(e,0,i,4),F.write(e,t,i,r,23,4),i+4}function O(e,t,i,r,n){return n||R(e,0,i,8),F.write(e,t,i,r,52,8),i+8}function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function x(e,t){var i;t=t||1/0;for(var r=e.length,n=null,o=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function q(e){return U.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}var U=i(125),F=i(126),j=i(66);t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,i){return a(null,e,t,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,i){return function(e,t,i,r){return s(t),t<=0?n(e,t):void 0!==i?"string"==typeof r?n(e,t).fill(i,r):n(e,t).fill(i):n(e,t)}(null,e,t,i)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,a=Math.min(i,r);n<a;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!j(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=o.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?b(this,0,e):function(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,i);case"utf8":case"utf-8":return b(this,t,i);case"ascii":return C(this,t,i);case"latin1":case"binary":return I(this,t,i);case"base64":return w(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,i,r,n){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(n>>>=0)-(r>>>=0),s=(i>>>=0)-(t>>>=0),u=Math.min(a,s),l=this.slice(r,n),c=e.slice(t,i),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},o.prototype.indexOf=function(e,t,i){return f(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return f(this,e,t,i,!1)},o.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return A(this,e,t,i);case"utf8":case"utf-8":return g(this,e,t,i);case"ascii":return m(this,e,t,i);case"latin1":case"binary":return y(this,e,t,i);case"base64":return v(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=o.prototype;else{var n=t-e;i=new o(n,void 0);for(var a=0;a<n;++a)i[a]=this[a+e]}return i},o.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},o.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},o.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),F.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),F.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),F.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),F.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,i,r){e=+e,t|=0,i|=0,r||T(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},o.prototype.writeUIntBE=function(e,t,i,r){e=+e,t|=0,i|=0,r||T(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+i},o.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);T(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},o.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);T(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,i){return Q(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return Q(this,e,t,!1,i)},o.prototype.writeDoubleLE=function(e,t,i){return O(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return O(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,a=r-i;if(this===e&&i<t&&t<r)for(n=a-1;n>=0;--n)e[n+t]=this[n+i];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},o.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var s=o.isBuffer(e)?e:x(new o(e,r).toString()),u=s.length;for(a=0;a<i-t;++a)this[a+t]=s[a%u]}return this};var N=/[^+\/0-9A-Za-z-_]/g}).call(this,i(13))},function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}function a(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function s(e,t,i){var r=a(e,i);return i-1>=t&&(r|=a(e,i-1)<<4),r}function u(e,t,i,r){for(var n=0,o=Math.min(e.length,i),a=t;a<o;a++){var s=e.charCodeAt(a)-48;n*=r,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}function l(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,u=a/67108864|0;i.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;c+=(a=(n=0|e.words[p])*(o=0|t.words[f])+h)/67108864|0,h=67108863&a}i.words[l]=0|h,u=0|c}return 0!==u?i.words[l]=0|u:i.length--,i.strip()}function c(e,t,i){return(new h).mulp(e,t,i)}function h(e,t){this.x=e,this.y=t}function d(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function f(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function g(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function m(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function y(e){m.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var v;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{v="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(178).Buffer}catch(e){}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,i):(this._parseBase(e,t,n),"le"===i&&this._initArray(this.toArray(),t,i)))},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,a=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)n=s(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)n=s(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,s=Math.min(o,o-a)+i,l=0,c=i;c<s;c+=r)l=u(e,c,c+r,t),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var h=1;for(l=u(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<n|o)).toString(16);i=0!=(o=s>>>24-n&16777215)||a!==this.length-1?E[6-u.length]+u+i:u+i,(n+=2)>=26&&(n-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=w[e],c=b[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var d=h.modn(c).toString(e);i=(h=h.idivn(c)).isZero()?d+i:E[l-d.length]+d+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==v),this.toArrayLike(v,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-n;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=e):(i=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|i.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<i.length;a++)o=(t=(0|i.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var C=function(e,t,i){var r,n,o,a=e.words,s=t.words,u=i.words,l=0,c=0|a[0],h=8191&c,d=c>>>13,f=0|a[1],p=8191&f,A=f>>>13,g=0|a[2],m=8191&g,y=g>>>13,v=0|a[3],E=8191&v,w=v>>>13,b=0|a[4],C=8191&b,I=b>>>13,S=0|a[5],M=8191&S,k=S>>>13,T=0|a[6],D=8191&T,B=T>>>13,R=0|a[7],Q=8191&R,O=R>>>13,L=0|a[8],x=8191&L,q=L>>>13,K=0|a[9],U=8191&K,F=K>>>13,j=0|s[0],N=8191&j,J=j>>>13,G=0|s[1],Y=8191&G,P=G>>>13,z=0|s[2],Z=8191&z,W=z>>>13,V=0|s[3],H=8191&V,X=V>>>13,_=0|s[4],$=8191&_,ee=_>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,de=ce>>>13,fe=0|s[9],pe=8191&fe,Ae=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(l+(r=Math.imul(h,N))|0)+((8191&(n=(n=Math.imul(h,J))+Math.imul(d,N)|0))<<13)|0;l=((o=Math.imul(d,J))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,N),n=(n=Math.imul(p,J))+Math.imul(A,N)|0,o=Math.imul(A,J);var me=(l+(r=r+Math.imul(h,Y)|0)|0)+((8191&(n=(n=n+Math.imul(h,P)|0)+Math.imul(d,Y)|0))<<13)|0;l=((o=o+Math.imul(d,P)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,N),n=(n=Math.imul(m,J))+Math.imul(y,N)|0,o=Math.imul(y,J),r=r+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,P)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,P)|0;var ye=(l+(r=r+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,W)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,W)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(E,N),n=(n=Math.imul(E,J))+Math.imul(w,N)|0,o=Math.imul(w,J),r=r+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,P)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,P)|0,r=r+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,W)|0;var ve=(l+(r=r+Math.imul(h,H)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,H)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(C,N),n=(n=Math.imul(C,J))+Math.imul(I,N)|0,o=Math.imul(I,J),r=r+Math.imul(E,Y)|0,n=(n=n+Math.imul(E,P)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,P)|0,r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,H)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,X)|0;var Ee=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,$)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,N),n=(n=Math.imul(M,J))+Math.imul(k,N)|0,o=Math.imul(k,J),r=r+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,P)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,P)|0,r=r+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0;var we=(l+(r=r+Math.imul(h,ie)|0)|0)+((8191&(n=(n=n+Math.imul(h,re)|0)+Math.imul(d,ie)|0))<<13)|0;l=((o=o+Math.imul(d,re)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,N),n=(n=Math.imul(D,J))+Math.imul(B,N)|0,o=Math.imul(B,J),r=r+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,P)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,P)|0,r=r+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(E,H)|0,n=(n=n+Math.imul(E,X)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(m,$)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ie)|0,n=(n=n+Math.imul(p,re)|0)+Math.imul(A,ie)|0,o=o+Math.imul(A,re)|0;var be=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(Q,N),n=(n=Math.imul(Q,J))+Math.imul(O,N)|0,o=Math.imul(O,J),r=r+Math.imul(D,Y)|0,n=(n=n+Math.imul(D,P)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,P)|0,r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(C,H)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(E,$)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ie)|0,n=(n=n+Math.imul(m,re)|0)+Math.imul(y,ie)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0;var Ce=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ue)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(x,N),n=(n=Math.imul(x,J))+Math.imul(q,N)|0,o=Math.imul(q,J),r=r+Math.imul(Q,Y)|0,n=(n=n+Math.imul(Q,P)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,P)|0,r=r+Math.imul(D,Z)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(C,$)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(E,ie)|0,n=(n=n+Math.imul(E,re)|0)+Math.imul(w,ie)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0;var Ie=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,N),n=(n=Math.imul(U,J))+Math.imul(F,N)|0,o=Math.imul(F,J),r=r+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,P)|0)+Math.imul(q,Y)|0,o=o+Math.imul(q,P)|0,r=r+Math.imul(Q,Z)|0,n=(n=n+Math.imul(Q,W)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(D,H)|0,n=(n=n+Math.imul(D,X)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,X)|0,r=r+Math.imul(M,$)|0,n=(n=n+Math.imul(M,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,re)|0)+Math.imul(I,ie)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,de)|0;var Se=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,Ae)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(U,Y),n=(n=Math.imul(U,P))+Math.imul(F,Y)|0,o=Math.imul(F,P),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,W)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,W)|0,r=r+Math.imul(Q,H)|0,n=(n=n+Math.imul(Q,X)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,X)|0,r=r+Math.imul(D,$)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(M,ie)|0,n=(n=n+Math.imul(M,re)|0)+Math.imul(k,ie)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(C,oe)|0,n=(n=n+Math.imul(C,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(E,ue)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var Me=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,Z),n=(n=Math.imul(U,W))+Math.imul(F,Z)|0,o=Math.imul(F,W),r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(q,H)|0,o=o+Math.imul(q,X)|0,r=r+Math.imul(Q,$)|0,n=(n=n+Math.imul(Q,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(D,ie)|0,n=(n=n+Math.imul(D,re)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(M,oe)|0,n=(n=n+Math.imul(M,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(E,he)|0,n=(n=n+Math.imul(E,de)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,de)|0;var ke=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,H),n=(n=Math.imul(U,X))+Math.imul(F,H)|0,o=Math.imul(F,X),r=r+Math.imul(x,$)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(q,$)|0,o=o+Math.imul(q,ee)|0,r=r+Math.imul(Q,ie)|0,n=(n=n+Math.imul(Q,re)|0)+Math.imul(O,ie)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(M,ue)|0,n=(n=n+Math.imul(M,le)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,le)|0,r=r+Math.imul(C,he)|0,n=(n=n+Math.imul(C,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Te=(l+(r=r+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,Ae)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,$),n=(n=Math.imul(U,ee))+Math.imul(F,$)|0,o=Math.imul(F,ee),r=r+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,re)|0)+Math.imul(q,ie)|0,o=o+Math.imul(q,re)|0,r=r+Math.imul(Q,oe)|0,n=(n=n+Math.imul(Q,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(D,ue)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,r=r+Math.imul(M,he)|0,n=(n=n+Math.imul(M,de)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,de)|0;var De=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(n=(n=n+Math.imul(C,Ae)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(U,ie),n=(n=Math.imul(U,re))+Math.imul(F,ie)|0,o=Math.imul(F,re),r=r+Math.imul(x,oe)|0,n=(n=n+Math.imul(x,ae)|0)+Math.imul(q,oe)|0,o=o+Math.imul(q,ae)|0,r=r+Math.imul(Q,ue)|0,n=(n=n+Math.imul(Q,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(D,he)|0,n=(n=n+Math.imul(D,de)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,de)|0;var Be=(l+(r=r+Math.imul(M,pe)|0)|0)+((8191&(n=(n=n+Math.imul(M,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;l=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(U,oe),n=(n=Math.imul(U,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(q,ue)|0,o=o+Math.imul(q,le)|0,r=r+Math.imul(Q,he)|0,n=(n=n+Math.imul(Q,de)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,de)|0;var Re=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,Ae)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(F,ue)|0,o=Math.imul(F,le),r=r+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(q,he)|0,o=o+Math.imul(q,de)|0;var Qe=(l+(r=r+Math.imul(Q,pe)|0)|0)+((8191&(n=(n=n+Math.imul(Q,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,r=Math.imul(U,he),n=(n=Math.imul(U,de))+Math.imul(F,he)|0,o=Math.imul(F,de);var Oe=(l+(r=r+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,Ae)|0)+Math.imul(q,pe)|0))<<13)|0;l=((o=o+Math.imul(q,Ae)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Le=(l+(r=Math.imul(U,pe))|0)+((8191&(n=(n=Math.imul(U,Ae))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,Ae))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=ve,u[4]=Ee,u[5]=we,u[6]=be,u[7]=Ce,u[8]=Ie,u[9]=Se,u[10]=Me,u[11]=ke,u[12]=Te,u[13]=De,u[14]=Be,u[15]=Re,u[16]=Qe,u[17]=Oe,u[18]=Le,0!==l&&(u[19]=l,i.length++),i};Math.imul||(C=l),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?C(this,e,t):i<63?l(this,e,t):i<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),d=67108863&h;s=67108863&(d=d+s|0),n+=(a=(a=a+(h/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i.strip()}(this,e,t):c(this,e,t)},h.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},h.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},h.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},h.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<n;c+=s)for(var h=u,d=l,f=0;f<a;f++){var p=i[c+f],A=r[c+f],g=i[c+f+a],m=r[c+f+a],y=h*g-d*m;m=h*m+d*g,g=y,i[c+f]=p+g,r[c+f]=A+m,i[c+f+a]=p-g,r[c+f+a]=A-m,f!==s&&(y=u*h-l*d,d=u*d+l*h,h=y)}},h.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},h.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},h.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},h.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0==(-8192&o))},h.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},h.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=i.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,n),this.transform(l,o,c,h,r,n);for(var f=0;f<r;f++){var p=s[f]*c[f]-u[f]*h[f];u[f]=s[f]*h[f]+u[f]*c[f],s[f]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,n),this.conjugate(d,o,r),this.normalize13b(d,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),c(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var n=(0|this.words[i])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=(e.words[r]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var n;r("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(n-=a,n=Math.max(0,n),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=n);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i||!(this.words[i]&n))},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o,a=e.length+i;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+i])+s;var u=(0|e.words[n])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)s=(o=(0|this.words[n+i])+s)>>26,this.words[n+i]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),n=e,a=0|n.words[n.length-1];0!=(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,u=r.length-n.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(n,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[n.length+h])+(0|r.words[n.length+h-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(n,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(n,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,n=this.length-1;n>=0;n--)i=(t*i+(0|this.words[n]))%e;return i},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*t;this.words[i]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++l;for(var c=i.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(c),a.isub(h)),n.iushrn(1),a.iushrn(1);for(var p=0,A=1;0==(i.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(u)):(i.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:i.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,a=new o(1),s=new o(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,d=1;0==(i.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(n=0===t.cmpn(1)?a:s).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new m(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var I={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},d.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},d.prototype.split=function(e,t){e.iushrn(this.n,0,t)},d.prototype.imulK=function(e){return e.imul(this.k)},n(f,d),f.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},f.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(p,d),n(A,d),n(g,d),g.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(I[e])return I[e];var t;if("k256"===e)t=new f;else if("p224"===e)t=new p;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new g}return I[e]=t,t},m.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},m.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},m.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},m.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},m.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},m.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},m.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},m.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},m.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},m.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},m.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},m.prototype.isqr=function(e){return this.imul(e,e.clone())},m.prototype.sqr=function(e){return this.mul(e,e)},m.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var A=f,g=0;0!==A.cmp(s);g++)A=A.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=g}return d},m.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},m.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;n!==i[0]&&(n=this.sqr(n)),0!==h||0!==a?(a<<=1,a|=h,(4==++s||0===r&&0===c)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}u=26}return n},m.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},m.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new y(e)},n(y,m),y.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},y.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},y.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},y.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},y.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i(55)(e))},function(e,t,i){"use strict";t.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=i,i.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},function(e,t,i){"use strict";var r=t,n=i(11),o=i(14),a=i(108);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,i){var r=new Array(Math.max(e.bitLength(),i)+1);r.fill(0);for(var n=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,u=o.andln(n-1);o.isOdd()?(s=u>(n>>1)-1?(n>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r,n=0,o=0;e.cmpn(-n)>0||t.cmpn(-o)>0;){var a,s,u=e.andln(3)+n&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0==(1&u)?0:3!=(r=e.andln(7)+n&7)&&5!==r||2!==l?u:-u,i[0].push(a),s=0==(1&l)?0:3!=(r=t.andln(7)+o&7)&&5!==r||2!==u?l:-l,i[1].push(s),2*n===a+1&&(n=1-n),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new n(e,"hex","le")}},function(e,t,i){"use strict";i.d(t,"d",function(){return r}),i.d(t,"b",function(){return n}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return a});var r=function(e,t,i,r,n){this.dts=e,this.pts=t,this.duration=i,this.originalDts=r,this.isSyncPoint=n,this.fileposition=null},n=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),o=function(){function e(){this._list=[]}var t=e.prototype;return t.clear=function(){this._list=[]},t.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},t.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,i=0,r=t.length-1,n=0,o=0,a=r;for(e<t[0].dts&&(i=0,o=a+1);o<=a;){if((n=o+Math.floor((a-o)/2))===r||e>=t[n].dts&&e<t[n+1].dts){i=n;break}t[n].dts<e?o=n+1:a=n-1}return this._list[i]},e}(),a=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}var t,i,r=e.prototype;return r.isEmpty=function(){return 0===this._list.length},r.clear=function(){this._list=[],this._lastAppendLocation=-1},r._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var i=t.length-1,r=0,n=0,o=i,a=0;if(e<t[0].originalBeginDts)return-1;for(;n<=o;){if((r=n+Math.floor((o-n)/2))===i||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){a=r;break}t[r].originalBeginDts<e?n=r+1:o=r-1}return a},r._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},r.append=function(e){var t=this._list,i=e,r=this._lastAppendLocation,n=0;-1!==r&&r<t.length&&i.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&i.originalBeginDts<t[r+1].originalBeginDts)?n=r+1:t.length>0&&(n=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=n,this._list.splice(n,0,i)},r.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},r.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},r.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null},t=e,(i=[{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,i){"use strict";var r=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}var t=e.prototype;return t.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t},t.isSeekable=function(){return!0===this.hasKeyframesIndex},t.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}},t._search=function(e,t){var i=0,r=e.length-1,n=0,o=0,a=r;for(t<e[0]&&(i=0,o=a+1);o<=a;){if((n=o+Math.floor((a-o)/2))===r||t>=e[n]&&t<e[n+1]){i=n;break}e[n]<t?o=n+1:a=n-1}return i},e}();t.a=r},function(e,t,i){"use strict";function r(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var s=i(14),u=i(5);t.inherits=u,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)i.push(parseInt(e[o]+e[o+1],16))}else for(var n=0,o=0;o<e.length;o++){var a=e.charCodeAt(o);a<128?i[n++]=a:a<2048?(i[n++]=a>>6|192,i[n++]=63&a|128):r(e,o)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++o)),i[n++]=a>>18|240,i[n++]=a>>12&63|128,i[n++]=a>>6&63|128,i[n++]=63&a|128):(i[n++]=a>>12|224,i[n++]=a>>6&63|128,i[n++]=63&a|128)}else for(o=0;o<e.length;o++)i[o]=0|e[o];return i},t.toHex=function(e){for(var t="",i=0;i<e.length;i++)t+=o(e[i].toString(16));return t},t.htonl=n,t.toHex32=function(e,t){for(var i="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=n(o)),i+=a(o.toString(16))}return i},t.zero2=o,t.zero8=a,t.join32=function(e,t,i,r){var n=i-t;s(n%4==0);for(var o=new Array(n/4),a=0,u=t;a<o.length;a++,u+=4){var l;l="big"===r?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],o[a]=l>>>0}return o},t.split32=function(e,t){for(var i=new Array(4*e.length),r=0,n=0;r<e.length;r++,n+=4){var o=e[r];"big"===t?(i[n]=o>>>24,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=255&o):(i[n+3]=o>>>24,i[n+2]=o>>>16&255,i[n+1]=o>>>8&255,i[n]=255&o)}return i},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,i){return e+t+i>>>0},t.sum32_4=function(e,t,i,r){return e+t+i+r>>>0},t.sum32_5=function(e,t,i,r,n){return e+t+i+r+n>>>0},t.sum64=function(e,t,i,r){var n=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+i+n;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,i,r){return(t+r>>>0<t?1:0)+e+i>>>0},t.sum64_lo=function(e,t,i,r){return t+r>>>0},t.sum64_4_hi=function(e,t,i,r,n,o,a,s){var u=0,l=t;return u+=(l=l+r>>>0)<t?1:0,u+=(l=l+o>>>0)<o?1:0,e+i+n+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,i,r,n,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,i,r,n,o,a,s,u,l){var c=0,h=t;return c+=(h=h+r>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+s>>>0)<s?1:0,e+i+n+a+u+(c+=(h=h+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,i,r,n,o,a,s,u,l){return t+r+o+s+l>>>0},t.rotr64_hi=function(e,t,i){return(t<<32-i|e>>>i)>>>0},t.rotr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0},t.shr64_hi=function(e,t,i){return e>>>i},t.shr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0}},function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=i(8),o=i.n(n),a=i(0),s=function(){function e(){}var t,i;return e.getConfig=function(){return{globalTag:a.a.GLOBAL_TAG,forceGlobalTag:a.a.FORCE_GLOBAL_TAG,enableVerbose:a.a.ENABLE_VERBOSE,enableDebug:a.a.ENABLE_DEBUG,enableInfo:a.a.ENABLE_INFO,enableWarn:a.a.ENABLE_WARN,enableError:a.a.ENABLE_ERROR,enableCallback:a.a.ENABLE_CALLBACK}},e.applyConfig=function(e){a.a.GLOBAL_TAG=e.globalTag,a.a.FORCE_GLOBAL_TAG=e.forceGlobalTag,a.a.ENABLE_VERBOSE=e.enableVerbose,a.a.ENABLE_DEBUG=e.enableDebug,a.a.ENABLE_INFO=e.enableInfo,a.a.ENABLE_WARN=e.enableWarn,a.a.ENABLE_ERROR=e.enableError,a.a.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var i=e.getConfig();t.emit("change",i)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){a.a.emitter.addListener("log",t),a.a.emitter.listenerCount("log")>0&&(a.a.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){a.a.emitter.removeListener("log",t),0===a.a.emitter.listenerCount("log")&&(a.a.ENABLE_CALLBACK=!1,e._notifyChange())},t=e,i=[{key:"forceGlobalTag",get:function(){return a.a.FORCE_GLOBAL_TAG},set:function(t){a.a.FORCE_GLOBAL_TAG=t,e._notifyChange()}},{key:"globalTag",get:function(){return a.a.GLOBAL_TAG},set:function(t){a.a.GLOBAL_TAG=t,e._notifyChange()}},{key:"enableAll",get:function(){return a.a.ENABLE_VERBOSE&&a.a.ENABLE_DEBUG&&a.a.ENABLE_INFO&&a.a.ENABLE_WARN&&a.a.ENABLE_ERROR},set:function(t){a.a.ENABLE_VERBOSE=t,a.a.ENABLE_DEBUG=t,a.a.ENABLE_INFO=t,a.a.ENABLE_WARN=t,a.a.ENABLE_ERROR=t,e._notifyChange()}},{key:"enableDebug",get:function(){return a.a.ENABLE_DEBUG},set:function(t){a.a.ENABLE_DEBUG=t,e._notifyChange()}},{key:"enableVerbose",get:function(){return a.a.ENABLE_VERBOSE},set:function(t){a.a.ENABLE_VERBOSE=t,e._notifyChange()}},{key:"enableInfo",get:function(){return a.a.ENABLE_INFO},set:function(t){a.a.ENABLE_INFO=t,e._notifyChange()}},{key:"enableWarn",get:function(){return a.a.ENABLE_WARN},set:function(t){a.a.ENABLE_WARN=t,e._notifyChange()}},{key:"enableError",get:function(){return a.a.ENABLE_ERROR},set:function(t){a.a.ENABLE_ERROR=t,e._notifyChange()}}],null&&r(t.prototype,null),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();s.emitter=new o.a,t.a=s},function(e,t,i){function r(e){o.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var n=i(6).Buffer,o=i(148).Transform,a=i(22).StringDecoder;i(5)(r,o),r.prototype.update=function(e,t,i){"string"==typeof e&&(e=n.from(e,t));var r=this._update(e);return this.hashMode?this:(i&&(r=this._toString(r,i)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,i){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{i(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return i&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,i){function r(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var r=t(t.s=ENTRY_MODULE);return r.default||r}function n(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e,t,r){var o={};o[r]=[];var a=t.toString(),s=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var u,l=s[1],c=new RegExp("(\\\\n|\\W)"+n(l)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=c.exec(a);)"dll-reference"!==u[3]&&o[r].push(u[3]);for(c=new RegExp("\\("+n(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=c.exec(a);)e[u[2]]||(o[r].push(u[1]),e[u[2]]=i(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var h,d=Object.keys(o),f=0;f<d.length;f++)for(var p=0;p<o[d[f]].length;p++)h=o[d[f]][p],isNaN(1*h)||(o[d[f]][p]=1*o[d[f]][p]);return o}function a(e){return Object.keys(e).reduce(function(t,i){return t||e[i].length>0},!1)}e.exports=function(e,t){t=t||{};var n={main:i.m},s=t.all?{main:Object.keys(n.main)}:function(e,t){for(var i={main:[t]},r={main:[]},n={main:{}};a(i);)for(var s=Object.keys(i),u=0;u<s.length;u++){var l=s[u],c=i[l].pop();if(n[l]=n[l]||{},!n[l][c]&&e[l][c]){n[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var h=o(e,e[l][c],l),d=Object.keys(h),f=0;f<d.length;f++)i[d[f]]=i[d[f]]||[],i[d[f]]=i[d[f]].concat(h[d[f]])}}return r}(n,e),u="";Object.keys(s).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;s[e][t];)t++;s[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map(function(t){return JSON.stringify(t)+": "+n[e][t].toString()}).join(",")+"});\n"}),u=u+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(t.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),h=new window.Worker(c);return h.objectURL=c,h}},function(e,t,i){"use strict";function r(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(d.isEncoding===f||!f(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=a,this.end=s,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=l,t=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(t)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function a(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function u(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}var d=i(6).Buffer,f=d.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},r.prototype.text=function(e,t){var i=function(e,t,i){var r=t.length-1;if(r<i)return 0;var o=n(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<i||-2===o?0:(o=n(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<i||-2===o?0:(o=n(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",n)}function n(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(e){e.end()}var a=i(38),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=r;var u=Object.create(i(32));u.inherits=i(5);var l=i(81),c=i(51);u.inherits(r,l);for(var h=s(c.prototype),d=0;d<h.length;d++){var f=h[d];r.prototype[f]||(r.prototype[f]=c.prototype[f])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},function(e,t,i){"use strict";(function(t,r){var n=i(6).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var i=n.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(i.slice(a,a+65536));else o.getRandomValues(i);return"function"==typeof t?r.nextTick(function(){t(null,i)}):i}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,i(13),i(9))},function(e,t,i){"use strict";function r(e,t,i){i||(i=Error);var r=function(e){function i(i,r,n){return e.call(this,function(e,i,r){return"string"==typeof t?t:t(e,i,n)}(i,r))||this}var r,n;return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(i);r.prototype.name=i.name,r.prototype.code=e,o[e]=r}function n(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map(function(e){return String(e)}),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}var o={};r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,i){var r,o,a;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(n(t,"type"));else{var s=function(e,t,i){return"number"!=typeof i&&(i=0),!(i+".".length>e.length)&&-1!==e.indexOf(".",i)}(e)?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof i)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=o},function(e,t,i){"use strict";(function(t){function r(e){if(!(this instanceof r))return new r(e);s.call(this,e),u.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",n)))}function n(){this._writableState.ended||t.nextTick(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=r;var s=i(73),u=i(77);i(5)(r,s);for(var l=a(u.prototype),c=0;c<l.length;c++){var h=l[c];r.prototype[h]||(r.prototype[h]=u.prototype[h])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,i(9))},function(e,t,i){function r(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var n=i(6).Buffer;r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var i=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%r,l=Math.min(o-s,r-u),c=0;c<l;c++)i[u+c]=e[s+c];s+=l,(a+=l)%r==0&&this._update(i)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(4294967295&i)>>>0,n=(i-r)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,i){"use strict";function r(e,t,i){i||(i=Error);var r=function(e){function i(i,r,n){return e.call(this,function(e,i,r){return"string"==typeof t?t:t(e,i,n)}(i,r))||this}var r,n;return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(i);r.prototype.name=i.name,r.prototype.code=e,o[e]=r}function n(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map(function(e){return String(e)}),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}var o={};r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,i){var r,o,a;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(n(t,"type"));else{var s=function(e,t,i){return"number"!=typeof i&&(i=0),!(i+".".length>e.length)&&-1!==e.indexOf(".",i)}(e)?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof i)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=o},function(e,t,i){"use strict";(function(t){function r(e){if(!(this instanceof r))return new r(e);s.call(this,e),u.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",n)))}function n(){this._writableState.ended||t.nextTick(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=r;var s=i(102),u=i(106);i(5)(r,s);for(var l=a(u.prototype),c=0;c<l.length;c++){var h=l[c];r.prototype[h]||(r.prototype[h]=u.prototype[h])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,i(9))},function(e,t,i){"use strict";var r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,r=0;r<i;++r)t[r].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();e.exports=r},function(e,t,i){"use strict";function r(e){u.call(this,"digest"),this._hash=e}var n=i(5),o=i(44),a=i(47),s=i(48),u=i(20);n(r,u),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new o:"rmd160"===e||"ripemd160"===e?new a:new r(s(e))}},function(e,t,i){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(10).Buffer.isBuffer},function(e,t,i){(function(t){e.exports=function(e,i){for(var r=Math.min(e.length,i.length),n=new t(r),o=0;o<r;++o)n[o]=e[o]^i[o];return n}}).call(this,i(10).Buffer)},function(e,t,i){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var n=i(18),o=i(14);t.BlockHash=r,r.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var i=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-i,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,r=new Array(i+this.padLength);r[0]=128;for(var n=1;n<i;n++)r[n]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e}else for(r[n++]=255&e,r[n++]=e>>>8&255,r[n++]=e>>>16&255,r[n++]=e>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,o=8;o<this.padLength;o++)r[n++]=0;return r}},function(e,t,i){"use strict";function r(e,t){a.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function n(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return n.isEncoderBuffer(e)||(e=new n(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var o=i(5),a=i(64).Reporter,s=i(62).Buffer;o(r,a),t.DecoderBuffer=r,r.isDecoderBuffer=function(e){return e instanceof r||"object"==typeof e&&s.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},r.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},r.prototype.restore=function(e){var t=new r(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},r.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new r(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},r.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=n,n.isEncoderBuffer=function(e){return e instanceof n||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},n.prototype.join=function(e,t){return e||(e=s.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,t),t+=i.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,i){"use strict";function r(e,t,i){var r=e;if(t+i<r.length){for(;i--;)if(128!=(192&r[++t]))return!1;return!0}return!1}function n(e,t){return!!(t+1<e.length&&function(e,t){return 255===e[t]&&240==(246&e[t+1])}(e,t))}function o(e,t,i){return function(e,t,i){var r,n,o,a,s,u=navigator.userAgent.toLowerCase(),l=i,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(r=1+((192&e[t+2])>>>6),!((n=(60&e[t+2])>>>2)>c.length-1))return a=(1&e[t+2])<<2,a|=(192&e[t+3])>>>6,/firefox/i.test(u)?n>=6?(r=5,s=new Array(4),o=n-3):(r=2,s=new Array(2),o=n):-1!==u.indexOf("android")?(r=2,s=new Array(2),o=n):(r=5,s=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&n>=6?o=n-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(n>=6&&1===a||/vivaldi/i.test(u))||!i&&1===a)&&(r=2,s=new Array(2)),o=n)),s[0]=r<<3,s[0]|=(14&n)>>1,s[1]|=(1&n)<<7,s[1]|=a<<3,5===r&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[n],channelCount:a,codec:"mp4a.40."+r,manifestCodec:l};console.log("ADTS parse fail. reason: 'invalid ADTS sampling index:${adtsSampleingIndex}'")}(e,t,i)}function a(e){return 9216e4/e}function s(e,t,i,r,n){var o=function(e,t,i,r,n){var o,a,s=e.length;if(o=function(e,t){return 1&e[t+1]?7:9}(e,t),a=function(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}(e,t),(a-=o)>0&&t+o+a<=s)return{headerLength:o,frameLength:a,stamp:i+r*n}}(t,i,r,n,a(e));if(o){var s=o.stamp,u=o.headerLength,l=o.frameLength;return{sample:{unit:t.subarray(i+u,i+u+l),pts:s,dts:s},length:l+u}}}var u,l=i(8),c=i.n(l),h=i(0),d=i(7),f=i(17),p=function(e){for(var t=[],i=e,n=0,o=e.length;n<o;)if(i[n]<128)t.push(String.fromCharCode(i[n])),++n;else{if(i[n]<192);else if(i[n]<224){if(r(i,n,1)){var a=(31&i[n])<<6|63&i[n+1];if(a>=128){t.push(String.fromCharCode(65535&a)),n+=2;continue}}}else if(i[n]<240){if(r(i,n,2)){var s=(15&i[n])<<12|(63&i[n+1])<<6|63&i[n+2];if(s>=2048&&55296!=(63488&s)){t.push(String.fromCharCode(65535&s)),n+=3;continue}}}else if(i[n]<248&&r(i,n,3)){var u=(7&i[n])<<18|(63&i[n+1])<<12|(63&i[n+2])<<6|63&i[n+3];if(u>65536&&u<1114112){u-=65536,t.push(String.fromCharCode(u>>>10|55296)),t.push(String.fromCharCode(1023&u|56320)),n+=4;continue}}t.push(String.fromCharCode(65533)),++n}return t.join("")},A=i(4),g=(u=new ArrayBuffer(2),new DataView(u).setInt16(0,256,!0),256===new Int16Array(u)[0]),m=function(){function e(){}return e.parseScriptData=function(t,i,r){var n={};try{var o=e.parseValue(t,i,r),a=e.parseValue(t,i+o.size,r-o.size);n[o.data]=a.data}catch(e){h.a.e("AMF",e.toString())}return n},e.parseObject=function(t,i,r){if(r<3)throw new A.a("Data not enough when parse ScriptDataObject");var n=e.parseString(t,i,r),o=e.parseValue(t,i+n.size,r-n.size),a=o.objectEnd;return{data:{name:n.data,value:o.data},size:n.size+o.size,objectEnd:a}},e.parseVariable=function(t,i,r){return e.parseObject(t,i,r)},e.parseString=function(e,t,i){if(i<2)throw new A.a("Data not enough when parse String");var r=new DataView(e,t,i).getUint16(0,!g);return{data:r>0?p(new Uint8Array(e,t+2,r)):"",size:2+r}},e.parseLongString=function(e,t,i){if(i<4)throw new A.a("Data not enough when parse LongString");var r=new DataView(e,t,i).getUint32(0,!g);return{data:r>0?p(new Uint8Array(e,t+4,r)):"",size:4+r}},e.parseDate=function(e,t,i){if(i<10)throw new A.a("Data size invalid when parse Date");var r=new DataView(e,t,i),n=r.getFloat64(0,!g),o=r.getInt16(8,!g);return{data:new Date(n+=60*o*1e3),size:10}},e.parseValue=function(t,i,r){if(r<1)throw new A.a("Data not enough when parse Value");var n,o=new DataView(t,i,r),a=1,s=o.getUint8(0),u=!1;try{switch(s){case 0:n=o.getFloat64(1,!g),a+=8;break;case 1:n=!!o.getUint8(1),a+=1;break;case 2:var l=e.parseString(t,i+1,r-1);n=l.data,a+=l.size;break;case 3:n={};var c=0;for(9==(16777215&o.getUint32(r-4,!g))&&(c=3);a<r-4;){var d=e.parseObject(t,i+a,r-a-c);if(d.objectEnd)break;n[d.data.name]=d.data.value,a+=d.size}a<=r-3&&9==(16777215&o.getUint32(a-1,!g))&&(a+=3);break;case 8:n={},a+=4;var f=0;for(9==(16777215&o.getUint32(r-4,!g))&&(f=3);a<r-8;){var p=e.parseVariable(t,i+a,r-a-f);if(p.objectEnd)break;n[p.data.name]=p.data.value,a+=p.size}a<=r-3&&9==(16777215&o.getUint32(a-1,!g))&&(a+=3);break;case 9:n=void 0,a=1,u=!0;break;case 10:n=[];var m=o.getUint32(1,!g);a+=4;for(var y=0;y<m;y++){var v=e.parseValue(t,i+a,r-a);n.push(v.data),a+=v.size}break;case 11:var E=e.parseDate(t,i+1,r-1);n=E.data,a+=E.size;break;case 12:var w=e.parseString(t,i+1,r-1);n=w.data,a+=w.size;break;default:a=r,h.a.w("AMF","Unsupported AMF value type "+s)}}catch(e){h.a.e("AMF",e.toString())}return{data:n,size:a,objectEnd:u}},e}(),y=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}var t=e.prototype;return t.destroy=function(){this._buffer=null},t._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new A.a("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},t.readBits=function(e){if(e>32)throw new A.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var n=Math.min(r,this._current_word_bits_left),o=this._current_word>>>32-n;return this._current_word<<=n,this._current_word_bits_left-=n,i<<n|o},t.readBool=function(){return 1===this.readBits(1)},t.readByte=function(){return this.readBits(8)},t._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},t.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},t.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}(),v=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,r=new Uint8Array(i),n=0,o=0;o<i;o++)o>=2&&3===t[o]&&0===t[o-1]&&0===t[o-2]||(r[n]=t[o],n++);return new Uint8Array(r.buffer,0,n)},e.parseSPS=function(t){var i=e._ebsp2rbsp(t),r=new y(i);r.readByte();var n=r.readByte();r.readByte();var o=r.readByte();r.readUEG();var a=e.getProfileString(n),s=e.getLevelString(o),u=1,l=420,c=8;if((100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||144===n)&&(3===(u=r.readUEG())&&r.readBits(1),u<=3&&(l=[0,420,422,444][u]),c=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var h=3!==u?8:12,d=0;d<h;d++)r.readBool()&&(d<6?e._skipScalingList(r,16):e._skipScalingList(r,64));r.readUEG();var f=r.readUEG();if(0===f)r.readUEG();else if(1===f){r.readBits(1),r.readSEG(),r.readSEG();for(var p=r.readUEG(),A=0;A<p;A++)r.readSEG()}var g=r.readUEG();r.readBits(1);var m=r.readUEG(),v=r.readUEG(),E=r.readBits(1);0===E&&r.readBits(1),r.readBits(1);var w=0,b=0,C=0,I=0;r.readBool()&&(w=r.readUEG(),b=r.readUEG(),C=r.readUEG(),I=r.readUEG());var S=1,M=1,k=0,T=!0,D=0,B=0;if(r.readBool()){if(r.readBool()){var R=r.readByte();R>0&&R<16?(S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][R-1],M=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][R-1]):255===R&&(S=r.readByte()<<8|r.readByte(),M=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var Q=r.readBits(32),O=r.readBits(32);T=r.readBool(),k=(D=O)/(B=2*Q)}}var L=1;1===S&&1===M||(L=S/M);var x=0,q=0;0===u?(x=1,q=2-E):(x=3===u?1:2,q=(1===u?2:1)*(2-E));var K=16*(m+1),U=16*(v+1)*(2-E);K-=(w+b)*x,U-=(C+I)*q;var F=Math.ceil(K*L);return r.destroy(),r=null,{avc_profile:n,profile_string:a,avc_level:o,level_string:s,bit_depth:c,ref_frames:g,chroma_format:l,chroma_format_string:e.getChromaFormatString(l),frame_rate:{fixed:T,fps:k,fps_den:B,fps_num:D},sar_ratio:{width:S,height:M},codec_size:{width:K,height:U},present_size:{width:F,height:U}}},e._skipScalingList=function(e,t){for(var i=8,r=8,n=0;n<t;n++)0!==r&&(r=(i+e.readSEG()+256)%256),i=0===r?i:r},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}(),E=i(1),w=i(12),b=function(){function e(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new f.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),this._onReceiveH265MediaFLVFrame=null,this._onAudioError=null,this._videoCodecId=0,this._audioCodecId=0,this._AVC_SPS=null,this._AVC_PPS=null,this._HEVC_VPS=null,this._HEVC_SPS=null,this._HEVC_PPS=null,this._StartCode=[0,0,0,1],this._SampleRate=8e3,this._ChannelNum=1,this._AudioMaxFrameSize=0,this._DebugBuf=null,this._DebugBufPos=0,this._lastAudioPts=0,this._lastVideoPts=0,this._index=0,this._allowAudio=!1,this.sei_data=null}var t,i,r=e.prototype;return r.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._onAudioError=null,this._onReceiveSEIData=null,this._onReceiveH265MediaFLVFrame=null},e.probe=function(e){var t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;var r,n=(4&t[4])>>>2!=0,o=0!=(1&t[4]),a=(r=t)[5]<<24|r[6]<<16|r[7]<<8|r[8];return a<9?i:{match:!0,consumed:a,dataOffset:a,hasAudioTrack:n,hasVideoTrack:o}},r.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},r.resetMediaInfo=function(){this._mediaInfo=new f.a},r._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},r.parseChunks=function(t,i){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new A.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,n=this._littleEndian;if(0===i){if(!(t.byteLength>13))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,i+r!==this._dataOffset&&h.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(t,r).getUint32(0,!n)&&h.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<t.byteLength;){this._dispatch=!0;var o=new DataView(t,r);if(r+11+4>t.byteLength)break;var a=o.getUint8(0),s=16777215&o.getUint32(0,!n);if(r+11+s+4>t.byteLength)break;if(8===a||9===a||18===a){var u=o.getUint8(4),l=o.getUint8(5),c=o.getUint8(6)|l<<8|u<<16|o.getUint8(7)<<24;0!=(16777215&o.getUint32(7,!n))&&h.a.w(this.TAG,"Meet tag which has StreamID != 0!");var d=r+11;switch(a){case 8:c-this._lastAudioPts<=0&&(this._index>1&&(this._hasAudioFlagOverrided=!0,this._mediaInfo.hasAudio=!1,this._hasAudio=!1,this._onAudioError()),this._index++),this._lastAudioPts=c,this._audioCodecId=this._parseAudioData(t,d,s,c);break;case 9:this._parseVideoData(t,d,s,c,i+r);break;case 18:this._parseScriptData(t,d,s)}var f=o.getUint32(11+s,!n);f!==11+s&&h.a.w(this.TAG,"Invalid PrevTagSize "+f),r+=11+s+4}else h.a.w(this.TAG,"Unsupported tag type "+a+", skipped"),r+=11+s+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.samples.length||this._videoTrack.samples.length)&&(7===this._videoCodecId||0===this._videoCodecId?"auto"===this._config.decodeType?this._onDataAvailable(this._audioTrack,this._videoTrack):(this._videoTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeVideo(27,this._videoTrack),this._audioTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeAudio(10===this._audioCodecId?86018:0,this._audioTrack)):12===this._videoCodecId&&(this._videoTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeVideo(173,this._videoTrack),this._audioTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeAudio(10===this._audioCodecId?86018:0,this._audioTrack))),r},r._parseScriptData=function(e,t,i){new DataView(e,t,i);var r=m.parseScriptData(e,t,i);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!=typeof r.onMetaData)return void h.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&h.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;var n=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},n)),"boolean"==typeof n.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=n.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof n.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=n.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof n.audiodatarate&&(this._mediaInfo.audioDataRate=n.audiodatarate),"number"==typeof n.videodatarate&&(this._mediaInfo.videoDataRate=n.videodatarate),"number"==typeof n.width&&(this._mediaInfo.width=n.width),"number"==typeof n.height&&(this._mediaInfo.height=n.height),"number"==typeof n.duration){if(!this._durationOverrided){var o=Math.floor(n.duration*this._timescale);this._duration=o,this._mediaInfo.duration=o}}else this._mediaInfo.duration=0;if("number"==typeof n.framerate){var a=Math.floor(1e3*n.framerate);if(a>0){var s=a/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=s,this._referenceFrameRate.fps_num=a,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=s}}if("object"==typeof n.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var u=n.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(u),n.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=n,h.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(r).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},r))},r._parseKeyframesIndex=function(e){for(var t=[],i=[],r=1;r<e.times.length;r++){var n=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(n),i.push(e.filepositions[r])}return{times:t,filepositions:i}},r._parseAudioData=function(e,t,i,r){if(i<=1)return h.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!"),0;if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return 0;this._littleEndian;var n=new DataView(e,t,i).getUint8(0),o=n>>>4;if(2!==o&&10!==o)return this._onError(w.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o),0;var a,s=(12&n)>>>2;if(!(s>=0&&s<=4))return this._onError(w.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+s),0;a=this._flvSoundRateTable[s];var u=1&n,l=this._audioMetadata,c=this._audioTrack;if(l||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(l=this._audioMetadata={}).type="audio",l.id=c.id,l.timescale=this._timescale,l.duration=this._duration,l.audioSampleRate=a,l.channelCount=0===u?1:2),10===o){var d=this._parseAACAudioData(e,t+1,i-1);if(null==d)return 0;if(0===d.packetType){l.config&&h.a.w(this.TAG,"Found another AudioSpecificConfig!");var f=d.data;l.audioSampleRate=f.samplingRate,l.channelCount=f.channelCount,l.codec=f.codec,l.originalCodec=f.originalCodec,l.config=f.config,l.refSampleDuration=1024/l.audioSampleRate*l.timescale,h.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._SampleRate=f.samplingRate,this._ChannelNum=f.channelCount,this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.samples.length||this._videoTrack.samples.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",l);var p=this._mediaInfo;p.audioCodec=l.originalCodec,p.audioSampleRate=l.audioSampleRate,p.audioChannelCount=l.channelCount,p.hasVideo?null!=p.videoCodec&&(p.mimeType='video/x-flv; codecs="'+p.videoCodec+","+p.audioCodec+'"'):p.mimeType='video/x-flv; codecs="'+p.audioCodec+'"',p.isComplete()&&this._onMediaInfo(p)}else if(1===d.packetType){var A=this._timestampBase+r,g={unit:d.data,length:d.data.byteLength,dts:A,pts:A};c.samples.push(g),c.length+=d.data.length,d.data.length>this._AudioMaxFrameSize&&(this._AudioMaxFrameSize=d.data.length)}else h.a.e(this.TAG,"Flv: Unsupported AAC data type "+d.packetType)}else if(2===o){if(!l.codec){var m=this._parseMP3AudioData(e,t+1,i-1,!0);if(null==m)return 0;l.audioSampleRate=m.samplingRate,l.channelCount=m.channelCount,l.codec=m.codec,l.originalCodec=m.originalCodec,l.refSampleDuration=1152/l.audioSampleRate*l.timescale,h.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",l);var y=this._mediaInfo;y.audioCodec=l.codec,y.audioSampleRate=l.audioSampleRate,y.audioChannelCount=l.channelCount,y.audioDataRate=m.bitRate,y.hasVideo?null!=y.videoCodec&&(y.mimeType='video/x-flv; codecs="'+y.videoCodec+","+y.audioCodec+'"'):y.mimeType='video/x-flv; codecs="'+y.audioCodec+'"',y.isComplete()&&this._onMediaInfo(y)}var v=this._parseMP3AudioData(e,t+1,i-1,!1);if(null==v)return 0;var E=this._timestampBase+r,b={unit:v,length:v.byteLength,dts:E,pts:E};c.samples.push(b),c.length+=v.length}return o},r._parseAACAudioData=function(e,t,i){if(!(i<=1)){var r={},n=new Uint8Array(e,t,i);return r.packetType=n[0],0===n[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):r.data=n.subarray(1),r}h.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},r._parseAACAudioSpecificConfig=function(e,t,i){var r,n,o=new Uint8Array(e,t,i),a=null,s=0,u=null;if(s=r=o[0]>>>3,(n=(7&o[0])<<1|o[1]>>>7)<0||n>=this._mpegSamplingRates.length)this._onError(w.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var l=this._mpegSamplingRates[n],c=(120&o[1])>>>3;if(!(c<0||c>=8)){5===s&&(u=(7&o[1])<<1|o[2]>>>7,o[2]);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf("firefox")?n>=6?(s=5,a=new Array(4),u=n-3):(s=2,a=new Array(2),u=n):-1!==h.indexOf("android")?(s=2,a=new Array(2),u=n):(s=5,u=n,a=new Array(4),n>=6?u=n-3:1===c&&(s=2,a=new Array(2),u=n)),a[0]=s<<3,a[0]|=(15&n)>>>1,a[1]=(15&n)<<7,a[1]|=(15&c)<<3,5===s&&(a[1]|=(15&u)>>>1,a[2]=(1&u)<<7,a[2]|=8,a[3]=0),{config:a,samplingRate:l,channelCount:c,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+r}}this._onError(w.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},r._parseMP3AudioData=function(e,t,i,r){if(!(i<4)){this._littleEndian;var n=new Uint8Array(e,t,i),o=null;if(r){if(255!==n[0])return;var a=n[1]>>>3&3,s=(6&n[1])>>1,u=(240&n[2])>>>4,l=(12&n[2])>>>2,c=3!=(n[3]>>>6&3)?2:1,d=0,f=0;switch(a){case 0:d=this._mpegAudioV25SampleRateTable[l];break;case 2:d=this._mpegAudioV20SampleRateTable[l];break;case 3:d=this._mpegAudioV10SampleRateTable[l]}switch(s){case 1:u<this._mpegAudioL3BitRateTable.length&&(f=this._mpegAudioL3BitRateTable[u]);break;case 2:u<this._mpegAudioL2BitRateTable.length&&(f=this._mpegAudioL2BitRateTable[u]);break;case 3:u<this._mpegAudioL1BitRateTable.length&&(f=this._mpegAudioL1BitRateTable[u])}o={bitRate:f,samplingRate:d,channelCount:c,codec:"mp3",originalCodec:"mp3"}}else o=n;return o}h.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},r._parseVideoData=function(e,t,i,r,n){if(i<=1)h.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,i)[0],a=(240&o)>>>4;this._videoCodecId=15&o,7===this._videoCodecId||12===this._videoCodecId?(E.h(7===this._videoCodecId?"H264":"H265"),this._parseAVCAndHEVCVideoPacket(e,t+1,i-1,r,n,a)):this._onError(w.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+codecId)}},r._parseAVCAndHEVCVideoPacket=function(e,t,i,r,n,o){if(i<4)h.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var a=this._littleEndian,s=new DataView(e,t,i),u=s.getUint8(0),l=(16777215&s.getUint32(0,!a))<<8>>8;if(0===u)7===this._videoCodecId?this._parseAVCDecoderConfigurationRecord(e,t+4,i-4):this._parseHEVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===u)7===this._videoCodecId?this._parseAVCVideoData(e,t+4,i-4,r,n,o,l):this._parseHEVCVideoData(e,t+4,i-4,r,n,o,l);else if(2!==u)return void this._onError(w.a.FORMAT_ERROR,"Flv: Invalid video packet type "+u)}},r._parseAVCDecoderConfigurationRecord=function(e,t,i){if(i<7)h.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,n=this._videoTrack,o=this._littleEndian,a=new DataView(e,t,i);if(r)void 0!==r.avcc&&h.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!");else{!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=n.id,r.timescale=this._timescale,r.duration=this._duration;var s=a.getUint8(0),u=a.getUint8(1);if(a.getUint8(2),a.getUint8(3),1===s&&0!==u)if(this._naluLengthSize=1+(3&a.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var l=31&a.getUint8(5);if(0!==l){l>1&&h.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+l);for(var c=6,d=0;d<l;d++){var f=a.getUint16(c,!o);if(c+=2,0!==f){var p=new Uint8Array(e,t+c,f);this._AVC_SPS=new Uint8Array(f+4),c+=f,this._AVC_SPS.set(this._StartCode,0),this._AVC_SPS.set(p,4);var A=v.parseSPS(p);if(0===d){r.codecWidth=A.codec_size.width,r.codecHeight=A.codec_size.height,r.presentWidth=A.present_size.width,r.presentHeight=A.present_size.height,r.profile=A.profile_string,r.level=A.level_string,r.bitDepth=A.bit_depth,r.chromaFormat=A.chroma_format,r.sarRatio=A.sar_ratio,r.frameRate=A.frame_rate,!1!==A.frame_rate.fixed&&0!==A.frame_rate.fps_num&&0!==A.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var g=r.frameRate.fps_den,m=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(g/m);for(var y=p.subarray(1,4),E="avc1.",b=0;b<3;b++){var C=y[b].toString(16);C.length<2&&(C="0"+C),E+=C}r.codec=E;var I=this._mediaInfo;I.width=r.codecWidth,I.height=r.codecHeight,I.fps=r.frameRate.fps,I.profile=r.profile,I.level=r.level,I.refFrames=A.ref_frames,I.chromaFormat=A.chroma_format_string,I.sarNum=r.sarRatio.width,I.sarDen=r.sarRatio.height,I.videoCodec=E,I.hasAudio?null!=I.audioCodec&&(I.mimeType='video/x-flv; codecs="'+I.videoCodec+","+I.audioCodec+'"'):I.mimeType='video/x-flv; codecs="'+I.videoCodec+'"',I.isComplete()&&this._onMediaInfo(I)}}}var S=a.getUint8(c);if(0!==S){S>1&&h.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+S),c++;for(var M=0;M<S;M++){var k=a.getUint16(c,!o);if(c+=2,0!==k){var T=new Uint8Array(e,t+c,k);this._AVC_PPS=new Uint8Array(k+4),this._AVC_PPS.set(this._StartCode,0),this._AVC_PPS.set(T,4),c+=k}}r.avcc=new Uint8Array(i),r.avcc.set(new Uint8Array(e,t,i),0),h.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r),h.a.i(this.TAG,"Video resolution: "+r.codecWidth+" x "+r.codecHeight)}else this._onError(w.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(w.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(w.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(w.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}}},r._parseHEVCDecoderConfigurationRecord=function(e,t,i){if(i<7)h.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,n=this._videoTrack,o=this._littleEndian,a=new DataView(e,t,i);r?void 0!==r.avcc&&h.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=n.id,r.timescale=this._timescale,r.duration=this._duration);var s=a.getUint8(0),u=a.getUint8(1),l=a.getUint8(2),c=a.getUint8(3);if(0===s&&0===u&&0===l&&1===c);else{var d=22,f=a.getUint8(d);d+=1;for(var p=0;p<f;p++){var A=a.getUint8(d);d+=1,a.getUint16(d,!o),d+=2;var g=a.getUint16(d,!o);if(d+=2,32===A||160==A){var m=new Uint8Array(e,t+d,g);this._HEVC_VPS=new Uint8Array(g+4),this._HEVC_VPS.set(this._StartCode,0),this._HEVC_VPS.set(m,4)}else if(33===A||161==A){var y=new Uint8Array(e,t+d,g);this._HEVC_SPS=new Uint8Array(g+4),this._HEVC_SPS.set(this._StartCode,0),this._HEVC_SPS.set(y,4)}else if(34===A||162==A){var v=new Uint8Array(e,t+d,g);this._HEVC_PPS=new Uint8Array(g+4),this._HEVC_PPS.set(this._StartCode,0),this._HEVC_PPS.set(v,4)}d+=g}}this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1}},r._parseAVCVideoData=function(e,t,i,r,n,o,a){var s=this._littleEndian,u=new DataView(e,t,i),l=[],c=0,d=0,f=this._naluLengthSize,p=this._timestampBase+r,A=1===o,g=!0;for(7==this._videoCodecId&&("auto"!==this._config.decodeType&&"hard"!==this._config.decodeType||(g=!1));d<i;){if(d+4>=i){h.a.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+d+", dataSize = "+i);break}var m=u.getUint32(d,!s);if(3===f&&(m>>>=8),m>i-f)return void h.a.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var y=31&u.getUint8(d+f);if(5===y&&(A=!0,l.length<1&&this._AVC_SPS&&this._AVC_SPS.length>0))if(g){var v={type:7,data:this._AVC_SPS};l.push(v),c+=v.data.length;var E={type:8,data:this._AVC_PPS};l.push(E),c+=E.data.length}else{var w=this._AVC_SPS.subarray(0,this._AVC_SPS.length),b=w.length-4;w[0]=b>>24,w[1]=b>>16,w[2]=b>>8,w[3]=255&b;var C={type:7,data:w};l.push(C),c+=C.data.length;var I=this._AVC_PPS.subarray(0,this._AVC_PPS.length),S=I.length-4;I[0]=S>>24,I[1]=S>>16,I[2]=S>>8,I[3]=255&S;var M={type:8,data:I};l.push(M),c+=M.data.length}if(6===y&&l.length<1){var k=u.getUint8(d+f+1);if(u.getUint8(d+f+4),100===k){for(var T=0,D=0,B=0;B<10;B++){var R=255&u.getUint8(d+f+1+1+D);if(D++,T+=R,255!==R)break}var Q=void 0,O=null;(T>16||T>=3)&&(Q=new Uint8Array(e,t+d+f+1+D+1,T-1),O=new TextDecoder("utf-8").decode(Q)),this.sei_data=O,this._onReceiveSEIData({code:200,msg:"发送SEI",data:O}),c+=T-1}}var L=new Uint8Array(e,t+d,f+m),x={type:y,data:L};l.push(x),c+=L.byteLength,d+=f+m}if(l.length){var q=this._videoTrack,K={units:l,length:c,isKeyframe:A,dts:p,cts:a,pts:p+a,sei:this.sei_data};A&&(K.fileposition=n),q.samples.push(K),q.length+=c}},r._makeH265Header=function(e){var t=2;switch(e){case 78:case 80:t=1;break;case 64:case 66:case 32:case 34:case 36:case 38:case 40:case 42:t=1}return t},r._parseHEVCVideoData=function(e,t,i,r,n,o,a){var s=this._littleEndian,u=new DataView(e,t,i),l=this._timestampBase+r,c=1===o,d=[],f=0;for(this._naluLengthSize;f<i;){if(f+4>=i){h.a.w(this.TAG,"Malformed Nalu near timestamp "+l+", offset = "+f+", dataSize = "+i);break}var p=u.getUint8(f),A=u.getUint8(f+1),g=u.getUint8(f+2),m=u.getUint8(f+3);if(0===p&&0===A&&0===g&&1===m);else{var y=u.getUint32(f,!s);f+=4;var v=u.getUint8(f);if(f+=1,y>i-4)return void h.a.w(this.TAG,"Malformed Nalus near timestamp "+l+", NaluSize > DataSize!");if(y+f-1>i)break;var E=u.getUint8(f-1),w=this._makeH265Header(E);if((32===E||34===E||36===E||38===E||40===E||42===E)&&d.length<1){if(this._HEVC_VPS){var b={type:5,data:this._HEVC_VPS};d.push(b),this._HEVC_VPS.length}if(this._HEVC_SPS){var C={type:6,data:this._HEVC_SPS};d.push(C),this._HEVC_SPS.length}if(this._HEVC_PPS){var I={type:7,data:this._HEVC_PPS};d.push(I),this._HEVC_PPS.length}}if(1===w&&this._HEVC_VPS&&this._HEVC_VPS[0],78!=v&&t+f-1-4>=0&&y>0){var S=new Uint8Array(e,t+f-1-4,y+4);S[0]=0,S[1]=0,S[2]=0,S[3]=1;var M={type:5,data:S};d.push(M),S.length}f+=y-1}}if(d.length){var k=this._videoTrack,T={units:d,length:0,isKeyframe:c,dts:l,cts:a,pts:l+a};c&&(T.fileposition=n),k.samples.push(T),k.length+=0}},r._onDataAvailableToSoftwareDecodeVideo=function(e,t){var i=t.samples,r=-1;for(i.length>1&&(r=0);i.length;){for(var n=i.shift(),o=0,a=0;a<n.units.length;a++)o+=n.units[a].data.length;for(var s=0,u=new Uint8Array(o);n.units.length;){var l=n.units.shift();27===e&&(l.data[0]=0,l.data[1]=0,l.data[2]=0,l.data[3]=1),u.set(l.data,s),s+=l.data.length}this._onReceiveH265MediaFLVFrame&&(r>=0&&r++,this._onReceiveH265MediaFLVFrame("video",!0,1,e,n.isKeyframe,u,o,n.pts,0,0,0,n.sei))}},r._onDataAvailableToSoftwareDecodeAudio=function(e,t){var i=t.samples,r=-1;for(i.length>1&&(r=0);i.length;){var n=i.shift();this._onReceiveH265MediaFLVFrame&&(r>=0&&r++,this._onReceiveH265MediaFLVFrame("audio",!0,2,e,0,n.unit,n.length,n.pts,this._SampleRate,this._ChannelNum,this._SampleRate>=44100?32:16))}},t=e,(i=[{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e}},{key:"onReceiveH265MediaFLVFrame",get:function(){return this._onReceiveH265MediaFLVFrame},set:function(e){this._onReceiveH265MediaFLVFrame=e}},{key:"onAudioError",get:function(){return this._onAudioError},set:function(e){this._onAudioError=e}},{key:"onReceiveSEIData",get:function(){return this._onReceiveSEIData},set:function(e){this._onReceiveSEIData=e}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:"overridedDuration",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:"overridedHasAudio",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:"overridedHasVideo",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),C=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,r=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");r.set(e.subarray(i,i+n)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return e>32&&logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?i<<t|this.readBits(t):i},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,i=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(i+this.readEG()+256)%256),i=0===r?i:r},t.readSPS=function(){var e,t,i,r,n,o,a,s=0,u=0,l=0,c=0,h=this.readUByte.bind(this),d=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),A=this.skipBits.bind(this),g=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(h(),e=h(),d(5),A(3),h(),m(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=f();if(3===v&&A(1),m(),m(),A(1),p())for(o=3!==v?8:12,a=0;a<o;a++)p()&&y(a<6?16:64)}m();var E=f();if(0===E)f();else if(1===E)for(A(1),g(),g(),t=f(),a=0;a<t;a++)g();m(),A(1),i=f(),r=f(),0===(n=d(1))&&A(1),A(1),p()&&(s=f(),u=f(),l=f(),c=f());var w=[1,1];if(p()&&p())switch(h()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[h()<<8|h(),h()<<8|h()]}return{width:Math.ceil(16*(i+1)-2*s-2*u),height:(2-n)*(r+1)*16-(n?2:4)*(l+c),pixelRatio:w}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),I=function(){function e(e,t,i){this.TAG="M3U8Demuxer",this._config=e,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._hasAudio=!1,this._hasVideo=!1,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._initVideoMetadata=!1,this._initAudioMetadata=!1,this._mediaInfo=new f.a,this._mediaInfo.hasAudio=!1,this._mediaInfo.hasVideo=!1,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this.tagPosition=0,this.filePosition=0,this.isHEVC=0,this.isAAC=0,this.avcTrackPid=-1,this.audioTrackPid=-1,this.id3TrackPid=-1,this.audioSampleRate=0,this.audioChannel=2,this.audioBitPerSample=16,this.avcTrackPesData=null,this.audioTrackPesData=null,this.id3TrackPesData=null,this.findKeyframe=!0,this.syncVideoPts=0,this.syncAudioPts=0,this.startVideoPts=0,this.startAudioPts=0,this.accurateTimeOffset=0,this.lastVideoPts=0,this.currentVideoPts=0,this.seekVideoHistoryPts=0,this.currentAudioPts=0,this.audioFrameNum=0,this.reset=0,this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._AVC_SPS=null,this._AVC_PPS=null,this._HEVC_VPS=null,this._HEVC_SPS=null,this._HEVC_PPS=null,this._StartCode=[0,0,0,1],this._AVC_Config=null,this._callbackInitFlag=!1,this._callbackMediaDataFunc=t,this._callbackMediaDataUserPtr=i,this._onReceiveH265MediaHLSFrame=null}var t,i,r=e.prototype;return r.bindDataSource=function(e){return e.onDataArrival=this.append.bind(this),this},r.resetMediaInfo=function(){this._mediaInfo=new f.a},r.resetMediaPts=function(e){this.reset=e,this.syncVideoPts=0,this.syncAudioPts=0,this.findKeyframe=!0,this._videoTrack.samples=[],this._audioTrack.samples=[]},r._onDataAvailableToSoftwareDecodeVideo=function(e,t){var i=t.samples;if(e<1&&i.length>0)console.log("EXCEPTION:: No used...");else{var r=-1;for(i.length>1&&(r=0);i.length;){for(var n=i.shift(),o=0,a=0;a<n.units.length;a++)o+=n.units[a].data.length;for(var s=0,u=new Uint8Array(o);n.units.length;){var l=n.units.shift();27==e&&(l.data[0]=0,l.data[1]=0,l.data[2]=0,l.data[3]=1),u.set(l.data,s),s+=l.data.length}this._onReceiveH265MediaHLSFrame&&(r>=0&&r++,this._onReceiveH265MediaHLSFrame("video",!0,1,e,n.isKeyframe,u,o,n.pts,0,0,0))}}},r._onDataAvailableToSoftwareDecodeAudio=function(e,t){var i=t.samples,r=-1;for(i.length>1&&(r=0);i.length;){var n=i.shift();this._onReceiveH265MediaHLSFrame&&(r>=0&&r++,this._onReceiveH265MediaHLSFrame("audio",!0,2,e,0,n.unit,n.length,n.pts,this._SampleRate,this._ChannelNum,this._SampleRate>=44100?32:16))}},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0,isHEVC:0}},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),i=0;i<t;){if(71===e[i]&&71===e[i+188]&&71===e[i+376])return i;i++}return-1},r.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0,this._onReceiveH265MediaHLSFrame=null},r.parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},r.parsePMT=function(e,t,i,r){var n,o,a={audio:-1,avc:-1,hevc:-1,id3:-1,isAAC:!0};for(n=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<n;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r)break;case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!r){logger.log("unknown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=o),E.h("H264");break;case 36:-1===a.avc&&(a.avc=o,a.hevc=o),E.h("H265");break;case 3:case 4:i?-1===a.audio&&(a.audio=o,a.isAAC=!1):logger.log("MPEG audio found, not supported in this browser for now");break;case 36:console.warn("HEVC stream type found, not supported for now")}t+=5+((15&e[t+3])<<8|e[t+4])}return a},r.parsePES=function(e){if(1!==this.reset){var t,i,r,n,o,a,s,u,l=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var h=new Uint8Array(c[0].length+c[1].length);h.set(c[0]),h.set(c[1],c[0].length),c[0]=h,c.splice(1,1)}if(1===((t=c[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;if(192&(i=t[7])&&((a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(a-=4294967295),64&i?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=4294967295),a-s>54e5&&(console.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),u=(n=t[8])+9,e.size<=u)return null;e.size-=u,o=new Uint8Array(e.size);for(var d=0,f=c.length;d<f;d++){var p=(t=c[d]).byteLength;if(u){if(u>p){u-=p;continue}t=t.subarray(u),p-=u,u=0}o.set(t,l),l+=p}return r&&(r-=n+3),{data:o,pts:a,dts:s,len:r}}return null}},r.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var i=t.samples,r=i.length;if(isNaN(e.pts)){if(!r)return void t.dropped++;var n=i[r-1];e.pts=n.pts,e.dts=n.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,i.push(e)):t.dropped++}e.debug.length&&logger.log(e.pts+"/"+e.dts+":"+e.debug)},r.parseAVCPES=function(e,t,i){var r=this,n=0;(0===this.startVideoPts||e.pts<this.startVideoPts)&&(this.startVideoPts=e.pts,n=1),this.audioFrameNum=0;var o=this._parseAVCNALu(e.data),a=[],s=0;e.data=null;var u=!1;o.forEach(function(t){var i=t.data.length,n=new Uint8Array(4+i);n[0]=i>>24&255,n[1]=i>>16&255,n[2]=i>>8&255,n[3]=255&i,n.set(t.data,4);var o={type:t.type,data:n};switch(s+=n.length,a.push(o),t.type){case 1:break;case 5:r.findKeyframe=!1,u=!0;break;case 6:var l=new C(r.discardEPB(t.data));l.readUByte();for(var c=0,d=0,f=!1,p=0;!f&&l.bytesAvailable>1;){c=0;do{c+=p=l.readUByte()}while(255===p);d=0;do{d+=p=l.readUByte()}while(255===p);if(4===c&&0!==l.bytesAvailable){if(f=!0,181===l.readUByte()&&49===l.readUShort()&&1195456820===l.readUInt()&&3===l.readUByte()){for(var A=l.readUByte(),g=31&A,m=[A,l.readUByte()],y=0;y<g;y++)m.push(l.readUByte()),m.push(l.readUByte()),m.push(l.readUByte());r._insertSampleInOrder(r._txtTrack.samples,{type:3,pts:e.pts,bytes:m})}}else if(5===c&&0!==l.bytesAvailable){if(f=!0,d>16){for(var E=[],w=0;w<16;w++)E.push(l.readUByte().toString(16)),3!==w&&5!==w&&7!==w&&9!==w||E.push("-");for(var b=d-16,I=new Uint8Array(b),S=0;S<b;S++)I[S]=l.readUByte()}}else if(d<l.bytesAvailable)for(var M=0;M<d;M++)l.readUByte()}break;case 7:r.findKeyframe=!1,r.tagPosition=r.filePosition,r._AVC_Config=v.parseSPS(t.data);var k=r._AVC_Config,T="avc1.";if(k)for(var D=t.data.subarray(1,4),B=0;B<3;B++){var R=D[B].toString(16);R.length<2&&(R="0"+R),T+=R}if(!r._initVideoMetadata){null==r._AVC_SPS&&(r._AVC_SPS=new Uint8Array(t.data.length+4),r._AVC_SPS.set(r._StartCode,0),r._AVC_SPS.set(t.data,4));var Q=r._videoMetadata,O=r._videoTrack;if(Q?void 0!==Q.avcc&&h.a.w(r.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===r._hasVideo&&!1===r._hasVideoFlagOverrided&&(r._hasVideo=!0,r._mediaInfo.hasVideo=!0),(Q=r._videoMetadata={}).type="video",Q.id=O.id,Q.timescale=r._timescale,Q.duration=r._duration),Q.codecWidth=k.codec_size.width,Q.codecHeight=k.codec_size.height,Q.presentWidth=k.present_size.width,Q.presentHeight=k.present_size.height,Q.profile=k.profile_string,Q.level=k.level_string,Q.bitDepth=k.bit_depth,Q.chromaFormat=k.chroma_format,Q.sarRatio=k.sar_ratio,Q.frameRate=k.frame_rate,!1!==k.frame_rate.fixed&&0!==k.frame_rate.fps_num&&0!==k.frame_rate.fps_den||(Q.frameRate=r._referenceFrameRate),void 0!==Q.frameRate){var L=Q.frameRate.fps_den,x=Q.frameRate.fps_num;Q.refSampleDuration=Q.timescale*(L/x)}Q.codec=T;var q=r._mediaInfo;q.width=Q.codecWidth,q.height=Q.codecHeight,void 0!==Q.frameRate&&(q.fps=Q.frameRate.fps),q.profile=Q.profile,q.level=Q.level,q.refFrames=k.ref_frames,q.chromaFormat=k.chroma_format_string,q.sarNum=Q.sarRatio.width,q.sarDen=Q.sarRatio.height,q.videoCodec=T,q.hasAudio?null!=q.audioCodec&&(q.mimeType='video/x-flv; codecs="'+q.videoCodec+","+q.audioCodec+'"'):q.mimeType='video/x-flv; codecs="'+q.videoCodec+'"',q.isComplete()&&r._onMediaInfo(q)}break;case 8:if(r.findKeyframe=!1,null==r._AVC_PPS&&(r._AVC_PPS=new Uint8Array(t.data.length+4),r._AVC_PPS.set(r._StartCode,0),r._AVC_PPS.set(t.data,4)),!r._initVideoMetadata){r._initVideoMetadata=!0;var K=r._videoMetadata;if(null==K.avcc){var U=0,F=r._AVC_SPS.length-4+8+1+2+(r._AVC_PPS.length-4);K.avcc=new Uint8Array(F+1),K.avcc[0]=1,K.avcc[1]=r._AVC_SPS[5],K.avcc[2]=r._AVC_SPS[6],K.avcc[3]=r._AVC_SPS[7],K.avcc[4]=255,K.avcc[5]=225,U=6,new Uint8Array,K.avcc[U++]=r._AVC_SPS.length-4>>8,K.avcc[U++]=r._AVC_SPS.length-4&255;var j=r._AVC_SPS.subarray(4,r._AVC_SPS.length);K.avcc.set(j,U),U+=j.length,K.avcc[U++]=1,K.avcc[U++]=r._AVC_PPS.length-4>>8,K.avcc[U++]=r._AVC_PPS.length-4&255;var N=r._AVC_PPS.subarray(4,r._AVC_PPS.length);K.avcc.set(N,U),U+=N.length,K.avcc[F]=1}r._onTrackMetadata("video",K)}}});var l=(e.pts-this.startVideoPts)/90;u&&this.syncVideoPts<1&&(this.syncVideoPts=this.startVideoPts);var c=this._videoTrack,d={units:a,length:s,isKeyframe:u,dts:l,cts:0,pts:l};u&&(d.fileposition=this.tagPosition),0!==this.reset||this.findKeyframe||(c.samples.push(d),c.length+=s),this.filePosition+=s,this.accurateTimeOffset=d.pts,this.lastVideoPts=e.pts,1===n&&(this.seekVideoHistoryPts=l),t&&0===this.reset&&(console.log("this._config",this._config,this._config.decodeType),"auto"===this._config.decodeType||"hard"===this._config.decodeType?(this._onDataAvailable(this._audioTrack,this._videoTrack),console.log("_onDataAvailable",this._audioTrack,this._videoTrack)):(this._videoTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeVideo(27,this._videoTrack),this._audioTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeAudio(86018,this._audioTrack)))},r.parseHEVCPES=function(e,t,i){(0===this.startVideoPts||e.pts<this.startVideoPts)&&(this.startVideoPts=e.pts);var r=[],n=0,o={type:1,data:e.data},a=0;if((n+=e.data.length)>32)for(var s=0;s<256&&s<e.data.length;s++)if(0===e.data[s]&&0===e.data[s+1]&&0===e.data[s+2]&&1===e.data[s+3]&&64===e.data[s+4]){a=1,this.findKeyframe=!1;break}r.push(o);var u=(e.pts-this.startVideoPts)/90;a&&this.syncVideoPts<1&&(this.syncVideoPts=this.startVideoPts);var l=this._videoTrack,c={units:r,length:n,isKeyframe:a,dts:u,cts:0,pts:u};a&&(c.fileposition=this.tagPosition),l.samples.push(c),l.length+=n,this._videoTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeVideo(173,this._videoTrack),this._audioTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeAudio(86018,this._audioTrack)},r._insertSampleInOrder=function(e,t){var i=e.length;if(i>0){if(t.pts>=e[i-1].pts)e.push(t);else for(var r=i-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},r._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var i=this._avcTrack.samples;t=i[i.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},r._parseAVCNALu=function(e){var t,i,r,n=0,o=e.byteLength,a=0,s=[],u=-1;for(-1===a&&(u=0,r=31&e[0],a=0,n=1);n<o;)t=e[n++],a?1!==a?t?1===t?(u>=0&&9!=(i={data:e.subarray(u,n-a-1),type:r}).type&&s.push(i),n<o?(u=n,r=31&e[n],a=0):a=-1):a=0:a=3:a=t?0:2:a=t?0:1;if(u>=0&&a>=0&&(i={data:e.subarray(u,o),type:r,state:a},s.push(i)),0===s.length){var l=this._getLastNalUnit();if(l){var c=new Uint8Array(l.data.byteLength+e.byteLength);c.set(l.data,0),c.set(e,l.data.byteLength),l.data=c}}return s},r.discardEPB=function(e){for(var t,i,r=e.byteLength,n=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=e[a];return i},r.parseAACPES=function(e,t){0===this.startAudioPts&&(this.startAudioPts=e.pts);var i,r,u,l,c,d,f,p=this._audioTrack,A=e.data,g=e.pts,m=this.aacOverFlow,y=this.aacLastPTS;if(m){var v=new Uint8Array(m.byteLength+A.byteLength);v.set(m,0),v.set(A,m.byteLength),A=v}for(u=0,c=A.length;u<c-1&&!n(A,u);u++);if(!u||(u<c-1?(d="AAC PES did not start with ADTS header,offset:"+u,f=!1):(d="no ADTS header found in AAC PES",f=!0),logger.warn("parsing error:"+d),this.observer.trigger(Event.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:f,reason:d}),!f)){if(this.audioSampleRate<1){var E=o(A,u,this.audioCodec);if(E&&(this.audioSampleRate=E.samplerate,this.audioChannel=E.channelCount,this.audioBitPerSample=16,!this._initAudioMetadata)){this._initAudioMetadata=!0;var w=this._audioMetadata,b=this._audioTrack;w||((w=this._audioMetadata={}).type="audio",w.id=b.id,w.timescale=1e3,w.duration=0,w.audioSampleRate=this.audioSampleRate,w.channelCount=this.audioChannel),w.config&&h.a.w(this.TAG,"Found another AudioSpecificConfig!"),E.config,w.audioSampleRate=E.samplerate,w.channelCount=E.channelCount,w.codec=E.codec,w.originalCodec=E.originalCodec,w.config=E.config,w.refSampleDuration=1024/w.audioSampleRate*w.timescale,this._SampleRate=E.samplerate,this._ChannelNum=E.channelCount,this._onDataAvailable(this._audioTrack,this._videoTrack),this._onTrackMetadata("audio",w);var C=this._mediaInfo;C.audioCodec=w.originalCodec,C.audioSampleRate=w.audioSampleRate,C.audioChannelCount=w.channelCount,C.hasVideo?null!=C.videoCodec&&(C.mimeType='video/x-flv; codecs="'+C.videoCodec+","+C.audioCodec+'"'):C.mimeType='video/x-flv; codecs="'+C.audioCodec+'"',C.isComplete()&&this._onMediaInfo(C)}}if(r=0,i=a(this.audioSampleRate),m&&y){var I=y+i;Math.abs(I-g)>1&&(console.log("AAC: align PTS for overlapping frames by "+Math.round((I-g)/90)),g=I)}for(;u<c;)if(n(A,u)&&u+5<c){var S=s(this.audioSampleRate,A,u,g,r);if(!S)break;var M=Math.round((S.sample.pts-this.startAudioPts)/90),k={unit:S.sample.unit,length:S.length,dts:M,pts:M};0!==this.reset||this.findKeyframe||(this.syncAudioPts<1&&this.syncVideoPts>0&&(this.syncAudioPts=this.syncVideoPts),this.syncAudioPts>0&&(p.samples.push(k),p.length+=S.length)),u+=S.length,l=S.sample.pts,r++}else u++;m=u<c?A.subarray(u,c):null,this.aacOverFlow=m,this.aacLastPTS=l}},r.parseMPEGPES=function(e){for(var t=e.data,i=t.length,r=0,n=0,o=e.pts;n<i;)if(MpegAudio.isHeader(t,n)){var a=MpegAudio.appendFrame(this._audioTrack,t,n,o,r);if(!a)break;n+=a.length,r++}else n++},r.append=function(t,i,r){if(null!=t&&1!==this.reset){var n,o,a,s,u,l,c=t.length,h=!1,d=-1,f=-1,p=-1,A=this.avcTrackPesData,g=this.audioTrackPesData,m=this.id3TrackPesData,y=!1,v=e._syncOffset(t);for(c-=(c+v)%188,n=v;n<c;n+=188)if(71===t[n]){if(o=!!(64&t[n+1]),a=((31&t[n+1])<<8)+t[n+2],(48&t[n+3])>>4>1){if((s=n+5+t[n+4])===n+188)continue}else s=n+4;switch(a){case d:o&&(A&&(u=this.parsePES(A))&&(1===this.isHEVC?this.parseHEVCPES(u,!1,r):this.parseAVCPES(u,!1,r)),A={data:[],size:0}),A&&(A.data.push(t.subarray(s,n+188)),A.size+=n+188-s);break;case f:o&&(g&&(u=this.parsePES(g))&&(this.isAAC?this.parseAACPES(u,!1):this.parseMPEGPES(u)),g={data:[],size:0}),g&&(g.data.push(t.subarray(s,n+188)),g.size+=n+188-s);break;case p:o&&(m&&(u=this.parsePES(m))&&parseID3PES(u),m={data:[],size:0}),m&&(m.data.push(t.subarray(s,n+188)),m.size+=n+188-s);break;case 0:o&&(s+=t[s]+1),l=this.parsePAT(t,s);break;case l:o&&(s+=t[s]+1);var E=this.parsePMT(t,s,!1,!1);d=E.avc,E.hevc>0&&(d=E.hevc,this.isHEVC=1),d>0&&(this.avcTrackPid=d),!this._callbackInitFlag&&this._callbackMediaDataFunc&&(this._callbackInitFlag=!0,1===this.isHEVC||"auto"!==this._config.decodeType&&"hard"!==this._config.decodeType||this._callbackMediaDataFunc(this._callbackMediaDataUserPtr,!1,1,0,0,null,0,0,0,0)),(f=E.audio)>0&&(this.audioTrackPid=f,this.isAAC=E.isAAC),(p=E.id3)>0&&(this.id3TrackPid=p),h&&!y&&(console.log("reparse from beginning"),h=!1,n=v-188),y=!0;break;case 17:case 8191:break;default:h=!0}}else console.log("parse error... reason: 'TS packet did not start with 0x47'");A&&(u=this.parsePES(A))?(1==this.isHEVC?this.parseHEVCPES(u,!0,r):this.parseAVCPES(u,!0,r),this.avcTrackPesData=null):this.avcTrackPesData=A,g&&(u=this.parsePES(g))?(this.isAAC?this.parseAACPES(u,!0):this.parseMPEGPES(u),this.audioTrackPesData=null):(g&&g.size&&logger.log("last AAC PES packet truncated,might overlap between fragments"),this.audioTrackPesData=g),m&&(u=this.parsePES(m))?(parseID3PES(u),this.id3TrackPesData=null):this.id3TrackPesData=m}},t=e,(i=[{key:"onReceiveH265MediaHLSFrame",get:function(){return this._onReceiveH265MediaHLSFrame},set:function(e){this._onReceiveH265MediaHLSFrame=e}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:"overridedDuration",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:"overridedHasAudio",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:"overridedHasVideo",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),S=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=e.constants={};i.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),i.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),i.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSC=i.STCO=i.STTS,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),i.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,i=null,r=Array.prototype.slice.call(arguments,1),n=r.length,o=0;o<n;o++)t+=r[o].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);for(var a=8,s=0;s<n;s++)i.set(r[s],a),a+=r[s].byteLength;return i},e.generateInitSegment=function(t){var i=e.box(e.types.ftyp,e.constants.FTYP),r=e.moov(t),n=new Uint8Array(i.byteLength+r.byteLength);return n.set(i,0),n.set(r,i.byteLength),n},e.moov=function(t){var i=e.mvhd(t.timescale,t.duration),r=e.trak(t),n=e.mvex(t);return e.box(e.types.moov,i,r,n)},e.mvhd=function(t,i){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var i=t.id,r=t.duration,n=t.presentWidth,o=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,o>>>8&255,255&o,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var i=t.timescale,r=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))},e.hdlr=function(t){var i;return i="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,i)},e.minf=function(t){var i;return i="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,i,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var i=t.channelCount,r=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types[".mp3"],n)},e.mp4a=function(t){var i=t.channelCount,r=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.mp4a,n,e.esds(t))},e.esds=function(t){var i=t.config||[],r=i.length,n=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(i).concat([6,1,2]));return e.box(e.types.esds,n)},e.avc1=function(t){var i=t.avcc,r=t.codecWidth,n=t.codecHeight,o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,o,e.box(e.types.avcC,i))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var i=t.id,r=new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,r)},e.moof=function(t,i){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,i))},e.mfhd=function(t){var i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,i)},e.traf=function(t,i){var r=t.id,n=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),o=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),a=e.sdtp(t),s=e.trun(t,a.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,n,o,s,a)},e.sdtp=function(t){for(var i=t.samples||[],r=i.length,n=new Uint8Array(4+r),o=0;o<r;o++){var a=i[o].flags;n[o+4]=a.isLeading<<6|a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy}return e.box(e.types.sdtp,n)},e.trun=function(t,i){var r=t.samples||[],n=r.length,o=12+16*n,a=new Uint8Array(o);i+=8+o,a.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var s=0;s<n;s++){var u=r[s].duration,l=r[s].size,c=r[s].flags,h=r[s].cts;a.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*s)}return e.box(e.types.trun,a)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();S.init();var M=S,k=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),T=i(21),D=i(16),B=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new D.c("audio"),this._videoSegmentInfoList=new D.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!d.a.chrome||!(d.a.version.major<50||50===d.a.version.major&&d.a.version.build<2661)),this._fillSilentAfterSeek=d.a.msedge||d.a.msie,this._mp3UseMpegAudio=!d.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap,this._recordWorker=null,this._findKeyframe=!0,this._initRecordFlag=!1,this._recordFileName="record.mp4"}var t,i,r=e.prototype;return r.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null,this._recordWorker&&(this._recordWorker.terminate(),this._recordWorker=null)},r.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},r.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},r.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},r.remux=function(e,t){if(!this._onMediaSegment)throw new A.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)},r._onTrackMetadataReceived=function(e,t){var i=null,r="mp4",n=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",n="",i=new Uint8Array):i=M.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=M.generateInitSegment(t)}if(!this._onInitSegment)throw new A.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:n,container:e+"/"+r,mediaDuration:t.duration})},r._calculateDtsBase=function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},r.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);var r={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(r.samples.push(t),r.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(r,!0)},r._remuxAudio=function(e,t){if(null!=this._audioMeta){var i,r=e,n=r.samples,o=void 0,a=-1,s=this._audioMeta.refSampleDuration,u="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,l=this._dtsBaseInited&&void 0===this._audioNextDts,c=!1;if(n&&0!==n.length&&(1!==n.length||t)){if(!E.c())for(var f=0;f<n.length;f++)n.shift();var p=0,A=null,g=0;u?(p=0,g=r.length):(p=8,g=8+r.length);var m=null;if(n.length>1&&(g-=(m=n.pop()).length),null!=this._audioStashedLastSample){var y=this._audioStashedLastSample;this._audioStashedLastSample=null,n.unshift(y),g+=y.length}null!=m&&(this._audioStashedLastSample=m);var v=n[0].dts-this._dtsBase;if(this._audioNextDts)o=v-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())o=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(c=!0);else{var w=this._audioSegmentInfoList.getLastSampleBefore(v);if(null!=w){var b=v-(w.originalDts+w.duration);b<=3&&(b=0),o=v-(w.dts+w.duration+b)}else o=0}if(c){var C=v-o,I=this._videoSegmentInfoList.getLastSegmentBefore(v);if(null!=I&&I.beginDts<C){var S=k.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(S){var T=I.beginDts,B=C-I.beginDts;h.a.v(this.TAG,"InsertPrefixSilentAudio: dts: "+T+", duration: "+B),n.unshift({unit:S,dts:T,pts:T}),g+=S.byteLength}}else c=!1}for(var R=[],Q=0;Q<n.length;Q++){var O=n[Q],L=O.unit,x=O.dts-this._dtsBase,q=x,K=!1,U=null,F=0;if(!(x<-.001)){if("mp3"!==this._audioMeta.codec){var j=x;if(this._audioNextDts&&(j=this._audioNextDts),(o=x-j)<=-3*s){h.a.w(this.TAG,"Dropping 1 audio frame (originalDts: "+x+" ms ,curRefDts: "+j+" ms)  due to dtsCorrection: "+o+" ms overlap.");continue}if(o>=3*s&&this._fillAudioTimestampGap&&!d.a.safari){K=!0;var N=Math.floor(o/s);h.a.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\noriginalDts: "+x+" ms, curRefDts: "+j+" ms, dtsCorrection: "+Math.round(o)+" ms, generate: "+N+" frames"),q=Math.floor(j),F=Math.floor(j+s)-q;var J=k.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==J&&(h.a.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),J=L),U=[];for(var G=0;G<N;G++){j+=s;var Y=Math.floor(j),P=Math.floor(j+s)-Y,z={dts:Y,pts:Y,cts:0,unit:J,size:J.byteLength,duration:P,originalDts:x,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};U.push(z),g+=z.size}this._audioNextDts=j+s}else q=Math.floor(j),F=Math.floor(j+s)-q,this._audioNextDts=j+s}else q=x-o,F=Q!==n.length-1?n[Q+1].dts-this._dtsBase-o-q:null!=m?m.dts-this._dtsBase-o-q:R.length>=1?R[R.length-1].duration:Math.floor(s),this._audioNextDts=q+F;if(-1===a&&(a=q),this._initRecordFlag&&this._recordWorker&&!this._findKeyframe){var Z=new Uint8Array(O.unit),W={cmd:E.q,mediaType:"audio",dat:Z,pts:q};this._recordWorker.postMessage(W,[W.dat.buffer])}R.push({dts:q,pts:q,cts:0,unit:O.unit,size:O.unit.byteLength,duration:F,originalDts:x,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),K&&R.push.apply(R,U)}}if(0===R.length)return r.samples=[],void(r.length=0);u?A=new Uint8Array(g):((A=new Uint8Array(g))[0]=g>>>24&255,A[1]=g>>>16&255,A[2]=g>>>8&255,A[3]=255&g,A.set(M.types.mdat,4));for(var V=0;V<R.length;V++){var H=R[V].unit;A.set(H,p),p+=H.byteLength}var X=R[R.length-1];i=X.dts+X.duration;var _=new D.b;_.beginDts=a,_.endDts=i,_.beginPts=a,_.endPts=i,_.originalBeginDts=R[0].originalDts,_.originalEndDts=X.originalDts+X.duration,_.firstSample=new D.d(R[0].dts,R[0].pts,R[0].duration,R[0].originalDts,!1),_.lastSample=new D.d(X.dts,X.pts,X.duration,X.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(_),r.samples=R,r.sequenceNumber++;var $;$=u?new Uint8Array:M.moof(r,a),r.samples=[],r.length=0;var ee={type:"audio",data:this._mergeBoxes($,A).buffer,sampleCount:R.length,info:_};u&&l&&(ee.timestampOffset=a),this._onMediaSegment("audio",ee)}}},r._remuxVideo=function(e,t){if(null!=this._videoMeta){var i,r,n=e,o=n.samples,a=void 0,s=-1,u=-1;if(o&&0!==o.length&&(1!==o.length||t)){var l=8,c=null,h=8+e.length,d=null;if(o.length>1&&(h-=(d=o.pop()).length),null!=this._videoStashedLastSample){var f=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(f),h+=f.length}null!=d&&(this._videoStashedLastSample=d);var p=o[0].dts-this._dtsBase;if(this._videoNextDts)a=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())a=0;else{var A=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=A){var g=p-(A.originalDts+A.duration);g<=3&&(g=0),a=p-(A.dts+A.duration+g)}else a=0}for(var m=new D.b,y=[],v=0;v<o.length;v++){var w=o[v],b=w.dts-this._dtsBase,C=w.isKeyframe,I=b-a,S=w.cts,k=I+S;-1===s&&(s=I,u=k);var T;if(T=v!==o.length-1?o[v+1].dts-this._dtsBase-a-I:null!=d?d.dts-this._dtsBase-a-I:y.length>=1?y[y.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),C){var B=new D.d(I,k,T,w.dts,!0);B.fileposition=w.fileposition,m.appendSyncPoint(B),this._findKeyframe=!1}y.push({dts:I,pts:k,cts:S,units:w.units,size:w.length,isKeyframe:C,duration:T,originalDts:b,flags:{isLeading:0,dependsOn:C?2:1,isDependedOn:C?1:0,hasRedundancy:0,isNonSync:C?0:1}})}if(this._initRecordFlag&&this._recordWorker&&!this._findKeyframe)for(var R=!1,Q=0;Q<o.length;Q++){var O=o[Q],L=O.units[0].data.length;if(O.units.length>=3)for(var x=1;x<O.units.length;x++){if(6===O.units.length){if(x<4)continue;if(5===O.units.length&&x<3)continue}L+=O.units[x].data.length}R=O.isKeyframe;var q=new Uint8Array(O.units[0].data),K=0,U=new Uint8Array(L);if(U.set(q,0),U[0]=0,U[1]=0,U[2]=0,U[3]=1,K+=q.length,O.units.length>=3)for(var F=1;F<O.units.length;F++)if(!(6===O.units.length&&F<4||5===O.units.length&&F<3)){var j=new Uint8Array(O.units[F].data);U.set(j,K),U[K+0]=0,U[K+1]=0,U[K+2]=0,U[K+3]=1,K+=j.length}var N={cmd:E.q,mediaType:"video",codecId:28,type:R,dat:U,pts:O.dts};this._recordWorker.postMessage(N,[N.dat.buffer])}(c=new Uint8Array(h))[0]=h>>>24&255,c[1]=h>>>16&255,c[2]=h>>>8&255,c[3]=255&h,c.set(M.types.mdat,4);for(var J=0;J<y.length;J++)for(var G=y[J].units;G.length;){var Y=G.shift().data;c.set(Y,l),l+=Y.byteLength}var P=y[y.length-1];if(i=P.dts+P.duration,r=P.pts+P.duration,this._videoNextDts=i,m.beginDts=s,m.endDts=i,m.beginPts=u,m.endPts=r,m.originalBeginDts=y[0].originalDts,m.originalEndDts=P.originalDts+P.duration,m.firstSample=new D.d(y[0].dts,y[0].pts,y[0].duration,y[0].originalDts,y[0].isKeyframe),m.lastSample=new D.d(P.dts,P.pts,P.duration,P.originalDts,P.isKeyframe),this._isLive||this._videoSegmentInfoList.append(m),n.samples=y,n.sequenceNumber++,this._forceFirstIDR){var z=y[0].flags;z.dependsOn=2,z.isNonSync=0}var Z=M.moof(n,s);n.samples=[],n.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(Z,c).buffer,sampleCount:y.length,info:m})}}},r._mergeBoxes=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i},r.videoRecording=function(e,t,i,r){if(1===i){if(this._recordFileName=e,null!=this._recordWorker)return-1e3;this._findKeyframe=!0;try{this._recordWorker=T(67),this.onwmsg=this._onRecordingWorkerMessage.bind(this);var n={cmd:E.w,url:E.g(),filesize:t,audioSamplerate:this._audioMeta?this._audioMeta.audioSampleRate:0,channelCount:this._audioMeta?this._audioMeta.channelCount:1};this._recordWorker.postMessage(n),this._recordWorker.addEventListener("message",this.onwmsg)}catch(e){this.recordWorker=null}}else this._initRecordFlag=!1,this._recordWorker&&(this._recordWorker.postMessage({cmd:E.C}),this._findKeyframe=!0)},r._onRecordingWorkerMessage=function(e){var t=e.data;switch(t.cmd){case E.w:this._findKeyframe=!0,this._initRecordFlag=!0;break;case E.p:this._initRecordFlag=!1;var i=document.createElement("a");i.style.display="none",i.href=t.dat,i.download=this._recordFileName,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(i.href),document.body.removeChild(i),this._findKeyframe=!1,this._recordWorker.terminate(),this._recordWorker=null}},t=e,(i=[{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),R=i(37),Q=i(2),O=(i(3),function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new c.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var i=0;this._mediaDataSource.segments.forEach(function(r){r.timestampBase=i,i+=r.duration,r.cors=e.cors,r.withCredentials=e.withCredentials,t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null,this._onReceiveH265MediaFrameFuc=null,this._mediaTypeIsHLS=e.url.includes(".m3u8")}var t=e.prototype;return t.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},t.on=function(e,t){this._emitter.addListener(e,t)},t.off=function(e,t){this._emitter.removeListener(e,t)},t.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},t._loadSegment=function(e,t){this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],r=this._ioctl=new R.a(i,this._config,e);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t),r.loaderChunkArrival=this._loaderChunkArrival.bind(this),r.loaderHLSError=this._loaderHLSError.bind(this)},t._loaderChunkArrival=function(e){this._emitter.emit("loaderChunkArrival",e)},t._loaderHLSError=function(){this._emitter.emit("hls_error")},t.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},t._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},t.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},t.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},t.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e;else{var r=i.getNearestKeyframe(e);this._remuxer.seek(r.milliseconds),this._ioctl.seek(r.fileposition),this._pendingResolveSeekPoint=r.milliseconds}}else{var n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{var o=n.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,o.fileposition),this._pendingResolveSeekPoint=o.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}},t._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,i=t.length-1,r=0;r<t.length;r++)if(e<t[r].timestampBase){i=r-1;break}return i},t._onInitChunkArrival=function(e,t){var i=this;this._emitter.emit(Q.a.RECORDING,e);var r=null,n=0;if(this._mediaTypeIsHLS){if(null==e&&t<0)return void this._emitter.emit(Q.a.RECONNECT_ING,t);if(null==e&&t>0)return;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,this._demuxer.append(e,t,0),n=e.length;else{this._demuxer=new I(this._config),this._remuxer||(this._remuxer=new B(this._config));var o=this._mediaDataSource;null==o.duration||isNaN(o.duration)||(this._demuxer.overridedDuration=o.duration),"boolean"==typeof o.hasAudio&&(this._demuxer.overridedHasAudio=o.hasAudio),"boolean"==typeof o.hasVideo&&(this._demuxer.overridedHasVideo=o.hasVideo),this._demuxer.timestampBase=o.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onReceiveH265MediaHLSFrame=this._onReceiveH265MediaFrameFuc,this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),this._demuxer.append(e,t,0),n=e.length}}else if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,n=this._demuxer.parseChunks(e,t);else if((r=b.probe(e)).match){this._demuxer=new b(r,this._config),this._remuxer||(this._remuxer=new B(this._config));var a=this._mediaDataSource;null==a.duration||isNaN(a.duration)||(this._demuxer.overridedDuration=a.duration),"boolean"==typeof a.hasAudio&&(this._demuxer.overridedHasAudio=a.hasAudio),"boolean"==typeof a.hasVideo&&(this._demuxer.overridedHasVideo=a.hasVideo),this._mediaDataSource.hasAudio=!1,this._demuxer.timestampBase=a.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onReceiveSEIData=this._onReceiveSEIData.bind(this),this._demuxer.onAudioError=this._onAudioError.bind(this),this._demuxer.onReceiveH265MediaFLVFrame=this._onReceiveH265MediaFrameFuc,this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),n=this._demuxer.parseChunks(e,t)}else r=null,h.a.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){i._internalAbort()}),this._emitter.emit(Q.a.DEMUX_ERROR,w.a.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),n=0;return n},t._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,f.a.prototype));var i=Object.assign({},e);Object.setPrototypeOf(i,f.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=i,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})},t._onMetaDataArrived=function(e){this._emitter.emit(Q.a.METADATA_ARRIVED,e)},t._onAudioError=function(){this._emitter.emit(Q.a.AUDIO_ERROR)},t._onReceiveSEIData=function(e){this._emitter.emit(Q.a.SEI_DATA,e)},t._onScriptDataArrived=function(e){this._emitter.emit(Q.a.SCRIPTDATA_ARRIVED,e)},t._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},t._onIOComplete=function(e,t){var i=e+1;i<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(i)):(t&&"socket-close"===t&&this._emitter.emit(Q.a.SOCKET_CLOSE),this._remuxer.flushStashedSamples(),this._emitter.emit(Q.a.LOADING_COMPLETE),this._disableStatisticsReporter())},t._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},t._onIORecoveredEarlyEof=function(){this._emitter.emit(Q.a.RECOVERED_EARLY_EOF)},t._onIOException=function(e,t){h.a.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(Q.a.IO_ERROR,e,t),this._disableStatisticsReporter()},t._onDemuxException=function(e,t){h.a.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(Q.a.DEMUX_ERROR,e,t)},t._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(Q.a.INIT_SEGMENT,e,t)},t._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(Q.a.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var i=t.info.syncPoints,r=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,d.a.safari&&i.length>0&&i[0].originalDts===r&&(r=i[0].pts),this._emitter.emit(Q.a.RECOMMEND_SEEKPOINT,r)}},t._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},t._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},t._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(Q.a.MEDIA_INFO,i)},t._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Q.a.STATISTICS_INFO,e)},t.setReceiveH265MediaFrame=function(e){this._onReceiveH265MediaFrameFuc=e},t._getHLSTotalDuration=function(){if(null==this._ioctl)return 0;var e=this._ioctl._getM3u8Loader();return e?e._getM3u8TotalDuration():0},t._seekToSecs=function(e,t){var i=this._ioctl._getM3u8Loader();i&&(i.seek(e,t),this._demuxer&&this._demuxer.resetMediaPts(1)),this._remuxer&&this._remuxer.seek(0),i&&this._demuxer&&this._demuxer.resetMediaPts(0)},t.videoRecording=function(e,t,i,r){this._remuxer&&this._remuxer.videoRecording(e,t,i,r)},e}());t.a=O},function(e,t,i){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=i(0),l=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}var t,i,r=e.prototype;return r.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},r.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},t=e,(i=[{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:"averageKBps",get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=i(3),h=i(7),d=i(4),f=function(e){function t(t,i){var r;return(r=e.call(this,"fetch-stream-loader")||this).TAG="FetchStreamLoader",r._seekHandler=t,r._config=i,r._needStash=!0,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r}var i,n;n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,r(i,n),t.isSupported=function(){try{var e=h.a.msedge&&h.a.version.minor>=15048,t=!h.a.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}};var o=t.prototype;return o.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},o.open=function(e,t){var i=this;this._dataSource=e,this._range=t;var r=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(r=e.redirectedURL);var n=this._seekHandler.getConfig(r,t),o=new self.Headers;if("object"==typeof n.headers){var a=n.headers;for(var s in a)a.hasOwnProperty(s)&&o.append(s,a[s])}var u={method:"GET",headers:o,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var l in this._config.headers)o.append(l,this._config.headers[l]);!1===e.cors&&(u.mode="same-origin"),e.withCredentials&&(u.credentials="include"),e.referrerPolicy&&(u.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,u.signal=this._abortController.signal),this._status=c.c.kConnecting,self.fetch(n.url,u).then(function(e){if(i._requestAbort)return i._status=c.c.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==n.url&&i._onURLRedirect){var t=i._seekHandler.removeURLParameters(e.url);i._onURLRedirect(t)}var r=e.headers.get("Content-Length");return null!=r&&(i._contentLength=parseInt(r),0!==i._contentLength&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength)),i._pump.call(i,e.body.getReader())}if(i._status=c.c.kError,!i._onError)throw new d.d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);i._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(!i._abortController||!i._abortController.signal.aborted){if(i._status=c.c.kError,!i._onError)throw e;i._onError(c.b.EXCEPTION,{code:-1,msg:e.message})}})},o.abort=function(){if(this._requestAbort=!0,(this._status!==c.c.kBuffering||!h.a.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},o._pump=function(e){var t=this;return e.read().then(function(i){if(i.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=c.c.kError;var r=c.b.EARLY_EOF,n={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new d.d(n.msg);t._onError(r,n)}else t._status=c.c.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=c.c.kComplete);if(!0===t._requestAbort)return t._status=c.c.kComplete,e.cancel();t._status=c.c.kBuffering;var o=i.value.buffer,a=t._range.from+t._receivedLength;t._receivedLength+=o.byteLength,t._onDataArrival&&t._onDataArrival(o,a,t._receivedLength),t._pump(e)}}).catch(function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=c.c.kComplete;else if(11!==e.code||!h.a.msedge){t._status=c.c.kError;var i=0,r=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(i=c.b.EXCEPTION,r={code:e.code,msg:e.message}):(i=c.b.EARLY_EOF,r={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new d.d(r.msg);t._onError(i,r)}})},t}(c.a),p=i(21),A=i(1),g=function(e){function t(){var t;return(t=e.call(this,"m3u8-loader")||this).TAG="M3U8Loader",t._needStash=!0,t.url="",t.startPlayTime=0,t._requestAbort=!1,t._receivedLength=0,t.getNextFileFlag=!0,t.pauseDisplay=!1,t.totalDuration=0,t.seeking=!1,t.downloadWorker=null,t}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,n(i,r),t.isSupported=function(){return!0};var o=t.prototype;return o.destroy=function(){this.abort(),e.prototype.destroy.call(this),this.downloadWorker&&this.downloadWorker.terminate(),this.downloadWorker=null},o.createDownloadWorker=function(){if(!this.downloadWorker)if("undefined"!=typeof Worker)try{this.downloadWorker=p(231),this.onwmsg=this.onWorkerMessage.bind(this);var e={cmd:A.w,url:this.url,time:this.startPlayTime};this.downloadWorker.postMessage(e),this.downloadWorker.addEventListener("message",this.onwmsg),this.downloadWorker.onerror=function(e){}}catch(e){this.downloadWorker&&this.downloadWorker.terminate(),this.downloadWorker=null}else console.log("Unsupport worker...")},o.setStartPlaySecs=function(e){this.startPlayTime=e},o.open=function(e){try{this.url=e.url,this.createDownloadWorker(),this._status=c.c.kConnecting}catch(e){this._status=c.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new d.d(t.msg);this._onError(c.b.EXCEPTION,t)}},o.abort=function(){var e={cmd:A.l};this.downloadWorker&&void 0!==this.downloadWorker&&this.downloadWorker.postMessage(e),this._status=c.c.kComplete},o._onWebSocketOpen=function(e){this._status=c.c.kBuffering},o._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=c.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},o.seek=function(e,t){this.pauseDisplay=!1;var i={cmd:A.B,type:t,time:e};this.downloadWorker&&void 0!==this.downloadWorker&&(this.downloadWorker.postMessage(i),this.seeking=!0)},o.pause=function(){this.pauseDisplay=!0;var e={cmd:A.x};this.downloadWorker&&void 0!==this.downloadWorker&&this.downloadWorker.postMessage(e)},o.resume=function(){this.pauseDisplay=!1;var e={cmd:A.A};this.downloadWorker&&void 0!==this.downloadWorker&&this.downloadWorker.postMessage(e)},o.onWorkerMessage=function(e){var t=e.data;switch(t.cmd){case A.w:var i={cmd:A.s,t:0};this.downloadWorker.postMessage(i);break;case A.t:this.getNextFileFlag=!0;break;case A.r:this.playComplete=!0;break;case A.o:i={cmd:A.y},this.downloadWorker.postMessage(i);break;case A.l:t.workerId==A.b?(this.downloadWorker&&this.downloadWorker.terminate(),this.downloadWorker=null):t.workerId==A.a?(this.decodeWorker&&this.decodeWorker.terminate(),this.decodeWorker=null,this.soundPlayer&&(this.soundPlayer.destroy(),delete this.soundPlayer,this.soundPlayer=null),this.webGLPlayer&&this.webGLPlayer.renderVideoFrame(null,0,0)):t.workerId==A.f&&(this.renderWorker.terminate(),this.renderWorker=null);break;case A.q:if(t.workerId==A.b){var r=t.dat,n=this._receivedLength;this._receivedLength+=r.byteLength,this._onDataArrival&&this._onDataArrival(r,n,this._receivedLength);break}if(t.workerId==A.a){if(this.pauseDisplay)break;1==t.mediaType?(this.canvas.width=t.width,this.canvas.height=t.height,this.webGLPlayer.renderVideoFrame(t.dat,t.width,t.height),this.OnUpdatePlayInfo(t.playTimeSec,t.frameNum)):2==t.mediaType&&(null==this.soundPlayer&&this.OpenAudioPlayer(t.fmt,t.ch,t.samplerate),null!=this.soundPlayer&&this.soundPlayer.play(t.dat))}break;case A.u:this.totalDuration=t.duration,A.i(t.live);break;case A.s:this.pauseDisplay||this.getNextFileFlag&&(this.downloadWorker.postMessage(t),this.getNextFileFlag=!1);break;case A.B:this.seeking=!1;break;case A.z:this._onDataArrival&&(this._receivedLength=0,this._onDataArrival(null,t.fileSequence,0));break;case 404:this._onHLSError()}},o._dispatchArrayBuffer=function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)},o._onWebSocketError=function(e){this._status=c.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new d.d(t.msg);this._onError(c.b.EXCEPTION,t)},o._getM3u8TotalDuration=function(){return this.totalDuration},t}(c.a),m=function(e){function t(t,i){var r;return(r=e.call(this,"xhr-moz-chunked-loader")||this).TAG="MozChunkedLoader",r._seekHandler=t,r._config=i,r._needStash=!0,r._xhr=null,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,o(i,r),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return u.a.w("MozChunkedLoader",e.message),!1}};var n=t.prototype;return n.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},n.open=function(e,t){this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var r=this._seekHandler.getConfig(i,t);this._requestURL=r.url;var n=this._xhr=new XMLHttpRequest;if(n.open("GET",r.url,!0),n.responseType="moz-chunked-arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onloadend=this._onLoadEnd.bind(this),n.onerror=this._onXhrError.bind(this),e.withCredentials&&(n.withCredentials=!0),"object"==typeof r.headers){var o=r.headers;for(var a in o)o.hasOwnProperty(a)&&n.setRequestHeader(a,o[a])}if("object"==typeof this._config.headers){var s=this._config.headers;for(var u in s)s.hasOwnProperty(u)&&n.setRequestHeader(u,s[u])}this._status=c.c.kConnecting,n.send()},n.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=c.c.kComplete},n._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var i=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(i)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=c.c.kError,!this._onError)throw new d.d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=c.c.kBuffering}},n._onProgress=function(e){if(this._status!==c.c.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}},n._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==c.c.kError&&(this._status=c.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},n._onXhrError=function(e){this._status=c.c.kError;var t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=c.b.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=c.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new d.d(i.msg);this._onError(t,i)},t}(c.a);c.a;var y=function(e){function t(t,i){var r;return(r=e.call(this,"xhr-range-loader")||this).TAG="RangeLoader",r._seekHandler=t,r._config=i,r._needStash=!1,r._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],r._currentChunkSizeKB=384,r._currentSpeedNormalized=0,r._zeroSpeedChunkCount=0,r._xhr=null,r._speedSampler=new l,r._requestAbort=!1,r._waitForTotalLength=!1,r._totalLengthReceived=!1,r._currentRequestURL=null,r._currentRedirectedURL=null,r._currentRequestRange=null,r._totalLength=null,r._contentLength=null,r._receivedLength=0,r._lastTimeLoaded=0,r}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,a(i,r),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return u.a.w("RangeLoader",e.message),!1}};var n,o,s=t.prototype;return s.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},s.open=function(e,t){this._dataSource=e,this._range=t,this._status=c.c.kConnecting;var i=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},s._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)},s._internalOpen=function(e,t){this._lastTimeLoaded=0;var i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));var r=this._seekHandler.getConfig(i,t);this._currentRequestURL=r.url;var n=this._xhr=new XMLHttpRequest;if(n.open("GET",r.url,!0),n.responseType="arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onload=this._onLoad.bind(this),n.onerror=this._onXhrError.bind(this),e.withCredentials&&(n.withCredentials=!0),"object"==typeof r.headers){var o=r.headers;for(var a in o)o.hasOwnProperty(a)&&n.setRequestHeader(a,o[a])}if("object"==typeof this._config.headers){var s=this._config.headers;for(var u in s)s.hasOwnProperty(u)&&n.setRequestHeader(u,s[u])}n.send()},s.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=c.c.kComplete},s._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},s._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=c.c.kBuffering}else{if(this._status=c.c.kError,!this._onError)throw new d.d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},s._onProgress=function(e){if(this._status!==c.c.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var r=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(r)}},s._normalizeSpeed=function(e){var t=this._chunkSizeKBList,i=t.length-1,r=0,n=0,o=i;if(e<t[0])return t[0];for(;n<=o;){if((r=n+Math.floor((o-n)/2))===i||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?n=r+1:o=r-1}},s._onLoad=function(e){if(this._status!==c.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&++this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps),0!==t){var i=this._normalizeSpeed(t);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var r=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=r.byteLength;var o=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():o=!0,this._onDataArrival&&this._onDataArrival(r,n,this._receivedLength),o&&(this._status=c.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},s._onXhrError=function(e){this._status=c.c.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=c.b.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=c.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new d.d(i.msg);this._onError(t,i)},n=t,(o=[{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(c.a),v=function(e){function t(){var t;return(t=e.call(this,"websocket-loader")||this).TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,s(i,r),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}};var n=t.prototype;return n.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},n.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=c.c.kConnecting}catch(e){this._status=c.c.kError;var i={code:e.code,msg:e.message};if(!this._onError)throw new d.d(i.msg);this._onError(c.b.EXCEPTION,i)}},n.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=c.c.kComplete},n._onWebSocketOpen=function(e){this._status=c.c.kBuffering},n._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=c.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1,"socket-close")):this._requestAbort=!1},n._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var i=new FileReader;i.onload=function(){t._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(e.data)}else{this._status=c.c.kError;var r={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new d.d(r.msg);this._onError(c.b.EXCEPTION,r)}},n._dispatchArrayBuffer=function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)},n._onWebSocketError=function(e){this._status=c.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new d.d(t.msg);this._onError(c.b.EXCEPTION,t)},t}(c.a),E=function(){function e(e){this._zeroStart=e||!1}var t=e.prototype;return t.getConfig=function(e,t){var i,r={};return 0!==t.from||-1!==t.to?(i=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",r.Range=i):this._zeroStart&&(r.Range="bytes=0-"),{url:e,headers:r}},t.removeURLParameters=function(e){return e},e}(),w=function(){function e(e,t){this._startName=e,this._endName=t}var t=e.prototype;return t.getConfig=function(e,t){var i=e;if(0!==t.from||-1!==t.to){var r=!0;-1===i.indexOf("?")&&(i+="?",r=!1),r&&(i+="&"),i+=this._startName+"="+t.from.toString(),-1!==t.to&&(i+="&"+this._endName+"="+t.to.toString())}return{url:i,headers:{}}},t.removeURLParameters=function(e){var t=e.split("?")[0],i=void 0,r=e.indexOf("?");-1!==r&&(i=e.substring(r+1));var n="";if(null!=i&&i.length>0)for(var o=i.split("&"),a=0;a<o.length;a++){var s=o[a].split("="),u=a>0;s[0]!==this._startName&&s[0]!==this._endName&&(u&&(n+="&"),n+=o[a])}return 0===n.length?t:t+"?"+n},e}(),b=i(8),C=i.n(b),I=function(){function e(e,t,i){this.TAG="IOController",this._emitter=new C.a,this._config=t,this._extraData=i,this._stashInitialSize=393216,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._isHLSURL=e.url&&e.url.includes(".m3u8"),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new l,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._loaderChunkArrival=null,this._loaderHLSError=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}var t,i,r=e.prototype;return r.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._loaderChunkArrival=null,this._loaderHLSError=null,this._extraData=null},r.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},r.isPaused=function(){return this._paused},r._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new E(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new w(t,i)}else{if("custom"!==e.seekType)throw new d.b("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new d.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},r._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isHLSURL)this._loaderClass=g;else if(this._isWebSocketURL)this._loaderClass=v;else if(f.isSupported())this._loaderClass=f;else if(m.isSupported())this._loaderClass=m;else{if(!y.isSupported())throw new d.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=y}},r._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this),this._loader.onHLSError=this._onLoaderHLSError.bind(this)},r.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},r.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},r.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},r.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},r.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},r._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()},r.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new d.b("Url must be a non-empty string!");this._dataSource.url=e},r._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var i=new ArrayBuffer(t);if(this._stashUsed>0){var r=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(r,0)}this._stashBuffer=i,this._bufferSize=t}},r._normalizeSpeed=function(e){var t=this._speedNormalizeList,i=t.length-1,r=0,n=0,o=i;if(e<t[0])return t[0];for(;n<=o;){if((r=n+Math.floor((o-n)/2))===i||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?n=r+1:o=r-1}},r._adjustStashSize=function(e){var t=0;(t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t},r._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},r._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},r._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},r._onLoaderChunkArrival=function(e,t,i){if(this._loaderChunkArrival&&this._loaderChunkArrival(e),!this._onDataArrival)throw new d.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused&&(this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),e)){this._speedSampler.addBytes(e.byteLength);var r=this._speedSampler.lastSecondKBps;if(0!==r){var n=this._normalizeSpeed(r);this._speedNormalized!==n&&(this._speedNormalized=n,this._adjustStashSize(n))}if(this._isHLSURL&&(this._enableStash=!1),this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else{var o=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var a=this._stashBuffer.slice(0,this._stashUsed),s=this._dispatchChunks(a,this._stashByteStart);if(s<a.byteLength){if(s>0){var u=new Uint8Array(a,s);o.set(u,0),this._stashUsed=u.byteLength,this._stashByteStart+=s}}else this._stashUsed=0,this._stashByteStart+=s;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var l=this._dispatchChunks(e,t);if(l<e.byteLength){var c=e.byteLength-l;c>this._bufferSize&&(this._expandBuffer(c),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e,l),0),this._stashUsed+=c,this._stashByteStart=t+l}}}else if(0===this._stashUsed){var h=this._dispatchChunks(e,t);if(h<e.byteLength){var f=e.byteLength-h;f>this._bufferSize&&this._expandBuffer(f),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,h),0),this._stashUsed+=f,this._stashByteStart=t+h}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);var p=new Uint8Array(this._stashBuffer,0,this._bufferSize);p.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;var A=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(A<this._stashUsed&&A>0){var g=new Uint8Array(this._stashBuffer,A);p.set(g,0)}this._stashUsed-=A,this._stashByteStart+=A}}},r._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){var n=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,i);n.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=i}return 0}u.a.w(this.TAG,r+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,r}return 0},r._onLoaderComplete=function(e,t,i){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData,i)},r._onLoaderHLSError=function(){this._loaderHLSError()},r._onLoaderError=function(e,t){switch(u.a.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=c.b.UNRECOVERABLE_EARLY_EOF),e){case c.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var i=this._currentRange.to+1;return void(i<this._totalLength&&(u.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)))}e=c.b.UNRECOVERABLE_EARLY_EOF;break;case c.b.UNRECOVERABLE_EARLY_EOF:case c.b.CONNECTING_TIMEOUT:case c.b.HTTP_STATUS_CODE_INVALID:case c.b.EXCEPTION:}if(!this._onError)throw new d.d("IOException: "+t.msg);this._onError(e,t)},r._getM3u8Loader=function(){return this._isHLSURL?this._loader:null},t=e,(i=[{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(e){this._extraData=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"loaderChunkArrival",get:function(){return this._loaderChunkArrival},set:function(e){this._loaderChunkArrival=e}},{key:"loaderHLSError",get:function(){return this._loaderHLSError},set:function(e){this._loaderHLSError=e}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(e){this._onSeeked=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(e){this._onRedirect=e}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===y?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"averageKBps",get:function(){return this._speedSampler.averageKBps}},{key:"loaderType",get:function(){return this._loader.type}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=I},function(e,t,i){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,i,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,r)});case 4:return t.nextTick(function(){e.call(null,i,r,n)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,i(9))},function(e,t,i){function r(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,i=new Array(t),r=0;r<t;r++)i[r]=e.readUInt32BE(4*r);return i}function n(e){for(;0<e.length;e++)e[0]=0}function o(e,t,i,r,n){for(var o,a,s,u,l=i[0],c=i[1],h=i[2],d=i[3],f=e[0]^t[0],p=e[1]^t[1],A=e[2]^t[2],g=e[3]^t[3],m=4,y=1;y<n;y++)o=l[f>>>24]^c[p>>>16&255]^h[A>>>8&255]^d[255&g]^t[m++],a=l[p>>>24]^c[A>>>16&255]^h[g>>>8&255]^d[255&f]^t[m++],s=l[A>>>24]^c[g>>>16&255]^h[f>>>8&255]^d[255&p]^t[m++],u=l[g>>>24]^c[f>>>16&255]^h[p>>>8&255]^d[255&A]^t[m++],f=o,p=a,A=s,g=u;return o=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[A>>>8&255]<<8|r[255&g])^t[m++],a=(r[p>>>24]<<24|r[A>>>16&255]<<16|r[g>>>8&255]<<8|r[255&f])^t[m++],s=(r[A>>>24]<<24|r[g>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[m++],u=(r[g>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&A])^t[m++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}function a(e){this._key=r(e),this._reset()}var s=i(6).Buffer,u=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],r=[],n=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,i[a]=l,r[l]=a;var c=e[a],h=e[c],d=e[h],f=257*e[l]^16843008*l;n[0][a]=f<<24|f>>>8,n[1][a]=f<<16|f>>>16,n[2][a]=f<<8|f>>>24,n[3][a]=f,f=16843009*d^65537*h^257*c^16843008*a,o[0][l]=f<<24|f>>>8,o[1][l]=f<<16|f>>>16,o[2][l]=f<<8|f>>>24,o[3][l]=f,0===a?a=s=1:(a=c^e[e[e[d^c]]],s^=e[e[s]])}return{SBOX:i,INV_SBOX:r,SUB_MIX:n,INV_SUB_MIX:o}}();a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,r=4*(i+1),n=[],o=0;o<t;o++)n[o]=e[o];for(o=t;o<r;o++){var a=n[o-1];o%t==0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=u[o/t|0]<<24):t>6&&o%t==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),n[o]=n[o-t]^a}for(var s=[],c=0;c<r;c++){var h=r-c,d=n[h-(c%4?0:4)];s[c]=c<4||h<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=i,this._keySchedule=n,this._invKeySchedule=s},a.prototype.encryptBlockRaw=function(e){return o(e=r(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=s.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},a.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var i=o(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),n=s.allocUnsafe(16);return n.writeUInt32BE(i[0],0),n.writeUInt32BE(i[3],4),n.writeUInt32BE(i[2],8),n.writeUInt32BE(i[1],12),n},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},e.exports.AES=a},function(e,t,i){var r=i(6).Buffer,n=i(44);e.exports=function(e,t,i,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=i/8,s=r.alloc(a),u=r.alloc(o||0),l=r.alloc(0);a>0||o>0;){var c=new n;c.update(l),c.update(e),t&&c.update(t),l=c.digest();var h=0;if(a>0){var d=s.length-a;h=Math.min(a,l.length),l.copy(s,d,0,h),a-=h}if(h<l.length&&o>0){var f=u.length-o,p=Math.min(o,l.length-h);l.copy(u,f,h,h+p),o-=p}}return l.fill(0),{key:s,iv:u}}},function(e,t,i){"use strict";function r(e,t){this.type=e,this.p=new o(t.p,16),this.red=t.prime?o.red(t.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=t.n&&new o(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function n(e,t){this.curve=e,this.type=t,this.precomputed=null}var o=i(11),a=i(15),s=a.getNAF,u=a.getJSF,l=a.assert;e.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){l(e.precomputed);var i=e._getDoubles(),r=s(t,1,this._bitLength),n=(1<<i.step+1)-(i.step%2==0?2:1);n/=3;var o,a,u=[];for(o=0;o<r.length;o+=i.step){a=0;for(var c=o+i.step-1;c>=o;c--)a=(a<<1)+r[c];u.push(a)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=n;f>0;f--){for(o=0;o<u.length;o++)(a=u[o])===f?d=d.mixedAdd(i.points[o]):a===-f&&(d=d.mixedAdd(i.points[o].neg()));h=h.add(d)}return h.toP()},r.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var n=r.points,o=s(t,i,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&0===o[u];u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var h=o[u];l(0!==h),a="affine"===e.type?h>0?a.mixedAdd(n[h-1>>1]):a.mixedAdd(n[-h-1>>1].neg()):h>0?a.add(n[h-1>>1]):a.add(n[-h-1>>1].neg())}return"affine"===e.type?a.toP():a},r.prototype._wnafMulAdd=function(e,t,i,r,n){var o,a,l,c=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(o=0;o<r;o++){var p=(l=t[o])._getNAFPoints(e);c[o]=p.wnd,h[o]=p.points}for(o=r-1;o>=1;o-=2){var A=o-1,g=o;if(1===c[A]&&1===c[g]){var m=[t[A],null,null,t[g]];0===t[A].y.cmp(t[g].y)?(m[1]=t[A].add(t[g]),m[2]=t[A].toJ().mixedAdd(t[g].neg())):0===t[A].y.cmp(t[g].y.redNeg())?(m[1]=t[A].toJ().mixedAdd(t[g]),m[2]=t[A].add(t[g].neg())):(m[1]=t[A].toJ().mixedAdd(t[g]),m[2]=t[A].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=u(i[A],i[g]);for(f=Math.max(v[0].length,f),d[A]=new Array(f),d[g]=new Array(f),a=0;a<f;a++){var E=0|v[0][a],w=0|v[1][a];d[A][a]=y[3*(E+1)+(w+1)],d[g][a]=0,h[A]=m}}else d[A]=s(i[A],c[A],this._bitLength),d[g]=s(i[g],c[g],this._bitLength),f=Math.max(d[A].length,f),f=Math.max(d[g].length,f)}var b=this.jpoint(null,null,null),C=this._wnafT4;for(o=f;o>=0;o--){for(var I=0;o>=0;){var S=!0;for(a=0;a<r;a++)C[a]=0|d[a][o],0!==C[a]&&(S=!1);if(!S)break;I++,o--}if(o>=0&&I++,b=b.dblp(I),o<0)break;for(a=0;a<r;a++){var M=C[a];0!==M&&(M>0?l=h[a][M-1>>1]:M<0&&(l=h[a][-M-1>>1].neg()),b="affine"===l.type?b.mixedAdd(l):b.add(l))}}for(o=0;o<r;o++)h[o]=null;return n?b:b.toP()},r.BasePoint=n,n.prototype.eq=function(){throw new Error("Not implemented")},n.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*i)return 6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},n.prototype.encodeCompressed=function(e){return this.encode(e,!0)},n.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},n.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},n.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},n.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},n.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)r=r.dbl();i.push(r)}return{step:e,points:i}},n.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),n=1;n<i;n++)t[n]=t[n-1].add(r);return{wnd:e,points:t}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},function(e,t,i){function r(e){var t;"object"!=typeof e||l.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=l.from(e));var i,r,c=a(e,t),h=c.tag,d=c.data;switch(h){case"CERTIFICATE":r=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r||(r=n.PublicKey.decode(d,"der")),i=r.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(r.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return r.subjectPrivateKey=r.subjectPublicKey,{type:"ec",data:r};case"1.2.840.10040.4.1":return r.algorithm.params.pub_key=n.DSAparam.decode(r.subjectPublicKey.data,"der"),{type:"dsa",data:r.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=o[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,h=parseInt(n.split("-")[1],10)/8,d=u.pbkdf2Sync(t,i,r,h,"sha1"),f=s.createDecipheriv(n,d,a),p=[];return p.push(f.update(c)),p.push(f.final()),l.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(i=(r=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(r.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:r.algorithm.curve,privateKey:n.ECPrivateKey.decode(r.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return r.algorithm.params.priv_key=n.DSAparam.decode(r.subjectPrivateKey,"der"),{type:"dsa",params:r.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+h)}}var n=i(213),o=i(220),a=i(221),s=i(53),u=i(88),l=i(6).Buffer;e.exports=r,r.signature=n.signature},function(e,t,i){"use strict";var r=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t},"function"!=typeof self.Promise&&i(124).polyfill()},e}();r.install(),t.a=r},function(e,t,i){"use strict";function r(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(e,t){return e<<t|e>>>32-t}function o(e,t,i,r,o,a,s){return n(e+(t&i|~t&r)+o+a|0,s)+t|0}function a(e,t,i,r,o,a,s){return n(e+(t&r|i&~r)+o+a|0,s)+t|0}function s(e,t,i,r,o,a,s){return n(e+(t^i^r)+o+a|0,s)+t|0}function u(e,t,i,r,o,a,s){return n(e+(i^(t|~r))+o+a|0,s)+t|0}var l=i(5),c=i(72),h=i(6).Buffer,d=new Array(16);l(r,c),r.prototype._update=function(){for(var e=d,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,n=this._c,l=this._d;i=u(i=s(i=s(i=s(i=s(i=a(i=a(i=a(i=a(i=o(i=o(i=o(i=o(i,r,n,l,e[0],3614090360,7),r=o(r,n=o(n,l=o(l,i,r,n,e[1],3905402710,12),i,r,e[2],606105819,17),l,i,e[3],3250441966,22),n,l,e[4],4118548399,7),r=o(r,n=o(n,l=o(l,i,r,n,e[5],1200080426,12),i,r,e[6],2821735955,17),l,i,e[7],4249261313,22),n,l,e[8],1770035416,7),r=o(r,n=o(n,l=o(l,i,r,n,e[9],2336552879,12),i,r,e[10],4294925233,17),l,i,e[11],2304563134,22),n,l,e[12],1804603682,7),r=o(r,n=o(n,l=o(l,i,r,n,e[13],4254626195,12),i,r,e[14],2792965006,17),l,i,e[15],1236535329,22),n,l,e[1],4129170786,5),r=a(r,n=a(n,l=a(l,i,r,n,e[6],3225465664,9),i,r,e[11],643717713,14),l,i,e[0],3921069994,20),n,l,e[5],3593408605,5),r=a(r,n=a(n,l=a(l,i,r,n,e[10],38016083,9),i,r,e[15],3634488961,14),l,i,e[4],3889429448,20),n,l,e[9],568446438,5),r=a(r,n=a(n,l=a(l,i,r,n,e[14],3275163606,9),i,r,e[3],4107603335,14),l,i,e[8],1163531501,20),n,l,e[13],2850285829,5),r=a(r,n=a(n,l=a(l,i,r,n,e[2],4243563512,9),i,r,e[7],1735328473,14),l,i,e[12],2368359562,20),n,l,e[5],4294588738,4),r=s(r,n=s(n,l=s(l,i,r,n,e[8],2272392833,11),i,r,e[11],1839030562,16),l,i,e[14],4259657740,23),n,l,e[1],2763975236,4),r=s(r,n=s(n,l=s(l,i,r,n,e[4],1272893353,11),i,r,e[7],4139469664,16),l,i,e[10],3200236656,23),n,l,e[13],681279174,4),r=s(r,n=s(n,l=s(l,i,r,n,e[0],3936430074,11),i,r,e[3],3572445317,16),l,i,e[6],76029189,23),n,l,e[9],3654602809,4),r=s(r,n=s(n,l=s(l,i,r,n,e[12],3873151461,11),i,r,e[15],530742520,16),l,i,e[2],3299628645,23),n,l,e[0],4096336452,6),r=u(r=u(r=u(r=u(r,n=u(n,l=u(l,i,r,n,e[7],1126891415,10),i,r,e[14],2878612391,15),l,i,e[5],4237533241,21),n=u(n,l=u(l,i=u(i,r,n,l,e[12],1700485571,6),r,n,e[3],2399980690,10),i,r,e[10],4293915773,15),l,i,e[1],2240044497,21),n=u(n,l=u(l,i=u(i,r,n,l,e[8],1873313359,6),r,n,e[15],4264355552,10),i,r,e[6],2734768916,15),l,i,e[13],1309151649,21),n=u(n,l=u(l,i=u(i,r,n,l,e[4],4149444226,6),r,n,e[11],3174756917,10),i,r,e[2],718787259,15),l,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+r|0,this._c=this._c+n|0,this._d=this._d+l|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=h.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=r},function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,i(13))},function(e,t,i){"use strict";function r(){}var n=i(25).codes.ERR_STREAM_PREMATURE_CLOSE;e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.apply(this,r)}}}(o||r);var a=i.readable||!1!==i.readable&&t.readable,s=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){s=!1,l=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,h=!0,s||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},A=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?A():t.on("request",A)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",c),!1!==i.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},function(e,t,i){"use strict";function r(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function n(e,t){return e<<t|e>>>32-t}function o(e,t,i,r,o,a,s,u){return n(e+(t^i^r)+a+s|0,u)+o|0}function a(e,t,i,r,o,a,s,u){return n(e+(t&i|~t&r)+a+s|0,u)+o|0}function s(e,t,i,r,o,a,s,u){return n(e+((t|~i)^r)+a+s|0,u)+o|0}function u(e,t,i,r,o,a,s,u){return n(e+(t&r|i&~r)+a+s|0,u)+o|0}function l(e,t,i,r,o,a,s,u){return n(e+(t^(i|~r))+a+s|0,u)+o|0}var c=i(10).Buffer,h=i(5),d=i(72),f=new Array(16),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],y=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];h(r,d),r.prototype._update=function(){for(var e=f,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,r=0|this._b,c=0|this._c,h=0|this._d,d=0|this._e,E=0|this._a,w=0|this._b,b=0|this._c,C=0|this._d,I=0|this._e,S=0;S<80;S+=1){var M,k;S<16?(M=o(i,r,c,h,d,e[p[S]],y[0],g[S]),k=l(E,w,b,C,I,e[A[S]],v[0],m[S])):S<32?(M=a(i,r,c,h,d,e[p[S]],y[1],g[S]),k=u(E,w,b,C,I,e[A[S]],v[1],m[S])):S<48?(M=s(i,r,c,h,d,e[p[S]],y[2],g[S]),k=s(E,w,b,C,I,e[A[S]],v[2],m[S])):S<64?(M=u(i,r,c,h,d,e[p[S]],y[3],g[S]),k=a(E,w,b,C,I,e[A[S]],v[3],m[S])):(M=l(i,r,c,h,d,e[p[S]],y[4],g[S]),k=o(E,w,b,C,I,e[A[S]],v[4],m[S])),i=d,d=h,h=n(c,10),c=r,r=M,E=I,I=C,C=n(b,10),b=w,w=k}var T=this._b+c+C|0;this._b=this._c+h+I|0,this._c=this._d+d+E|0,this._d=this._e+i+w|0,this._e=this._a+r+b|0,this._a=T},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=c.alloc?c.alloc(20):new c(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r},function(e,t,i){(t=e.exports=function(e){e=e.toLowerCase();var i=t[e];if(!i)throw new Error(e+" is not supported (we accept pull requests)");return new i}).sha=i(144),t.sha1=i(145),t.sha224=i(146),t.sha256=i(79),t.sha384=i(147),t.sha512=i(80)},function(e,t,i){(t=e.exports=i(81)).Stream=t,t.Readable=t,t.Writable=i(51),t.Duplex=i(23),t.Transform=i(84),t.PassThrough=i(154)},function(e,t,i){function r(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return a(e,t,i)}var o=i(10),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n),r(a,n),n.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},n.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,i){"use strict";(function(t,r,n){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function a(){}function s(e,t){g=g||i(23),e=e||{};var r=t instanceof g;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,r=i.sync,n=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,r,n){--t.pendingcb,i?(A.nextTick(n,r),A.nextTick(p,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(n(r),e._writableState.errorEmitted=!0,e.emit("error",r),p(e,t))}(e,i,r,t,n);else{var o=d(i);o||i.corked||i.bufferProcessing||!i.bufferedRequest||h(e,i),r?m(c,e,i,o,n):c(e,i,o,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function u(e){if(g=g||i(23),!(v.call(u,this)||this instanceof g))return new u(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),w.call(this)}function l(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function c(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),p(e,t)}function h(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,n=new Array(r),a=t.corkedRequestsFree;a.entry=i;for(var s=0,u=!0;i;)n[s]=i,i.isBuf||(u=!1),i=i.next,s+=1;n.allBuffers=u,l(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,d=i.callback;if(l(e,t,!1,t.objectMode?1:c.length,c,h,d),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function d(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function f(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),p(e,t)})}function p(e,t){var i=d(t);return i&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,A.nextTick(f,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}var A=i(38);e.exports=u;var g,m=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:A.nextTick;u.WritableState=s;var y=Object.create(i(32));y.inherits=i(5);var v,E={deprecate:i(45)},w=i(82),b=i(50).Buffer,C=n.Uint8Array||function(){},I=i(83);y.inherits(u,w),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:E.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(e){return!!v.call(this,e)||this===u&&e&&e._writableState instanceof s}})):v=function(e){return e instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(e,t,i){var r,n=this._writableState,o=!1,s=!n.objectMode&&(r=e,b.isBuffer(r)||r instanceof C);return s&&!b.isBuffer(e)&&(e=function(e){return b.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=a),n.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),A.nextTick(t,i)}(this,i):(s||function(e,t,i,r){var n=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),A.nextTick(r,o),n=!1),n}(this,n,e,i))&&(n.pendingcb++,o=function(e,t,i,r,n,o){if(!i){var a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=b.from(t,i)),t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else l(e,t,!1,s,r,n,o);return u}(this,n,s,e,t,i)),o},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||h(this,e))},u.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(e,t,i){var r=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,i){t.ending=!0,p(e,t),i&&(t.finished?A.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,r,i)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),u.prototype.destroy=I.destroy,u.prototype._undestroy=I.undestroy,u.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i(9),i(152).setImmediate,i(13))},function(e,t,i){"use strict";function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var n=i(14);e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=i,i},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,i=0,r=(this.bufferOff+e.length)/this.blockSize|0,n=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,n,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return n},r.prototype._updateDecrypt=function(e){for(var t=0,i=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,n=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),i+=this._flushBuffer(n,i);return t+=this._buffer(e,t),n},r.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,i){var r=i(167),n=i(175),o=i(97);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,i){var r={ECB:i(168),CBC:i(169),CFB:i(170),CFB8:i(171),CFB1:i(172),OFB:i(173),CTR:i(95),GCM:i(95)},n=i(97);for(var o in n)n[o].module=r[n[o].mode];e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){function r(e){this.rand=e}var n;if(e.exports=function(e){return n||(n=new r(null)),n.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=i(179);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,i){"use strict";function r(){}var n=i(28).codes.ERR_STREAM_PREMATURE_CLOSE;e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.apply(this,r)}}}(o||r);var a=i.readable||!1!==i.readable&&t.readable,s=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){s=!1,l=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,h=!0,s||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},A=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?A():t.on("request",A)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",c),!1!==i.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},function(e,t,i){(function(t){function r(e){var t,i=e.modulus.byteLength();do{t=new o(a(i))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function n(e,i){var n=function(e){var t=r(e);return{blinder:t.toRed(o.mont(e.modulus)).redPow(new o(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(i),a=i.modulus.byteLength(),s=new o(e).mul(n.blinder).umod(i.modulus),u=s.toRed(o.mont(i.prime1)),l=s.toRed(o.mont(i.prime2)),c=i.coefficient,h=i.prime1,d=i.prime2,f=u.redPow(i.exponent1).fromRed(),p=l.redPow(i.exponent2).fromRed(),A=f.isub(p).imul(c).umod(h).imul(d);return p.iadd(A).imul(n.unblinder).umod(i.modulus).toArrayLike(t,"be",a)}var o=i(192),a=i(24);n.getr=r,e.exports=n}).call(this,i(10).Buffer)},function(e,t,i){"use strict";var r=t;r.version=i(194).version,r.utils=i(15),r.rand=i(56),r.curve=i(109),r.curves=i(60),r.ec=i(205),r.eddsa=i(209)},function(e,t,i){"use strict";function r(e){"short"===e.type?this.curve=new u.short(e):"edwards"===e.type?this.curve=new u.edwards(e):this.curve=new u.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function n(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var i=new r(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:i}),i}})}var o,a=t,s=i(61),u=i(109),l=i(15).assert;a.PresetCurve=r,n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=i(204)}catch(e){o=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},function(e,t,i){var r=t;r.utils=i(18),r.common=i(34),r.sha=i(198),r.ripemd=i(202),r.hmac=i(203),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,i){"use strict";(function(t){var r,n=i(10),o=n.Buffer,a={};for(r in n)n.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=n[r]);var s=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(s[r]=o[r]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,i){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,i)}),s.alloc||(s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this,i(9))},function(e,t,i){"use strict";function r(e,t,i){var r={};this._baseState=r,r.name=i,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var n=i(64).Reporter,o=i(35).EncoderBuffer,a=i(35).DecoderBuffer,s=i(14),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);e.exports=r;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var e=this._baseState,t={};c.forEach(function(i){t[i]=e[i]});var i=new this.constructor(t.parent);return i._baseState=t,i},r.prototype._wrap=function(){var e=this._baseState;l.forEach(function(t){this[t]=function(){var i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}},this)},r.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,i=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==i.length&&(s(null===t.children),t.children=i,i.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(i){i==(0|i)&&(i|=0);var r=e[i];t[r]=i}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),u.forEach(function(e){r.prototype[e]=function(){var t=this._baseState,i=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(i),this}}),r.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},r.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},r.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var r,n=i.default,o=!0,s=null;if(null!==i.key&&(s=e.enterKey(i.key)),i.optional){var u=null;if(null!==i.explicit?u=i.explicit:null!==i.implicit?u=i.implicit:null!==i.tag&&(u=i.tag),null!==u||i.any){if(o=this._peekTag(e,u,i.any),e.isError(o))return o}else{var l=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(l)}}if(i.obj&&o&&(r=e.enterObject()),o){if(null!==i.explicit){var c=this._decodeTag(e,i.explicit);if(e.isError(c))return c;e=c}var h=e.offset;if(null===i.use&&null===i.choice){var d;i.any&&(d=e.save());var f=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(f))return f;i.any?n=e.raw(d):e=f}if(t&&t.track&&null!==i.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),i.any||(n=null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t)),e.isError(n))return n;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(i){i._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var p=new a(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(p,t)}}return i.obj&&o&&(n=e.leaveObject(r)),null===i.key||null===n&&!0!==o?null!==s&&e.exitKey(s):e.leaveKey(s,i.key,n),n},r.prototype._decodeGeneric=function(e,t,i){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],i):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var i=this._baseState;return i.useDecoder=this._use(e,t),s(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},r.prototype._decodeChoice=function(e,t){var i=this._baseState,r=null,n=!1;return Object.keys(i.choice).some(function(o){var a=e.save(),s=i.choice[o];try{var u=s._decode(e,t);if(e.isError(u))return!1;r={type:o,value:u},n=!0}catch(t){return e.restore(a),!1}return!0},this),n?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new o(e,this.reporter)},r.prototype._encode=function(e,t,i){var r=this._baseState;if(null===r.default||r.default!==e){var n=this._encodeValue(e,t,i);if(void 0!==n&&!this._skipDefault(n,t,i))return n}},r.prototype._encodeValue=function(e,t,i){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,i)._encode(e,t),s=!0;else if(r.children)a=r.children.map(function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");var r=t.enterKey(i._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=i._encode(e[i._baseState.key],t,e);return t.leaveKey(r),n},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(i){var r=this._baseState;return this._getUse(r.args[0],e)._encode(i,t)},u))}else null!==r.use?o=this._getUse(r.use,i)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){var l=null!==r.implicit?r.implicit:r.tag,c=null===r.implicit?"universal":"context";null===l?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(l,s,c,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(e,t){var i=this._baseState,r=i.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),r._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,i){"use strict";function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function n(e,t){this.path=e,this.rethrow(t)}var o=i(5);t.Reporter=r,r.prototype.isError=function(e){return e instanceof n},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,i){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=i)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,i=t.obj;return t.obj=e,i},r.prototype.error=function(e){var t,i=this._reporterState,r=e instanceof n;if(t=r?e:new n(i.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw t;return r||i.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},o(n,Error),n.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,i){"use strict";function r(e){var t={};return Object.keys(e).forEach(function(i){(0|i)==i&&(i|=0);var r=e[i];t[r]=i}),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){"use strict";i.r(t),function(e,r,n,o){function a(){function t(e){t.shown||(t.shown={}),t.shown[e]||(t.shown[e]=1,ee(e))}function a(e,t){var i=ne,r=i.length;try{i.grow(1)}catch(e){if(!e instanceof RangeError)throw e;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{i.set(r,e)}catch(o){if(!o instanceof TypeError)throw o;u(void 0!==t,"Missing signature argument to addFunction");var n=function(e,t){var i=[1,0,1,96],r=t.slice(0,1),n=t.slice(1),o={i:127,j:126,f:125,d:124};i.push(n.length);for(var a=0;a<n.length;++a)i.push(o[n[a]]);"v"==r?i.push(0):i=i.concat([1,o[r]]),i[1]=i.length-2;var s=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),u=new WebAssembly.Module(s);return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,t);i.set(r,n)}return r}function u(e,t){e||S("Assertion failed: "+t)}function l(e){var t=h["_"+e];return u(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function d(e,t,i,r,n){var o={string:function(e){var t=0;if(null!=e&&0!==e){var i=1+(e.length<<2);g(e,t=hi(i),i)}return t},array:function(e){var t=hi(e.length);return function(e,t){u(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),ue.set(e,t)}(e,t),t}},a=l(e),s=[],c=0;if(u("array"!==t,'Return type should not be "array".'),r)for(var h=0;h<r.length;h++){var d=o[i[h]];d?(0===c&&(c=ci()),s[h]=d(r[h])):s[h]=r[h]}var f=a.apply(null,s);return f=function(e){return"string"===t?p(e):"boolean"===t?Boolean(e):e}(f),0!==c&&di(c),f}function f(e,i,r){for(var n=i+r,o=i;e[o]&&!(o>=n);)++o;if(o-i>16&&e.subarray&&ae)return ae.decode(e.subarray(i,o));for(var a="";i<o;){var s=e[i++];if(128&s){var u=63&e[i++];if(192!=(224&s)){var l=63&e[i++];if(224==(240&s)?s=(15&s)<<12|u<<6|l:(240!=(248&s)&&t("Invalid UTF-8 leading byte 0x"+s.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),s=(7&s)<<18|u<<12|l<<6|63&e[i++]),s<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&s)<<6|u)}else a+=String.fromCharCode(s)}return a}function p(e,t){return e?f(le,e,t):""}function A(e,i,r,n){if(!(n>0))return 0;for(var o=r,a=r+n-1,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++s)),u<=127){if(r>=a)break;i[r++]=u}else if(u<=2047){if(r+1>=a)break;i[r++]=192|u>>6,i[r++]=128|63&u}else if(u<=65535){if(r+2>=a)break;i[r++]=224|u>>12,i[r++]=128|u>>6&63,i[r++]=128|63&u}else{if(r+3>=a)break;u>=2097152&&t("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),i[r++]=240|u>>18,i[r++]=128|u>>12&63,i[r++]=128|u>>6&63,i[r++]=128|63&u}}return i[r]=0,r-o}function g(e,t,i){return u("number"==typeof i,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),A(e,le,t,i)}function m(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function y(e,t){return e%t>0&&(e+=t-e%t),e}function v(e){se=e,h.HEAP8=ue=new Int8Array(e),h.HEAP16=ce=new Int16Array(e),h.HEAP32=he=new Int32Array(e),h.HEAPU8=le=new Uint8Array(e),h.HEAPU16=new Uint16Array(e),h.HEAPU32=de=new Uint32Array(e),h.HEAPF32=new Float32Array(e),h.HEAPF64=new Float64Array(e)}function E(){u(0==(3&fe)),de[1+(fe>>2)]=34821223,de[2+(fe>>2)]=2310721022,he[0]=1668509029}function w(){var e=de[1+(fe>>2)],t=de[2+(fe>>2)];34821223==e&&2310721022==t||S("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==he[0]&&S("Runtime error: The application has corrupted its heap memory area (address zero)!")}function b(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?h.dynCall_v(i):h.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}function C(e){Me++,h.monitorRunDependencies&&h.monitorRunDependencies(Me),e?(u(!De[e]),De[e]=1,null===ke&&"undefined"!=typeof setInterval&&(ke=setInterval(function(){if(oe)return clearInterval(ke),void(ke=null);var e=!1;for(var t in De)e||(e=!0,ee("still waiting on run dependencies:")),ee("dependency: "+t);e&&ee("(end of list)")},1e4))):ee("warning: run dependency added without ID")}function I(e){if(Me--,h.monitorRunDependencies&&h.monitorRunDependencies(Me),e?(u(De[e]),delete De[e]):ee("warning: run dependency removed without ID"),0==Me&&(null!==ke&&(clearInterval(ke),ke=null),Te)){var t=Te;Te=null,t()}}function S(e){throw h.onAbort&&h.onAbort(e),$(e+=""),ee(e),oe=!0,e="abort("+e+") at "+B(),new WebAssembly.RuntimeError(e)}function M(e){return String.prototype.startsWith?e.startsWith(Qe):0===e.indexOf(Qe)}function k(){try{if(te)return new Uint8Array(te);if(V)return V(Oe);throw"both async and sync fetching of the wasm failed"}catch(e){S(e)}}function T(e){return t("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function D(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var t=T(e);return e===t?e:t+" ["+e+"]"})}function B(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return h.extraStackTrace&&(e+="\n"+h.extraStackTrace()),D(e)}function R(e){return h.___errno_location?he[h.___errno_location()>>2]=e:ee("failed to set errno from JS"),e}function Q(){if(!Q.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Y};for(var t in Ge)e[t]=Ge[t];var i=[];for(var t in e)i.push(t+"="+e[t]);Q.strings=i}return Q.strings}function O(e,t,i){var r=i>0?i:m(e)+1,n=new Array(r),o=A(e,n,0,n.length);return t&&(n.length=o),n}function L(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function x(e){u(0==Me,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),u(0==ge.length,"cannot call main when preRun functions remain to be called");var t=h._main;try{!function(e,t){K(),t&&s&&0===e||(s?t||ee("program exited (with status: "+e+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)"):(oe=!0,w(),we=!0,h.onExit&&h.onExit(e)),P(e,new L(e)))}(t(0,0),!0)}catch(e){if(e instanceof L)return;if("SimulateInfiniteLoop"==e)return void(s=!0);var i=e;e&&"object"==typeof e&&e.stack&&(i=[e,e.stack]),ee("exception thrown: "+i),P(1,e)}}function q(e){function t(){ai||(ai=!0,oe||(w(),u(!Ee),Ee=!0,h.noFSInit||Ne.init.initialized||Ne.init(),Ke.init(),b(me),w(),Ne.ignorePermissions=!1,b(ye),h.onRuntimeInitialized&&h.onRuntimeInitialized(),fi&&x(),function(){if(w(),h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)e=h.postRun.shift(),ve.unshift(e);var e;b(ve)}()))}e=e||G,Me>0||(E(),function(){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)e=h.preRun.shift(),ge.unshift(e);var e;b(ge)}(),Me>0||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),t()},1)):t(),w()))}function K(){var e=$,i=ee,r=!1;$=ee=function(e){r=!0};try{var n=h._fflush;n&&n(0),["stdout","stderr"].forEach(function(e){var t=Ne.analyzePath("/dev/"+e);if(t){var i=t.object.rdev,n=Ke.ttys[i];n&&n.output&&n.output.length&&(r=!0)}})}catch(e){}$=e,ee=i,r&&t("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}var U,F={};for(U in h)h.hasOwnProperty(U)&&(F[U]=h[U]);var j,N,J,G=[],Y="./this.program",P=function(e,t){throw t},z=!1,Z=!1;if(z="object"==typeof window,Z="function"==typeof importScripts,N="object"==typeof e&&"object"==typeof e.versions&&"string"==typeof e.versions.node,j=N&&!z&&!Z,J=!z&&!j&&!Z,h.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var W,V,H,X,_="";if(j)_=r+"/",W=function(e,t){var r;return H||(H=i(69)),X||(X=i(70)),e=X.normalize(e),r=H.readFileSync(e),t?r:r.toString()},V=function(e){var t=W(e,!0);return t.buffer||(t=new Uint8Array(t)),u(t.buffer),t},e.argv.length>1&&(Y=e.argv[1].replace(/\\/g,"/")),G=e.argv.slice(2),n.exports=h,e.on("uncaughtException",function(e){if(!(e instanceof L))throw e}),e.on("unhandledRejection",S),P=function(t){e.exit(t)},h.inspect=function(){return"[Emscripten Module object]"};else if(J)"undefined"!=typeof read&&(W=function(e){return read(e)}),V=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(u("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?G=scriptArgs:void 0!==arguments&&(G=arguments),"function"==typeof quit&&(P=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!z&&!Z)throw new Error("environment detection error");Z?_=self.location.href:document.currentScript&&(_=document.currentScript.src),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",W=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},Z&&(V=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})}var $=h.print||console.log.bind(console),ee=h.printErr||console.warn.bind(console);for(U in F)F.hasOwnProperty(U)&&(h[U]=F[U]);F=null,h.arguments&&(G=h.arguments),Object.getOwnPropertyDescriptor(h,"arguments")||Object.defineProperty(h,"arguments",{configurable:!0,get:function(){S("Module.arguments has been replaced with plain arguments_")}}),h.thisProgram&&(Y=h.thisProgram),Object.getOwnPropertyDescriptor(h,"thisProgram")||Object.defineProperty(h,"thisProgram",{configurable:!0,get:function(){S("Module.thisProgram has been replaced with plain thisProgram")}}),h.quit&&(P=h.quit),Object.getOwnPropertyDescriptor(h,"quit")||Object.defineProperty(h,"quit",{configurable:!0,get:function(){S("Module.quit has been replaced with plain quit_")}}),u(void 0===h.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.read,"Module.read option was removed (modify read_ in JS)"),u(void 0===h.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),u(void 0===h.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),u(void 0===h.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Object.getOwnPropertyDescriptor(h,"read")||Object.defineProperty(h,"read",{configurable:!0,get:function(){S("Module.read has been replaced with plain read_")}}),Object.getOwnPropertyDescriptor(h,"readAsync")||Object.defineProperty(h,"readAsync",{configurable:!0,get:function(){S("Module.readAsync has been replaced with plain readAsync")}}),Object.getOwnPropertyDescriptor(h,"readBinary")||Object.defineProperty(h,"readBinary",{configurable:!0,get:function(){S("Module.readBinary has been replaced with plain readBinary")}}),ci=di=hi=function(){S("cannot use the stack before compiled code is ready to run, and has provided stack access")};var te,ie,re=function(e){};h.wasmBinary&&(te=h.wasmBinary),Object.getOwnPropertyDescriptor(h,"wasmBinary")||Object.defineProperty(h,"wasmBinary",{configurable:!0,get:function(){S("Module.wasmBinary has been replaced with plain wasmBinary")}}),h.noExitRuntime&&(s=h.noExitRuntime),Object.getOwnPropertyDescriptor(h,"noExitRuntime")||Object.defineProperty(h,"noExitRuntime",{configurable:!0,get:function(){S("Module.noExitRuntime has been replaced with plain noExitRuntime")}}),"object"!=typeof WebAssembly&&S("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead.");var ne=new WebAssembly.Table({initial:2542,maximum:2552,element:"anyfunc"}),oe=!1,ae="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var se,ue,le,ce,he,de,fe=1341328;u(!0,"stack must start aligned"),u(!0,"heap must start aligned");var pe=5242880;h.TOTAL_STACK&&u(pe===h.TOTAL_STACK,"the stack size can no longer be determined at runtime");var Ae=h.TOTAL_MEMORY||67108864;Object.getOwnPropertyDescriptor(h,"TOTAL_MEMORY")||Object.defineProperty(h,"TOTAL_MEMORY",{configurable:!0,get:function(){S("Module.TOTAL_MEMORY has been replaced with plain INITIAL_TOTAL_MEMORY")}}),u(Ae>=pe,"TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ae+"! (TOTAL_STACK="+pe+")"),u("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(ie=h.wasmMemory?h.wasmMemory:new WebAssembly.Memory({initial:Ae/65536}))&&(se=ie.buffer),u((Ae=se.byteLength)%65536==0),v(se),he[335292]=6584208,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var ge=[],me=[],ye=[],ve=[],Ee=!1,we=!1;u(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),u(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),u(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),u(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var be=Math.abs,Ce=Math.ceil,Ie=Math.floor,Se=Math.min,Me=0,ke=null,Te=null,De={};h.preloadedImages={},h.preloadedAudios={};var Be,Re,Qe="data:application/octet-stream;base64,",Oe=c+"showVideo/showVideo.wasm";M(Oe)||(Oe=function(e){return h.locateFile?h.locateFile(e,_):_+e}(Oe)),me.push({func:function(){si()}});var Le={},xe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i;i--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);return(e=xe.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=xe.splitPath(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return xe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return xe.normalize(e.join("/"))},join2:function(e,t){return xe.normalize(e+"/"+t)}},qe={resolve:function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var r=i>=0?arguments[i]:Ne.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=xe.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."},relative:function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=qe.resolve(e).substr(1),t=qe.resolve(t).substr(1);for(var r=i(e.split("/")),n=i(t.split("/")),o=Math.min(r.length,n.length),a=o,s=0;s<o;s++)if(r[s]!==n[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(n.slice(a))).join("/")}},Ke={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ke.ttys[e]={input:[],output:[],ops:t},Ne.registerDevice(e,Ke.stream_ops)},stream_ops:{open:function(e){var t=Ke.ttys[e.node.rdev];if(!t)throw new Ne.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.get_char)throw new Ne.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ne.ErrnoError(29)}if(void 0===s&&0===o)throw new Ne.ErrnoError(6);if(null==s)break;o++,t[i+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.put_char)throw new Ne.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[i+o])}catch(e){throw new Ne.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var i=null;if(j){var r=o.alloc?o.alloc(256):new o(256),n=0;try{n=H.readSync(e.stdin.fd,r,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;n=0}i=n>0?r.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(i=window.prompt("Input: "))&&(i+="\n"):"function"==typeof readline&&null!==(i=readline())&&(i+="\n");if(!i)return null;t.input=O(i,!0)}return t.input.shift()},put_char:function(e,t){null===t||10===t?e.output=[]:0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(ee(f(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(ee(f(e.output,0)),e.output=[])}}},Ue={ops_table:null,mount:function(e){return Ue.createNode(null,"/",16895,0)},createNode:function(e,t,i,r){if(Ne.isBlkdev(i)||Ne.isFIFO(i))throw new Ne.ErrnoError(63);Ue.ops_table||(Ue.ops_table={dir:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,lookup:Ue.node_ops.lookup,mknod:Ue.node_ops.mknod,rename:Ue.node_ops.rename,unlink:Ue.node_ops.unlink,rmdir:Ue.node_ops.rmdir,readdir:Ue.node_ops.readdir,symlink:Ue.node_ops.symlink},stream:{llseek:Ue.stream_ops.llseek}},file:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:{llseek:Ue.stream_ops.llseek,read:Ue.stream_ops.read,write:Ue.stream_ops.write,allocate:Ue.stream_ops.allocate,mmap:Ue.stream_ops.mmap,msync:Ue.stream_ops.msync}},link:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,readlink:Ue.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:Ne.chrdev_stream_ops}});var n=Ne.createNode(e,t,i,r);return Ne.isDir(n.mode)?(n.node_ops=Ue.ops_table.dir.node,n.stream_ops=Ue.ops_table.dir.stream,n.contents={}):Ne.isFile(n.mode)?(n.node_ops=Ue.ops_table.file.node,n.stream_ops=Ue.ops_table.file.stream,n.usedBytes=0,n.contents=null):Ne.isLink(n.mode)?(n.node_ops=Ue.ops_table.link.node,n.stream_ops=Ue.ops_table.link.stream):Ne.isChrdev(n.mode)&&(n.node_ops=Ue.ops_table.chrdev.node,n.stream_ops=Ue.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],i=0;i<e.usedBytes;++i)t.push(e.contents[i]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){var i=e.contents?e.contents.length:0;if(!(i>=t)){t=Math.max(t,i*(i<1048576?2:1.125)|0),0!=i&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var i=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ne.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ne.isDir(e.mode)?t.size=4096:Ne.isFile(e.mode)?t.size=e.usedBytes:Ne.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ue.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ne.genericErrors[44]},mknod:function(e,t,i,r){return Ue.createNode(e,t,i,r)},rename:function(e,t,i){if(Ne.isDir(e.mode)){var r;try{r=Ne.lookupNode(t,i)}catch(e){}if(r)for(var n in r.contents)throw new Ne.ErrnoError(55)}delete e.parent.contents[e.name],e.name=i,t.contents[i]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var i=Ne.lookupNode(e,t);for(var r in i.contents)throw new Ne.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var i in e.contents)e.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(e,t,i){var r=Ue.createNode(e,t,41471,0);return r.link=i,r},readlink:function(e){if(!Ne.isLink(e.mode))throw new Ne.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,i,r,n){var o=e.node.contents;if(n>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-n,r);if(u(a>=0),a>8&&o.subarray)t.set(o.subarray(n,n+a),i);else for(var s=0;s<a;s++)t[i+s]=o[n+s];return a},write:function(e,i,r,n,o,a){if(a&&t("file packager has copied file data into memory, but in memory growth we are forced to copy it again (see --no-heap-copy)"),a=!1,!n)return 0;var s=e.node;if(s.timestamp=Date.now(),i.subarray&&(!s.contents||s.contents.subarray)){if(a)return u(0===o,"canOwn must imply no weird position inside the file"),s.contents=i.subarray(r,r+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===o)return s.contents=new Uint8Array(i.subarray(r,r+n)),s.usedBytes=n,n;if(o+n<=s.usedBytes)return s.contents.set(i.subarray(r,r+n),o),n}if(Ue.expandFileStorage(s,o+n),s.contents.subarray&&i.subarray)s.contents.set(i.subarray(r,r+n),o);else for(var l=0;l<n;l++)s.contents[o+l]=i[r+l];return s.usedBytes=Math.max(s.usedBytes,o+n),n},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&Ne.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Ne.ErrnoError(28);return r},allocate:function(e,t,i){Ue.expandFileStorage(e.node,t+i),e.node.usedBytes=Math.max(e.node.usedBytes,t+i)},mmap:function(e,t,i,r,n,o,a){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);var s,u,l=e.node.contents;if(2&a||l.buffer!==t&&l.buffer!==t.buffer){(n>0||n+r<e.node.usedBytes)&&(l=l.subarray?l.subarray(n,n+r):Array.prototype.slice.call(l,n,n+r)),u=!0;var c=t.buffer==ue.buffer;if(!(s=ui(r)))throw new Ne.ErrnoError(48);(c?ue:t).set(l,s)}else u=!1,s=l.byteOffset;return{ptr:s,allocated:u}},msync:function(e,t,i,r,n){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);return 2&n?0:(Ue.stream_ops.write(e,t,0,r,i,!1),0)}}},Fe={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},je={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Ne={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Ne.ErrnoError))throw e+" : "+B();return R(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=qe.resolve(Ne.cwd(),e)))return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var r in i)void 0===t[r]&&(t[r]=i[r]);if(t.recurse_count>8)throw new Ne.ErrnoError(32);for(var n=xe.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=Ne.root,a="/",s=0;s<n.length;s++){var u=s===n.length-1;if(u&&t.parent)break;if(o=Ne.lookupNode(o,n[s]),a=xe.join2(a,n[s]),Ne.isMountpoint(o)&&(!u||u&&t.follow_mount)&&(o=o.mounted.root),!u||t.follow)for(var l=0;Ne.isLink(o.mode);){var c=Ne.readlink(a);if(a=qe.resolve(xe.dirname(a),c),o=Ne.lookupPath(a,{recurse_count:t.recurse_count}).node,l++>40)throw new Ne.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(Ne.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?i+"/"+t:i+t:i}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(e+i>>>0)%Ne.nameTable.length},hashAddNode:function(e){var t=Ne.hashName(e.parent.id,e.name);e.name_next=Ne.nameTable[t],Ne.nameTable[t]=e},hashRemoveNode:function(e){var t=Ne.hashName(e.parent.id,e.name);if(Ne.nameTable[t]===e)Ne.nameTable[t]=e.name_next;else for(var i=Ne.nameTable[t];i;){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}},lookupNode:function(e,t){var i=Ne.mayLookup(e);if(i)throw new Ne.ErrnoError(i,e);for(var r=Ne.hashName(e.id,t),n=Ne.nameTable[r];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return Ne.lookup(e,t)},createNode:function(e,t,i,r){Ne.FSNode||(Ne.FSNode=function(e,t,i,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ne.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r},Ne.FSNode.prototype={},Object.defineProperties(Ne.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ne.isDir(this.mode)}},isDevice:{get:function(){return Ne.isChrdev(this.mode)}}}));var n=new Ne.FSNode(e,t,i,r);return Ne.hashAddNode(n),n},destroyNode:function(e){Ne.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Ne.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ne.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return Ne.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Ne.lookupNode(e,t),20}catch(e){}return Ne.nodePermissions(e,"wx")},mayDelete:function(e,t,i){var r;try{r=Ne.lookupNode(e,t)}catch(e){return e.errno}var n=Ne.nodePermissions(e,"wx");if(n)return n;if(i){if(!Ne.isDir(r.mode))return 54;if(Ne.isRoot(r)||Ne.getPath(r)===Ne.cwd())return 10}else if(Ne.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Ne.isLink(e.mode)?32:Ne.isDir(e.mode)&&("r"!==Ne.flagsToPermissionString(t)||512&t)?31:Ne.nodePermissions(e,Ne.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ne.MAX_OPEN_FDS;for(var i=e;i<=t;i++)if(!Ne.streams[i])return i;throw new Ne.ErrnoError(33)},getStream:function(e){return Ne.streams[e]},createStream:function(e,t,i){Ne.FSStream||(Ne.FSStream=function(){},Ne.FSStream.prototype={},Object.defineProperties(Ne.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new Ne.FSStream;for(var n in e)r[n]=e[n];e=r;var o=Ne.nextfd(t,i);return e.fd=o,Ne.streams[o]=e,e},closeStream:function(e){Ne.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ne.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ne.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ne.devices[e]={stream_ops:t}},getDevice:function(e){return Ne.devices[e]},getMounts:function(e){for(var t=[],i=[e];i.length;){var r=i.pop();t.push(r),i.push.apply(i,r.mounts)}return t},syncfs:function(e,t){function i(e){return u(Ne.syncFSRequests>0),Ne.syncFSRequests--,t(e)}function r(e){if(e)return r.errored?void 0:(r.errored=!0,i(e));++o>=n.length&&i(null)}"function"==typeof e&&(t=e,e=!1),++Ne.syncFSRequests>1&&console.log("warning: "+Ne.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ne.getMounts(Ne.root.mount),o=0;n.forEach(function(t){if(!t.type.syncfs)return r(null);t.type.syncfs(t,e,r)})},mount:function(e,t,i){if("string"==typeof e)throw e;var r,n="/"===i,o=!i;if(n&&Ne.root)throw new Ne.ErrnoError(10);if(!n&&!o){var a=Ne.lookupPath(i,{follow_mount:!1});if(i=a.path,r=a.node,Ne.isMountpoint(r))throw new Ne.ErrnoError(10);if(!Ne.isDir(r.mode))throw new Ne.ErrnoError(54)}var s={type:e,opts:t,mountpoint:i,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,n?Ne.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=Ne.lookupPath(e,{follow_mount:!1});if(!Ne.isMountpoint(t.node))throw new Ne.ErrnoError(28);var i=t.node,r=i.mounted,n=Ne.getMounts(r);Object.keys(Ne.nameTable).forEach(function(e){for(var t=Ne.nameTable[e];t;){var i=t.name_next;-1!==n.indexOf(t.mount)&&Ne.destroyNode(t),t=i}}),i.mounted=null;var o=i.mount.mounts.indexOf(r);u(-1!==o),i.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,i){var r=Ne.lookupPath(e,{parent:!0}).node,n=xe.basename(e);if(!n||"."===n||".."===n)throw new Ne.ErrnoError(28);var o=Ne.mayCreate(r,n);if(o)throw new Ne.ErrnoError(o);if(!r.node_ops.mknod)throw new Ne.ErrnoError(63);return r.node_ops.mknod(r,n,t,i)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ne.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ne.mknod(e,t,0)},mkdirTree:function(e,t){for(var i=e.split("/"),r="",n=0;n<i.length;++n)if(i[n]){r+="/"+i[n];try{Ne.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,i){return void 0===i&&(i=t,t=438),t|=8192,Ne.mknod(e,t,i)},symlink:function(e,t){if(!qe.resolve(e))throw new Ne.ErrnoError(44);var i=Ne.lookupPath(t,{parent:!0}).node;if(!i)throw new Ne.ErrnoError(44);var r=xe.basename(t),n=Ne.mayCreate(i,r);if(n)throw new Ne.ErrnoError(n);if(!i.node_ops.symlink)throw new Ne.ErrnoError(63);return i.node_ops.symlink(i,r,e)},rename:function(e,t){var i,r,n=xe.dirname(e),o=xe.dirname(t),a=xe.basename(e),s=xe.basename(t);try{i=Ne.lookupPath(e,{parent:!0}).node,r=Ne.lookupPath(t,{parent:!0}).node}catch(e){throw new Ne.ErrnoError(10)}if(!i||!r)throw new Ne.ErrnoError(44);if(i.mount!==r.mount)throw new Ne.ErrnoError(75);var u,l=Ne.lookupNode(i,a),c=qe.relative(e,o);if("."!==c.charAt(0))throw new Ne.ErrnoError(28);if("."!==(c=qe.relative(t,n)).charAt(0))throw new Ne.ErrnoError(55);try{u=Ne.lookupNode(r,s)}catch(e){}if(l!==u){var h=Ne.isDir(l.mode),d=Ne.mayDelete(i,a,h);if(d)throw new Ne.ErrnoError(d);if(d=u?Ne.mayDelete(r,s,h):Ne.mayCreate(r,s))throw new Ne.ErrnoError(d);if(!i.node_ops.rename)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(l)||u&&Ne.isMountpoint(u))throw new Ne.ErrnoError(10);if(r!==i&&(d=Ne.nodePermissions(i,"w")))throw new Ne.ErrnoError(d);try{Ne.trackingDelegate.willMovePath&&Ne.trackingDelegate.willMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}Ne.hashRemoveNode(l);try{i.node_ops.rename(l,r,s)}catch(e){throw e}finally{Ne.hashAddNode(l)}try{Ne.trackingDelegate.onMovePath&&Ne.trackingDelegate.onMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}}},rmdir:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,i=xe.basename(e),r=Ne.lookupNode(t,i),n=Ne.mayDelete(t,i,!0);if(n)throw new Ne.ErrnoError(n);if(!t.node_ops.rmdir)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);try{Ne.trackingDelegate.willDeletePath&&Ne.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,i),Ne.destroyNode(r);try{Ne.trackingDelegate.onDeletePath&&Ne.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=Ne.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ne.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,i=xe.basename(e),r=Ne.lookupNode(t,i),n=Ne.mayDelete(t,i,!1);if(n)throw new Ne.ErrnoError(n);if(!t.node_ops.unlink)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);try{Ne.trackingDelegate.willDeletePath&&Ne.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,i),Ne.destroyNode(r);try{Ne.trackingDelegate.onDeletePath&&Ne.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=Ne.lookupPath(e).node;if(!t)throw new Ne.ErrnoError(44);if(!t.node_ops.readlink)throw new Ne.ErrnoError(28);return qe.resolve(Ne.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var i=Ne.lookupPath(e,{follow:!t}).node;if(!i)throw new Ne.ErrnoError(44);if(!i.node_ops.getattr)throw new Ne.ErrnoError(63);return i.node_ops.getattr(i)},lstat:function(e){return Ne.stat(e,!0)},chmod:function(e,t,i){var r;if(!(r="string"==typeof e?Ne.lookupPath(e,{follow:!i}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Ne.chmod(e,t,!0)},fchmod:function(e,t){var i=Ne.getStream(e);if(!i)throw new Ne.ErrnoError(8);Ne.chmod(i.node,t)},chown:function(e,t,i,r){var n;if(!(n="string"==typeof e?Ne.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,t,i){Ne.chown(e,t,i,!0)},fchown:function(e,t,i){var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);Ne.chown(r.node,t,i)},truncate:function(e,t){if(t<0)throw new Ne.ErrnoError(28);var i;if(!(i="string"==typeof e?Ne.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);if(Ne.isDir(i.mode))throw new Ne.ErrnoError(31);if(!Ne.isFile(i.mode))throw new Ne.ErrnoError(28);var r=Ne.nodePermissions(i,"w");if(r)throw new Ne.ErrnoError(r);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var i=Ne.getStream(e);if(!i)throw new Ne.ErrnoError(8);if(0==(2097155&i.flags))throw new Ne.ErrnoError(28);Ne.truncate(i.node,t)},utime:function(e,t,i){var r=Ne.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,i)})},open:function(e,t,i,r,n){if(""===e)throw new Ne.ErrnoError(44);var o;if(i=void 0===i?438:i,i=64&(t="string"==typeof t?Ne.modeStringToFlags(t):t)?4095&i|32768:0,"object"==typeof e)o=e;else{e=xe.normalize(e);try{o=Ne.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(o){if(128&t)throw new Ne.ErrnoError(20)}else o=Ne.mknod(e,i,0),a=!0;if(!o)throw new Ne.ErrnoError(44);if(Ne.isChrdev(o.mode)&&(t&=-513),65536&t&&!Ne.isDir(o.mode))throw new Ne.ErrnoError(54);if(!a){var s=Ne.mayOpen(o,t);if(s)throw new Ne.ErrnoError(s)}512&t&&Ne.truncate(o,0),t&=-641;var u=Ne.createStream({node:o,path:Ne.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},r,n);u.stream_ops.open&&u.stream_ops.open(u),!h.logReadFiles||1&t||(Ne.readFiles||(Ne.readFiles={}),e in Ne.readFiles||(Ne.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(Ne.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=Ne.tracking.openFlags.READ),0!=(2097155&t)&&(l|=Ne.tracking.openFlags.WRITE),Ne.trackingDelegate.onOpenFile(e,l)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ne.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,i){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ne.ErrnoError(70);if(0!=i&&1!=i&&2!=i)throw new Ne.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read:function(e,t,i,r,n){if(r<0||n<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(1==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.read)throw new Ne.ErrnoError(28);var o=void 0!==n;if(o){if(!e.seekable)throw new Ne.ErrnoError(70)}else n=e.position;var a=e.stream_ops.read(e,t,i,r,n);return o||(e.position+=a),a},write:function(e,t,i,r,n,o){if(r<0||n<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.write)throw new Ne.ErrnoError(28);1024&e.flags&&Ne.llseek(e,0,2);var a=void 0!==n;if(a){if(!e.seekable)throw new Ne.ErrnoError(70)}else n=e.position;var s=e.stream_ops.write(e,t,i,r,n,o);a||(e.position+=s);try{e.path&&Ne.trackingDelegate.onWriteToFile&&Ne.trackingDelegate.onWriteToFile(e.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,i){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(t<0||i<=0)throw new Ne.ErrnoError(28);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(!Ne.isFile(e.node.mode)&&!Ne.isDir(e.node.mode))throw new Ne.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ne.ErrnoError(138);e.stream_ops.allocate(e,t,i)},mmap:function(e,t,i,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Ne.ErrnoError(2);if(1==(2097155&e.flags))throw new Ne.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ne.ErrnoError(43);return e.stream_ops.mmap(e,t,i,r,n,o,a)},msync:function(e,t,i,r,n){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,i,r,n):0},munmap:function(e){return 0},ioctl:function(e,t,i){if(!e.stream_ops.ioctl)throw new Ne.ErrnoError(59);return e.stream_ops.ioctl(e,t,i)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i,r=Ne.open(e,t.flags),n=Ne.stat(e).size,o=new Uint8Array(n);return Ne.read(r,o,0,n,0),"utf8"===t.encoding?i=f(o,0):"binary"===t.encoding&&(i=o),Ne.close(r),i},writeFile:function(e,t,i){(i=i||{}).flags=i.flags||"w";var r=Ne.open(e,i.flags,i.mode);if("string"==typeof t){var n=new Uint8Array(m(t)+1),o=A(t,n,0,n.length);Ne.write(r,n,0,o,void 0,i.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ne.write(r,t,0,t.byteLength,void 0,i.canOwn)}Ne.close(r)},cwd:function(){return Ne.currentPath},chdir:function(e){var t=Ne.lookupPath(e,{follow:!0});if(null===t.node)throw new Ne.ErrnoError(44);if(!Ne.isDir(t.node.mode))throw new Ne.ErrnoError(54);var i=Ne.nodePermissions(t.node,"x");if(i)throw new Ne.ErrnoError(i);Ne.currentPath=t.path},createDefaultDirectories:function(){Ne.mkdir("/tmp"),Ne.mkdir("/home"),Ne.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Ne.mkdir("/dev"),Ne.registerDevice(Ne.makedev(1,3),{read:function(){return 0},write:function(e,t,i,r,n){return r}}),Ne.mkdev("/dev/null",Ne.makedev(1,3)),Ke.register(Ne.makedev(5,0),Ke.default_tty_ops),Ke.register(Ne.makedev(6,0),Ke.default_tty1_ops),Ne.mkdev("/dev/tty",Ne.makedev(5,0)),Ne.mkdev("/dev/tty1",Ne.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(j)try{var r=i(71);e=function(){return r.randomBytes(1)[0]}}catch(e){}e||(e=function(){S("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),Ne.createDevice("/dev","random",e),Ne.createDevice("/dev","urandom",e),Ne.mkdir("/dev/shm"),Ne.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ne.mkdir("/proc"),Ne.mkdir("/proc/self"),Ne.mkdir("/proc/self/fd"),Ne.mount({mount:function(){var e=Ne.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var i=+t,r=Ne.getStream(i);if(!r)throw new Ne.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?Ne.createDevice("/dev","stdin",h.stdin):Ne.symlink("/dev/tty","/dev/stdin"),h.stdout?Ne.createDevice("/dev","stdout",null,h.stdout):Ne.symlink("/dev/tty","/dev/stdout"),h.stderr?Ne.createDevice("/dev","stderr",null,h.stderr):Ne.symlink("/dev/tty1","/dev/stderr");var e=Ne.open("/dev/stdin","r"),t=Ne.open("/dev/stdout","w"),i=Ne.open("/dev/stderr","w");u(0===e.fd,"invalid handle for stdin ("+e.fd+")"),u(1===t.fd,"invalid handle for stdout ("+t.fd+")"),u(2===i.fd,"invalid handle for stderr ("+i.fd+")")},ensureErrnoError:function(){Ne.ErrnoError||(Ne.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,je)if(je[t]===e){this.code=t;break}},this.setErrno(e),this.message=Fe[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=D(this.stack))},Ne.ErrnoError.prototype=new Error,Ne.ErrnoError.prototype.constructor=Ne.ErrnoError,[44].forEach(function(e){Ne.genericErrors[e]=new Ne.ErrnoError(e),Ne.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){Ne.ensureErrnoError(),Ne.nameTable=new Array(4096),Ne.mount(Ue,{},"/"),Ne.createDefaultDirectories(),Ne.createDefaultDevices(),Ne.createSpecialDirectories(),Ne.filesystems={MEMFS:Ue}},init:function(e,t,i){u(!Ne.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Ne.init.initialized=!0,Ne.ensureErrnoError(),h.stdin=e||h.stdin,h.stdout=t||h.stdout,h.stderr=i||h.stderr,Ne.createStandardStreams()},quit:function(){Ne.init.initialized=!1;var e=h._fflush;e&&e(0);for(var t=0;t<Ne.streams.length;t++){var i=Ne.streams[t];i&&Ne.close(i)}},getMode:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},joinPath:function(e,t){var i=xe.join.apply(null,e);return t&&"/"==i[0]&&(i=i.substr(1)),i},absolutePath:function(e,t){return qe.resolve(t,e)},standardizePath:function(e){return xe.normalize(e)},findObject:function(e,t){var i=Ne.analyzePath(e,t);return i.exists?i.object:(R(i.error),null)},analyzePath:function(e,t){try{e=(r=Ne.lookupPath(e,{follow:!t})).path}catch(e){}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ne.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=r.path,i.parentObject=r.node,i.name=xe.basename(e),r=Ne.lookupPath(e,{follow:!t}),i.exists=!0,i.path=r.path,i.object=r.node,i.name=r.node.name,i.isRoot="/"===r.path}catch(e){i.error=e.errno}return i},createFolder:function(e,t,i,r){var n=xe.join2("string"==typeof e?e:Ne.getPath(e),t),o=Ne.getMode(i,r);return Ne.mkdir(n,o)},createPath:function(e,t,i,r){e="string"==typeof e?e:Ne.getPath(e);for(var n=t.split("/").reverse();n.length;){var o=n.pop();if(o){var a=xe.join2(e,o);try{Ne.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,i,r,n){var o=xe.join2("string"==typeof e?e:Ne.getPath(e),t),a=Ne.getMode(r,n);return Ne.create(o,a)},createDataFile:function(e,t,i,r,n,o){var a=t?xe.join2("string"==typeof e?e:Ne.getPath(e),t):e,s=Ne.getMode(r,n),u=Ne.create(a,s);if(i){if("string"==typeof i){for(var l=new Array(i.length),c=0,h=i.length;c<h;++c)l[c]=i.charCodeAt(c);i=l}Ne.chmod(u,146|s);var d=Ne.open(u,"w");Ne.write(d,i,0,i.length,0,o),Ne.close(d),Ne.chmod(u,s)}return u},createDevice:function(e,t,i,r){var n=xe.join2("string"==typeof e?e:Ne.getPath(e),t),o=Ne.getMode(!!i,!!r);Ne.createDevice.major||(Ne.createDevice.major=64);var a=Ne.makedev(Ne.createDevice.major++,0);return Ne.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,n,o){for(var a=0,s=0;s<n;s++){var u;try{u=i()}catch(e){throw new Ne.ErrnoError(29)}if(void 0===u&&0===a)throw new Ne.ErrnoError(6);if(null==u)break;a++,t[r+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,i,n,o){for(var a=0;a<n;a++)try{r(t[i+a])}catch(e){throw new Ne.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),Ne.mkdev(n,o,a)},createLink:function(e,t,i,r,n){var o=xe.join2("string"==typeof e?e:Ne.getPath(e),t);return Ne.symlink(i,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!W)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=O(W(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||R(29),t},createLazyFile:function(e,t,i,r,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;n||(a=r);var s=this;s.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",i,!1),r!==a&&n.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+i+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):O(n.responseText||"",!0)}(t,n)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:i};var l=Ne.createFile(e,t,s,r,n);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];c[e]=function(){if(!Ne.forceLoadFile(l))throw new Ne.ErrnoError(29);return t.apply(null,arguments)}}),c.read=function(e,t,i,r,n){if(!Ne.forceLoadFile(l))throw new Ne.ErrnoError(29);var o=e.node.contents;if(n>=o.length)return 0;var a=Math.min(o.length-n,r);if(u(a>=0),o.slice)for(var s=0;s<a;s++)t[i+s]=o[n+s];else for(s=0;s<a;s++)t[i+s]=o.get(n+s);return a},l.stream_ops=c,l},createPreloadedFile:function(e,t,i,r,n,o,a,s,u,l){function c(i){function c(i){l&&l(),s||Ne.createDataFile(e,t,i,r,n,u),o&&o(),I(f)}var p=!1;h.preloadPlugins.forEach(function(e){p||e.canHandle(d)&&(e.handle(i,d,c,function(){a&&a(),I(f)}),p=!0)}),p||c(i)}Browser.init();var d=t?qe.resolve(xe.join2(e,t)):e,f=function(e){for(var t=e;;){if(!De[e])return e;e=t+Math.random()}return e}("cp "+d);C(f),"string"==typeof i?Browser.asyncLoad(i,function(e){c(e)},a):c(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=Ne.indexedDB();try{var n=r.open(Ne.DB_NAME(),Ne.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=function(){console.log("creating db"),n.result.createObjectStore(Ne.DB_STORE_NAME)},n.onsuccess=function(){function r(){0==u?t():i()}var o=n.result.transaction([Ne.DB_STORE_NAME],"readwrite"),a=o.objectStore(Ne.DB_STORE_NAME),s=0,u=0,l=e.length;e.forEach(function(e){var t=a.put(Ne.analyzePath(e).object.contents,e);t.onsuccess=function(){++s+u==l&&r()},t.onerror=function(){s+ ++u==l&&r()}}),o.onerror=i},n.onerror=i},loadFilesFromDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=Ne.indexedDB();try{var n=r.open(Ne.DB_NAME(),Ne.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=i,n.onsuccess=function(){function r(){0==l?t():i()}var o=n.result;try{var a=o.transaction([Ne.DB_STORE_NAME],"readonly")}catch(e){return void i(e)}var s=a.objectStore(Ne.DB_STORE_NAME),u=0,l=0,c=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){Ne.analyzePath(e).exists&&Ne.unlink(e),Ne.createDataFile(xe.dirname(e),xe.basename(e),t.result,!0,!0,!0),++u+l==c&&r()},t.onerror=function(){u+ ++l==c&&r()}}),a.onerror=i},n.onerror=i}},Je={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var i;if(-100===e)i=Ne.cwd();else{var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);i=r.path}t=xe.join2(i,t)}return t},doStat:function(e,t,i){try{var r=e(t)}catch(e){if(e&&e.node&&xe.normalize(t)!==xe.normalize(Ne.getPath(e.node)))return-54;throw e}return he[i>>2]=r.dev,he[i+4>>2]=0,he[i+8>>2]=r.ino,he[i+12>>2]=r.mode,he[i+16>>2]=r.nlink,he[i+20>>2]=r.uid,he[i+24>>2]=r.gid,he[i+28>>2]=r.rdev,he[i+32>>2]=0,Re=[r.size>>>0,(Be=r.size,+be(Be)>=1?Be>0?(0|Se(+Ie(Be/4294967296),4294967295))>>>0:~~+Ce((Be-+(~~Be>>>0))/4294967296)>>>0:0)],he[i+40>>2]=Re[0],he[i+44>>2]=Re[1],he[i+48>>2]=4096,he[i+52>>2]=r.blocks,he[i+56>>2]=r.atime.getTime()/1e3|0,he[i+60>>2]=0,he[i+64>>2]=r.mtime.getTime()/1e3|0,he[i+68>>2]=0,he[i+72>>2]=r.ctime.getTime()/1e3|0,he[i+76>>2]=0,Re=[r.ino>>>0,(Be=r.ino,+be(Be)>=1?Be>0?(0|Se(+Ie(Be/4294967296),4294967295))>>>0:~~+Ce((Be-+(~~Be>>>0))/4294967296)>>>0:0)],he[i+80>>2]=Re[0],he[i+84>>2]=Re[1],0},doMsync:function(e,t,i,r){var n=new Uint8Array(le.subarray(e,e+i));Ne.msync(t,n,0,i,r)},doMkdir:function(e,t){return"/"===(e=xe.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ne.mkdir(e,t,0),0},doMknod:function(e,t,i){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ne.mknod(e,t,i),0},doReadlink:function(e,t,i){if(i<=0)return-28;var r=Ne.readlink(e),n=Math.min(i,m(r)),o=ue[t+n];return g(r,t,i+1),ue[t+n]=o,n},doAccess:function(e,t){if(-8&t)return-28;var i;if(!(i=Ne.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&Ne.nodePermissions(i,r)?-2:0},doDup:function(e,t,i){var r=Ne.getStream(i);return r&&Ne.close(r),Ne.open(e,t,0,i,i).fd},doReadv:function(e,t,i,r){for(var n=0,o=0;o<i;o++){var a=he[t+8*o>>2],s=he[t+(8*o+4)>>2],u=Ne.read(e,ue,a,s,r);if(u<0)return-1;if(n+=u,u<s)break}return n},doWritev:function(e,t,i,r){for(var n=0,o=0;o<i;o++){var a=he[t+8*o>>2],s=he[t+(8*o+4)>>2],u=Ne.write(e,ue,a,s,r);if(u<0)return-1;n+=u}return n},varargs:0,get:function(e){return Je.varargs+=4,he[Je.varargs-4>>2]},getStr:function(){return p(Je.get())},getStreamFromFD:function(e){void 0===e&&(e=Je.get());var t=Ne.getStream(e);if(!t)throw new Ne.ErrnoError(8);return t},get64:function(){var e=Je.get(),t=Je.get();return u(e>=0?0===t:-1===t),e},getZero:function(){u(0===Je.get())}},Ge={};g("GMT",1341232,4),Ne.staticInit();var Ye={__cxa_allocate_exception:function(e){return ui(e)},__cxa_throw:function(e,t,i){throw Le[e]={ptr:e,adjusted:[e],type:t,destructor:i,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in li?li.uncaught_exceptions++:li.uncaught_exceptions=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},__lock:function(){},__syscall221:function(e,t){Je.varargs=t;try{var i=Je.getStreamFromFD();switch(Je.get()){case 0:return(r=Je.get())<0?-28:Ne.open(i.path,i.flags,0,r).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var r=Je.get();return i.flags|=r,0;case 12:return r=Je.get(),ce[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return R(28),-1;default:return-28}}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),-e.errno}},__syscall3:function(e,t){Je.varargs=t;try{var i=Je.getStreamFromFD(),r=Je.get(),n=Je.get();return Ne.read(i,ue,r,n)}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),-e.errno}},__syscall5:function(e,t){Je.varargs=t;try{var i=Je.getStr(),r=Je.get(),n=Je.get();return Ne.open(i,r,n).fd}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),-e.errno}},__unlock:function(){},abort:function(){S()},clock:function e(){return void 0===e.start&&(e.start=Date.now()),1e3*(Date.now()-e.start)|0},emscripten_memcpy_big:function(e,t,i){le.set(le.subarray(t,t+i),e)},emscripten_resize_heap:function(e){var i=ue.length;if(u(e>i),e>2147418112)return ee("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is 2147418112 bytes!"),!1;for(var r=Math.max(i,16777216);r<e;)(r=r<=536870912?y(2*r,65536):Math.min(y((3*r+2147483648)/4,65536),2147418112))===i&&t("Cannot ask for more memory since we reached the practical limit in browsers (which is just below 2GB), so the request would have failed. Requesting only "+ue.length);return!!function(e){try{return ie.grow(e-se.byteLength+65535>>16),v(ie.buffer),1}catch(t){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+se.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}(r)||(ee("Failed to grow the heap from "+i+" bytes to "+r+" bytes, not enough memory!"),!1)},environ_get:function(e,t){var i=0;return Q().forEach(function(r,n){var o=t+i;he[e+4*n>>2]=o,function(e,t,i){for(var r=0;r<e.length;++r)u(e.charCodeAt(r)==e.charCodeAt(r)&255),ue[t++>>0]=e.charCodeAt(r);i||(ue[t>>0]=0)}(r,o),i+=r.length+1}),0},environ_sizes_get:function(e,t){var i=Q();he[e>>2]=i.length;var r=0;return i.forEach(function(e){r+=e.length+1}),he[t>>2]=r,0},fd_close:function(e){try{var t=Je.getStreamFromFD(e);return Ne.close(t),0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},fd_fdstat_get:function(e,t){try{var i=Je.getStreamFromFD(e),r=i.tty?2:Ne.isDir(i.mode)?3:Ne.isLink(i.mode)?7:4;return ue[t>>0]=r,0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},fd_seek:function(e,t,i,r,n){try{var o=Je.getStreamFromFD(e),a=4294967296*i+(t>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(Ne.llseek(o,a,r),Re=[o.position>>>0,(Be=o.position,+be(Be)>=1?Be>0?(0|Se(+Ie(Be/4294967296),4294967295))>>>0:~~+Ce((Be-+(~~Be>>>0))/4294967296)>>>0:0)],he[n>>2]=Re[0],he[n+4>>2]=Re[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0)}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},fd_write:function(e,t,i,r){try{var n=Je.getStreamFromFD(e),o=Je.doWritev(n,t,i);return he[r>>2]=o,0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},gettimeofday:function(e){var t=Date.now();return he[e>>2]=t/1e3|0,he[e+4>>2]=t%1e3*1e3|0,0},memory:ie,round:function(e){return(e=+e)>=0?+Ie(e+.5):+Ce(e-.5)},setTempRet0:function(e){re(0|e)},table:ne,time:function(e){var t=Date.now()/1e3|0;return e&&(he[e>>2]=t),t}},Pe=function(){function e(e,t){var i=e.exports;h.asm=i,I("wasm-instantiate")}function t(t){u(h===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,e(t.instance)}function i(e){return(te||!z&&!Z||"function"!=typeof fetch?new Promise(function(e,t){e(k())}):fetch(Oe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Oe+"'";return e.arrayBuffer()}).catch(function(){return k()})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){ee("failed to asynchronously prepare wasm: "+e),S(e)})}var r={env:Ye,wasi_unstable:Ye};C("wasm-instantiate");var n=h;if(h.instantiateWasm)try{return h.instantiateWasm(r,e)}catch(r){return ee("Module.instantiateWasm callback failed with error: "+r),!1}return function(){if(te||"function"!=typeof WebAssembly.instantiateStreaming||M(Oe)||"function"!=typeof fetch)return i(t);fetch(Oe,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(t,function(e){ee("wasm streaming compile failed: "+e),ee("falling back to ArrayBuffer instantiation"),i(t)})})}(),{}}(),ze=Pe.__wasm_call_ctors;Pe.__wasm_call_ctors=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ze.apply(null,arguments)};var Ze=Pe.WasmDecoder_Check;Pe.WasmDecoder_Check=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ze.apply(null,arguments)};var We=Pe.WasmDecoder_Init;Pe.WasmDecoder_Init=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),We.apply(null,arguments)};var Ve=Pe.WasmDecoder_Deinit;Pe.WasmDecoder_Deinit=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ve.apply(null,arguments)};var He=Pe.WasmDecoder_OpenChannel;Pe.WasmDecoder_OpenChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),He.apply(null,arguments)};var Xe=Pe.WasmDecoder_InputFlvStream;Pe.WasmDecoder_InputFlvStream=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xe.apply(null,arguments)};var _e=Pe.WasmDecoder_GetFlvDecodeData;Pe.WasmDecoder_GetFlvDecodeData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_e.apply(null,arguments)};var $e=Pe.WasmDecoder_InputFlvStreamAndDecode;Pe.WasmDecoder_InputFlvStreamAndDecode=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$e.apply(null,arguments)};var et=Pe.WasmDecoder_OpenVideoDecoder;Pe.WasmDecoder_OpenVideoDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),et.apply(null,arguments)};var tt=Pe.WasmDecoder_OpenAudioDecoder;Pe.WasmDecoder_OpenAudioDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),tt.apply(null,arguments)};var it=Pe.WasmDecoder_DecodeVideoFrame;Pe.WasmDecoder_DecodeVideoFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),it.apply(null,arguments)};var rt=Pe.WasmDecoder_DecodeAudioFrame;Pe.WasmDecoder_DecodeAudioFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),rt.apply(null,arguments)};var nt=Pe.WasmDecoder_CloseChannel;Pe.WasmDecoder_CloseChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),nt.apply(null,arguments)};var ot=Pe.WasmDecoder_ConvertFrame2Image;Pe.WasmDecoder_ConvertFrame2Image=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ot.apply(null,arguments)};var at=Pe.WasmDecoder_ReleaseImageData;Pe.WasmDecoder_ReleaseImageData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),at.apply(null,arguments)};var st=Pe.WasmDecoder_CreateMP4File;Pe.WasmDecoder_CreateMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),st.apply(null,arguments)};var ut=Pe.WasmDecoder_WriteData;Pe.WasmDecoder_WriteData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ut.apply(null,arguments)};var lt=Pe.WasmDecoder_ReleaseMP4File;Pe.WasmDecoder_ReleaseMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),lt.apply(null,arguments)};var ct=Pe.main;Pe.main=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ct.apply(null,arguments)};var ht=Pe.free;Pe.free=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ht.apply(null,arguments)};var dt=Pe.malloc;Pe.malloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),dt.apply(null,arguments)};var ft=Pe.__errno_location;Pe.__errno_location=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ft.apply(null,arguments)};var pt=Pe.fflush;Pe.fflush=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),pt.apply(null,arguments)};var At=Pe._get_tzname;Pe._get_tzname=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),At.apply(null,arguments)};var gt=Pe._get_daylight;Pe._get_daylight=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),gt.apply(null,arguments)};var mt=Pe._get_timezone;Pe._get_timezone=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),mt.apply(null,arguments)};var yt=Pe.setThrew;Pe.setThrew=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),yt.apply(null,arguments)};var vt=Pe._ZSt18uncaught_exceptionv;Pe._ZSt18uncaught_exceptionv=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),vt.apply(null,arguments)};var Et=Pe.stackSave;Pe.stackSave=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Et.apply(null,arguments)};var wt=Pe.stackAlloc;Pe.stackAlloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),wt.apply(null,arguments)};var bt=Pe.stackRestore;Pe.stackRestore=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),bt.apply(null,arguments)};var Ct=Pe.__growWasmMemory;Pe.__growWasmMemory=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ct.apply(null,arguments)};var It=Pe.dynCall_ii;Pe.dynCall_ii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),It.apply(null,arguments)};var St=Pe.dynCall_viiiii;Pe.dynCall_viiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),St.apply(null,arguments)};var Mt=Pe.dynCall_viiiiiifi;Pe.dynCall_viiiiiifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Mt.apply(null,arguments)};var kt=Pe.dynCall_viiii;Pe.dynCall_viiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),kt.apply(null,arguments)};var Tt=Pe.dynCall_viii;Pe.dynCall_viii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Tt.apply(null,arguments)};var Dt=Pe.dynCall_iiiiiii;Pe.dynCall_iiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Dt.apply(null,arguments)};var Bt=Pe.dynCall_iiiiii;Pe.dynCall_iiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Bt.apply(null,arguments)};var Rt=Pe.dynCall_vii;Pe.dynCall_vii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Rt.apply(null,arguments)};var Qt=Pe.dynCall_iii;Pe.dynCall_iii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Qt.apply(null,arguments)};var Ot=Pe.dynCall_iiii;Pe.dynCall_iiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ot.apply(null,arguments)};var Lt=Pe.dynCall_viiiiii;Pe.dynCall_viiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Lt.apply(null,arguments)};var xt=Pe.dynCall_viiiiiiiii;Pe.dynCall_viiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),xt.apply(null,arguments)};var qt=Pe.dynCall_viiiiiiii;Pe.dynCall_viiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),qt.apply(null,arguments)};var Kt=Pe.dynCall_iiiii;Pe.dynCall_iiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Kt.apply(null,arguments)};var Ut=Pe.dynCall_viiiiiiiiiiiiii;Pe.dynCall_viiiiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ut.apply(null,arguments)};var Ft=Pe.dynCall_viiiiiiiiiii;Pe.dynCall_viiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ft.apply(null,arguments)};var jt=Pe.dynCall_viiiiiii;Pe.dynCall_viiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),jt.apply(null,arguments)};var Nt=Pe.dynCall_viiiiiiiiiiii;Pe.dynCall_viiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Nt.apply(null,arguments)};var Jt=Pe.dynCall_vi;Pe.dynCall_vi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Jt.apply(null,arguments)};var Gt=Pe.dynCall_iiiiiiiii;Pe.dynCall_iiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Gt.apply(null,arguments)};var Yt=Pe.dynCall_viiiifii;Pe.dynCall_viiiifii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Yt.apply(null,arguments)};var Pt=Pe.dynCall_fii;Pe.dynCall_fii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Pt.apply(null,arguments)};var zt=Pe.dynCall_viiiiiiiiii;Pe.dynCall_viiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),zt.apply(null,arguments)};var Zt=Pe.dynCall_dd;Pe.dynCall_dd=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Zt.apply(null,arguments)};var Wt=Pe.dynCall_viifi;Pe.dynCall_viifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Wt.apply(null,arguments)};var Vt=Pe.dynCall_fiii;Pe.dynCall_fiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Vt.apply(null,arguments)};var Ht=Pe.dynCall_viidi;Pe.dynCall_viidi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ht.apply(null,arguments)};var Xt=Pe.dynCall_iiiiiiii;Pe.dynCall_iiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xt.apply(null,arguments)};var _t=Pe.dynCall_did;Pe.dynCall_did=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_t.apply(null,arguments)};var $t=Pe.dynCall_v;Pe.dynCall_v=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$t.apply(null,arguments)};var ei=Pe.dynCall_viiijj;Pe.dynCall_viiijj=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ei.apply(null,arguments)};var ti=Pe.dynCall_iiiiiiidiiddii;Pe.dynCall_iiiiiiidiiddii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ti.apply(null,arguments)};var ii=Pe.dynCall_jij;Pe.dynCall_jij=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ii.apply(null,arguments)};var ri=Pe.dynCall_jii;Pe.dynCall_jii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ri.apply(null,arguments)};var ni=Pe.dynCall_jiji;Pe.dynCall_jiji=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ni.apply(null,arguments)};var oi=Pe.dynCall_iidiiii;Pe.dynCall_iidiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),oi.apply(null,arguments)},h.asm=Pe;var ai,si=h.___wasm_call_ctors=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.__wasm_call_ctors.apply(null,arguments)},ui=(h._WasmDecoder_Check=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_Check.apply(null,arguments)},h._WasmDecoder_Init=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_Init.apply(null,arguments)},h._WasmDecoder_Deinit=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_Deinit.apply(null,arguments)},h._WasmDecoder_OpenChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_OpenChannel.apply(null,arguments)},h._WasmDecoder_InputFlvStream=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_InputFlvStream.apply(null,arguments)},h._WasmDecoder_GetFlvDecodeData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_GetFlvDecodeData.apply(null,arguments)},h._WasmDecoder_InputFlvStreamAndDecode=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_InputFlvStreamAndDecode.apply(null,arguments)},h._WasmDecoder_OpenVideoDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_OpenVideoDecoder.apply(null,arguments)},h._WasmDecoder_OpenAudioDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_OpenAudioDecoder.apply(null,arguments)},h._WasmDecoder_DecodeVideoFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_DecodeVideoFrame.apply(null,arguments)},h._WasmDecoder_DecodeAudioFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_DecodeAudioFrame.apply(null,arguments)},h._WasmDecoder_CloseChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_CloseChannel.apply(null,arguments)},h._WasmDecoder_ConvertFrame2Image=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_ConvertFrame2Image.apply(null,arguments)},h._WasmDecoder_ReleaseImageData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_ReleaseImageData.apply(null,arguments)},h._WasmDecoder_CreateMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_CreateMP4File.apply(null,arguments)},h._WasmDecoder_WriteData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_WriteData.apply(null,arguments)},h._WasmDecoder_ReleaseMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_ReleaseMP4File.apply(null,arguments)},h._main=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.main.apply(null,arguments)},h._free=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.free.apply(null,arguments)},h._malloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.malloc.apply(null,arguments)}),li=(h.___errno_location=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.__errno_location.apply(null,arguments)},h._fflush=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.fflush.apply(null,arguments)},h.__get_tzname=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._get_tzname.apply(null,arguments)},h.__get_daylight=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._get_daylight.apply(null,arguments)},h.__get_timezone=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._get_timezone.apply(null,arguments)},h._setThrew=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.setThrew.apply(null,arguments)},h.__ZSt18uncaught_exceptionv=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),ci=h.stackSave=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.stackSave.apply(null,arguments)},hi=h.stackAlloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.stackAlloc.apply(null,arguments)},di=h.stackRestore=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.stackRestore.apply(null,arguments)};if(h.__growWasmMemory=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.__growWasmMemory.apply(null,arguments)},h.dynCall_ii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_ii.apply(null,arguments)},h.dynCall_viiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiii.apply(null,arguments)},h.dynCall_viiiiiifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiifi.apply(null,arguments)},h.dynCall_viiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiii.apply(null,arguments)},h.dynCall_viii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viii.apply(null,arguments)},h.dynCall_iiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiii.apply(null,arguments)},h.dynCall_iiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiii.apply(null,arguments)},h.dynCall_vii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_vii.apply(null,arguments)},h.dynCall_iii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iii.apply(null,arguments)},h.dynCall_iiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiii.apply(null,arguments)},h.dynCall_viiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiii.apply(null,arguments)},h.dynCall_viiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiii.apply(null,arguments)},h.dynCall_viiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiii.apply(null,arguments)},h.dynCall_iiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiii.apply(null,arguments)},h.dynCall_viiiiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiiiiiii.apply(null,arguments)},h.dynCall_viiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},h.dynCall_viiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiii.apply(null,arguments)},h.dynCall_viiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiiiii.apply(null,arguments)},h.dynCall_vi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_vi.apply(null,arguments)},h.dynCall_iiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiiiii.apply(null,arguments)},h.dynCall_viiiifii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiifii.apply(null,arguments)},h.dynCall_fii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_fii.apply(null,arguments)},h.dynCall_viiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiii.apply(null,arguments)},h.dynCall_dd=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_dd.apply(null,arguments)},h.dynCall_viifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viifi.apply(null,arguments)},h.dynCall_fiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_fiii.apply(null,arguments)},h.dynCall_viidi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viidi.apply(null,arguments)},h.dynCall_iiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiiii.apply(null,arguments)},h.dynCall_did=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_did.apply(null,arguments)},h.dynCall_v=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_v.apply(null,arguments)},h.dynCall_viiijj=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiijj.apply(null,arguments)},h.dynCall_iiiiiiidiiddii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiiidiiddii.apply(null,arguments)},h.dynCall_jij=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_jij.apply(null,arguments)},h.dynCall_jii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_jii.apply(null,arguments)},h.dynCall_jiji=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_jiji.apply(null,arguments)},h.dynCall_iidiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iidiiii.apply(null,arguments)},h.asm=Pe,Object.getOwnPropertyDescriptor(h,"intArrayFromString")||(h.intArrayFromString=function(){S("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"intArrayToString")||(h.intArrayToString=function(){S("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.ccall=d,h.cwrap=function(e,t,i,r){return function(){return d(e,t,i,arguments)}},Object.getOwnPropertyDescriptor(h,"setValue")||(h.setValue=function(){S("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getValue")||(h.getValue=function(){S("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"allocate")||(h.allocate=function(){S("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getMemory")||(h.getMemory=function(){S("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"AsciiToString")||(h.AsciiToString=function(){S("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToAscii")||(h.stringToAscii=function(){S("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF8ArrayToString")||(h.UTF8ArrayToString=function(){S("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF8ToString")||(h.UTF8ToString=function(){S("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF8Array")||(h.stringToUTF8Array=function(){S("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF8")||(h.stringToUTF8=function(){S("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"lengthBytesUTF8")||(h.lengthBytesUTF8=function(){S("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF16ToString")||(h.UTF16ToString=function(){S("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF16")||(h.stringToUTF16=function(){S("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"lengthBytesUTF16")||(h.lengthBytesUTF16=function(){S("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF32ToString")||(h.UTF32ToString=function(){S("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF32")||(h.stringToUTF32=function(){S("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"lengthBytesUTF32")||(h.lengthBytesUTF32=function(){S("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"allocateUTF8")||(h.allocateUTF8=function(){S("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackTrace")||(h.stackTrace=function(){S("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnPreRun")||(h.addOnPreRun=function(){S("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnInit")||(h.addOnInit=function(){S("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnPreMain")||(h.addOnPreMain=function(){S("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnExit")||(h.addOnExit=function(){S("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnPostRun")||(h.addOnPostRun=function(){S("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"writeStringToMemory")||(h.writeStringToMemory=function(){S("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"writeArrayToMemory")||(h.writeArrayToMemory=function(){S("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"writeAsciiToMemory")||(h.writeAsciiToMemory=function(){S("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addRunDependency")||(h.addRunDependency=function(){S("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"removeRunDependency")||(h.removeRunDependency=function(){S("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"ENV")||(h.ENV=function(){S("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"FS")||(h.FS=function(){S("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"FS_createFolder")||(h.FS_createFolder=function(){S("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createPath")||(h.FS_createPath=function(){S("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createDataFile")||(h.FS_createDataFile=function(){S("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createPreloadedFile")||(h.FS_createPreloadedFile=function(){S("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createLazyFile")||(h.FS_createLazyFile=function(){S("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createLink")||(h.FS_createLink=function(){S("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createDevice")||(h.FS_createDevice=function(){S("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_unlink")||(h.FS_unlink=function(){S("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"GL")||(h.GL=function(){S("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"dynamicAlloc")||(h.dynamicAlloc=function(){S("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"loadDynamicLibrary")||(h.loadDynamicLibrary=function(){S("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"loadWebAssemblyModule")||(h.loadWebAssemblyModule=function(){S("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getLEB")||(h.getLEB=function(){S("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getFunctionTables")||(h.getFunctionTables=function(){S("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"alignFunctionTables")||(h.alignFunctionTables=function(){S("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"registerFunctions")||(h.registerFunctions=function(){S("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.addFunction=function(e,t){return u(void 0!==e),a(e,t)},Object.getOwnPropertyDescriptor(h,"removeFunction")||(h.removeFunction=function(){S("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getFuncWrapper")||(h.getFuncWrapper=function(){S("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"prettyPrint")||(h.prettyPrint=function(){S("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"makeBigInt")||(h.makeBigInt=function(){S("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"dynCall")||(h.dynCall=function(){S("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getCompilerSetting")||(h.getCompilerSetting=function(){S("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackSave")||(h.stackSave=function(){S("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackRestore")||(h.stackRestore=function(){S("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackAlloc")||(h.stackAlloc=function(){S("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"establishStackSpace")||(h.establishStackSpace=function(){S("'establishStackSpace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"print")||(h.print=function(){S("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"printErr")||(h.printErr=function(){S("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getTempRet0")||(h.getTempRet0=function(){S("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"setTempRet0")||(h.setTempRet0=function(){S("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.callMain=x,Object.getOwnPropertyDescriptor(h,"abort")||(h.abort=function(){S("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"Pointer_stringify")||(h.Pointer_stringify=function(){S("'Pointer_stringify' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"warnOnce")||(h.warnOnce=function(){S("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.writeStackCookie=E,h.checkStackCookie=w,h.abortStackOverflow=function(e){S("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(fe-ci()+e)+" bytes available!")},Object.getOwnPropertyDescriptor(h,"ALLOC_NORMAL")||Object.defineProperty(h,"ALLOC_NORMAL",{configurable:!0,get:function(){S("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"ALLOC_STACK")||Object.defineProperty(h,"ALLOC_STACK",{configurable:!0,get:function(){S("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"ALLOC_DYNAMIC")||Object.defineProperty(h,"ALLOC_DYNAMIC",{configurable:!0,get:function(){S("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"ALLOC_NONE")||Object.defineProperty(h,"ALLOC_NONE",{configurable:!0,get:function(){S("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"calledRun")||Object.defineProperty(h,"calledRun",{configurable:!0,get:function(){S("'calledRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}}),Te=function e(){ai||q(),ai||(Te=e)},h.run=q,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);h.preInit.length>0;)h.preInit.pop()();var fi=!0;h.noInitialRun&&(fi=!1),s=!0,q()}var s,u=i(1),l=!1,c="",h=void 0!==h?h:{};t.default=function(e){e.recordChunkData=null,e.recordChunkSize=0,e.recordChunkPos=0,e.exitFlag=!1,e.audioCodecId=0,e.audioSamplerate=8e3,e.audioChannelCount=1,e.videoRawData=null,e.videoPTS=0,e.audioPTS=0,e.videoLastPts=0,e.audioLastPts=0,e.audioRawData=null,e.mp4CallbackFunc=null,h.onRuntimeInitialized=function(){l=!0},e.addEventListener("message",function(t){var i=t.data;switch(i.cmd){case u.w:c=i.url,e.audioSamplerate=i.audioSamplerate,e.audioChannelCount=i.channelCount,parseInt(e.audioSamplerate)>=8e3&&(e.audioCodecId=86018),l||a(),null==e.recordChunkData&&(e.recordChunkData=new Uint8Array(i.filesize+8388608),e.recordChunkSize=i.filesize),e.recordChunkPos=0,e.exitFlag=!1;var r={cmd:u.w};e.postMessage(r);break;case u.l:e.exitFlag=!0,e.recordChunkData&&(delete e.recordChunkData,e.recordChunkData=null),null!=e.videoRawData&&(h._free(e.videoRawData),e.videoRawData=null),null!=e.audioRawData&&(h._free(e.audioRawData),e.audioRawData=null);break;case u.C:if(null==e.recordChunkData)break;if(e.recordChunkData.byteLength<1)break;e.exitFlag=!0,l&&h._WasmDecoder_ReleaseMP4File();break;case u.q:if(e.exitFlag)break;if(l&&(null==e.videoRawData&&(null==e.videoRawData&&(e.videoRawData=h._malloc(8294400)),null==e.audioRawData&&(e.audioRawData=h._malloc(16384)),e.videoPTS=0,e.videoLastPts=0,e.audioPTS=0,e.audioLastPts=0,e.mp4CallbackFunc=h.addFunction(function(t,i,r,n){if(3==i){var o=h.HEAPU8.subarray(r,r+4);if(e.recordChunkData.set(o,n),e.recordChunkPos>e.recordChunkSize){e.blob=URL.createObjectURL(new Blob([e.recordChunkData],{type:"video/mp4"}));var a={cmd:u.p,type:"auto",dat:e.blob};e.postMessage(a)}else{var s=e.recordChunkData.subarray(0,e.recordChunkPos),l=new Uint8Array(s);delete e.recordChunkData,e.recordChunkData=null,e.blob=URL.createObjectURL(new Blob([l],{type:"video/mp4"})),a={cmd:u.p,type:"manual",dat:e.blob},e.postMessage(a)}}else o=h.HEAPU8.subarray(r,r+n),e.recordChunkData.set(o,e.recordChunkPos),e.recordChunkPos+=o.length},"iiiii"),h._WasmDecoder_CreateMP4File(i.codecId,0,0,e.audioCodecId,e.audioSamplerate,e.audioChannelCount,e.mp4CallbackFunc,e)),e.recordChunkPos>0||i.type)){i.type;var n=1,o=e.videoPTS;if("video"==i.mediaType){if(e.videoLastPts<1)e.videoPTS=0;else{var s=i.pts-e.videoLastPts;e.videoPTS+=s}e.videoLastPts=i.pts,o=e.videoPTS}else{if(n=2,e.audioLastPts<1)e.audioPTS=0;else{var d=i.pts-e.audioLastPts;e.audioPTS+=d}e.audioLastPts=i.pts,o=e.audioPTS}h.HEAPU8.set(i.dat,e.videoRawData),h._WasmDecoder_WriteData(n,e.videoRawData,i.dat.length,i.type,o),e.recordChunkPos+i.dat.byteLength>e.recordChunkSize&&(e.exitFlag=!0,h._WasmDecoder_ReleaseMP4File())}}})}}.call(this,i(9),"/",i(68)(e),i(10).Buffer)},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){},function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return(n?"/":"")+(t=i(r(t.split("/"),function(e){return!!e}),!n).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===n(e,-1);return(e=i(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=r(e.split("/")),o=r(i.split("/")),a=Math.min(n.length,o.length),s=a,u=0;u<a;u++)if(n[u]!==o[u]){s=u;break}var l=[];for(u=s;u<n.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,n=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!n){r=o;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,r=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){i=t+1;break}}else-1===r&&(n=!1,r=t+1);return-1===r?"":e.slice(i,r)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,r=-1,n=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(n=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!n){i=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===i+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i(9))},function(e,t,i){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i(24),t.createHash=t.Hash=i(31),t.createHmac=t.Hmac=i(85);var r=i(160),n=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);t.getHashes=function(){return o};var a=i(88);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=i(162);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=i(177);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var l=i(182);t.createSign=l.createSign,t.Sign=l.Sign,t.createVerify=l.createVerify,t.Verify=l.Verify,t.createECDH=i(223);var c=i(224);t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var h=i(227);t.randomFill=h.randomFill,t.randomFillSync=h.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,i){"use strict";function r(e){o.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var n=i(6).Buffer,o=i(136).Transform;i(5)(r,o),r.prototype._transform=function(e,t,i){var r=null;try{this.update(e,t)}catch(e){r=e}i(r)},r.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},r.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var i=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)i[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)i[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r},function(e,t,i){"use strict";(function(t,r){function n(e,t,r){w=w||i(26),e=e||{},"boolean"!=typeof r&&(r=t instanceof w),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=O(this,e,"readableHighWaterMark",r),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(T||(T=i(22).StringDecoder),this.decoder=new T(e.encoding),this.encoding=e.encoding)}function o(e){if(w=w||i(26),!(this instanceof o))return new o(e);var t=this instanceof w;this._readableState=new n(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),I.call(this)}function a(e,t,i,r,n){b("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(b("onEofChunk"),!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?l(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,c(e)))}}(e,a);else if(n||(o=function(e,t){var i,r;return r=t,S.isBuffer(r)||r instanceof M||"string"==typeof t||void 0===t||e.objectMode||(i=new x("chunk",["string","Buffer","Uint8Array"],t)),i}(a,t)),o)F(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===S.prototype||(t=function(e){return S.from(e)}(t)),r)a.endEmitted?F(e,new U):s(e,a,t,!0);else if(a.ended)F(e,new q);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?s(e,a,t,!1):h(e,a)):s(e,a,t,!1)}else r||(a.reading=!1,h(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function s(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&l(e)),h(e,t)}function u(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e){var t=e._readableState;b("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(c,e))}function c(e){var t=e._readableState;b("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(d,e,t))}function d(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(b("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function f(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function p(e){b("readable nexttick read 0"),e.read(0)}function A(e,t){b("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function m(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function y(e){var t=e._readableState;b("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(v,t,e))}function v(e,t){if(b("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function E(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}var w;e.exports=o,o.ReadableState=n,i(8).EventEmitter;var b,C=function(e,t){return e.listeners(t).length},I=i(74),S=i(10).Buffer,M=t.Uint8Array||function(){},k=i(137);b=k&&k.debuglog?k.debuglog("stream"):function(){};var T,D,B,R=i(138),Q=i(75),O=i(76).getHighWaterMark,L=i(25).codes,x=L.ERR_INVALID_ARG_TYPE,q=L.ERR_STREAM_PUSH_AFTER_EOF,K=L.ERR_METHOD_NOT_IMPLEMENTED,U=L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(5)(o,I);var F=Q.errorOrDestroy,j=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=Q.destroy,o.prototype._undestroy=Q.undestroy,o.prototype._destroy=function(e,t){t(e)},o.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=S.from(e,t),t=""),i=!0),a(this,e,t,!1,i)},o.prototype.unshift=function(e){return a(this,e,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){T||(T=i(22).StringDecoder);var t=new T(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},o.prototype.read=function(e){b("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):l(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&y(this),null;var r,n=t.needReadable;return b("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",n=!0),t.ended||t.reading?b("reading or ended",n=!1):n&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=u(i,t))),null===(r=e>0?m(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&y(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(e){F(this,new K("_read()"))},o.prototype.pipe=function(e,t){function i(){b("onend"),e.end()}function n(t){b("ondata");var i=e.write(t);b("dest.write",i),!1===i&&((1===c.pipesCount&&c.pipes===e||c.pipesCount>1&&-1!==E(c.pipes,e))&&!f&&(b("false write response, pause",c.awaitDrain),c.awaitDrain++),l.pause())}function o(t){b("onerror",t),u(),e.removeListener("error",o),0===C(e,"error")&&F(e,t)}function a(){e.removeListener("finish",s),u()}function s(){b("onfinish"),e.removeListener("close",a),u()}function u(){b("unpipe"),l.unpipe(e)}var l=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1,b("pipe count=%d opts=%j",c.pipesCount,t);var h=t&&!1===t.end||e===r.stdout||e===r.stderr?u:i;c.endEmitted?r.nextTick(h):l.once("end",h),e.on("unpipe",function t(r,h){b("onunpipe"),r===l&&h&&!1===h.hasUnpiped&&(h.hasUnpiped=!0,b("cleanup"),e.removeListener("close",a),e.removeListener("finish",s),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",t),l.removeListener("end",i),l.removeListener("end",u),l.removeListener("data",n),f=!0,!c.awaitDrain||e._writableState&&!e._writableState.needDrain||d())});var d=function(e){return function(){var t=e._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C(e,"data")&&(t.flowing=!0,g(e))}}(l);e.on("drain",d);var f=!1;return l.on("data",n),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",o),e.once("close",a),e.once("finish",s),e.emit("pipe",l),c.flowing||(b("pipe resume"),l.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=E(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},o.prototype.on=function(e,t){var i=I.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,b("on readable",n.length,n.reading),n.length?l(this):n.reading||r.nextTick(p,this))),i},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(e,t){var i=I.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(f,this),i},o.prototype.removeAllListeners=function(e){var t=I.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(f,this),t},o.prototype.resume=function(){var e=this._readableState;return e.flowing||(b("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(A,e,t))}(this,e)),e.paused=!1,this},o.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},o.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",function(){if(b("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){b("wrapped data"),i.decoder&&(n=i.decoder.write(n)),i.objectMode&&null==n||(i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<j.length;o++)e.on(j[o],this.emit.bind(this,j[o]));return this._read=function(t){b("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(o.prototype[Symbol.asyncIterator]=function(){return void 0===D&&(D=i(140)),D(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),o._fromList=m,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(o.from=function(e,t){return void 0===B&&(B=i(141)),B(o,e,t)})}).call(this,i(13),i(9))},function(e,t,i){e.exports=i(8).EventEmitter},function(e,t,i){"use strict";(function(t){function i(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,e)):t.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(i,a,e)):t.nextTick(i,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,r=e._writableState;i&&i.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,i(9))},function(e,t,i){"use strict";var r=i(25).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,n){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,n,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(n?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,i){"use strict";(function(t,r){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}function o(){}function a(e,t,o){p=p||i(26),e=e||{},"boolean"!=typeof o&&(o=t instanceof p),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=w(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,o=i.writecb;if("function"!=typeof o)throw new S;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,o){--t.pendingcb,i?(r.nextTick(o,n),r.nextTick(f,e,t),e._writableState.errorEmitted=!0,R(e,n)):(o(n),e._writableState.errorEmitted=!0,R(e,n),f(e,t))}(e,i,n,t,o);else{var a=h(i)||e.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||c(e,i),n?r.nextTick(l,e,i,a,o):l(e,i,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function s(e){var t=this instanceof(p=p||i(26));if(!t&&!A.call(s,this))return new s(e);this._writableState=new a(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),m.call(this)}function u(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new k("write")):i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function l(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),f(e,t)}function c(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=i;for(var s=0,l=!0;i;)o[s]=i,i.isBuf||(l=!1),i=i.next,s+=1;o.allBuffers=l,u(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,d=i.callback;if(u(e,t,!1,t.objectMode?1:c.length,c,h,d),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function h(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function d(e,t){e._final(function(i){t.pendingcb--,i&&R(e,i),t.prefinished=!0,e.emit("prefinish"),f(e,t)})}function f(e,t){var i=h(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(d,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}var p;e.exports=s,s.WritableState=a;var A,g={deprecate:i(45)},m=i(74),y=i(10).Buffer,v=t.Uint8Array||function(){},E=i(75),w=i(76).getHighWaterMark,b=i(25).codes,C=b.ERR_INVALID_ARG_TYPE,I=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_MULTIPLE_CALLBACK,M=b.ERR_STREAM_CANNOT_PIPE,k=b.ERR_STREAM_DESTROYED,T=b.ERR_STREAM_NULL_VALUES,D=b.ERR_STREAM_WRITE_AFTER_END,B=b.ERR_UNKNOWN_ENCODING,R=E.errorOrDestroy;i(5)(s,m),a.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(a.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!A.call(this,e)||this===s&&e&&e._writableState instanceof a}})):A=function(e){return e instanceof this},s.prototype.pipe=function(){R(this,new M)},s.prototype.write=function(e,t,i){var n,a=this._writableState,s=!1,l=!a.objectMode&&(n=e,y.isBuffer(n)||n instanceof v);return l&&!y.isBuffer(e)&&(e=function(e){return y.from(e)}(e)),"function"==typeof t&&(i=t,t=null),l?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof i&&(i=o),a.ending?function(e,t){var i=new D;R(e,i),r.nextTick(t,i)}(this,i):(l||function(e,t,i,n){var o;return null===i?o=new T:"string"==typeof i||t.objectMode||(o=new C("chunk",["string","Buffer"],i)),!o||(R(e,o),r.nextTick(n,o),!1)}(this,a,e,i))&&(a.pendingcb++,s=function(e,t,i,r,n,o){if(!i){var a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=y.from(t,i)),t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else u(e,t,!1,s,r,n,o);return l}(this,a,l,e,t,i)),s},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||c(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new B(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(e,t,i){i(new I("_write()"))},s.prototype._writev=null,s.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,f(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),s.prototype.destroy=E.destroy,s.prototype._undestroy=E.undestroy,s.prototype._destroy=function(e,t){t(e)}}).call(this,i(13),i(9))},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);h.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(null===r)return this.emit("error",new u);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",n)}function n(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?o(this,null,null):this._flush(function(t,i){o(e,t,i)})}function o(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new c;if(e._transformState.transforming)throw new l;return e.push(null)}e.exports=r;var a=i(25).codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,u=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=a.ERR_TRANSFORM_WITH_LENGTH_0,h=i(26);i(5)(r,h),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,h.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,i){i(new s("_transform()"))},r.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},r.prototype._destroy=function(e,t){h.prototype._destroy.call(this,e,function(e){t(e)})}},function(e,t,i){function r(){this.init(),this._w=f,c.call(this,64,56)}function n(e,t,i){return i^e&(t^i)}function o(e,t,i){return e&t|i&(e|t)}function a(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function u(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}var l=i(5),c=i(27),h=i(6).Buffer,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=new Array(64);l(r,c),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,l=0|this._b,c=0|this._c,h=0|this._d,f=0|this._e,p=0|this._f,A=0|this._g,g=0|this._h,m=0;m<16;++m)i[m]=e.readInt32BE(4*m);for(;m<64;++m)i[m]=0|(((t=i[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+i[m-7]+u(i[m-15])+i[m-16];for(var y=0;y<64;++y){var v=g+s(f)+n(f,p,A)+d[y]+i[y]|0,E=a(r)+o(r,l,c)|0;g=A,A=p,p=f,f=h+v|0,h=c,c=l,l=r,r=v+E|0}this._a=r+this._a|0,this._b=l+this._b|0,this._c=c+this._c|0,this._d=h+this._d|0,this._e=f+this._e|0,this._f=p+this._f|0,this._g=A+this._g|0,this._h=g+this._h|0},r.prototype._hash=function(){var e=h.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=m,p.call(this,128,112)}function n(e,t,i){return i^e&(t^i)}function o(e,t,i){return e&t|i&(e|t)}function a(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function u(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function c(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function h(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function d(e,t){return e>>>0<t>>>0?1:0}var f=i(5),p=i(27),A=i(6).Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],m=new Array(160);f(r,p),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,i=0|this._ah,r=0|this._bh,f=0|this._ch,p=0|this._dh,A=0|this._eh,m=0|this._fh,y=0|this._gh,v=0|this._hh,E=0|this._al,w=0|this._bl,b=0|this._cl,C=0|this._dl,I=0|this._el,S=0|this._fl,M=0|this._gl,k=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var D=t[T-30],B=t[T-30+1],R=u(D,B),Q=l(B,D),O=c(D=t[T-4],B=t[T-4+1]),L=h(B,D),x=t[T-14],q=t[T-14+1],K=t[T-32],U=t[T-32+1],F=Q+q|0,j=R+x+d(F,Q)|0;j=(j=j+O+d(F=F+L|0,L)|0)+K+d(F=F+U|0,U)|0,t[T]=j,t[T+1]=F}for(var N=0;N<160;N+=2){j=t[N],F=t[N+1];var J=o(i,r,f),G=o(E,w,b),Y=a(i,E),P=a(E,i),z=s(A,I),Z=s(I,A),W=g[N],V=g[N+1],H=n(A,m,y),X=n(I,S,M),_=k+Z|0,$=v+z+d(_,k)|0;$=($=($=$+H+d(_=_+X|0,X)|0)+W+d(_=_+V|0,V)|0)+j+d(_=_+F|0,F)|0;var ee=P+G|0,te=Y+J+d(ee,P)|0;v=y,k=M,y=m,M=S,m=A,S=I,A=p+$+d(I=C+_|0,C)|0,p=f,C=b,f=r,b=w,r=i,w=E,i=$+te+d(E=_+ee|0,_)|0}this._al=this._al+E|0,this._bl=this._bl+w|0,this._cl=this._cl+b|0,this._dl=this._dl+C|0,this._el=this._el+I|0,this._fl=this._fl+S|0,this._gl=this._gl+M|0,this._hl=this._hl+k|0,this._ah=this._ah+i+d(this._al,E)|0,this._bh=this._bh+r+d(this._bl,w)|0,this._ch=this._ch+f+d(this._cl,b)|0,this._dh=this._dh+p+d(this._dl,C)|0,this._eh=this._eh+A+d(this._el,I)|0,this._fh=this._fh+m+d(this._fl,S)|0,this._gh=this._gh+y+d(this._gl,M)|0,this._hh=this._hh+v+d(this._hl,k)|0},r.prototype._hash=function(){function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}var t=A.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=r},function(e,t,i){"use strict";(function(t,r){function n(e,t){e=e||{};var r=t instanceof(w=w||i(23));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(B||(B=i(22).StringDecoder),this.decoder=new B(e.encoding),this.encoding=e.encoding)}function o(e){if(w=w||i(23),!(this instanceof o))return new o(e);this._readableState=new n(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),I.call(this)}function a(e,t,i,r,n){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,l(e)}}(e,a)):(n||(o=function(e,t){var i,r;return r=t,S.isBuffer(r)||r instanceof M||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===S.prototype||(t=function(e){return S.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):s(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?s(e,a,t,!1):h(e,a)):s(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function s(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&l(e)),h(e,t)}function u(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?E.nextTick(c,e):c(e))}function c(e){D("emit readable"),e.emit("readable"),A(e)}function h(e,t){t.readingMore||(t.readingMore=!0,E.nextTick(d,e,t))}function d(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(D("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function f(e){D("readable nexttick read 0"),e.read(0)}function p(e,t){t.reading||(D("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&null!==e.read(););}function g(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,r=1,n=i.data;for(e-=n.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?n+=o:n+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t):function(e,t){var i=S.allocUnsafe(e),r=t.head,n=1;for(r.data.copy(i),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t),r}(e,t.buffer,t.decoder),i);var i}function m(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,E.nextTick(y,t,e))}function y(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function v(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}var E=i(38);e.exports=o;var w,b=i(66);o.ReadableState=n,i(8).EventEmitter;var C=function(e,t){return e.listeners(t).length},I=i(82),S=i(50).Buffer,M=t.Uint8Array||function(){},k=Object.create(i(32));k.inherits=i(5);var T=i(149),D=void 0;D=T&&T.debuglog?T.debuglog("stream"):function(){};var B,R=i(150),Q=i(83);k.inherits(o,I);var O=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=Q.destroy,o.prototype._undestroy=Q.undestroy,o.prototype._destroy=function(e,t){this.push(null),t(e)},o.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=S.from(e,t),t=""),i=!0),a(this,e,t,!1,i)},o.prototype.unshift=function(e){return a(this,e,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return B||(B=i(22).StringDecoder),this._readableState.decoder=new B(e),this._readableState.encoding=e,this},o.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return D("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?m(this):l(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&m(this),null;var r,n=t.needReadable;return D("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&D("length less than watermark",n=!0),t.ended||t.reading?D("reading or ended",n=!1):n&&(D("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=u(i,t))),null===(r=e>0?g(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&m(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,t){function i(){D("onend"),e.end()}function n(t){D("ondata"),p=!1,!1!==e.write(t)||p||((1===c.pipesCount&&c.pipes===e||c.pipesCount>1&&-1!==v(c.pipes,e))&&!f&&(D("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,p=!0),l.pause())}function o(t){D("onerror",t),u(),e.removeListener("error",o),0===C(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",s),u()}function s(){D("onfinish"),e.removeListener("close",a),u()}function u(){D("unpipe"),l.unpipe(e)}var l=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1,D("pipe count=%d opts=%j",c.pipesCount,t);var h=t&&!1===t.end||e===r.stdout||e===r.stderr?u:i;c.endEmitted?E.nextTick(h):l.once("end",h),e.on("unpipe",function t(r,h){D("onunpipe"),r===l&&h&&!1===h.hasUnpiped&&(h.hasUnpiped=!0,D("cleanup"),e.removeListener("close",a),e.removeListener("finish",s),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",t),l.removeListener("end",i),l.removeListener("end",u),l.removeListener("data",n),f=!0,!c.awaitDrain||e._writableState&&!e._writableState.needDrain||d())});var d=function(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C(e,"data")&&(t.flowing=!0,A(e))}}(l);e.on("drain",d);var f=!1,p=!1;return l.on("data",n),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?b(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",o),e.once("close",a),e.once("finish",s),e.emit("pipe",l),c.flowing||(D("pipe resume"),l.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,i);return this}var a=v(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},o.prototype.on=function(e,t){var i=I.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l(this):E.nextTick(f,this))}return i},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,E.nextTick(p,e,t))}(this,e)),this},o.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",function(){if(D("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){D("wrapped data"),i.decoder&&(n=i.decoder.write(n)),i.objectMode&&null==n||(i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<O.length;o++)e.on(O[o],this.emit.bind(this,O[o]));return this._read=function(t){D("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=g}).call(this,i(13),i(9))},function(e,t,i){e.exports=i(8).EventEmitter},function(e,t,i){"use strict";function r(e,t){e.emit("error",t)}var n=i(38);e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);a.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",n)}function n(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){o(e,t,i)}):o(this,null,null)}function o(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=r;var a=i(23),s=Object.create(i(32));s.inherits=i(5),s.inherits(r,a),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},r.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},r.prototype._destroy=function(e,t){var i=this;a.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},function(e,t,i){"use strict";function r(e,t){a.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var i="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>i?t=("rmd160"===e?new l:c(e)).update(t).digest():t.length<i&&(t=s.concat([t,h],i));for(var r=this._ipad=s.allocUnsafe(i),n=this._opad=s.allocUnsafe(i),o=0;o<i;o++)r[o]=54^t[o],n[o]=92^t[o];this._hash="rmd160"===e?new l:c(e),this._hash.update(r)}var n=i(5),o=i(159),a=i(20),s=i(6).Buffer,u=i(86),l=i(47),c=i(48),h=s.alloc(128);n(r,a),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new l:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new r("rmd160",t):"md5"===e?new o(u,t):new r(e,t)}},function(e,t,i){var r=i(44);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,i){t.pbkdf2=i(161),t.pbkdf2Sync=i(91)},function(e,t){var i=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>i||t!=t)throw new TypeError("Bad key length")}},function(e,t,i){(function(t,i){var r;r=t.process&&t.process.browser?"utf-8":t.process&&t.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=r}).call(this,i(13),i(9))},function(e,t,i){function r(e,t,i){var r=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new o).update(e).digest()}:"md5"===e?n:function(t){return a(e).update(t).digest()}}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=r(t):t.length<u&&(t=s.concat([t,h],u));for(var l=s.allocUnsafe(u+d[e]),c=s.allocUnsafe(u+d[e]),f=0;f<u;f++)l[f]=54^t[f],c[f]=92^t[f];var p=s.allocUnsafe(u+i+4);l.copy(p,0,0,u),this.ipad1=p,this.ipad2=l,this.opad=c,this.alg=e,this.blocksize=u,this.hash=r,this.size=d[e]}var n=i(86),o=i(47),a=i(48),s=i(6).Buffer,u=i(89),l=i(90),c=i(92),h=s.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,i,n,o){u(i,n);var a=new r(o=o||"sha1",e=c(e,l,"Password"),(t=c(t,l,"Salt")).length),h=s.allocUnsafe(n),f=s.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var p=0,A=d[o],g=Math.ceil(n/A),m=1;m<=g;m++){f.writeUInt32BE(m,t.length);for(var y=a.run(f,a.ipad1),v=y,E=1;E<i;E++){v=a.run(v,a.ipad2);for(var w=0;w<A;w++)y[w]^=v[w]}y.copy(h,p),p+=A}return h}},function(e,t,i){var r=i(6).Buffer;e.exports=function(e,t,i){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,i){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,r){for(var n=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>>s+a&1;for(s=0;s<=24;s+=8)n<<=1,n|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}i[r+0]=n>>>0,i[r+1]=o>>>0},t.rip=function(e,t,i,r){for(var n=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)n<<=1,n|=t>>>s+a&1,n<<=1,n|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.pc1=function(e,t,i,r){for(var n=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(s=0;s<=24;s+=8)n<<=1,n|=e>>s+a&1}for(s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=t>>>r[u]&1;i[n+0]=o>>>0,i[n+1]=a>>>0},t.expand=function(e,t,i){var r=0,n=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)n|=e>>>o&63,n<<=6;n|=(31&e)<<1|e>>>31,t[i+0]=r>>>0,t[i+1]=n>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,r=0;r<4;r++)i<<=4,i|=n[64*r+(e>>>18-6*r&63)];for(r=0;r<4;r++)i<<=4,i|=n[256+64*r+(t>>>18-6*r&63)];return i>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<o.length;i++)t<<=1,t|=e>>>o[i]&1;return t>>>0},t.padSplit=function(e,t,i){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var n=[],o=0;o<t;o+=i)n.push(r.slice(o,o+i));return n.join(" ")}},function(e,t,i){"use strict";function r(e){s.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}var n=i(14),o=i(5),a=i(93),s=i(52);o(r,s),e.exports=r,r.create=function(e){return new r(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];r.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var i=a.readUInt32BE(t,0),r=a.readUInt32BE(t,4);a.pc1(i,r,e.tmp,0),i=e.tmp[0],r=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=u[o>>>1];i=a.r28shl(i,s),r=a.r28shl(r,s),a.pc2(i,r,e.keys,o)}},r.prototype._update=function(e,t,i,r){var n=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,n.tmp,0),o=n.tmp[0],s=n.tmp[1],"encrypt"===this.type?this._encrypt(n,o,s,n.tmp,0):this._decrypt(n,o,s,n.tmp,0),o=n.tmp[0],s=n.tmp[1],a.writeUInt32BE(i,o,r),a.writeUInt32BE(i,s,r+4)},r.prototype._pad=function(e,t){for(var i=e.length-t,r=t;r<e.length;r++)e[r]=i;return!0},r.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)n.equal(e[i],t);return e.slice(0,e.length-t)},r.prototype._encrypt=function(e,t,i,r,n){for(var o=t,s=i,u=0;u<e.keys.length;u+=2){var l=e.keys[u],c=e.keys[u+1];a.expand(s,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=a.substitute(l,c),d=s;s=(o^a.permute(h))>>>0,o=d}a.rip(s,o,r,n)},r.prototype._decrypt=function(e,t,i,r,n){for(var o=i,s=t,u=e.keys.length-2;u>=0;u-=2){var l=e.keys[u],c=e.keys[u+1];a.expand(o,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=a.substitute(l,c),d=o;o=(s^a.permute(h))>>>0,s=d}a.rip(o,s,r,n)}},function(e,t,i){function r(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}var n=i(33),o=i(6).Buffer,a=i(96);t.encrypt=function(e,t){var i=Math.ceil(t.length/16),a=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(16*i)]);for(var s=0;s<i;s++){var u=r(e),l=a+16*s;e._cache.writeUInt32BE(u[0],l+0),e._cache.writeUInt32BE(u[1],l+4),e._cache.writeUInt32BE(u[2],l+8),e._cache.writeUInt32BE(u[3],l+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,c)}},function(e,t){e.exports=function(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,i){function r(e,t,i,r){a.call(this);var s=o.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(s);this._ghash=new u(l),i=function(e,t,i){if(12===t.length)return e._finID=o.concat([t,o.from([0,0,0,1])]),o.concat([t,o.from([0,0,0,2])]);var r=new u(i),n=t.length,a=n%16;r.update(t),a&&(a=16-a,r.update(o.alloc(a,0))),r.update(o.alloc(8,0));var s=8*n,l=o.alloc(8);l.writeUIntBE(s,0,8),r.update(l),e._finID=r.state;var h=o.from(e._finID);return c(h),h}(this,i,l),this._prev=o.from(i),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}var n=i(39),o=i(6).Buffer,a=i(20),s=i(5),u=i(174),l=i(33),c=i(96);s(r,a),r.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=o.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},r.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var i=0;e.length!==t.length&&i++;for(var r=Math.min(e.length,t.length),n=0;n<r;++n)i+=e[n]^t[n];return i}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},r.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},r.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},r.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=r},function(e,t,i){function r(e,t,i,r){a.call(this),this._cipher=new n.AES(t),this._prev=o.from(i),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=e}var n=i(39),o=i(6).Buffer,a=i(20);i(5)(r,a),r.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},e.exports=r},function(e,t,i){function r(e){for(var t=function(){if(null!==m)return m;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var r=Math.ceil(Math.sqrt(i)),n=0;n<t&&e[n]<=r&&i%e[n]!=0;n++);t!==n&&e[n]<=r||(e[t++]=i)}return m=e,e}(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function n(e){var t=s.mont(e);return 0===h.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function o(e,t){if(e<16)return new s(2===t||5===t?[140,123]:[140,39]);var i,o;for(t=new s(t);;){for(i=new s(a(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(c),i.testn(1)||i.iadd(h),t.cmp(h)){if(!t.cmp(d))for(;i.mod(f).cmp(p);)i.iadd(g)}else for(;i.mod(u).cmp(A);)i.iadd(g);if(r(o=i.shrn(1))&&r(i)&&n(o)&&n(i)&&l.test(o)&&l.test(i))return i}}var a=i(24);e.exports=o,o.simpleSieve=r,o.fermatTest=n;var s=i(11),u=new s(24),l=new(i(101)),c=new s(1),h=new s(2),d=new s(5),f=(new s(16),new s(8),new s(10)),p=new s(3),A=(new s(7),new s(11)),g=new s(4),m=(new s(12),null)},function(e,t,i){function r(e){this.rand=e||new o.Rand}var n=i(11),o=i(56);e.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var r=new n(this.rand.generate(i))}while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},r.prototype.test=function(e,t,i){var r=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var l=e.shrn(u),c=s.toRed(o);t>0;t--){var h=this._randrange(new n(2),s);i&&i(h);var d=h.toRed(o).redPow(l);if(0!==d.cmp(a)&&0!==d.cmp(c)){for(var f=1;f<u;f++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(c))break}if(f===u)return!1}}return!0},r.prototype.getDivisor=function(e,t){var i=e.bitLength(),r=n.mont(e),o=new n(1).toRed(r);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),l=a.toRed(r);t>0;t--){var c=this._randrange(new n(2),a),h=e.gcd(c);if(0!==h.cmpn(1))return h;var d=c.toRed(r).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var f=1;f<s;f++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(l))break}if(f===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,i){"use strict";(function(t,r){function n(e,t,r){w=w||i(29),e=e||{},"boolean"!=typeof r&&(r=t instanceof w),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=O(this,e,"readableHighWaterMark",r),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(T||(T=i(22).StringDecoder),this.decoder=new T(e.encoding),this.encoding=e.encoding)}function o(e){if(w=w||i(29),!(this instanceof o))return new o(e);var t=this instanceof w;this._readableState=new n(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),I.call(this)}function a(e,t,i,r,n){b("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(b("onEofChunk"),!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?l(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,c(e)))}}(e,a);else if(n||(o=function(e,t){var i,r;return r=t,S.isBuffer(r)||r instanceof M||"string"==typeof t||void 0===t||e.objectMode||(i=new x("chunk",["string","Buffer","Uint8Array"],t)),i}(a,t)),o)F(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===S.prototype||(t=function(e){return S.from(e)}(t)),r)a.endEmitted?F(e,new U):s(e,a,t,!0);else if(a.ended)F(e,new q);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?s(e,a,t,!1):h(e,a)):s(e,a,t,!1)}else r||(a.reading=!1,h(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function s(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&l(e)),h(e,t)}function u(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e){var t=e._readableState;b("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(c,e))}function c(e){var t=e._readableState;b("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(d,e,t))}function d(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(b("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function f(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function p(e){b("readable nexttick read 0"),e.read(0)}function A(e,t){b("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function m(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function y(e){var t=e._readableState;b("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(v,t,e))}function v(e,t){if(b("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function E(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}var w;e.exports=o,o.ReadableState=n,i(8).EventEmitter;var b,C=function(e,t){return e.listeners(t).length},I=i(103),S=i(10).Buffer,M=t.Uint8Array||function(){},k=i(184);b=k&&k.debuglog?k.debuglog("stream"):function(){};var T,D,B,R=i(185),Q=i(104),O=i(105).getHighWaterMark,L=i(28).codes,x=L.ERR_INVALID_ARG_TYPE,q=L.ERR_STREAM_PUSH_AFTER_EOF,K=L.ERR_METHOD_NOT_IMPLEMENTED,U=L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(5)(o,I);var F=Q.errorOrDestroy,j=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=Q.destroy,o.prototype._undestroy=Q.undestroy,o.prototype._destroy=function(e,t){t(e)},o.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=S.from(e,t),t=""),i=!0),a(this,e,t,!1,i)},o.prototype.unshift=function(e){return a(this,e,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){T||(T=i(22).StringDecoder);var t=new T(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},o.prototype.read=function(e){b("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):l(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&y(this),null;var r,n=t.needReadable;return b("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",n=!0),t.ended||t.reading?b("reading or ended",n=!1):n&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=u(i,t))),null===(r=e>0?m(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&y(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(e){F(this,new K("_read()"))},o.prototype.pipe=function(e,t){function i(){b("onend"),e.end()}function n(t){b("ondata");var i=e.write(t);b("dest.write",i),!1===i&&((1===c.pipesCount&&c.pipes===e||c.pipesCount>1&&-1!==E(c.pipes,e))&&!f&&(b("false write response, pause",c.awaitDrain),c.awaitDrain++),l.pause())}function o(t){b("onerror",t),u(),e.removeListener("error",o),0===C(e,"error")&&F(e,t)}function a(){e.removeListener("finish",s),u()}function s(){b("onfinish"),e.removeListener("close",a),u()}function u(){b("unpipe"),l.unpipe(e)}var l=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1,b("pipe count=%d opts=%j",c.pipesCount,t);var h=t&&!1===t.end||e===r.stdout||e===r.stderr?u:i;c.endEmitted?r.nextTick(h):l.once("end",h),e.on("unpipe",function t(r,h){b("onunpipe"),r===l&&h&&!1===h.hasUnpiped&&(h.hasUnpiped=!0,b("cleanup"),e.removeListener("close",a),e.removeListener("finish",s),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",t),l.removeListener("end",i),l.removeListener("end",u),l.removeListener("data",n),f=!0,!c.awaitDrain||e._writableState&&!e._writableState.needDrain||d())});var d=function(e){return function(){var t=e._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C(e,"data")&&(t.flowing=!0,g(e))}}(l);e.on("drain",d);var f=!1;return l.on("data",n),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",o),e.once("close",a),e.once("finish",s),e.emit("pipe",l),c.flowing||(b("pipe resume"),l.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=E(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},o.prototype.on=function(e,t){var i=I.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,b("on readable",n.length,n.reading),n.length?l(this):n.reading||r.nextTick(p,this))),i},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(e,t){var i=I.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(f,this),i},o.prototype.removeAllListeners=function(e){var t=I.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(f,this),t},o.prototype.resume=function(){var e=this._readableState;return e.flowing||(b("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(A,e,t))}(this,e)),e.paused=!1,this},o.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},o.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",function(){if(b("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){b("wrapped data"),i.decoder&&(n=i.decoder.write(n)),i.objectMode&&null==n||(i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<j.length;o++)e.on(j[o],this.emit.bind(this,j[o]));return this._read=function(t){b("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(o.prototype[Symbol.asyncIterator]=function(){return void 0===D&&(D=i(187)),D(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),o._fromList=m,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(o.from=function(e,t){return void 0===B&&(B=i(188)),B(o,e,t)})}).call(this,i(13),i(9))},function(e,t,i){e.exports=i(8).EventEmitter},function(e,t,i){"use strict";(function(t){function i(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,e)):t.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(i,a,e)):t.nextTick(i,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,r=e._writableState;i&&i.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,i(9))},function(e,t,i){"use strict";var r=i(28).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,n){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,n,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(n?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,i){"use strict";(function(t,r){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}function o(){}function a(e,t,o){p=p||i(29),e=e||{},"boolean"!=typeof o&&(o=t instanceof p),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=w(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,o=i.writecb;if("function"!=typeof o)throw new S;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,o){--t.pendingcb,i?(r.nextTick(o,n),r.nextTick(f,e,t),e._writableState.errorEmitted=!0,R(e,n)):(o(n),e._writableState.errorEmitted=!0,R(e,n),f(e,t))}(e,i,n,t,o);else{var a=h(i)||e.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||c(e,i),n?r.nextTick(l,e,i,a,o):l(e,i,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function s(e){var t=this instanceof(p=p||i(29));if(!t&&!A.call(s,this))return new s(e);this._writableState=new a(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),m.call(this)}function u(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new k("write")):i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function l(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),f(e,t)}function c(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=i;for(var s=0,l=!0;i;)o[s]=i,i.isBuf||(l=!1),i=i.next,s+=1;o.allBuffers=l,u(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,d=i.callback;if(u(e,t,!1,t.objectMode?1:c.length,c,h,d),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function h(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function d(e,t){e._final(function(i){t.pendingcb--,i&&R(e,i),t.prefinished=!0,e.emit("prefinish"),f(e,t)})}function f(e,t){var i=h(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(d,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}var p;e.exports=s,s.WritableState=a;var A,g={deprecate:i(45)},m=i(103),y=i(10).Buffer,v=t.Uint8Array||function(){},E=i(104),w=i(105).getHighWaterMark,b=i(28).codes,C=b.ERR_INVALID_ARG_TYPE,I=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_MULTIPLE_CALLBACK,M=b.ERR_STREAM_CANNOT_PIPE,k=b.ERR_STREAM_DESTROYED,T=b.ERR_STREAM_NULL_VALUES,D=b.ERR_STREAM_WRITE_AFTER_END,B=b.ERR_UNKNOWN_ENCODING,R=E.errorOrDestroy;i(5)(s,m),a.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(a.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!A.call(this,e)||this===s&&e&&e._writableState instanceof a}})):A=function(e){return e instanceof this},s.prototype.pipe=function(){R(this,new M)},s.prototype.write=function(e,t,i){var n,a=this._writableState,s=!1,l=!a.objectMode&&(n=e,y.isBuffer(n)||n instanceof v);return l&&!y.isBuffer(e)&&(e=function(e){return y.from(e)}(e)),"function"==typeof t&&(i=t,t=null),l?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof i&&(i=o),a.ending?function(e,t){var i=new D;R(e,i),r.nextTick(t,i)}(this,i):(l||function(e,t,i,n){var o;return null===i?o=new T:"string"==typeof i||t.objectMode||(o=new C("chunk",["string","Buffer"],i)),!o||(R(e,o),r.nextTick(n,o),!1)}(this,a,e,i))&&(a.pendingcb++,s=function(e,t,i,r,n,o){if(!i){var a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=y.from(t,i)),t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else u(e,t,!1,s,r,n,o);return l}(this,a,l,e,t,i)),s},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||c(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new B(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(e,t,i){i(new I("_write()"))},s.prototype._writev=null,s.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,f(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),s.prototype.destroy=E.destroy,s.prototype._undestroy=E.undestroy,s.prototype._destroy=function(e,t){t(e)}}).call(this,i(13),i(9))},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);h.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(null===r)return this.emit("error",new u);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",n)}function n(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?o(this,null,null):this._flush(function(t,i){o(e,t,i)})}function o(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new c;if(e._transformState.transforming)throw new l;return e.push(null)}e.exports=r;var a=i(28).codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,u=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=a.ERR_TRANSFORM_WITH_LENGTH_0,h=i(29);i(5)(r,h),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,h.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,i){i(new s("_transform()"))},r.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},r.prototype._destroy=function(e,t){h.prototype._destroy.call(this,e,function(e){t(e)})}},function(e,t,i){"use strict";function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t}var o=t;o.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var n=e.charCodeAt(r),o=n>>8,a=255&n;o?i.push(o,a):i.push(a)}return i},o.zero2=r,o.toHex=n,o.encode=function(e,t){return"hex"===t?n(e):e}},function(e,t,i){"use strict";var r=t;r.base=i(41),r.short=i(195),r.mont=i(196),r.edwards=i(197)},function(e,t,i){"use strict";function r(e,t,i){return e&t^~e&i}function n(e,t,i){return e&t^e&i^t&i}function o(e,t,i){return e^t^i}var a=i(18).rotr32;t.ft_1=function(e,t,i,a){return 0===e?r(t,i,a):1===e||3===e?o(t,i,a):2===e?n(t,i,a):void 0},t.ch32=r,t.maj32=n,t.p32=o,t.s0_256=function(e){return a(e,2)^a(e,13)^a(e,22)},t.s1_256=function(e){return a(e,6)^a(e,11)^a(e,25)},t.g0_256=function(e){return a(e,7)^a(e,18)^e>>>3},t.g1_256=function(e){return a(e,17)^a(e,19)^e>>>10}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}var n=i(18),o=i(34),a=i(110),s=i(14),u=n.sum32,l=n.sum32_4,c=n.sum32_5,h=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,A=a.g0_256,g=a.g1_256,m=o.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];n.inherits(r,m),e.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=l(g(i[r-2]),i[r-7],A(i[r-15]),i[r-16]);var n=this.h[0],o=this.h[1],a=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],E=this.h[6],w=this.h[7];for(s(this.k.length===i.length),r=0;r<i.length;r++){var b=c(w,p(y),h(y,v,E),this.k[r],i[r]),C=u(f(n),d(n,o,a));w=E,E=v,v=y,y=u(m,b),m=a,a=o,o=n,n=u(b,C)}this.h[0]=u(this.h[0],n),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],m),this.h[4]=u(this.h[4],y),this.h[5]=u(this.h[5],v),this.h[6]=u(this.h[6],E),this.h[7]=u(this.h[7],w)},r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;B.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=R,this.W=new Array(160)}function n(e,t,i,r,n){var o=e&i^~e&n;return o<0&&(o+=4294967296),o}function o(e,t,i,r,n,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function a(e,t,i,r,n){var o=e&i^e&n^i&n;return o<0&&(o+=4294967296),o}function s(e,t,i,r,n,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function u(e,t){var i=v(e,t,28)^v(t,e,2)^v(t,e,7);return i<0&&(i+=4294967296),i}function l(e,t){var i=E(e,t,28)^E(t,e,2)^E(t,e,7);return i<0&&(i+=4294967296),i}function c(e,t){var i=v(e,t,14)^v(e,t,18)^v(t,e,9);return i<0&&(i+=4294967296),i}function h(e,t){var i=E(e,t,14)^E(e,t,18)^E(t,e,9);return i<0&&(i+=4294967296),i}function d(e,t){var i=v(e,t,1)^v(e,t,8)^w(e,t,7);return i<0&&(i+=4294967296),i}function f(e,t){var i=E(e,t,1)^E(e,t,8)^b(e,t,7);return i<0&&(i+=4294967296),i}function p(e,t){var i=v(e,t,19)^v(t,e,29)^w(e,t,6);return i<0&&(i+=4294967296),i}function A(e,t){var i=E(e,t,19)^E(t,e,29)^b(e,t,6);return i<0&&(i+=4294967296),i}var g=i(18),m=i(34),y=i(14),v=g.rotr64_hi,E=g.rotr64_lo,w=g.shr64_hi,b=g.shr64_lo,C=g.sum64,I=g.sum64_hi,S=g.sum64_lo,M=g.sum64_4_hi,k=g.sum64_4_lo,T=g.sum64_5_hi,D=g.sum64_5_lo,B=m.BlockHash,R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];g.inherits(r,B),e.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(e,t){for(var i=this.W,r=0;r<32;r++)i[r]=e[t+r];for(;r<i.length;r+=2){var n=p(i[r-4],i[r-3]),o=A(i[r-4],i[r-3]),a=i[r-14],s=i[r-13],u=d(i[r-30],i[r-29]),l=f(i[r-30],i[r-29]),c=i[r-32],h=i[r-31];i[r]=M(n,o,a,s,u,l,c,h),i[r+1]=k(n,o,a,s,u,l,c,h)}},r.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,r=this.h[0],d=this.h[1],f=this.h[2],p=this.h[3],A=this.h[4],g=this.h[5],m=this.h[6],v=this.h[7],E=this.h[8],w=this.h[9],b=this.h[10],M=this.h[11],k=this.h[12],B=this.h[13],R=this.h[14],Q=this.h[15];y(this.k.length===i.length);for(var O=0;O<i.length;O+=2){var L=R,x=Q,q=c(E,w),K=h(E,w),U=n(E,0,b,0,k),F=o(0,w,0,M,0,B),j=this.k[O],N=this.k[O+1],J=i[O],G=i[O+1],Y=T(L,x,q,K,U,F,j,N,J,G),P=D(L,x,q,K,U,F,j,N,J,G);L=u(r,d),x=l(r,d),q=a(r,0,f,0,A),K=s(0,d,0,p,0,g);var z=I(L,x,q,K),Z=S(L,x,q,K);R=k,Q=B,k=b,B=M,b=E,M=w,E=I(m,v,Y,P),w=S(v,v,Y,P),m=A,v=g,A=f,g=p,f=r,p=d,r=I(Y,P,z,Z),d=S(Y,P,z,Z)}C(this.h,0,r,d),C(this.h,2,f,p),C(this.h,4,A,g),C(this.h,6,m,v),C(this.h,8,E,w),C(this.h,10,b,M),C(this.h,12,k,B),C(this.h,14,R,Q)},r.prototype._digest=function(e){return"hex"===e?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}function a(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+e)}function s(e,t,i){var r=a(e,i);return i-1>=t&&(r|=a(e,i-1)<<4),r}function u(e,t,i,n){for(var o=0,a=0,s=Math.min(e.length,i),u=t;u<s;u++){var l=e.charCodeAt(u)-48;o*=n,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<n,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function h(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,u=a/67108864|0;i.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;c+=(a=(n=0|e.words[p])*(o=0|t.words[f])+h)/67108864|0,h=67108863&a}i.words[l]=0|h,u=0|c}return 0!==u?i.words[l]=0|u:i.length--,i._strip()}function d(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),d=67108863&h;s=67108863&(d=d+s|0),n+=(a=(a=a+(h/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i._strip()}function f(e,t,i){return d(e,t,i)}function p(e,t){this.x=e,this.y=t}function A(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function w(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var b;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{b="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(212).Buffer}catch(e){}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,i):(this._parseBase(e,t,n),"le"===i&&this._initArray(this.toArray(),t,i)))},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,a=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)n=s(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)n=s(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,s=Math.min(o,o-a)+i,l=0,c=i;c<s;c+=r)l=u(e,c,c+r,t),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var h=1;for(l=u(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(e){o.prototype.inspect=c}else o.prototype.inspect=c;var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<n|o)).toString(16);o=s>>>24-n&16777215,(n+=2)>=26&&(n-=26,a--),i=0!==o||a!==this.length-1?C[6-u.length]+u+i:u+i}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=I[e],c=S[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var d=h.modrn(c).toString(e);i=(h=h.idivn(c)).isZero()?d+i:C[l-d.length]+d+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},b&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(b,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){this._strip();var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,n),a},o.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,n=0,o=0;n<this.length;n++){var a=this.words[n]<<o|r;e[i++]=255&a,i<e.length&&(e[i++]=a>>8&255),i<e.length&&(e[i++]=a>>16&255),6===o?(i<e.length&&(e[i++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(i<e.length)for(e[i++]=r;i<e.length;)e[i++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,n=0,o=0;n<this.length;n++){var a=this.words[n]<<o|r;e[i--]=255&a,i>=0&&(e[i--]=a>>8&255),i>=0&&(e[i--]=a>>16&255),6===o?(i>=0&&(e[i--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(i>=0)for(e[i--]=r;i>=0;)e[i--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},o.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=e):(i=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|i.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<i.length;a++)o=(t=(0|i.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var M=function(e,t,i){var r,n,o,a=e.words,s=t.words,u=i.words,l=0,c=0|a[0],h=8191&c,d=c>>>13,f=0|a[1],p=8191&f,A=f>>>13,g=0|a[2],m=8191&g,y=g>>>13,v=0|a[3],E=8191&v,w=v>>>13,b=0|a[4],C=8191&b,I=b>>>13,S=0|a[5],M=8191&S,k=S>>>13,T=0|a[6],D=8191&T,B=T>>>13,R=0|a[7],Q=8191&R,O=R>>>13,L=0|a[8],x=8191&L,q=L>>>13,K=0|a[9],U=8191&K,F=K>>>13,j=0|s[0],N=8191&j,J=j>>>13,G=0|s[1],Y=8191&G,P=G>>>13,z=0|s[2],Z=8191&z,W=z>>>13,V=0|s[3],H=8191&V,X=V>>>13,_=0|s[4],$=8191&_,ee=_>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,de=ce>>>13,fe=0|s[9],pe=8191&fe,Ae=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(l+(r=Math.imul(h,N))|0)+((8191&(n=(n=Math.imul(h,J))+Math.imul(d,N)|0))<<13)|0;l=((o=Math.imul(d,J))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,N),n=(n=Math.imul(p,J))+Math.imul(A,N)|0,o=Math.imul(A,J);var me=(l+(r=r+Math.imul(h,Y)|0)|0)+((8191&(n=(n=n+Math.imul(h,P)|0)+Math.imul(d,Y)|0))<<13)|0;l=((o=o+Math.imul(d,P)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,N),n=(n=Math.imul(m,J))+Math.imul(y,N)|0,o=Math.imul(y,J),r=r+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,P)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,P)|0;var ye=(l+(r=r+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,W)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,W)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(E,N),n=(n=Math.imul(E,J))+Math.imul(w,N)|0,o=Math.imul(w,J),r=r+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,P)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,P)|0,r=r+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,W)|0;var ve=(l+(r=r+Math.imul(h,H)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,H)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(C,N),n=(n=Math.imul(C,J))+Math.imul(I,N)|0,o=Math.imul(I,J),r=r+Math.imul(E,Y)|0,n=(n=n+Math.imul(E,P)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,P)|0,r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,H)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,X)|0;var Ee=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,$)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,N),n=(n=Math.imul(M,J))+Math.imul(k,N)|0,o=Math.imul(k,J),r=r+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,P)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,P)|0,r=r+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0;var we=(l+(r=r+Math.imul(h,ie)|0)|0)+((8191&(n=(n=n+Math.imul(h,re)|0)+Math.imul(d,ie)|0))<<13)|0;l=((o=o+Math.imul(d,re)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,N),n=(n=Math.imul(D,J))+Math.imul(B,N)|0,o=Math.imul(B,J),r=r+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,P)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,P)|0,r=r+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(E,H)|0,n=(n=n+Math.imul(E,X)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(m,$)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ie)|0,n=(n=n+Math.imul(p,re)|0)+Math.imul(A,ie)|0,o=o+Math.imul(A,re)|0;var be=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(Q,N),n=(n=Math.imul(Q,J))+Math.imul(O,N)|0,o=Math.imul(O,J),r=r+Math.imul(D,Y)|0,n=(n=n+Math.imul(D,P)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,P)|0,r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(C,H)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(E,$)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ie)|0,n=(n=n+Math.imul(m,re)|0)+Math.imul(y,ie)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0;var Ce=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ue)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(x,N),n=(n=Math.imul(x,J))+Math.imul(q,N)|0,o=Math.imul(q,J),r=r+Math.imul(Q,Y)|0,n=(n=n+Math.imul(Q,P)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,P)|0,r=r+Math.imul(D,Z)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(C,$)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(E,ie)|0,n=(n=n+Math.imul(E,re)|0)+Math.imul(w,ie)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0;var Ie=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,N),n=(n=Math.imul(U,J))+Math.imul(F,N)|0,o=Math.imul(F,J),r=r+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,P)|0)+Math.imul(q,Y)|0,o=o+Math.imul(q,P)|0,r=r+Math.imul(Q,Z)|0,n=(n=n+Math.imul(Q,W)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(D,H)|0,n=(n=n+Math.imul(D,X)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,X)|0,r=r+Math.imul(M,$)|0,n=(n=n+Math.imul(M,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,re)|0)+Math.imul(I,ie)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,de)|0;var Se=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,Ae)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(U,Y),n=(n=Math.imul(U,P))+Math.imul(F,Y)|0,o=Math.imul(F,P),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,W)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,W)|0,r=r+Math.imul(Q,H)|0,n=(n=n+Math.imul(Q,X)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,X)|0,r=r+Math.imul(D,$)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(M,ie)|0,n=(n=n+Math.imul(M,re)|0)+Math.imul(k,ie)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(C,oe)|0,n=(n=n+Math.imul(C,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(E,ue)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var Me=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,Z),n=(n=Math.imul(U,W))+Math.imul(F,Z)|0,o=Math.imul(F,W),r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(q,H)|0,o=o+Math.imul(q,X)|0,r=r+Math.imul(Q,$)|0,n=(n=n+Math.imul(Q,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(D,ie)|0,n=(n=n+Math.imul(D,re)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(M,oe)|0,n=(n=n+Math.imul(M,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(E,he)|0,n=(n=n+Math.imul(E,de)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,de)|0;var ke=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,H),n=(n=Math.imul(U,X))+Math.imul(F,H)|0,o=Math.imul(F,X),r=r+Math.imul(x,$)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(q,$)|0,o=o+Math.imul(q,ee)|0,r=r+Math.imul(Q,ie)|0,n=(n=n+Math.imul(Q,re)|0)+Math.imul(O,ie)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(M,ue)|0,n=(n=n+Math.imul(M,le)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,le)|0,r=r+Math.imul(C,he)|0,n=(n=n+Math.imul(C,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Te=(l+(r=r+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,Ae)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,$),n=(n=Math.imul(U,ee))+Math.imul(F,$)|0,o=Math.imul(F,ee),r=r+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,re)|0)+Math.imul(q,ie)|0,o=o+Math.imul(q,re)|0,r=r+Math.imul(Q,oe)|0,n=(n=n+Math.imul(Q,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(D,ue)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,r=r+Math.imul(M,he)|0,n=(n=n+Math.imul(M,de)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,de)|0;var De=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(n=(n=n+Math.imul(C,Ae)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(U,ie),n=(n=Math.imul(U,re))+Math.imul(F,ie)|0,o=Math.imul(F,re),r=r+Math.imul(x,oe)|0,n=(n=n+Math.imul(x,ae)|0)+Math.imul(q,oe)|0,o=o+Math.imul(q,ae)|0,r=r+Math.imul(Q,ue)|0,n=(n=n+Math.imul(Q,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(D,he)|0,n=(n=n+Math.imul(D,de)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,de)|0;var Be=(l+(r=r+Math.imul(M,pe)|0)|0)+((8191&(n=(n=n+Math.imul(M,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;l=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(U,oe),n=(n=Math.imul(U,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(q,ue)|0,o=o+Math.imul(q,le)|0,r=r+Math.imul(Q,he)|0,n=(n=n+Math.imul(Q,de)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,de)|0;var Re=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,Ae)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(F,ue)|0,o=Math.imul(F,le),r=r+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(q,he)|0,o=o+Math.imul(q,de)|0;var Qe=(l+(r=r+Math.imul(Q,pe)|0)|0)+((8191&(n=(n=n+Math.imul(Q,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,r=Math.imul(U,he),n=(n=Math.imul(U,de))+Math.imul(F,he)|0,o=Math.imul(F,de);var Oe=(l+(r=r+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,Ae)|0)+Math.imul(q,pe)|0))<<13)|0;l=((o=o+Math.imul(q,Ae)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Le=(l+(r=Math.imul(U,pe))|0)+((8191&(n=(n=Math.imul(U,Ae))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,Ae))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=ve,u[4]=Ee,u[5]=we,u[6]=be,u[7]=Ce,u[8]=Ie,u[9]=Se,u[10]=Me,u[11]=ke,u[12]=Te,u[13]=De,u[14]=Be,u[15]=Re,u[16]=Qe,u[17]=Oe,u[18]=Le,0!==l&&(u[19]=l,i.length++),i};Math.imul||(M=h),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?M(this,e,t):i<63?h(this,e,t):i<1024?d(this,e,t):f(this,e,t)},p.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},p.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},p.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},p.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<n;c+=s)for(var h=u,d=l,f=0;f<a;f++){var p=i[c+f],A=r[c+f],g=i[c+f+a],m=r[c+f+a],y=h*g-d*m;m=h*m+d*g,g=y,i[c+f]=p+g,r[c+f]=A+m,i[c+f+a]=p-g,r[c+f+a]=A-m,f!==s&&(y=u*h-l*d,d=u*d+l*h,h=y)}},p.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},p.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},p.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},p.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},p.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=i.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,n),this.transform(l,o,c,h,r,n);for(var f=0;f<r;f++){var p=s[f]*c[f]-u[f]*h[f];u[f]=s[f]*h[f]+u[f]*c[f],s[f]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,n),this.conjugate(d,o,r),this.normalize13b(d,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),f(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var i=0,n=0;n<this.length;n++){var o=(0|this.words[n])*e,a=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=a>>>26,this.words[n]=67108863&a}return 0!==i&&(this.words[n]=i,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=e.words[r]>>>n&1}return t}(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var n;r("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(n-=a,n=Math.max(0,n),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=n);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i||!(this.words[i]&n))},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o,a=e.length+i;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+i])+s;var u=(0|e.words[n])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)s=(o=(0|this.words[n+i])+s)>>26,this.words[n+i]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),n=e,a=0|n.words[n.length-1];0!=(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,u=r.length-n.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(n,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[n.length+h])+(0|r.words[n.length+h-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(n,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(n,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=d)}return s&&s._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,n=0,o=this.length-1;o>=0;o--)n=(i*n+(0|this.words[o]))%e;return t?-n:n},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*i;this.words[n]=o/e|0,i=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++l;for(var c=i.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(c),a.isub(h)),n.iushrn(1),a.iushrn(1);for(var p=0,A=1;0==(i.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(u)):(i.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:i.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,a=new o(1),s=new o(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,d=1;0==(i.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(n=0===t.cmpn(1)?a:s).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var k={k256:null,p224:null,p192:null,p25519:null};A.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},A.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},A.prototype.split=function(e,t){e.iushrn(this.n,0,t)},A.prototype.imulK=function(e){return e.imul(this.k)},n(g,A),g.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(m,A),n(y,A),n(v,A),v.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(k[e])return k[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new m;else if("p192"===e)t=new y;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return k[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},E.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var A=f,g=0;0!==A.cmp(s);g++)A=A.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;n!==i[0]&&(n=this.sqr(n)),0!==h||0!==a?(a<<=1,a|=h,(4==++s||0===r&&0===c)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}u=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new w(e)},n(w,E),w.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},w.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},w.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},w.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},w.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i(55)(e))},function(e,t,i){"use strict";var r=t;r.bignum=i(11),r.define=i(214).define,r.base=i(217),r.constants=i(218),r.decoders=i(117),r.encoders=i(115)},function(e,t,i){"use strict";var r=t;r.der=i(116),r.pem=i(215)},function(e,t,i){"use strict";function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){u.call(this,"der",e)}function o(e){return e<10?"0"+e:e}var a=i(5),s=i(62).Buffer,u=i(63),l=i(65);e.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},a(n,u),n.prototype._encodeComposite=function(e,t,i,r){var n=function(e,t,i,r){var n;if("seqof"===e?e="seq":"setof"===e&&(e="set"),l.tagByName.hasOwnProperty(e))n=l.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);n=e}return n>=31?r.error("Multi-octet tag encoding unsupported"):(t||(n|=32),n|=l.tagClassByName[i||"universal"]<<6)}(e,t,i,this.reporter);if(r.length<128){var o=s.alloc(2);return o[0]=n,o[1]=r.length,this._createEncoderBuffer([o,r])}for(var a=1,u=r.length;u>=256;u>>=8)a++;var c=s.alloc(2+a);c[0]=n,c[1]=128|a;for(var h=1+a,d=r.length;d>0;h--,d>>=8)c[h]=255&d;return this._createEncoderBuffer([c,r])},n.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var i=s.alloc(2*e.length),r=0;r<e.length;r++)i.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(i)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},n.prototype._encodeObjid=function(e,t,i){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,a=0;a<e.length;a++){var u=e[a];for(o++;u>=128;u>>=7)o++}for(var l=s.alloc(o),c=l.length-1,h=e.length-1;h>=0;h--){var d=e[h];for(l[c--]=127&d;(d>>=7)>0;)l[c--]=128|127&d}return this._createEncoderBuffer(l)},n.prototype._encodeTime=function(e,t){var i,r=new Date(e);return"gentime"===t?i=[o(r.getUTCFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[o(r.getUTCFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!s.isBuffer(e)){var i=e.toArray();!e.sign&&128&i[0]&&i.unshift(0),e=s.from(i)}if(s.isBuffer(e)){var r=e.length;0===e.length&&r++;var n=s.alloc(r);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var o=1,a=e;a>=256;a>>=8)o++;for(var u=new Array(o),l=u.length-1;l>=0;l--)u[l]=255&e,e>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(s.from(u))},n.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},n.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},n.prototype._skipDefault=function(e,t,i){var r,n=this._baseState;if(null===n.default)return!1;var o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,i).join()),o.length!==n.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==n.defaultBuffer[r])return!1;return!0}},function(e,t,i){"use strict";var r=t;r.der=i(118),r.pem=i(216)},function(e,t,i){"use strict";function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){c.call(this,"der",e)}function o(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var r=h.tagClass[i>>6],n=0==(32&i);if(31==(31&i)){var o=i;for(i=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;i<<=7,i|=127&o}}else i&=31;return{cls:r,primitive:n,tag:i,tagStr:h.tag[i]}}function a(e,t,i){var r=e.readUInt8(i);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var n=127&r;if(n>4)return e.error("length octect is too long");r=0;for(var o=0;o<n;o++){r<<=8;var a=e.readUInt8(i);if(e.isError(a))return a;r|=a}return r}var s=i(5),u=i(11),l=i(35).DecoderBuffer,c=i(63),h=i(65);e.exports=r,r.prototype.decode=function(e,t){return l.isDecoderBuffer(e)||(e=new l(e,t)),this.tree._decode(e,t)},s(n,c),n.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;var r=e.save(),n=o(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(r),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||i)},n.prototype._decodeTag=function(e,t,i){var r=o(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var n=a(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!i&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');var s=e.save(),u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(u)?u:(n=e.offset-s.offset,e.restore(s),e.skip(n,'Failed to match body of: "'+t+'"'))},n.prototype._skipUntilEnd=function(e,t){for(;;){var i=o(e,t);if(e.isError(i))return i;var r=a(e,i.primitive,t);if(e.isError(r))return r;var n;if(n=i.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===i.tagStr)break}},n.prototype._decodeList=function(e,t,i,r){for(var n=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=i.decode(e,"der",r);if(e.isError(a)&&o)break;n.push(a)}return n},n.prototype._decodeStr=function(e,t){if("bitstr"===t){var i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var n="",o=0;o<r.length/2;o++)n+=String.fromCharCode(r.readUInt16BE(2*o));return n}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},n.prototype._decodeObjid=function(e,t,i){for(var r,n=[],o=0,a=0;!e.isEmpty();)o<<=7,o|=127&(a=e.readUInt8()),0==(128&a)&&(n.push(o),o=0);128&a&&n.push(o);var s=n[0]/40|0,u=n[0]%40;if(r=i?n:[s,u].concat(n.slice(1)),t){var l=t[r.join(" ")];void 0===l&&(l=t[r.join(".")]),void 0!==l&&(r=l)}return r},n.prototype._decodeTime=function(e,t){var i,r,n,o,a,s,u=e.raw().toString();if("gentime"===t)i=0|u.slice(0,4),r=0|u.slice(4,6),n=0|u.slice(6,8),o=0|u.slice(8,10),a=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|u.slice(0,2),r=0|u.slice(2,4),n=0|u.slice(4,6),o=0|u.slice(6,8),a=0|u.slice(8,10),s=0|u.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,n,o,a,s,0)},n.prototype._decodeNull=function(){return null},n.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},n.prototype._decodeInt=function(e,t){var i=e.raw(),r=new u(i);return t&&(r=t[r.toString(10)]||r),r},n.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,i){function r(e){var t=o.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var n=i(31),o=i(6).Buffer;e.exports=function(e,t){for(var i,a=o.alloc(0),s=0;a.length<t;)i=r(s++),a=o.concat([a,n("sha1").update(e).update(i).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var i=e.length,r=-1;++r<i;)e[r]^=t[r];return e}},function(e,t,i){var r=i(11),n=i(6).Buffer;e.exports=function(e,t){return n.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,i){"use strict";(function(t){var r,n=(r=i(127))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=function(e){for(var i,r=(i=e,n.atob?n.atob(i):t.from(i,"base64").toString("binary")),o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}}).call(this,i(10).Buffer)},function(e,t,i){(function(t,i){var r;r=function(){"use strict";function e(e){return"function"==typeof e}function r(){var e=setTimeout;return function(){return e(n,1)}}function n(){for(var e=0;e<v;e+=2)(0,T[e])(T[e+1]),T[e]=void 0,T[e+1]=void 0;v=0}function o(e,t){var i=this,r=new this.constructor(s);void 0===r[B]&&g(r);var n=i._state;if(n){var o=arguments[n-1];b(function(){return A(n,r,o,i._result)})}else f(i,r,e,t);return r}function a(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(s);return l(t,e),t}function s(){}function u(t,i,r){i.constructor===t.constructor&&r===o&&i.constructor.resolve===a?function(e,t){1===t._state?h(e,t._result):2===t._state?d(e,t._result):f(t,void 0,function(t){return l(e,t)},function(t){return d(e,t)})}(t,i):void 0===r?h(t,i):e(r)?function(e,t,i){b(function(e){var r=!1,n=function(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}(i,t,function(i){r||(r=!0,t!==i?l(e,i):h(e,i))},function(t){r||(r=!0,d(e,t))},e._label);!r&&n&&(r=!0,d(e,n))},e)}(t,i,r):h(t,i)}function l(e,t){if(e===t)d(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(r=t),null===r||"object"!==n&&"function"!==n)h(e,t);else{var i=void 0;try{i=t.then}catch(t){return void d(e,t)}u(e,t,i)}var r,n}function c(e){e._onerror&&e._onerror(e._result),p(e)}function h(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&b(p,e))}function d(e,t){void 0===e._state&&(e._state=2,e._result=t,b(c,e))}function f(e,t,i,r){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+1]=i,n[o+2]=r,0===o&&e._state&&b(p,e)}function p(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],n=t[a+i],r?A(i,r,n,o):n(o);e._subscribers.length=0}}function A(t,i,r,n){var o=e(r),a=void 0,s=void 0,u=!0;if(o){try{a=r(n)}catch(e){u=!1,s=e}if(i===a)return void d(i,new TypeError("A promises callback cannot return that same promise."))}else a=n;void 0!==i._state||(o&&u?l(i,a):!1===u?d(i,s):1===t?h(i,a):2===t&&d(i,a))}function g(e){e[B]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}var m,y=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},v=0,E=void 0,w=void 0,b=function(e,t){T[v]=e,T[v+1]=t,2===(v+=2)&&(w?w(n):D())},C="undefined"!=typeof window?window:void 0,I=C||{},S=I.MutationObserver||I.WebKitMutationObserver,M="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),k="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,T=new Array(1e3),D=void 0;M?D=function(){return t.nextTick(n)}:S?D=function(){var e=0,t=new S(n),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}():k?((m=new MessageChannel).port1.onmessage=n,D=function(){return m.port2.postMessage(0)}):D=void 0===C?function(){try{var e=Function("return this")().require("vertx");return void 0!==(E=e.runOnLoop||e.runOnContext)?function(){E(n)}:r()}catch(e){return r()}}():r();var B=Math.random().toString(36).substring(2),R=0,Q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(s),this.promise[B]||g(this.promise),y(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?h(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&h(this.promise,this._result))):d(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===a){var n=void 0,l=void 0,c=!1;try{n=e.then}catch(e){c=!0,l=e}if(n===o&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===O){var h=new i(s);c?d(h,l):u(h,e,n),this._willSettleAt(h,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,i){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?d(r,i):this._result[t]=i),0===this._remaining&&h(r,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;f(e,void 0,function(e){return i._settledAt(1,t,e)},function(e){return i._settledAt(2,t,e)})},e}(),O=function(){function t(e){this[B]=R++,this._result=this._state=void 0,this._subscribers=[],s!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){l(e,t)},function(t){d(e,t)})}catch(t){d(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return O.prototype.then=o,O.all=function(e){return new Q(this,e).promise},O.race=function(e){var t=this;return new t(y(e)?function(i,r){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(i,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},O.resolve=a,O.reject=function(e){var t=new this(s);return d(t,e),t},O._setScheduler=function(e){w=e},O._setAsap=function(e){b=e},O._asap=b,O.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=O},O.Promise=O,O},e.exports=r()}).call(this,i(9),i(13))},function(e,t,i){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function n(e,t,i){for(var r,n,a=[],s=t;s<i;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(n=r)>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]);return a.join("")}t.byteLength=function(e){var t=r(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,n=r(e),o=n[0],u=n[1],l=new s(3*(o+u)/4-u),c=0,h=u>0?o-4:o;for(i=0;i<h;i+=4)t=a[e.charCodeAt(i)]<<18|a[e.charCodeAt(i+1)]<<12|a[e.charCodeAt(i+2)]<<6|a[e.charCodeAt(i+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=a[e.charCodeAt(i)]<<2|a[e.charCodeAt(i+1)]>>4,l[c++]=255&t),1===u&&(t=a[e.charCodeAt(i)]<<10|a[e.charCodeAt(i+1)]<<4|a[e.charCodeAt(i+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,a=[],s=0,u=i-r;s<u;s+=16383)a.push(n(e,s,s+16383>u?u:s+16383));return 1===r?(t=e[i-1],a.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"=")),a.join("")};for(var o=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=u.length;l<c;++l)o[l]=u[l],a[u.charCodeAt(l)]=l;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=i?n-1:0,d=i?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,u,l=8*o-n-1,c=(1<<l)-1,h=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,n),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;e[i+f]=255&s,f+=p,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;e[i+f]=255&a,f+=p,a/=256,l-=8);e[i+f-p]|=128*A}},function(e,t,i){(function(t){var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(this,i(13))},function(e,t,i){var r=i(129),n=i(130);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,i){"use strict";function r(e){for(var t=-1,i=0;i<h.length;i++)if(h[i].identifier===e){t=i;break}return t}function n(e,t){for(var i={},n=[],o=0;o<e.length;o++){var a=e[o],u=t.base?a[0]+t.base:a[0],l=i[u]||0,c="".concat(u," ").concat(l);i[u]=l+1;var d=r(c),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(h[d].references++,h[d].updater(f)):h.push({identifier:c,updater:s(f,t),references:1}),n.push(c)}return n}function o(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var n=i.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach(function(e){t.setAttribute(e,r[e])}),"function"==typeof e.insert)e.insert(t);else{var o=c(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}function a(e,t,i,r){var n=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function s(e,t){var i,r,n;if(t.singleton){var s=p++;i=f||(f=o(t)),r=a.bind(null,i,s,!1),n=a.bind(null,i,s,!0)}else i=o(t),r=function(e,t,i){var r=i.css,n=i.media,o=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}var u,l,c=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),h=[],d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")}),f=null,p=0;e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===u&&(u=Boolean(window&&document&&document.all&&!window.atob)),u));var i=n(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<i.length;o++){var a=r(i[o]);h[a].references--}for(var s=n(e,t),u=0;u<i.length;u++){var l=r(i[u]);0===h[l].references&&(h[l].updater(),h.splice(l,1))}i=s}}}},function(e,t,i){var r=i(131),n=i(132),o=i(133),a=i(134),s=i(135);t=r(!1);var u=n(o),l=n(a),c=n(s);t.push([e.i,'@font-face {\n  font-family: "iconfont"; /* Project id 3440216 */\n  src: url('+u+") format('woff2'),\n       url("+l+") format('woff'),\n       url("+c+') format(\'truetype\');\n}\n\n.iconfont {\n  font-family: "iconfont" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-xiangji:before {\n  content: "\\e62e";\n}\n\n.icon-luxiang2:before {\n  content: "\\e777";\n}\n\n.icon-xiangji1:before {\n  content: "\\e6e5";\n}\n\n.icon-luxiang:before {\n  content: "\\e62c";\n}\n\n.icon-snapshot:before {\n  content: "\\e9f2";\n}\n\n.icon-shengyin1:before {\n  content: "\\e8c0";\n}\n\n.icon-xiaoping:before {\n  content: "\\e8bf";\n}\n\n.icon-jingyin:before {\n  content: "\\e8bb";\n}\n\n.icon-quanping1:before {\n  content: "\\e8ba";\n}\n\n.icon-bofang:before {\n  content: "\\e8ad";\n}\n\n.icon-zanting:before {\n  content: "\\e8ab";\n}\n\n',""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i,r,n,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(i=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(n," */"));return[o].concat(a.sources.map(function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")})).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i}).join("")},t.i=function(e,i,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&n[u[0]]||(i&&(u[2]?u[2]="".concat(i," and ").concat(u[2]):u[2]=i),t.push(u))}},t}},function(e,t,i){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,i){"use strict";i.r(t),t.default="data:font/woff2;base64,d09GMgABAAAAAAlMAAsAAAAAEOAAAAj+AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACEPAqSaI80ATYCJAMwCxoABCAFhGcHgRwbUA4RFazfI/viwDz9UwQQaoWtoxI6Bg55+g1tP7RnvwfPf/u1+2bmi2LWVJvZ6XgjtG1I/hWTrIlQaRs6YhbiDuGmXdA1ghR8XlGgbrB5NUDFqClVKpPk35N/p0yNwUwMmAq8awBQ1G5/7pVjClADbnNLFNuMi1B8cvb1rw/9KFeSLg37Do6lfi0D5GNrm8tH3Vf2KinaBvxAi0ywjYdRNuANSAbAM7FNLsykdcwCM31tXAUBfFrJhDE8bQ4O4pSpvwuUwkLMFEhjJdXabALuXIxpqRBcns3d0gBZB2xQC4wrALDmn1++QayMAygsDcR+Rpp0DSD9WuX7KeJ/AtA3wFKO14GWVoAFaKDxyqRy2K4+AMwYGj3br0tmMQ8gH8H8u82b6rXm9as3Fq/Tu9V72HvC99P/f1N9yHu8azFTyJdqKfIz/5snaBQBPh4uDjYWiA2IHSJnmxU8ZaoWYjxHAyECzis0Q8O7pRkKPpxCAnC2QogPziEI8cA5DCEuOMchxAHnBJphw+dPlG+Gfk3JxQAGAFqT5AGI4gkAJnRbBLgx2OGaEcodh6GBApbfFB6G+SkBT4i5hKoQCSrjYrAfF06FWApxRAjKF3O5/rGECclHikEoCgkEFj3CErARownFYQafCeO0y0XcuUO53aTHo6cObCG2HkTo2+S1UdseMQ6Rp67BPOrKCcBITl5F+PT10xCkH9vrdEJM0lFKHGmAYwkc3wQeBWUGyNjl72LNEeoYeXyUDpfoEfqgQiJhEVuCxALqkFLKJreHyhDjMvNVMj1uXQ8bWEI2TG2UGi5hszt3CJeL9nhIt7uePkocjNPcQO30uy6nLuwgdl6kL+8md13CKRsEkYsWjY2JxYR1MmWzyZYdRugxwgpT68VWU68utsYqlLp2K2tuP4xg9MGtQHxesAmhJWNyn4CRiBfDEEKFSN2zFCQJETd6KXsNbGDtxwkFkIsQOvigXsIkpVbxnTviQ4UvhQJJB1x7XZLtyPHng6nFACRWI0zZ2JSyctRtkAV38AKXvsBjXAUiDSgVb3S5Sh8I6dKDy2lJqX2CoW2N2rIl4WMS1O0pw+gkPAg2UdIK52T98M3ry5dG2KSY645l48rxy/YHu+54P/j6fdtWhXo8kMfgxm2kc7/kaNUG6dZ9UtvSZTIPaaYObbvEMx5GEOOmvZsBK7HvkRpgIwICjbbDwCeaRiCZjFZAMAODhkeG75eWDI8RdqrNBQixfnfAOnembY+dMF6+Eydw/enpvt1uw8Y98sUrqtYv37o3NLQaIh37gnAc/sJEAMxTEP3YficEGY8nhssPLuKD80HlIljDNay+XkQjjfn6SjDwQ+jD28lthwav3EPdIG4mbDi8HSJvmVPmuvpkeBSm7ICTbH62WTkhLunA8gHH/s9eeIIQASeyFs4o8zeCFVeQuOJCQFS+RpNfrYiOXx3fXlMmbTSoDI3SAKDjg56nt/8Q+KpSkgOUnwdmBH6uDPgvYCZXreMTPMWEi4XYv08Rq5iquc+94+z6vmmPVcKFKKWWhSdo5ZFB3XHklMpEdcVh6Xg9h2OQvXjbTMg1KfFdHFZXXDjfY0bx+JZZc9DjIHIq4gQSXprY8enCaf1abT+tHXDwERADiP75dbgmX63Or1AX5KsqA8HcKkWkvQgjxusStInaBB0w/+pZkZGzSkEEvyyeJ1I4SX0r/ZYqfYL9kSY2jbItbCZL8e7nLSwOu9nIaogI2lkiZVsQC5u/gk5Yf1Q1HKFCTqyYkK4KUpeVsPqVAwoknKfK4W0dTZj22BtaHWRUrHTKvfIltAKbG3YiWSB6uCRKzm+U0zvkAAoHYwzqmRIAUTWA3eV/LDTyq/29giJ+FvI9yqXrBjPW1nOZU3LKomeHnO1jo0/RJGEL37uWbeHkis+IujnNcDOnm/sSzuU0X+3Csg8EY1tgC+hSSerOipll03ukfdIXumK8sGhqV4A5yje7fGZpq6pT9Y3UlFuTndiQ1GKpMdbOD0LpHxsEa4cPKsJCtdrQQkV0/ML4tta30B2HdVl66oe0GSVhxnDmicPaC3FNA7KAasmlyfjA8eZ/xlkT7L6mOGta06YoCB0kstfsUkRHTM6iaCvZHWJSd+3qYnYnVySWrvrcF37Z9NWr2I5huoNXj9Zte7ux6b281I2ZfOVFh/KI0nFRWeLbhcR+KLGKNufdx3lKwCB982KfTpsX33f9xmDej/EjFy/N0w43Xh/5QP480NFflPBl+ZWAJQFXEtaVXQlcEhjcoU3FeRPmzqkfh8Z1vvrKfCU8f79Jk1iWXMkw16mKp00rDXlLV569zkIWhirb1/S44D2c9cVtivDvk/aIqRw4P/2qJVB5b5nymHLZXSX+9d77JQ7RanDkzWhI8DzHiHt0i2N+cPl8+5aR8OH/7TcgZATs/OLT9Gn6o3zqPnV/zVxvrDl2EFoOeaOy6Z/lKyh7rJ2KtfejoGWh+rm46TP7qCK0Ee8LaZrTWGi2L2VQdiXwn8nGJY8lck3zQ/2YN4PuH4DQ6DST5suo/8lc7zgzKcCuys1sxN7My4zCnuooMxO7tp8qgZMcZBZ2ax8yi70nMjGzR5lLscz5MKKGn/6ri/yNzrpz/XVCU2bVguO6cFEItcAIklPJHNJsLRCaur7RlMH4kHOAORXgy2EwVtTn8vgc3Dw2dWzMzUtrFA5loOtyysEgp77GIqAdbOT01Pg0oNs+IA8z0IjxA1DN26gRstlco4g5Ao2c82CQ46mxKOQN2Mj5t8ZnCsL2FlCtGXMQh+osjD+Ihskrnvpsry6sCaXK8XRSImzQN13Rd3Hk5BDrlHcYVD144QXO0+O5lBiy8OyMNpNq3retr1unMbxUB3GotqEF469lNEx+aM2/vqsLa0JhIp9KKSGZsge9RsdAXtjE6vJKkss7DJSUHjQIwRJzz1ulS9LNINcvNjujjWmAM++1NJTnspvzc5ePm81n1604SAgp0WLEElscccUT/9e+iURwhyJSmOM2rbF02Bak/WY6x7YQ5jKx7kyoo/CL1LencY4UNnMk1+61Ik2C+npkj5XGP5IuRVUFAA=="},function(e,t,i){"use strict";i.r(t),t.default="data:font/woff;base64,d09GRgABAAAAAAu8AAsAAAAAEOAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAARAAAAGA8QUzCY21hcAAAAYgAAACxAAACPClWH55nbHlmAAACPAAABzUAAAloxhXGamhlYWQAAAl0AAAALwAAADYgyzh9aGhlYQAACaQAAAAcAAAAJAfeA41obXR4AAAJwAAAAA8AAAAwMAAAAGxvY2EAAAnQAAAAGgAAABoQiA60bWF4cAAACewAAAAfAAAAIAEjAONuYW1lAAAKDAAAAUAAAAJnEKM8sHBvc3QAAAtMAAAAbQAAAJwZ7sqZeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGFhYJzAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHnum8/MTc8L+BgYH5DgOQZGBEUcQEAINZDYF4nOWRSw6CQBBEa+TjBxcuDPEQhOPJRTyBKxPCBWABl2FotlwAq6ddaPQG9uRN0pVM96QKQAIgIgWJAfeAg9adqgt6hEPQY1zZn3GiEvvCl36cKqmlkU6GeVlX4ENtpTf1qxynvJ8cl7DdcfIGGfftscMWqf7OpT8m/Fsdw317dZk6bWhmvjQ0Lz8amulUGfQUUhv6VhpDc5XWoOOQzqD3kN5gCpDBYB6YFwPJE/6/RgEAAAB4nH0WbWwU1/HNe3e7e7f3wd7H7u2aO3O7vl2bs+/wfewajD/4ONwEYhtsAhiHJES0SlWgNBhSA5JTfkVYalO1UqUKJSL9SEkqVSWtquAkppUqkaShREqqplIqVVXlorYiSP3HrTvvjlIURb3bN2/2zbx5M/PmY0mA4I8tM0JEEidrSTchoFWVvFL1gnnRQsQSKzlIxcAsQW0YNDMGqRxUK27Npm9vWb67sDwKD/n/Gr1I37t4vTxRLk8c4qCsOio+Zn8/IwvNBbqwMLPg1+A96x4dwYzq9Dpqf2MDV6GtxypdJSapEJeMoB62EId6rQRWHg9NK/zYfGUYhkDLwTDUlZrNUgISbURdJKnppFP3CqiuYNo1l32yxowfMjdZzd9Ym0yc6RDOh+Jmp6L4XXrzz3pXl07zetdvT55sekYB7HqhQM+HILxpwBw08fFpex7YFAYlp8D3lJyf0C1Lh79w6B8c+2RsQwF31Qtc/SAhqx8GCCuSTtJHNpExMolWVDpptaJ2UiWF5qCyZUBtR6DquSNUE2NgOdzJfP3zHI32ogcKFTXVsoleXKcGSldVUwDo1KW7CxkrwJGrpWhWkqL1YDqyzB5dlpOC960dc43G3CIHO0oTpdLELAeQ6CgU3EKBFbPi7FpVFJuXtS4UYYj0UY7M6hKFvU/LUWh+SNeHQ0cXGnMXTjUapy7MNfaWJg5O9pXGHxsvFbmv6jYhMtp8g73NPBIhOnHIAGmQPeQp8k3yC/IO+Qjtb5vTNo09aJRo2kOclIM4pAQP+bxhDCy01DIFUQj+n42fYU22Y2CYx0cO0qLrudWKpmoqBo0oWP1Vswy2o22o9acEMAVcVZHTrTu1Fl8n3ogj4FUgLwryarYVbOnmDgI/o4h7slxFi19Bew2CfTt7e3ce4KA3V83lqpsruVzlS0GJhsIioKiAyFjEVoOSFIwboQD8sPf+hr4c593Md80EJIpsaUGShFiHFBjzM45rFDOwklmvw/hQak0yFmY0FMlAJBPYV6f15p24riZgZY0aiEdE3TktAwvO7IpKwUg8oMV9LShlk8cFURSOi3Hx/SjHoqgF3O7duZ+fjgASqG81m0WQOysFWSAs0FBQDErdQTmYSEmyFIsIb30+//QDLM18uQv26eW1Rq8e68mHouE1obj//UxEEWnJUDFu4Y85xf9JPJ6Ij8prIslhBk+JAaD9jhBQIgOK/rIkbE0VpLCUDm8VpOOI4IO5hGP1RfYRO0JUkiXrSY0Mke1knOzjdcHBP167KKj8kvG2Pbdec/Km6OWA3c8gDAVW0ZggOkgPJjlv3naT+YonliBoOknX01BGgXF5eVVgPyvNznzt5F+ndpvWhl0Pf/nYPw8/4Q3s98935RePvPxGd2Oy0d0C341EllLChc3T+/27S9GUKPl/t9R1cK7FBxP3qRBoUUGzVOode/gLmrZj757jJ24dPNDXp23bcuTp048/Gb2jzPt/674nubsB58F/Y5396UM966/5V3UM38ff9V/lXC8A7LhHgEab0K6bqzfZCiuTDOklW8k29E8rO7QcTfGILoGLb3XXsUWblxVMJzTadvi6W+OuaiXhIHhujhfZGJTBoq8noqLsJCZPb9lyejLhqJHk4eOBjd5L8awTL1er5VhRDoliaHvzmtHX0dFnTN1SuvSOQuzWFL0RthMJOdz93KWfX3quOyx3dYmlK8e+Onvg2+GetVS2j379qB0LxAOqJg7+yL9tFI0lHFcizEg3v5I0AvKVe/1g9dfsTTaMVVUmCtEI8appbExgpa10PlmtV+v5ZB0bVH3bzWf8Jdj+zO9h2535d/yl+XnYvngdGrR+41Tz3etn4Ys3/KU5lCmgzEvsDptCiQYpkTrZjBFFgoBZXdGAl1hQ0ylRcx0XYwIrjodBI+LCcKsPtYJOTcawYo0A4ytxamFhyvLSNAiaynsT+87dH0cNM8pmooblf9yg4xpArRzvzk4c9jayvjHb2fLs7oSD+SMrsuokkrf1gjLxvmWUDHym/xGzO3bjZtOIoiDLoEcHp2PRR2obh47ZMmR7flWeeezE4amxjecbMz/4RrccSSTs5k6xYMnhMB14PdVB5aFnjV7jLUzJX8qBjuRLLV9ewxo98oAvueMsxr3YA2nuWIZeVaw3z0Dh8pkzl/0/0ZlX5udfAXN+xf/4LPzhtXPnXoOeJjkLNomivJ+y59keQglDr4okjHJjre+HLOlBv7qEJJUQVHF4ODQWAud++ebNHCtqSuUOq9fs/+IUO/2LtNy8Waal5gdP0Grzd5TSDc0PXtCLlaLeAnTRcV0H66PXfNX2PDtTNEAvGvTfTQ1OwlwbjjczcAJOX2y/Tej39uLsr7iP1Cnovbrj+oveLhdwd7WoE7SErC6zJ9koWtGJOWS12wQWe5d/aOQ/8w7OdDqXS3MAn95H2Whn+u5KurMzzTIc/g//D3HDy8cAAAB4nGNgZGBgAOI5bJ1a8fw2Xxm4WRhA4N7VX3YI+v98FgbmVCCXg4EJJAoALh4K8AB4nGNgZGBgbvjfwBDDwgACQJKRARXwAABHEgJ1eJxjYWBgYCEBAwAFEAAxAAAAAAAARACmASACTALgA0wDdgPyBBoEhAS0AAB4nGNgZGBg4GG4zsDLAAJMQMwFhAwM/8F8BgAfuAIHAHichZE9bsJAEIWfwZAElChKpDRpVikoEsn8lEipUKCnoAez5ke211ovSNQ5TY6QE+QI6Whzikh52EMDRbza2W/evpkdyQDusIeH8rvnLtnDJbOSK7jAo3CV+pOwT34WrqGJnnCd+qtwAy94E26yY8YOnn/FrIV3YQ+3+BCu4AafwlXqX8I++Vu4hgf8CNep/wo3MPGuhZtoeeHA6qnTczXbqVVo0sik7niO9WITT+2pPNE2X5lUdYPOURrpVNtjm3y76DkXqciaRA15q+PYqMyatQ5dsHQu67fbkehBaBIMYKExhWOcQ2GGHeMKIQxSREV0Z/mY7gU2iFlp/3VP6LbIqR9yhS4CdM5cI7rSwnk6TY4tX+tRdXQrbsuahDSUWs1JYrLiDzzcramE1AMsi6oMfbS5ohN/UMyQ/AHYk29XeJxti0sOgzAQQ8dQmAToYdIbBYmGQdWEKiBRTs932beyn2zK6KKi/zTIkOOBAiUYBhYVajR4Ei/iNQxiPvOZXuYWjm9jkvox9XGyqe80/ETdsYmjaOBBTmO/s9dDuLKN7/3Eq9dp70Qb9Y0jUwAAAA=="},function(e,t,i){"use strict";i.r(t),t.default="data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzI8QUzCAAABjAAAAGBjbWFwKVYfngAAAhwAAAI8Z2x5ZsYVxmoAAAR0AAAJaGhlYWQgyzh9AAAA4AAAADZoaGVhB94DjQAAALwAAAAkaG10eDAAAAAAAAHsAAAAMGxvY2EQiA60AAAEWAAAABptYXhwASMA4wAAARgAAAAgbmFtZRCjPLAAAA3cAAACZ3Bvc3QZ7sqZAAAQRAAAAJwAAQAAA4D/gABcBAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAAAwAAQAAAAEAAJwGiSpfDzz1AAsEAAAAAADe1fo+AAAAAN7V+j4AAP+fBAADZQAAAAgAAgAAAAAAAAABAAAADADXAA0AAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAQEAAGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOYs6fIDgP+AAAAD3ACAAAAAAQAAAAAAAAAAAAAAAAACBAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAABQAAAAMAAAAsAAAABAAAAagAAQAAAAAAogADAAEAAAAsAAMACgAAAagABAB2AAAAFAAQAAMABOYs5i7m5ed36Kvorei76MDp8v//AADmLOYu5uXnd+ir6K3ouui/6fL//wAAAAAAAAAAAAAAAAAAAAAAAAABABQAFAAUABQAFAAUABQAFgAYAAAABAABAAMAAgALAAoACQAIAAcABgAFAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAACUAAAAAAAAAAsAAOYsAADmLAAAAAQAAOYuAADmLgAAAAEAAOblAADm5QAAAAMAAOd3AADndwAAAAIAAOirAADoqwAAAAsAAOitAADorQAAAAoAAOi6AADougAAAAkAAOi7AADouwAAAAgAAOi/AADovwAAAAcAAOjAAADowAAAAAYAAOnyAADp8gAAAAUAAAAAAEQApgEgAkwC4ANMA3YD8gQaBIQEtAAAAAQAAAAAA8ADAAAHAA8AHAAoAAABFzMRIREzNwUhByMRIREjBzIeARQOASIuATQ+ARciDgEUHgEzMjY0JgK/QcD8gMBAAUn+7kCdAsydyS9PLy9PXk8vL08vFicWFicWIjExAwCA/YACgIBagP40AcwjL09eTy8vT15PL1oWJywnFjFFMAAAAAAEAAAAAAP/Av8AIgAyADYAPwAAASYGDwE1NC4BIyEiDgEVERQeATMhMj4BPQEXHgE+ATURNCYDFAYjISImNRE0NjMhMhYVEyc1NyUyHgEGIiY0NgPeECIPXiI6I/3DIzoiIjojAj0jOiJeDyIfERH+JBn93xkkJBkCIRkkxnR0/TcaJQEmNSUlAoMJAQo6OCI7IiI7Iv4CIjsiIjsiODoKAREeEQGYER7+EhkjIxkB4hkjIxn+W0feRzAlNSUlNSUAAAAABQAA/9UEAAMrAB8ALQA6AEcAUAAAATIfAjMyFh8CERQGDwEhIiYvARE0Nj8BMzc2PwIXBw4BIycRIREjIiYvAQcyHgEUDgEiLgE0PgEXIg4BFB4BMj4BNC4BJTIWFAYiJjQ2Ap0gFgQuuxYiBgEBHxkI/IAYIwQBHxkIuy4NHQgIDTUFFQzAA1bACxMGN5BGdUVFdYx1RUV1Ri5PLi5PXE8uLk8BEhslJTYlJQMrHQdcHBYHB/2qFyQEAR8aBwJWFyQEAVwZCAIBVWkLDQH91QIqCgltgEV1i3ZFRXaLdUVVLk9bUC0uTl1OLismNSUlNSYAAAsAAP/PA78DNwAMABkAJwA4AEUAUgBjAI8AtQDKANYAAAEiLgE0PgEyHgEUDgEDIg4BFB4BMj4BNC4BByImPQE0PgEeAQ8BFAY3Ii4BNz4BMzIWFAYjIgYHBgUiLgE0PgEyHgEUDgEDIg4BFB4BMj4BNC4BByIuATc+ATMyFhQGIyIGBwYTISImNRE0PgEzITIeARUHNjc2MzIXFhcWFREUBwYjMTMiLwEmJxcwNDEUBgEiBhURFBYzITI2NSc0NjMyFxYfARE0JwYHDgEHBiMiJjU3NCYjBSImPQE0NjsBMhYUBisBIgYdARQGNyMiJjQ2OwEyFhQGAQUtSywsS1lLLCxLLB4zHh4zPDIeHjJnBQgCCQoHAQEHBgQHAwMMJhYFCAgFDxoJBAGlLEssLEtZSywsSy0eMh4eMjwzHh4zWgQIAgMMJhUGCAgGDhsIBEf+GCc2GisYAegYKhkBTj0UEBMOCgMCCQwYAQwYBFc1AjX98g8ZFhIB6BAWBA8MBxkndwsBAwVaTA0IBQwPBBcP/hcFCB0TbwYHBwZvBw8Hzg0GBwcGDQUICAHwLEtYSywsS1hLLAESHjM8Mx0dMzwzHnwIBQMECgYCCQUHBQgoBQsFEhQICwgODAa+LEtYSywsS1hLLAESHjM8Mx0dMzwzHlQFCwUSFAgLCA4MBv0hLyQBVxkvHBosGQ4pIQkNChAJD/6bGAwRBwIuGhYBJTIB2R4R/qkPDxIPQAsQDBM+AwFjBwQBAjEnBgQRDDgRGaMIBkIUJQgKCBUKQgYIbwgKCAgKCAAAAAgAAP+fA9YDZQAWAB0AKgA0AD0ARABOAFcAAAEmJyYnJgYHBgcGFhcWFxY2NzY3NjU0JyEiBzceAQMUDgEiLgE0PgEyHgEDMhcDBgcnNjc2BRMWFxYXISY2EyEyNwcuAQUiJxM2NxcGBwYlAyYnJichFgYDsC5cWnJ05FNRIiMwTEpqbu1iYDc4WP6DJCGMZaO6KEVQRSgoRVBFKJUMDLwUBos8VFj+/LwNFAcI/ukjFiABfSQhjGWjAU8MDLwUBos8VFgBBLwNFAcIARcjFgI3bkpIFxdGVVJvcepbWS0tF0NBZWl3X2EN8hF6/uYoRSgoRVBFKChFAYMB/rogJvFJKSrB/rsZFAcGX8v+qw3yEXqRAQFGICbxSSkqwQFFGRQHBl/LAAAABAAA/9ED6AMvABgALABCAEMAAAEuATc+ARceAhQOAQcGLgE2Nz4BNTYnJgcmND4BFx4BFAYHBiYnLgE2NzY0ASIuAT0BND4BOwE3Nh4BFREUDgEvASMCtBINBwsnElB3QUF3UBInFgwTYm8EOTegDx0nDy8zMy8OKwsJBwcJRP3BGi0bGy0aU+oRJBkbJQ7qUwLPCiYSEgsKKIGisqKBKAoLJCQHLrNucFxZkgopHAILJm15bSYOBA8EFhcHO6b+8BorGrwaKxqzDAMaFf1sExoEC7MAAAAABAAA/8IDvQM+AAUACwARABcAADczFTMRIQEjFSMVIRMzNTM1IRM1IxEhNUPRc/68AURz0AFD8nrK/rx6egFEjMkBRQI1z3b9y8l8AWbP/rx1AAAABgAA/6ID8gNTAAsAGgAuADUAPABOAAAFASY0NjIXARYUBiIBFhUUBxc2JzYmJyYOARQ3FhcWBxQHFz4BNTQuAScmBgcGFhMOAR4BPwEDNTQuAQ8CIyIOAR0BFB4BOwEXFj4BPQEDlPynDRoiDQNaDRoj/tpFAk4XAQE0Lw8oHU9iNzkDLUcmJ0F4URInCwgOCxELFicSE/AZJRFPziMaLhoaLhpU7A4mG1EDWg0iGg38pw0jGgJtO1QODU00OT1uJgsBHSm4L1pdcWJTRzmDRVqkgigLDBISJv1LByUjCwoKAji0FBsCCz14GiwavhosGbYLBBsToAAEAAD/wQO/Az8ABQALABEAFwAANyMRITUjAzM1MzUpARUzFTMRAyMVIREjvXsBJap7e6r+2wJaqHp6qAEieuj+2nwB16x9fawBKf0AfAEmAA0AAP+tA4kDUgACAAMABgAHAAoACwAOAA8AHAAdACkANQA2AAATEQkBMxEJATcRCQEXAwkBJxQeATI+ATQuASIOARUBIgYUFhcWPgE1NCYBIgYUFhcWPgIuASOfAi/90S8CLv3SYAIz/c0CAgIw/dKRGSsyKxkZKzIrGQKMJzY2JxorGDf9qyY3NyYYKxoBGSsaAvX9FwF0AXX9FwF0AXVO/RgBcQF3nf0XAXQBdU8ZKxkZKzIrGRkrGf7oNk01AgEZLBknNv6MN0w2AQEZKzMrGQAAAgAA/8ADYQNAAA8AHwAAASMiBhURFBY7ATI2NRE0JiEjIgYVERQWOwEyNjURNCYBJ1QVHh4VVBUeHgHxVBUeHhVUFR4eA0AfFfzoFR8fFQMYFR8fFfzoFR8fFQMYFR8AAAASAN4AAQAAAAAAAAATAAAAAQAAAAAAAQAIABMAAQAAAAAAAgAHABsAAQAAAAAAAwAIACIAAQAAAAAABAAIACoAAQAAAAAABQALADIAAQAAAAAABgAIAD0AAQAAAAAACgArAEUAAQAAAAAACwATAHAAAwABBAkAAAAmAIMAAwABBAkAAQAQAKkAAwABBAkAAgAOALkAAwABBAkAAwAQAMcAAwABBAkABAAQANcAAwABBAkABQAWAOcAAwABBAkABgAQAP0AAwABBAkACgBWAQ0AAwABBAkACwAmAWNDcmVhdGVkIGJ5IGljb25mb250aWNvbmZvbnRSZWd1bGFyaWNvbmZvbnRpY29uZm9udFZlcnNpb24gMS4waWNvbmZvbnRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBDAHIAZQBhAHQAZQBkACAAYgB5ACAAaQBjAG8AbgBmAG8AbgB0AGkAYwBvAG4AZgBvAG4AdABSAGUAZwB1AGwAYQByAGkAYwBvAG4AZgBvAG4AdABpAGMAbwBuAGYAbwBuAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwAGkAYwBvAG4AZgBvAG4AdABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQAHeGlhbmdqaQhsdXhpYW5nMgh4aWFuZ2ppMQdsdXhpYW5nCHNuYXBzaG90CXNoZW5neWluMQh4aWFvcGluZwdqaW5neWluCXF1YW5waW5nMQZib2ZhbmcHemFudGluZwAA"},function(e,t,i){(t=e.exports=i(73)).Stream=t,t.Readable=t,t.Writable=i(77),t.Duplex=i(26),t.Transform=i(78),t.PassThrough=i(142),t.finished=i(46),t.pipeline=i(143)},function(e,t){},function(e,t,i){"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(10).Buffer,a=i(139).inspect,s=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,i,r,n=o.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,i=n,r=s,o.prototype.copy.call(t,i,r),s+=a.data.length,a=a.next;return n}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,r=t.data;for(e-=r.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?r+=n:r+=n.slice(0,e),0==(e-=o)){o===n.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++i}return this.length-=i,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),i=this.head,r=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var n=i.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++r,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=n.slice(a));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t){},function(e,t,i){"use strict";(function(t){function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){return{value:e,done:t}}function o(e){var t=e[l];if(null!==t){var i=e[A].read();null!==i&&(e[f]=null,e[l]=null,e[c]=null,t(n(i,!1)))}}function a(e){t.nextTick(o,e)}var s,u=i(46),l=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),A=Symbol("stream"),g=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((r(s={get stream(){return this[A]},next:function(){var e=this,i=this[h];if(null!==i)return Promise.reject(i);if(this[d])return Promise.resolve(n(void 0,!0));if(this[A].destroyed)return new Promise(function(i,r){t.nextTick(function(){e[h]?r(e[h]):i(n(void 0,!0))})});var r,o=this[f];if(o)r=new Promise(function(e,t){return function(i,r){e.then(function(){t[d]?i(n(void 0,!0)):t[p](i,r)},r)}}(o,this));else{var a=this[A].read();if(null!==a)return Promise.resolve(n(a,!1));r=new Promise(this[p])}return this[f]=r,r}},Symbol.asyncIterator,function(){return this}),r(s,"return",function(){var e=this;return new Promise(function(t,i){e[A].destroy(null,function(e){e?i(e):t(n(void 0,!0))})})}),s),g);e.exports=function(e){var t,i=Object.create(m,(r(t={},A,{value:e,writable:!0}),r(t,l,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,h,{value:null,writable:!0}),r(t,d,{value:e._readableState.endEmitted,writable:!0}),r(t,p,{value:function(e,t){var r=i[A].read();r?(i[f]=null,i[l]=null,i[c]=null,e(n(r,!1))):(i[l]=e,i[c]=t)},writable:!0}),t));return i[f]=null,u(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[c];return null!==t&&(i[f]=null,i[l]=null,i[c]=null,t(e)),void(i[h]=e)}var r=i[l];null!==r&&(i[f]=null,i[l]=null,i[c]=null,r(n(void 0,!0))),i[d]=!0}),e.on("readable",a.bind(null,i)),i}}).call(this,i(9))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}e.exports=r;var n=i(78);i(5)(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){"use strict";function r(e){if(e)throw e}function n(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var o=!1;e.on("close",function(){o=!0}),void 0===u&&(u=i(46)),u(e,{readable:t,writable:r},function(e){if(e)return n(e);o=!0,n()});var a=!1;return function(t){if(!o&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new h("pipe"))}}function o(e){e()}function a(e,t){return e.pipe(t)}function s(e){return e.length?"function"!=typeof e[e.length-1]?r:e.pop():r}var u,l=i(25).codes,c=l.ERR_MISSING_ARGS,h=l.ERR_STREAM_DESTROYED;e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r,u=s(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new c("streams");var l=t.map(function(e,i){var a=i<t.length-1;return n(e,a,i>0,function(e){r||(r=e),e&&l.forEach(o),a||(l.forEach(o),u(r))})});return t.reduce(a)}},function(e,t,i){function r(){this.init(),this._w=c,s.call(this,64,56)}function n(e){return e<<30|e>>>2}function o(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}var a=i(5),s=i(27),u=i(6).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);a(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,a=0|this._b,s=0|this._c,u=0|this._d,c=0|this._e,h=0;h<16;++h)i[h]=e.readInt32BE(4*h);for(;h<80;++h)i[h]=i[h-3]^i[h-8]^i[h-14]^i[h-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((t=r)<<5|t>>>27)+o(f,a,s,u)+c+i[d]+l[f];c=u,u=s,s=n(a),a=r,r=p}this._a=r+this._a|0,this._b=a+this._b|0,this._c=s+this._c|0,this._d=u+this._d|0,this._e=c+this._e|0},r.prototype._hash=function(){var e=u.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=h,u.call(this,64,56)}function n(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function a(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}var s=i(5),u=i(27),l=i(6).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);s(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,u=0|this._c,l=0|this._d,h=0|this._e,d=0;d<16;++d)i[d]=e.readInt32BE(4*d);for(;d<80;++d)i[d]=(t=i[d-3]^i[d-8]^i[d-14]^i[d-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),A=n(r)+a(p,s,u,l)+h+i[f]+c[p]|0;h=l,l=u,u=o(s),s=r,r=A}this._a=r+this._a|0,this._b=s+this._b|0,this._c=u+this._c|0,this._d=l+this._d|0,this._e=h+this._e|0},r.prototype._hash=function(){var e=l.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=u,a.call(this,64,56)}var n=i(5),o=i(79),a=i(27),s=i(6).Buffer,u=new Array(64);n(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=u,a.call(this,128,112)}var n=i(5),o=i(80),a=i(27),s=i(6).Buffer,u=new Array(160);n(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=r},function(e,t,i){function r(){n.call(this)}e.exports=r;var n=i(8).EventEmitter;i(5)(r,n),r.Readable=i(49),r.Writable=i(155),r.Duplex=i(156),r.Transform=i(157),r.PassThrough=i(158),r.Stream=r,r.prototype.pipe=function(e,t){function i(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",i),e.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),e.on("error",s),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t){},function(e,t,i){"use strict";var r=i(50).Buffer,n=i(151);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,i,n=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=n,i=a,o.data.copy(t,i),a+=o.data.length,o=o.next;return n},e}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,i){(function(e){function r(e,t){this._id=e,this._clearFn=t}var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(153),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(13))},function(e,t,i){(function(e,t){!function(e,i){"use strict";function r(e){delete h[e]}function n(e){if(d)setTimeout(n,0,e);else{var t=h[e];if(t){d=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{r(e),d=!1}}}}if(!e.setImmediate){var o,a,s,u,l,c=1,h={},d=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick(function(){n(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(u="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(u)&&n(+t.data.slice(u.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),o=function(t){e.postMessage(u+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){n(e.data)},o=function(e){s.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,o=function(e){var t=f.createElement("script");t.onreadystatechange=function(){n(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):o=function(e){setTimeout(n,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return h[c]=r,o(c),c++},p.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(13),i(9))},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}e.exports=r;var n=i(84),o=Object.create(i(32));o.inherits=i(5),o.inherits(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){e.exports=i(51)},function(e,t,i){e.exports=i(23)},function(e,t,i){e.exports=i(49).Transform},function(e,t,i){e.exports=i(49).PassThrough},function(e,t,i){"use strict";function r(e,t){a.call(this,"digest"),"string"==typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=o.concat([t,s],64));for(var i=this._ipad=o.allocUnsafe(64),r=this._opad=o.allocUnsafe(64),n=0;n<64;n++)i[n]=54^t[n],r[n]=92^t[n];this._hash=[i]}var n=i(5),o=i(6).Buffer,a=i(20),s=o.alloc(128);n(r,a),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},e.exports=r},function(e,t,i){e.exports=i(87)},function(e,t,i){(function(t){function r(){return a||(a=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function n(e,t,i,r,n){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:n}},e,r<<3)}).then(function(e){return s.from(e)})}var o,a,s=i(6).Buffer,u=i(89),l=i(90),c=i(91),h=i(92),d=t.crypto&&t.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];e.exports=function(e,i,a,A,g,m){"function"==typeof g&&(m=g,g=void 0);var y=f[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof t.Promise){if(u(a,A),e=h(e,l,"Password"),i=h(i,l,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then(function(e){r()(function(){t(null,e)})},function(e){r()(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==p[e])return p[e];var i=n(o=o||s.alloc(8),o,10,128,e).then(function(){return!0}).catch(function(){return!1});return p[e]=i,i}(y).then(function(t){return t?n(e,i,a,A,y):c(e,i,a,A,g)}),m)}else r()(function(){var t;try{t=c(e,i,a,A,g)}catch(e){return m(e)}m(null,t)})}}).call(this,i(13))},function(e,t,i){function r(e,t,i){if(e=e.toLowerCase(),s[e])return a.createCipheriv(e,t,i);if(u[e])return new o({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function n(e,t,i){if(e=e.toLowerCase(),s[e])return a.createDecipheriv(e,t,i);if(u[e])return new o({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}var o=i(163),a=i(53),s=i(54),u=i(176),l=i(40);t.createCipher=t.Cipher=function(e,t){var i,n;if(e=e.toLowerCase(),s[e])i=s[e].key,n=s[e].iv;else{if(!u[e])throw new TypeError("invalid suite type");i=8*u[e].key,n=u[e].iv}var o=l(t,!1,i,n);return r(e,o.key,o.iv)},t.createCipheriv=t.Cipheriv=r,t.createDecipher=t.Decipher=function(e,t){var i,r;if(e=e.toLowerCase(),s[e])i=s[e].key,r=s[e].iv;else{if(!u[e])throw new TypeError("invalid suite type");i=8*u[e].key,r=u[e].iv}var o=l(t,!1,i,r);return n(e,o.key,o.iv)},t.createDecipheriv=t.Decipheriv=n,t.listCiphers=t.getCiphers=function(){return Object.keys(u).concat(a.getCiphers())}},function(e,t,i){function r(e){n.call(this);var t,i=e.mode.toLowerCase(),r=u[i];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==i&&"des-ede-cbc"!==i||(o=s.concat([o,o.slice(0,8)]));var a=e.iv;s.isBuffer(a)||(a=s.from(a)),this._des=r.create({key:o,iv:a,type:t})}var n=i(20),o=i(164),a=i(5),s=i(6).Buffer,u={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],e.exports=r,a(r,n),r.prototype._update=function(e){return s.from(this._des.update(e))},r.prototype._final=function(){return s.from(this._des.final())}},function(e,t,i){"use strict";t.utils=i(93),t.Cipher=i(52),t.DES=i(94),t.CBC=i(165),t.EDE=i(166)},function(e,t,i){"use strict";var r=i(14),n=i(5),o={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}n(t,e);for(var i=Object.keys(o),r=0;r<i.length;r++){var a=i[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new function(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},o._update=function(e,t,i,r){var n=this._cbcState,o=this.constructor.super_.prototype,a=n.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];for(o._update.call(this,a,0,i,r),s=0;s<this.blockSize;s++)a[s]=i[r+s]}else{for(o._update.call(this,e,t,i,r),s=0;s<this.blockSize;s++)i[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,i){"use strict";function r(e){a.call(this,e);var t=new function(e,t){n.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),r=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i})]}(this.type,this.options.key);this._edeState=t}var n=i(14),o=i(5),a=i(52),s=i(94);o(r,a),e.exports=r,r.create=function(e){return new r(e)},r.prototype._update=function(e,t,i,r){var n=this._edeState;n.ciphers[0]._update(e,t,i,r),n.ciphers[1]._update(i,r,i,r),n.ciphers[2]._update(i,r,i,r)},r.prototype._pad=s.prototype._pad,r.prototype._unpad=s.prototype._unpad},function(e,t,i){function r(e,t,i){c.call(this),this._cache=new n,this._cipher=new h.AES(t),this._prev=u.from(i),this._mode=e,this._autopadding=!0}function n(){this.cache=u.allocUnsafe(0)}function o(e,t,i){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=u.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof i&&(i=u.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===n.type?new l(n.module,t,i):"auth"===n.type?new s(n.module,t,i):new r(n.module,t,i)}var a=i(54),s=i(98),u=i(6).Buffer,l=i(99),c=i(20),h=i(39),d=i(40);i(5)(r,c),r.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get();)i=this._mode.encrypt(this,t),r.push(i);return u.concat(r)};var f=u.alloc(16,16);r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},n.prototype.add=function(e){this.cache=u.concat([this.cache,e])},n.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},n.prototype.flush=function(){for(var e=16-this.cache.length,t=u.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return u.concat([this.cache,t])},t.createCipheriv=o,t.createCipher=function(e,t){var i=a[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=d(t,!1,i.key,i.iv);return o(e,r.key,r.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,i){var r=i(33);t.encrypt=function(e,t){var i=r(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return r(n,i)}},function(e,t,i){function r(e,t,i){var r=t.length,a=o(t,e._cache);return e._cache=e._cache.slice(r),e._prev=n.concat([e._prev,i?t:a]),a}var n=i(6).Buffer,o=i(33);t.encrypt=function(e,t,i){for(var o,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,r(e,t,i)]);break}o=e._cache.length,a=n.concat([a,r(e,t.slice(0,o),i)]),t=t.slice(o)}return a}},function(e,t,i){function r(e,t,i){var r=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([i?t:r])]),r}var n=i(6).Buffer;t.encrypt=function(e,t,i){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],i);return a}},function(e,t,i){function r(e,t,i){for(var r,o,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(o=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=n(e._prev,i?r:o);return s}function n(e,t){var i=e.length,r=-1,n=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++r<i;)n[r]=e[r]<<1|e[r+1]>>7;return n}var o=i(6).Buffer;t.encrypt=function(e,t,i){for(var n=t.length,a=o.allocUnsafe(n),s=-1;++s<n;)a[s]=r(e,t[s],i);return a}},function(e,t,i){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var n=i(33);t.encrypt=function(t,i){for(;t._cache.length<i.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,i.length);return t._cache=t._cache.slice(i.length),n(i,o)}}).call(this,i(10).Buffer)},function(e,t,i){function r(e){var t=o.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function n(e){this.h=e,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}var o=i(6).Buffer,a=o.alloc(16,0);n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,i,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],o=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(o[0]^=n[0],o[1]^=n[1],o[2]^=n[2],o[3]^=n[3]),i=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,i&&(n[0]=n[0]^225<<24)}this.state=r(o)},n.prototype.update=function(e){var t;for(this.cache=o.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},n.prototype.final=function(e,t){return this.cache.length&&this.ghash(o.concat([this.cache,a],16)),this.ghash(r([0,e,0,t])),this.state},e.exports=n},function(e,t,i){function r(e,t,i){c.call(this),this._cache=new n,this._last=void 0,this._cipher=new h.AES(t),this._prev=s.from(i),this._mode=e,this._autopadding=!0}function n(){this.cache=s.allocUnsafe(0)}function o(e,t,i){var n=u[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=s.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof t&&(t=s.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===n.type?new l(n.module,t,i,!0):"auth"===n.type?new a(n.module,t,i,!0):new r(n.module,t,i)}var a=i(98),s=i(6).Buffer,u=i(54),l=i(99),c=i(20),h=i(39),d=i(40);i(5)(r,c),r.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),r.push(i);return s.concat(r)},r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var i=-1;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},n.prototype.add=function(e){this.cache=s.concat([this.cache,e])},n.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},n.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var i=u[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=d(t,!1,i.key,i.iv);return o(e,r.key,r.iv)},t.createDecipheriv=o},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,i){(function(e){var r=i(100),n=i(180),o=i(181),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var i=new e(n[t].prime,"hex"),r=new e(n[t].gen,"hex");return new o(i,r)},t.createDiffieHellman=t.DiffieHellman=function t(i,n,s,u){return e.isBuffer(n)||void 0===a[n]?t(i,"binary",n,s):(n=n||"binary",u=u||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),"number"==typeof i?new o(r(i,s),s,!0):(e.isBuffer(i)||(i=new e(i,n)),new o(i,s,!0)))}}).call(this,i(10).Buffer)},function(e,t){},function(e,t){},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,i){(function(t){function r(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._pub=new s(e),this}function n(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._priv=new s(e),this}function o(e,t,i){this.setGenerator(t),this.__prime=new s(e),this._prime=s.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=r,this.setPrivateKey=n):this._primeCode=8}function a(e,i){var r=new t(e.toArray());return i?r.toString(i):r}var s=i(11),u=new(i(101)),l=new s(24),c=new s(11),h=new s(10),d=new s(3),f=new s(7),p=i(100),A=i(24);e.exports=o;var g={};Object.defineProperty(o.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var i=t.toString("hex"),r=[i,e.toString(16)].join("_");if(r in g)return g[r];var n,o=0;if(e.isEven()||!p.simpleSieve||!p.fermatTest(e)||!u.test(e))return o+=1,o+="02"===i||"05"===i?8:4,g[r]=o,o;switch(u.test(e.shrn(1))||(o+=2),i){case"02":e.mod(l).cmp(c)&&(o+=8);break;case"05":(n=e.mod(h)).cmp(d)&&n.cmp(f)&&(o+=8);break;default:o+=4}return g[r]=o,o}(this.__prime,this.__gen)),this._primeCode}}),o.prototype.generateKeys=function(){return this._priv||(this._priv=new s(A(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},o.prototype.computeSecret=function(e){var i=(e=(e=new s(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new t(i.toArray()),n=this.getPrime();if(r.length<n.length){var o=new t(n.length-r.length);o.fill(0),r=t.concat([o,r])}return r},o.prototype.getPublicKey=function(e){return a(this._pub,e)},o.prototype.getPrivateKey=function(e){return a(this._priv,e)},o.prototype.getPrime=function(e){return a(this.__prime,e)},o.prototype.getGenerator=function(e){return a(this._gen,e)},o.prototype.setGenerator=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.__gen=e,this._gen=new s(e),this}}).call(this,i(10).Buffer)},function(e,t,i){function r(e){l.Writable.call(this);var t=f[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=u(t.hash),this._tag=t.id,this._signType=t.sign}function n(e){l.Writable.call(this);var t=f[e];if(!t)throw new Error("Unknown message digest");this._hash=u(t.hash),this._tag=t.id,this._signType=t.sign}function o(e){return new r(e)}function a(e){return new n(e)}var s=i(6).Buffer,u=i(31),l=i(183),c=i(5),h=i(191),d=i(222),f=i(87);Object.keys(f).forEach(function(e){f[e].id=s.from(f[e].id,"hex"),f[e.toLowerCase()]=f[e]}),c(r,l.Writable),r.prototype._write=function(e,t,i){this._hash.update(e),i()},r.prototype.update=function(e,t){return"string"==typeof e&&(e=s.from(e,t)),this._hash.update(e),this},r.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=h(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},c(n,l.Writable),n.prototype._write=function(e,t,i){this._hash.update(e),i()},n.prototype.update=function(e,t){return"string"==typeof e&&(e=s.from(e,t)),this._hash.update(e),this},n.prototype.verify=function(e,t,i){"string"==typeof t&&(t=s.from(t,i)),this.end();var r=this._hash.digest();return d(t,r,e,this._signType,this._tag)},e.exports={Sign:o,Verify:a,createSign:o,createVerify:a}},function(e,t,i){(t=e.exports=i(102)).Stream=t,t.Readable=t,t.Writable=i(106),t.Duplex=i(29),t.Transform=i(107),t.PassThrough=i(189),t.finished=i(57),t.pipeline=i(190)},function(e,t){},function(e,t,i){"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(10).Buffer,a=i(186).inspect,s=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,i,r,n=o.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,i=n,r=s,o.prototype.copy.call(t,i,r),s+=a.data.length,a=a.next;return n}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,r=t.data;for(e-=r.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?r+=n:r+=n.slice(0,e),0==(e-=o)){o===n.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++i}return this.length-=i,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),i=this.head,r=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var n=i.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++r,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=n.slice(a));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t){},function(e,t,i){"use strict";(function(t){function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){return{value:e,done:t}}function o(e){var t=e[l];if(null!==t){var i=e[A].read();null!==i&&(e[f]=null,e[l]=null,e[c]=null,t(n(i,!1)))}}function a(e){t.nextTick(o,e)}var s,u=i(57),l=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),A=Symbol("stream"),g=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((r(s={get stream(){return this[A]},next:function(){var e=this,i=this[h];if(null!==i)return Promise.reject(i);if(this[d])return Promise.resolve(n(void 0,!0));if(this[A].destroyed)return new Promise(function(i,r){t.nextTick(function(){e[h]?r(e[h]):i(n(void 0,!0))})});var r,o=this[f];if(o)r=new Promise(function(e,t){return function(i,r){e.then(function(){t[d]?i(n(void 0,!0)):t[p](i,r)},r)}}(o,this));else{var a=this[A].read();if(null!==a)return Promise.resolve(n(a,!1));r=new Promise(this[p])}return this[f]=r,r}},Symbol.asyncIterator,function(){return this}),r(s,"return",function(){var e=this;return new Promise(function(t,i){e[A].destroy(null,function(e){e?i(e):t(n(void 0,!0))})})}),s),g);e.exports=function(e){var t,i=Object.create(m,(r(t={},A,{value:e,writable:!0}),r(t,l,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,h,{value:null,writable:!0}),r(t,d,{value:e._readableState.endEmitted,writable:!0}),r(t,p,{value:function(e,t){var r=i[A].read();r?(i[f]=null,i[l]=null,i[c]=null,e(n(r,!1))):(i[l]=e,i[c]=t)},writable:!0}),t));return i[f]=null,u(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[c];return null!==t&&(i[f]=null,i[l]=null,i[c]=null,t(e)),void(i[h]=e)}var r=i[l];null!==r&&(i[f]=null,i[l]=null,i[c]=null,r(n(void 0,!0))),i[d]=!0}),e.on("readable",a.bind(null,i)),i}}).call(this,i(9))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}e.exports=r;var n=i(107);i(5)(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){"use strict";function r(e){if(e)throw e}function n(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var o=!1;e.on("close",function(){o=!0}),void 0===u&&(u=i(57)),u(e,{readable:t,writable:r},function(e){if(e)return n(e);o=!0,n()});var a=!1;return function(t){if(!o&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new h("pipe"))}}function o(e){e()}function a(e,t){return e.pipe(t)}function s(e){return e.length?"function"!=typeof e[e.length-1]?r:e.pop():r}var u,l=i(28).codes,c=l.ERR_MISSING_ARGS,h=l.ERR_STREAM_DESTROYED;e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r,u=s(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new c("streams");var l=t.map(function(e,i){var a=i<t.length-1;return n(e,a,i>0,function(e){r||(r=e),e&&l.forEach(o),a||(l.forEach(o),u(r))})});return t.reduce(a)}},function(e,t,i){function r(e,t,i,r){if((e=s.from(e.toArray())).length<t.byteLength()){var o=s.alloc(t.byteLength()-e.length);e=s.concat([o,e])}var a=i.length,l=function(e,t){e=(e=n(e,t)).mod(t);var i=s.from(e.toArray());if(i.length<t.byteLength()){var r=s.alloc(t.byteLength()-i.length);i=s.concat([r,i])}return i}(i,t),c=s.alloc(a);c.fill(1);var h=s.alloc(a);return h=u(r,h).update(c).update(s.from([0])).update(e).update(l).digest(),c=u(r,h).update(c).digest(),{k:h=u(r,h).update(c).update(s.from([1])).update(e).update(l).digest(),v:c=u(r,h).update(c).digest()}}function n(e,t){var i=new h(e),r=(e.length<<3)-t.bitLength();return r>0&&i.ishrn(r),i}function o(e,t,i){var r,o;do{for(r=s.alloc(0);8*r.length<e.bitLength();)t.v=u(i,t.k).update(t.v).digest(),r=s.concat([r,t.v]);o=n(r,e),t.k=u(i,t.k).update(t.v).update(s.from([0])).digest(),t.v=u(i,t.k).update(t.v).digest()}while(-1!==o.cmp(e));return o}function a(e,t,i,r){return e.toRed(h.mont(i)).redPow(t).fromRed().mod(r)}var s=i(6).Buffer,u=i(85),l=i(58),c=i(59).ec,h=i(113),d=i(42),f=i(119);e.exports=function(e,t,i,u,p){var A=d(t);if(A.curve){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong private key type");return function(e,t){var i=f[t.curve.join(".")];if(!i)throw new Error("unknown curve "+t.curve.join("."));var r=new c(i).keyFromPrivate(t.privateKey).sign(e);return s.from(r.toDER())}(e,A)}if("dsa"===A.type){if("dsa"!==u)throw new Error("wrong private key type");return function(e,t,i){for(var u,l=t.params.priv_key,c=t.params.p,d=t.params.q,f=t.params.g,p=new h(0),A=n(e,d).mod(d),g=!1,m=r(l,d,e,i);!1===g;)p=a(f,u=o(d,m,i),c,d),0===(g=u.invm(d).imul(A.add(l.mul(p))).mod(d)).cmpn(0)&&(g=!1,p=new h(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var i=[48,e.length+t.length+4,2,e.length];return i=i.concat(e,[2,t.length],t),s.from(i)}(p,g)}(e,A,i)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong private key type");e=s.concat([p,e]);for(var g=A.modulus.byteLength(),m=[0,1];e.length+m.length+1<g;)m.push(255);m.push(0);for(var y=-1;++y<e.length;)m.push(e[y]);return l(m,A)},e.exports.getKey=r,e.exports.makeKey=o},function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}function a(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+e)}function s(e,t,i){var r=a(e,i);return i-1>=t&&(r|=a(e,i-1)<<4),r}function u(e,t,i,n){for(var o=0,a=0,s=Math.min(e.length,i),u=t;u<s;u++){var l=e.charCodeAt(u)-48;o*=n,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<n,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function h(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,u=a/67108864|0;i.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;c+=(a=(n=0|e.words[p])*(o=0|t.words[f])+h)/67108864|0,h=67108863&a}i.words[l]=0|h,u=0|c}return 0!==u?i.words[l]=0|u:i.length--,i._strip()}function d(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),d=67108863&h;s=67108863&(d=d+s|0),n+=(a=(a=a+(h/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i._strip()}function f(e,t,i){return d(e,t,i)}function p(e,t){this.x=e,this.y=t}function A(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function w(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var b;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{b="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(193).Buffer}catch(e){}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,i):(this._parseBase(e,t,n),"le"===i&&this._initArray(this.toArray(),t,i)))},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,a=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)n=s(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)n=s(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,s=Math.min(o,o-a)+i,l=0,c=i;c<s;c+=r)l=u(e,c,c+r,t),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var h=1;for(l=u(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(e){o.prototype.inspect=c}else o.prototype.inspect=c;var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<n|o)).toString(16);o=s>>>24-n&16777215,(n+=2)>=26&&(n-=26,a--),i=0!==o||a!==this.length-1?C[6-u.length]+u+i:u+i}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=I[e],c=S[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var d=h.modrn(c).toString(e);i=(h=h.idivn(c)).isZero()?d+i:C[l-d.length]+d+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},b&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(b,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){this._strip();var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,n),a},o.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,n=0,o=0;n<this.length;n++){var a=this.words[n]<<o|r;e[i++]=255&a,i<e.length&&(e[i++]=a>>8&255),i<e.length&&(e[i++]=a>>16&255),6===o?(i<e.length&&(e[i++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(i<e.length)for(e[i++]=r;i<e.length;)e[i++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,n=0,o=0;n<this.length;n++){var a=this.words[n]<<o|r;e[i--]=255&a,i>=0&&(e[i--]=a>>8&255),i>=0&&(e[i--]=a>>16&255),6===o?(i>=0&&(e[i--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(i>=0)for(e[i--]=r;i>=0;)e[i--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},o.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=e):(i=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|i.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<i.length;a++)o=(t=(0|i.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var M=function(e,t,i){var r,n,o,a=e.words,s=t.words,u=i.words,l=0,c=0|a[0],h=8191&c,d=c>>>13,f=0|a[1],p=8191&f,A=f>>>13,g=0|a[2],m=8191&g,y=g>>>13,v=0|a[3],E=8191&v,w=v>>>13,b=0|a[4],C=8191&b,I=b>>>13,S=0|a[5],M=8191&S,k=S>>>13,T=0|a[6],D=8191&T,B=T>>>13,R=0|a[7],Q=8191&R,O=R>>>13,L=0|a[8],x=8191&L,q=L>>>13,K=0|a[9],U=8191&K,F=K>>>13,j=0|s[0],N=8191&j,J=j>>>13,G=0|s[1],Y=8191&G,P=G>>>13,z=0|s[2],Z=8191&z,W=z>>>13,V=0|s[3],H=8191&V,X=V>>>13,_=0|s[4],$=8191&_,ee=_>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,de=ce>>>13,fe=0|s[9],pe=8191&fe,Ae=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(l+(r=Math.imul(h,N))|0)+((8191&(n=(n=Math.imul(h,J))+Math.imul(d,N)|0))<<13)|0;l=((o=Math.imul(d,J))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,N),n=(n=Math.imul(p,J))+Math.imul(A,N)|0,o=Math.imul(A,J);var me=(l+(r=r+Math.imul(h,Y)|0)|0)+((8191&(n=(n=n+Math.imul(h,P)|0)+Math.imul(d,Y)|0))<<13)|0;l=((o=o+Math.imul(d,P)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,N),n=(n=Math.imul(m,J))+Math.imul(y,N)|0,o=Math.imul(y,J),r=r+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,P)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,P)|0;var ye=(l+(r=r+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,W)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,W)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(E,N),n=(n=Math.imul(E,J))+Math.imul(w,N)|0,o=Math.imul(w,J),r=r+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,P)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,P)|0,r=r+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,W)|0;var ve=(l+(r=r+Math.imul(h,H)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,H)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(C,N),n=(n=Math.imul(C,J))+Math.imul(I,N)|0,o=Math.imul(I,J),r=r+Math.imul(E,Y)|0,n=(n=n+Math.imul(E,P)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,P)|0,r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,H)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,X)|0;var Ee=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,$)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,N),n=(n=Math.imul(M,J))+Math.imul(k,N)|0,o=Math.imul(k,J),r=r+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,P)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,P)|0,r=r+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0;var we=(l+(r=r+Math.imul(h,ie)|0)|0)+((8191&(n=(n=n+Math.imul(h,re)|0)+Math.imul(d,ie)|0))<<13)|0;l=((o=o+Math.imul(d,re)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,N),n=(n=Math.imul(D,J))+Math.imul(B,N)|0,o=Math.imul(B,J),r=r+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,P)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,P)|0,r=r+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(E,H)|0,n=(n=n+Math.imul(E,X)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(m,$)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ie)|0,n=(n=n+Math.imul(p,re)|0)+Math.imul(A,ie)|0,o=o+Math.imul(A,re)|0;var be=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(Q,N),n=(n=Math.imul(Q,J))+Math.imul(O,N)|0,o=Math.imul(O,J),r=r+Math.imul(D,Y)|0,n=(n=n+Math.imul(D,P)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,P)|0,r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(C,H)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(E,$)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ie)|0,n=(n=n+Math.imul(m,re)|0)+Math.imul(y,ie)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0;var Ce=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ue)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(x,N),n=(n=Math.imul(x,J))+Math.imul(q,N)|0,o=Math.imul(q,J),r=r+Math.imul(Q,Y)|0,n=(n=n+Math.imul(Q,P)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,P)|0,r=r+Math.imul(D,Z)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(C,$)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(E,ie)|0,n=(n=n+Math.imul(E,re)|0)+Math.imul(w,ie)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0;var Ie=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,N),n=(n=Math.imul(U,J))+Math.imul(F,N)|0,o=Math.imul(F,J),r=r+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,P)|0)+Math.imul(q,Y)|0,o=o+Math.imul(q,P)|0,r=r+Math.imul(Q,Z)|0,n=(n=n+Math.imul(Q,W)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(D,H)|0,n=(n=n+Math.imul(D,X)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,X)|0,r=r+Math.imul(M,$)|0,n=(n=n+Math.imul(M,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,re)|0)+Math.imul(I,ie)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,de)|0;var Se=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,Ae)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(U,Y),n=(n=Math.imul(U,P))+Math.imul(F,Y)|0,o=Math.imul(F,P),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,W)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,W)|0,r=r+Math.imul(Q,H)|0,n=(n=n+Math.imul(Q,X)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,X)|0,r=r+Math.imul(D,$)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(M,ie)|0,n=(n=n+Math.imul(M,re)|0)+Math.imul(k,ie)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(C,oe)|0,n=(n=n+Math.imul(C,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(E,ue)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var Me=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,Z),n=(n=Math.imul(U,W))+Math.imul(F,Z)|0,o=Math.imul(F,W),r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(q,H)|0,o=o+Math.imul(q,X)|0,r=r+Math.imul(Q,$)|0,n=(n=n+Math.imul(Q,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(D,ie)|0,n=(n=n+Math.imul(D,re)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(M,oe)|0,n=(n=n+Math.imul(M,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(E,he)|0,n=(n=n+Math.imul(E,de)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,de)|0;var ke=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,H),n=(n=Math.imul(U,X))+Math.imul(F,H)|0,o=Math.imul(F,X),r=r+Math.imul(x,$)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(q,$)|0,o=o+Math.imul(q,ee)|0,r=r+Math.imul(Q,ie)|0,n=(n=n+Math.imul(Q,re)|0)+Math.imul(O,ie)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(M,ue)|0,n=(n=n+Math.imul(M,le)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,le)|0,r=r+Math.imul(C,he)|0,n=(n=n+Math.imul(C,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Te=(l+(r=r+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,Ae)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,$),n=(n=Math.imul(U,ee))+Math.imul(F,$)|0,o=Math.imul(F,ee),r=r+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,re)|0)+Math.imul(q,ie)|0,o=o+Math.imul(q,re)|0,r=r+Math.imul(Q,oe)|0,n=(n=n+Math.imul(Q,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(D,ue)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,r=r+Math.imul(M,he)|0,n=(n=n+Math.imul(M,de)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,de)|0;var De=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(n=(n=n+Math.imul(C,Ae)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(U,ie),n=(n=Math.imul(U,re))+Math.imul(F,ie)|0,o=Math.imul(F,re),r=r+Math.imul(x,oe)|0,n=(n=n+Math.imul(x,ae)|0)+Math.imul(q,oe)|0,o=o+Math.imul(q,ae)|0,r=r+Math.imul(Q,ue)|0,n=(n=n+Math.imul(Q,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(D,he)|0,n=(n=n+Math.imul(D,de)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,de)|0;var Be=(l+(r=r+Math.imul(M,pe)|0)|0)+((8191&(n=(n=n+Math.imul(M,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;l=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(U,oe),n=(n=Math.imul(U,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(q,ue)|0,o=o+Math.imul(q,le)|0,r=r+Math.imul(Q,he)|0,n=(n=n+Math.imul(Q,de)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,de)|0;var Re=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,Ae)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(F,ue)|0,o=Math.imul(F,le),r=r+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(q,he)|0,o=o+Math.imul(q,de)|0;var Qe=(l+(r=r+Math.imul(Q,pe)|0)|0)+((8191&(n=(n=n+Math.imul(Q,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,r=Math.imul(U,he),n=(n=Math.imul(U,de))+Math.imul(F,he)|0,o=Math.imul(F,de);var Oe=(l+(r=r+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,Ae)|0)+Math.imul(q,pe)|0))<<13)|0;l=((o=o+Math.imul(q,Ae)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Le=(l+(r=Math.imul(U,pe))|0)+((8191&(n=(n=Math.imul(U,Ae))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,Ae))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=ve,u[4]=Ee,u[5]=we,u[6]=be,u[7]=Ce,u[8]=Ie,u[9]=Se,u[10]=Me,u[11]=ke,u[12]=Te,u[13]=De,u[14]=Be,u[15]=Re,u[16]=Qe,u[17]=Oe,u[18]=Le,0!==l&&(u[19]=l,i.length++),i};Math.imul||(M=h),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?M(this,e,t):i<63?h(this,e,t):i<1024?d(this,e,t):f(this,e,t)},p.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},p.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},p.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},p.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<n;c+=s)for(var h=u,d=l,f=0;f<a;f++){var p=i[c+f],A=r[c+f],g=i[c+f+a],m=r[c+f+a],y=h*g-d*m;m=h*m+d*g,g=y,i[c+f]=p+g,r[c+f]=A+m,i[c+f+a]=p-g,r[c+f+a]=A-m,f!==s&&(y=u*h-l*d,d=u*d+l*h,h=y)}},p.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},p.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},p.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},p.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},p.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=i.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,n),this.transform(l,o,c,h,r,n);for(var f=0;f<r;f++){var p=s[f]*c[f]-u[f]*h[f];u[f]=s[f]*h[f]+u[f]*c[f],s[f]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,n),this.conjugate(d,o,r),this.normalize13b(d,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),f(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var i=0,n=0;n<this.length;n++){var o=(0|this.words[n])*e,a=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=a>>>26,this.words[n]=67108863&a}return 0!==i&&(this.words[n]=i,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=e.words[r]>>>n&1}return t}(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var n;r("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(n-=a,n=Math.max(0,n),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=n);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i||!(this.words[i]&n))},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o,a=e.length+i;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+i])+s;var u=(0|e.words[n])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)s=(o=(0|this.words[n+i])+s)>>26,this.words[n+i]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),n=e,a=0|n.words[n.length-1];0!=(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,u=r.length-n.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(n,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[n.length+h])+(0|r.words[n.length+h-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(n,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(n,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=d)}return s&&s._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,n=0,o=this.length-1;o>=0;o--)n=(i*n+(0|this.words[o]))%e;return t?-n:n},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*i;this.words[n]=o/e|0,i=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++l;for(var c=i.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(c),a.isub(h)),n.iushrn(1),a.iushrn(1);for(var p=0,A=1;0==(i.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(u)):(i.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:i.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,a=new o(1),s=new o(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,d=1;0==(i.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(n=0===t.cmpn(1)?a:s).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var k={k256:null,p224:null,p192:null,p25519:null};A.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},A.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},A.prototype.split=function(e,t){e.iushrn(this.n,0,t)},A.prototype.imulK=function(e){return e.imul(this.k)},n(g,A),g.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(m,A),n(y,A),n(v,A),v.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(k[e])return k[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new m;else if("p192"===e)t=new y;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return k[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},E.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var A=f,g=0;0!==A.cmp(s);g++)A=A.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;n!==i[0]&&(n=this.sqr(n)),0!==h||0!==a?(a<<=1,a|=h,(4==++s||0===r&&0===c)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}u=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new w(e)},n(w,E),w.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},w.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},w.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},w.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},w.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i(55)(e))},function(e,t){},function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},function(e,t,i){"use strict";function r(e){l.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function n(e,t,i,r){l.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,t,i,r){l.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(i,16),this.z=new s(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var a=i(15),s=i(11),u=i(5),l=i(41),c=a.assert;u(r,l),e.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new s(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?i=n[0]:(i=n[1],c(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map(function(e){return{a:new s(e.a,16),b:new s(e.b,16)}}):this._getEndoBasis(i)}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),i=new s(2).toRed(t).redInvm(),r=i.redNeg(),n=new s(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(n).fromRed(),r.redSub(n).fromRed()]},r.prototype._getEndoBasis=function(e){for(var t,i,r,n,o,a,u,l,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new s(1),A=new s(0),g=new s(0),m=new s(1),y=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),c=g.sub(v.mul(p));var E=m.sub(v.mul(A));if(!r&&l.cmp(h)<0)t=u.neg(),i=p,r=l.neg(),n=c;else if(r&&2==++y)break;u=l,f=d,d=l,g=p,p=c,m=A,A=E}o=l.neg(),a=c;var w=r.sqr().add(n.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=i),r.negative&&(r=r.neg(),n=n.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:n},{a:o,b:a}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],n=r.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=n.mul(i.a),s=o.mul(r.a),u=n.mul(i.b),l=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:u.add(l).neg()}},r.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(n).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,n[2*o]=a.k1,n[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,n,2*o,i),c=0;c<2*o;c++)r[c]=null,n[c]=null;return l},u(n,l.BasePoint),r.prototype.point=function(e,t,i){return new n(this,e,t,i)},r.prototype.pointFromJSON=function(e,t){return n.fromJSON(this,e,t)},n.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(e,t,i){function r(t){return e.point(t[0],t[1],i)}"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(r))}},n},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},n.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(e){return e=new s(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)},n.prototype.jmulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)},n.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},n.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},n.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(o,l.BasePoint),r.prototype.jpoint=function(e,t,i){return new o(this,e,t,i)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),n=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),s=r.redSub(n),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),h=r.redMul(l),d=u.redSqr().redIAdd(c).redISub(h).redISub(h),f=u.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,f,p)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(r),s=n.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=i.redMul(u),h=s.redSqr().redIAdd(l).redISub(c).redISub(c),d=s.redMul(c.redISub(h)).redISub(n.redMul(l)),f=this.z.redMul(a);return this.curve.jpoint(h,d,f)},o.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var r=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var c=o.redSqr(),h=l.redSqr(),d=h.redSqr(),f=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(u)),p=o.redMul(h),A=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(A),m=f.redMul(g);m=m.redIAdd(m).redISub(d);var y=l.redMul(s);t+1<e&&(u=u.redMul(d)),o=A,s=y,l=m}return this.curve.jpoint(o,l.redMul(n),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(a.redISub(u)).redISub(l),i=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(c).redISub(d);f=f.redIAdd(f);var p=c.redAdd(c).redIAdd(c),A=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=A.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},o.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(u)).redISub(l),i=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(c).redMul(this.x.redAdd(c));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),A=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(A),i=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},o.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,n=r.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(c),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=s.redMul(h).redISub(d),p=i.redAdd(i).redMul(r);return this.curve.jpoint(c,f,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=n.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(s).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(a).redSqr().redISub(i).redISub(s);return this.curve.jpoint(h,d,f)},o.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),n=i.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),0===this.x.cmp(i))return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,i){"use strict";function r(e){s.call(this,"mont",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(e,t,i){s.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(t,16),this.z=new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=i(11),a=i(5),s=i(41),u=i(15);a(r,s),e.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},a(n,s.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(u.toArray(e,t),1)},r.prototype.point=function(e,t){return new n(this,e,t)},r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(e,t){return new n(e,t[0],t[1]||e.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},n.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),n=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,n)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(i),a=n.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},n.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var o=n.length-1;o>=0;o--)0===n[o]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,i){"use strict";function r(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,u.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function n(e,t,i,r,n){u.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(i,16),this.z=r?new a(r,16):this.curve.one,this.t=n&&new a(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=i(15),a=i(11),s=i(5),u=i(41),l=o.assert;s(r,u),e.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},r.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),n=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=r.redMul(n.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},r.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.c2),n=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(n.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(n)},s(n,u.BasePoint),r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},r.prototype.point=function(e,t,i,r){return new n(this,e,t,i,r)},n.fromJSON=function(e,t){return new n(e,t[0],t[1],t[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},n.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(i),s=r.redSub(t),u=n.redMul(a),l=o.redMul(s),c=n.redMul(s),h=a.redMul(o);return this.curve.point(u,l,h,c)},n.prototype._projDbl=function(){var e,t,i,r,n,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(l.redSub(this.curve.two)),t=l.redMul(r.redSub(u)),i=l.redSqr().redSub(l).redSub(l)):(n=this.z.redSqr(),o=l.redSub(n).redISub(n),e=a.redSub(s).redISub(u).redMul(o),t=l.redMul(r.redSub(u)),i=l.redMul(o))}else r=s.redAdd(u),n=this.curve._mulC(this.z).redSqr(),o=r.redSub(n).redSub(n),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(s.redISub(u)),i=r.redMul(o);return this.curve.point(e,t,i)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),a=n.redSub(r),s=n.redAdd(r),u=i.redAdd(t),l=o.redMul(a),c=s.redMul(u),h=o.redMul(u),d=a.redMul(s);return this.curve.point(l,c,d,h)},n.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),n=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=n.redSub(s),l=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),h=r.redMul(u).redMul(c);return this.curve.twisted?(t=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),i=u.redMul(l)):(t=r.redMul(l).redMul(a.redSub(o)),i=this.curve._mulC(u).redMul(l)),this.curve.point(h,t,i)},n.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},n.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},n.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},n.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},n.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},function(e,t,i){"use strict";t.sha1=i(199),t.sha224=i(200),t.sha256=i(111),t.sha384=i(201),t.sha512=i(112)},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var n=i(18),o=i(34),a=i(110),s=n.rotl32,u=n.sum32,l=n.sum32_5,c=a.ft_1,h=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];n.inherits(r,h),e.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=s(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var n=this.h[0],o=this.h[1],a=this.h[2],h=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),A=l(s(n,5),c(p,o,a,h),f,i[r],d[p]);f=h,h=a,a=s(o,30),o=n,n=A}this.h[0]=u(this.h[0],n),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],h),this.h[4]=u(this.h[4],f)},r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var n=i(18),o=i(111);n.inherits(r,o),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var n=i(18),o=i(112);n.inherits(r,o),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function n(e,t,i,r){return e<=15?t^i^r:e<=31?t&i|~t&r:e<=47?(t|~i)^r:e<=63?t&r|i&~r:t^(i|~r)}function o(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function a(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var s=i(18),u=i(34),l=s.rotl32,c=s.sum32,h=s.sum32_3,d=s.sum32_4,f=u.BlockHash;s.inherits(r,f),t.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.h[0],r=this.h[1],s=this.h[2],u=this.h[3],f=this.h[4],y=i,v=r,E=s,w=u,b=f,C=0;C<80;C++){var I=c(l(d(i,n(C,r,s,u),e[p[C]+t],o(C)),g[C]),f);i=f,f=u,u=l(s,10),s=r,r=I,I=c(l(d(y,n(79-C,v,E,w),e[A[C]+t],a(C)),m[C]),b),y=b,b=w,w=l(E,10),E=v,v=I}I=h(this.h[1],s,w),this.h[1]=h(this.h[2],u,b),this.h[2]=h(this.h[3],f,y),this.h[3]=h(this.h[4],i,v),this.h[4]=h(this.h[0],r,E),this.h[0]=I},r.prototype._digest=function(e){return"hex"===e?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,i){"use strict";function r(e,t,i){if(!(this instanceof r))return new r(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,i))}var n=i(18),o=i(14);e.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);"string"==typeof e&&(l(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var n=i(11),o=i(206),a=i(15),s=i(60),u=i(56),l=a.assert,c=i(207),h=i(208);e.exports=r,r.prototype.keyPair=function(e){return new c(this,e)},r.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},r.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new o({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||u(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),r=this.n.sub(new n(2));;){var a=new n(t.generate(i));if(!(a.cmp(r)>0))return a.iaddn(1),this.keyFromPrivate(a)}},r.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,i,r){"object"==typeof i&&(r=i,i=null),r||(r={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),l=new o({hash:this.hash,entropy:s,nonce:u,pers:r.pers,persEnc:r.persEnc||"utf8"}),c=this.n.sub(new n(1)),d=0;;d++){var f=r.k?r.k(d):new n(l.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var A=p.getX(),g=A.umod(this.n);if(0!==g.cmpn(0)){var m=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==A.cmp(g)?2:0);return r.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new h({r:g,s:m,recoveryParam:y})}}}}}},r.prototype.verify=function(e,t,i,r){e=this._truncateToN(new n(e,16)),i=this.keyFromPublic(i,r);var o=(t=new h(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),l=u.mul(e).umod(this.n),c=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,i.getPublic(),c)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,i.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},r.prototype.recoverPubKey=function(e,t,i,r){l((3&i)===i,"The recovery param is more than two bits"),t=new h(t,r);var o=this.n,a=new n(e),s=t.r,u=t.s,c=1&i,d=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var f=t.r.invm(o),p=o.sub(a).mul(f).umod(o),A=u.mul(f).umod(o);return this.g.mulAdd(p,s,A)},r.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new h(t,r)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch(e){continue}if(o.eq(i))return n}throw new Error("Unable to find valid recovery factor")}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),i=o.toArray(e.nonce,e.nonceEnc||"hex"),n=o.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,n)}var n=i(61),o=i(108),a=i(14);e.exports=r,r.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,i,r){"string"!=typeof t&&(r=i,i=t,t=null),e=o.toArray(e,t),i=o.toArray(i,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},r.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=i,i=t,t=null),i&&(i=o.toArray(i,r||"hex"),this._update(i));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(i),this._reseed++,o.encode(a,t)}},function(e,t,i){"use strict";function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var n=i(11),o=i(15).assert;e.exports=r,r.fromPublic=function(e,t,i){return t instanceof r?t:new r(e,{pub:t,pubEnc:i})},r.fromPrivate=function(e,t,i){return t instanceof r?t:new r(e,{priv:t,privEnc:i})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?o(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||o(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r.prototype.derive=function(e){return e.validate()||o(e.validate(),"public point not validated"),e.mul(this.priv).getX()},r.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,i){"use strict";function r(e,t){if(e instanceof r)return e;this._importDER(e,t)||(l(e.r&&e.s,"Signature without r or s"),this.r=new s(e.r,16),this.s=new s(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function n(e,t){var i=e[t.place++];if(!(128&i))return i;var r=15&i;if(0===r||r>4)return!1;for(var n=0,o=0,a=t.place;o<r;o++,a++)n<<=8,n|=e[a],n>>>=0;return!(n<=127)&&(t.place=a,n)}function o(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function a(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}}var s=i(11),u=i(15),l=u.assert;e.exports=r,r.prototype._importDER=function(e,t){e=u.toArray(e,t);var i=new function(){this.place=0};if(48!==e[i.place++])return!1;var r=n(e,i);if(!1===r)return!1;if(r+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var o=n(e,i);if(!1===o)return!1;var a=e.slice(i.place,o+i.place);if(i.place+=o,2!==e[i.place++])return!1;var l=n(e,i);if(!1===l)return!1;if(e.length!==l+i.place)return!1;var c=e.slice(i.place,l+i.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new s(a),this.s=new s(c),this.recoveryParam=null,!0},r.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=o(t),i=o(i);!(i[0]||128&i[1]);)i=i.slice(1);var r=[2];a(r,t.length),(r=r.concat(t)).push(2),a(r,i.length);var n=r.concat(i),s=[48];return a(s,n.length),s=s.concat(n),u.encode(s,e)}},function(e,t,i){"use strict";function r(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof r))return new r(e);e=o[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}var n=i(61),o=i(60),a=i(15),s=a.assert,u=a.parseBytes,l=i(210),c=i(211);e.exports=r,r.prototype.sign=function(e,t){e=u(e);var i=this.keyFromSecret(t),r=this.hashInt(i.messagePrefix(),e),n=this.g.mul(r),o=this.encodePoint(n),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:s,Rencoded:o})},r.prototype.verify=function(e,t,i){e=u(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),n=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(n)).eq(o)},r.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},r.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},r.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},r.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},r.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),n=a.intFromLE(i);return this.curve.pointFromY(n,r)},r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(e){return a.intFromLE(e)},r.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,i){"use strict";function r(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}var n=i(15),o=n.assert,a=n.parseBytes,s=n.cachedProperty;r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret},s(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(r,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),s(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(e){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return o(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},r.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=r},function(e,t,i){"use strict";function r(e,t){this.eddsa=e,"object"!=typeof t&&(t=u(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var n=i(11),o=i(15),a=o.assert,s=o.cachedProperty,u=o.parseBytes;s(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=r},function(e,t){},function(e,t,i){"use strict";var r=i(114);t.certificate=i(219);var n=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=n;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=u;var l=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=l;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=r.define("DSAparam",function(){this.int()});var h=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=h;var d=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,i){"use strict";function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var n=i(115),o=i(117),a=i(5);t.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){function t(e){this._initNamed(e,i)}var i=this.name;return a(t,e),t.prototype._initNamed=function(t,i){e.call(this,t,i)},new t(this)},r.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(o[e])),this.decoders[e]},r.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},r.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},r.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},function(e,t,i){"use strict";function r(e){o.call(this,e),this.enc="pem"}var n=i(5),o=i(116);n(r,o),e.exports=r,r.prototype.encode=function(e,t){for(var i=o.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],n=0;n<i.length;n+=64)r.push(i.slice(n,n+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,i){"use strict";function r(e){a.call(this,e),this.enc="pem"}var n=i(5),o=i(62).Buffer,a=i(118);n(r,a),e.exports=r,r.prototype.decode=function(e,t){for(var i=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),n=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,l=0;l<i.length;l++){var c=i[l].match(n);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;u=l;break}if("BEGIN"!==c[1])break;s=l}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var h=i.slice(s+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");var d=o.from(h,"base64");return a.prototype.decode.call(this,d,t)}},function(e,t,i){"use strict";var r=t;r.Reporter=i(64).Reporter,r.DecoderBuffer=i(35).DecoderBuffer,r.EncoderBuffer=i(35).EncoderBuffer,r.Node=i(63)},function(e,t,i){"use strict";var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(i){(0|i)==i&&(i|=0);var r=e[i];t[r]=i}),t},r.der=i(65)},function(e,t,i){"use strict";var r=i(114),n=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=r.define("RelativeDistinguishedName",function(){this.setof(o)}),l=r.define("RDNSequence",function(){this.seqof(u)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),h=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,i){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=i(40),s=i(53),u=i(6).Buffer;e.exports=function(e,t){var i,l=e.toString(),c=l.match(r);if(c){var h="aes"+c[1],d=u.from(c[2],"hex"),f=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(c[1],10)).key,A=[],g=s.createDecipheriv(h,p,d);A.push(g.update(f)),A.push(g.final()),i=u.concat(A)}else{var m=l.match(o);i=u.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(n)[1],data:i}}},function(e,t,i){function r(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var n=i(6).Buffer,o=i(113),a=i(59).ec,s=i(42),u=i(119);e.exports=function(e,t,i,l,c){var h=s(i);if("ec"===h.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(e,t,i){var r=u[i.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var n=new a(r),o=i.data.subjectPrivateKey.data;return n.verify(t,e,o)}(e,t,h)}if("dsa"===h.type){if("dsa"!==l)throw new Error("wrong public key type");return function(e,t,i){var n=i.data.p,a=i.data.q,u=i.data.g,l=i.data.pub_key,c=s.signature.decode(e,"der"),h=c.s,d=c.r;r(h,a),r(d,a);var f=o.mont(n),p=h.invm(a);return 0===u.toRed(f).redPow(new o(t).mul(p).mod(a)).fromRed().mul(l.toRed(f).redPow(d.mul(p).mod(a)).fromRed()).mod(n).mod(a).cmp(d)}(e,t,h)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");t=n.concat([c,t]);for(var d=h.modulus.byteLength(),f=[1],p=0;t.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var A=-1;++A<t.length;)f.push(t[A]);f=n.from(f);var g=o.mont(h.modulus);e=(e=new o(e).toRed(g)).redPow(new o(h.publicExponent)),e=n.from(e.fromRed().toArray());var m=p<8?1:0;for(d=Math.min(e.length,f.length),e.length!==f.length&&(m=1),A=-1;++A<d;)m|=e[A]^f[A];return 0===m}},function(e,t,i){(function(t){function r(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function n(e,i,r){Array.isArray(e)||(e=e.toArray());var n=new t(e);if(r&&n.length<r){var o=new t(r-n.length);o.fill(0),n=t.concat([o,n])}return i?n.toString(i):n}var o=i(59),a=i(11);e.exports=function(e){return new r(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},r.prototype.computeSecret=function(e,i,r){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),n(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),n(i,e)},r.prototype.getPrivateKey=function(e){return n(this.keys.getPrivate(),e)},r.prototype.setPublicKey=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.keys._importPublic(e),this},r.prototype.setPrivateKey=function(e,i){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var r=new a(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,i(10).Buffer)},function(e,t,i){t.publicEncrypt=i(225),t.privateDecrypt=i(226),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},function(e,t,i){var r=i(42),n=i(24),o=i(31),a=i(120),s=i(121),u=i(11),l=i(122),c=i(58),h=i(6).Buffer;e.exports=function(e,t,i){var d;d=e.padding?e.padding:i?1:4;var f,p=r(e);if(4===d)f=function(e,t){var i=e.modulus.byteLength(),r=t.length,l=o("sha1").update(h.alloc(0)).digest(),c=l.length,d=2*c;if(r>i-d-2)throw new Error("message too long");var f=h.alloc(i-r-d-2),p=i-c-1,A=n(c),g=s(h.concat([l,f,h.alloc(1,1),t],p),a(A,p)),m=s(A,a(g,c));return new u(h.concat([h.alloc(1),m,g],i))}(p,t);else if(1===d)f=function(e,t,i){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");return r=i?h.alloc(a-o-3,255):function(e){for(var t,i=h.allocUnsafe(e),r=0,o=n(2*e),a=0;r<e;)a===o.length&&(o=n(2*e),a=0),(t=o[a++])&&(i[r++]=t);return i}(a-o-3),new u(h.concat([h.from([0,i?1:2]),r,h.alloc(1),t],a))}(p,t,i);else{if(3!==d)throw new Error("unknown padding");if((f=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return i?c(f,p):l(f,p)}},function(e,t,i){var r=i(42),n=i(120),o=i(121),a=i(11),s=i(58),u=i(31),l=i(122),c=i(6).Buffer;e.exports=function(e,t,i){var h;h=e.padding?e.padding:i?1:4;var d,f=r(e),p=f.modulus.byteLength();if(t.length>p||new a(t).cmp(f.modulus)>=0)throw new Error("decryption error");d=i?l(new a(t),f):s(t,f);var A=c.alloc(p-d.length);if(d=c.concat([A,d],p),4===h)return function(e,t){var i=e.modulus.byteLength(),r=u("sha1").update(c.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),l=t.slice(a+1),h=o(s,n(l,a)),d=o(l,n(h,i-a-1));if(function(e,t){e=c.from(e),t=c.from(t);var i=0,r=e.length;e.length!==t.length&&(i++,r=Math.min(e.length,t.length));for(var n=-1;++n<r;)i+=e[n]^t[n];return i}(r,d.slice(0,a)))throw new Error("decryption error");for(var f=a;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===h)return function(e,t,i){for(var r=t.slice(0,2),n=2,o=0;0!==t[n++];)if(n>=t.length){o++;break}var a=t.slice(2,n-1);if(("0002"!==r.toString("hex")&&!i||"0001"!==r.toString("hex")&&i)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(n)}(0,d,i);if(3===h)return d;throw new Error("unknown padding")}},function(e,t,i){"use strict";(function(e,r){function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>h||e>t)throw new RangeError("offset out of range")}function a(e,t,i){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>h)throw new RangeError("buffer too small")}function s(e,t,i,n){if(r.browser){var o=e.buffer,a=new Uint8Array(o,t,i);return d.getRandomValues(a),n?void r.nextTick(function(){n(null,e)}):e}if(!n)return l(i).copy(e,t),e;l(i,function(i,r){if(i)return n(i);r.copy(e,t),n(null,e)})}var u=i(6),l=i(24),c=u.Buffer,h=u.kMaxLength,d=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;d&&d.getRandomValues||!r.browser?(t.randomFill=function(t,i,r,n){if(!(c.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof i)n=i,i=0,r=t.length;else if("function"==typeof r)n=r,r=t.length-i;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return o(i,t.length),a(r,i,t.length),s(t,i,r,n)},t.randomFillSync=function(t,i,r){if(void 0===i&&(i=0),!(c.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(i,t.length),void 0===r&&(r=t.length-i),a(r,i,t.length),s(t,i,r)}):(t.randomFill=n,t.randomFillSync=n)}).call(this,i(13),i(9))},function(e,t,i){"use strict";i.r(t),i(0);var r=i(19),n=i(43),o=i(36),a=i(2);t.default=function(e){var t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);n.a.install(),e.addEventListener("message",function(n){switch(n.data.cmd){case"init":(t=new o.a(n.data.param[0],n.data.param[1])).on(a.a.IO_ERROR,function(t,i){e.postMessage({msg:a.a.IO_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(a.a.DEMUX_ERROR,function(t,i){e.postMessage({msg:a.a.DEMUX_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(a.a.INIT_SEGMENT,function(t,i){var r={msg:a.a.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(r,[i.data])}.bind(this)),t.on(a.a.MEDIA_SEGMENT,function(t,i){var r={msg:a.a.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(r,[i.data])}.bind(this)),t.on(a.a.LOADING_COMPLETE,function(){var t={msg:a.a.LOADING_COMPLETE};e.postMessage(t)}.bind(this)),t.on(a.a.RECOVERED_EARLY_EOF,function(){var t={msg:a.a.RECOVERED_EARLY_EOF};e.postMessage(t)}.bind(this)),t.on(a.a.MEDIA_INFO,function(t){var i={msg:a.a.MEDIA_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(a.a.METADATA_ARRIVED,function(t){var i={msg:a.a.METADATA_ARRIVED,data:t};e.postMessage(i)}.bind(this)),t.on(a.a.SCRIPTDATA_ARRIVED,function(t){var i={msg:a.a.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}.bind(this)),t.on(a.a.STATISTICS_INFO,function(t){var i={msg:a.a.STATISTICS_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(a.a.RECOMMEND_SEEKPOINT,function(t){e.postMessage({msg:a.a.RECOMMEND_SEEKPOINT,data:t})}.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(n.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var s=n.data.param;r.a.applyConfig(s),!0===s.enableCallback?r.a.addLogListener(i):r.a.removeLogListener(i)}})}},function(e,t,i){"use strict";i.r(t),function(e,r,n,o){function a(){function t(e){t.shown||(t.shown={}),t.shown[e]||(t.shown[e]=1,ee(e))}function a(e,t){var i=ne,r=i.length;try{i.grow(1)}catch(e){if(!e instanceof RangeError)throw e;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{i.set(r,e)}catch(o){if(!o instanceof TypeError)throw o;u(void 0!==t,"Missing signature argument to addFunction");var n=function(e,t){var i=[1,0,1,96],r=t.slice(0,1),n=t.slice(1),o={i:127,j:126,f:125,d:124};i.push(n.length);for(var a=0;a<n.length;++a)i.push(o[n[a]]);"v"==r?i.push(0):i=i.concat([1,o[r]]),i[1]=i.length-2;var s=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),u=new WebAssembly.Module(s);return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,t);i.set(r,n)}return r}function u(e,t){e||S("Assertion failed: "+t)}function l(e){var t=h["_"+e];return u(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function d(e,t,i,r,n){var o={string:function(e){var t=0;if(null!=e&&0!==e){var i=1+(e.length<<2);g(e,t=hi(i),i)}return t},array:function(e){var t=hi(e.length);return function(e,t){u(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),ue.set(e,t)}(e,t),t}},a=l(e),s=[],c=0;if(u("array"!==t,'Return type should not be "array".'),r)for(var h=0;h<r.length;h++){var d=o[i[h]];d?(0===c&&(c=ci()),s[h]=d(r[h])):s[h]=r[h]}var f=a.apply(null,s);return f=function(e){return"string"===t?p(e):"boolean"===t?Boolean(e):e}(f),0!==c&&di(c),f}function f(e,i,r){for(var n=i+r,o=i;e[o]&&!(o>=n);)++o;if(o-i>16&&e.subarray&&ae)return ae.decode(e.subarray(i,o));for(var a="";i<o;){var s=e[i++];if(128&s){var u=63&e[i++];if(192!=(224&s)){var l=63&e[i++];if(224==(240&s)?s=(15&s)<<12|u<<6|l:(240!=(248&s)&&t("Invalid UTF-8 leading byte 0x"+s.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),s=(7&s)<<18|u<<12|l<<6|63&e[i++]),s<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&s)<<6|u)}else a+=String.fromCharCode(s)}return a}function p(e,t){return e?f(le,e,t):""}function A(e,i,r,n){if(!(n>0))return 0;for(var o=r,a=r+n-1,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++s)),u<=127){if(r>=a)break;i[r++]=u}else if(u<=2047){if(r+1>=a)break;i[r++]=192|u>>6,i[r++]=128|63&u}else if(u<=65535){if(r+2>=a)break;i[r++]=224|u>>12,i[r++]=128|u>>6&63,i[r++]=128|63&u}else{if(r+3>=a)break;u>=2097152&&t("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),i[r++]=240|u>>18,i[r++]=128|u>>12&63,i[r++]=128|u>>6&63,i[r++]=128|63&u}}return i[r]=0,r-o}function g(e,t,i){return u("number"==typeof i,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),A(e,le,t,i)}function m(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function y(e,t){return e%t>0&&(e+=t-e%t),e}function v(e){se=e,h.HEAP8=ue=new Int8Array(e),h.HEAP16=ce=new Int16Array(e),h.HEAP32=he=new Int32Array(e),h.HEAPU8=le=new Uint8Array(e),h.HEAPU16=new Uint16Array(e),h.HEAPU32=de=new Uint32Array(e),h.HEAPF32=new Float32Array(e),h.HEAPF64=new Float64Array(e)}function E(){u(0==(3&fe)),de[1+(fe>>2)]=34821223,de[2+(fe>>2)]=2310721022,he[0]=1668509029}function w(){var e=de[1+(fe>>2)],t=de[2+(fe>>2)];34821223==e&&2310721022==t||S("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==he[0]&&S("Runtime error: The application has corrupted its heap memory area (address zero)!")}function b(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?h.dynCall_v(i):h.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}function C(e){Me++,h.monitorRunDependencies&&h.monitorRunDependencies(Me),e?(u(!De[e]),De[e]=1,null===ke&&"undefined"!=typeof setInterval&&(ke=setInterval(function(){if(oe)return clearInterval(ke),void(ke=null);var e=!1;for(var t in De)e||(e=!0,ee("still waiting on run dependencies:")),ee("dependency: "+t);e&&ee("(end of list)")},1e4))):ee("warning: run dependency added without ID")}function I(e){if(Me--,h.monitorRunDependencies&&h.monitorRunDependencies(Me),e?(u(De[e]),delete De[e]):ee("warning: run dependency removed without ID"),0==Me&&(null!==ke&&(clearInterval(ke),ke=null),Te)){var t=Te;Te=null,t()}}function S(e){throw h.onAbort&&h.onAbort(e),$(e+=""),ee(e),oe=!0,e="abort("+e+") at "+B(),new WebAssembly.RuntimeError(e)}function M(e){return String.prototype.startsWith?e.startsWith(Qe):0===e.indexOf(Qe)}function k(){try{if(te)return new Uint8Array(te);if(V)return V(Oe);throw"both async and sync fetching of the wasm failed"}catch(e){S(e)}}function T(e){return t("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function D(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var t=T(e);return e===t?e:t+" ["+e+"]"})}function B(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return h.extraStackTrace&&(e+="\n"+h.extraStackTrace()),D(e)}function R(e){return h.___errno_location?he[h.___errno_location()>>2]=e:ee("failed to set errno from JS"),e}function Q(){if(!Q.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Y};for(var t in Ge)e[t]=Ge[t];var i=[];for(var t in e)i.push(t+"="+e[t]);Q.strings=i}return Q.strings}function O(e,t,i){var r=i>0?i:m(e)+1,n=new Array(r),o=A(e,n,0,n.length);return t&&(n.length=o),n}function L(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function x(e){u(0==Me,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),u(0==ge.length,"cannot call main when preRun functions remain to be called");var t=h._main;try{!function(e,t){K(),t&&s&&0===e||(s?t||ee("program exited (with status: "+e+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)"):(oe=!0,w(),we=!0,h.onExit&&h.onExit(e)),P(e,new L(e)))}(t(0,0),!0)}catch(e){if(e instanceof L)return;if("SimulateInfiniteLoop"==e)return void(s=!0);var i=e;e&&"object"==typeof e&&e.stack&&(i=[e,e.stack]),ee("exception thrown: "+i),P(1,e)}}function q(e){function t(){ai||(ai=!0,oe||(w(),u(!Ee),Ee=!0,h.noFSInit||Ne.init.initialized||Ne.init(),Ke.init(),b(me),w(),Ne.ignorePermissions=!1,b(ye),h.onRuntimeInitialized&&h.onRuntimeInitialized(),fi&&x(),function(){if(w(),h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)e=h.postRun.shift(),ve.unshift(e);var e;b(ve)}()))}e=e||G,Me>0||(E(),function(){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)e=h.preRun.shift(),ge.unshift(e);var e;b(ge)}(),Me>0||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),t()},1)):t(),w()))}function K(){var e=$,i=ee,r=!1;$=ee=function(e){r=!0};try{var n=h._fflush;n&&n(0),["stdout","stderr"].forEach(function(e){var t=Ne.analyzePath("/dev/"+e);if(t){var i=t.object.rdev,n=Ke.ttys[i];n&&n.output&&n.output.length&&(r=!0)}})}catch(e){}$=e,ee=i,r&&t("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}var U,F={};for(U in h)h.hasOwnProperty(U)&&(F[U]=h[U]);var j,N,J,G=[],Y="./this.program",P=function(e,t){throw t},z=!1,Z=!1;if(z="object"==typeof window,Z="function"==typeof importScripts,N="object"==typeof e&&"object"==typeof e.versions&&"string"==typeof e.versions.node,j=N&&!z&&!Z,J=!z&&!j&&!Z,h.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var W,V,H,X,_="";if(j)_=r+"/",W=function(e,t){var r;return H||(H=i(69)),X||(X=i(70)),e=X.normalize(e),r=H.readFileSync(e),t?r:r.toString()},V=function(e){var t=W(e,!0);return t.buffer||(t=new Uint8Array(t)),u(t.buffer),t},e.argv.length>1&&(Y=e.argv[1].replace(/\\/g,"/")),G=e.argv.slice(2),n.exports=h,e.on("uncaughtException",function(e){if(!(e instanceof L))throw e}),e.on("unhandledRejection",S),P=function(t){e.exit(t)},h.inspect=function(){return"[Emscripten Module object]"};else if(J)"undefined"!=typeof read&&(W=function(e){return read(e)}),V=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(u("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?G=scriptArgs:void 0!==arguments&&(G=arguments),"function"==typeof quit&&(P=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!z&&!Z)throw new Error("environment detection error");Z?_=self.location.href:document.currentScript&&(_=document.currentScript.src),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",W=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},Z&&(V=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})}var $=h.print||console.log.bind(console),ee=h.printErr||console.warn.bind(console);for(U in F)F.hasOwnProperty(U)&&(h[U]=F[U]);F=null,h.arguments&&(G=h.arguments),Object.getOwnPropertyDescriptor(h,"arguments")||Object.defineProperty(h,"arguments",{configurable:!0,get:function(){S("Module.arguments has been replaced with plain arguments_")}}),h.thisProgram&&(Y=h.thisProgram),Object.getOwnPropertyDescriptor(h,"thisProgram")||Object.defineProperty(h,"thisProgram",{configurable:!0,get:function(){S("Module.thisProgram has been replaced with plain thisProgram")}}),h.quit&&(P=h.quit),Object.getOwnPropertyDescriptor(h,"quit")||Object.defineProperty(h,"quit",{configurable:!0,get:function(){S("Module.quit has been replaced with plain quit_")}}),u(void 0===h.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),u(void 0===h.read,"Module.read option was removed (modify read_ in JS)"),u(void 0===h.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),u(void 0===h.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),u(void 0===h.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Object.getOwnPropertyDescriptor(h,"read")||Object.defineProperty(h,"read",{configurable:!0,get:function(){S("Module.read has been replaced with plain read_")}}),Object.getOwnPropertyDescriptor(h,"readAsync")||Object.defineProperty(h,"readAsync",{configurable:!0,get:function(){S("Module.readAsync has been replaced with plain readAsync")}}),Object.getOwnPropertyDescriptor(h,"readBinary")||Object.defineProperty(h,"readBinary",{configurable:!0,get:function(){S("Module.readBinary has been replaced with plain readBinary")}}),ci=di=hi=function(){S("cannot use the stack before compiled code is ready to run, and has provided stack access")};var te,ie,re=function(e){};h.wasmBinary&&(te=h.wasmBinary),Object.getOwnPropertyDescriptor(h,"wasmBinary")||Object.defineProperty(h,"wasmBinary",{configurable:!0,get:function(){S("Module.wasmBinary has been replaced with plain wasmBinary")}}),h.noExitRuntime&&(s=h.noExitRuntime),Object.getOwnPropertyDescriptor(h,"noExitRuntime")||Object.defineProperty(h,"noExitRuntime",{configurable:!0,get:function(){S("Module.noExitRuntime has been replaced with plain noExitRuntime")}}),"object"!=typeof WebAssembly&&S("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead.");var ne=new WebAssembly.Table({initial:2542,maximum:2552,element:"anyfunc"}),oe=!1,ae="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var se,ue,le,ce,he,de,fe=1341328;u(!0,"stack must start aligned"),u(!0,"heap must start aligned");var pe=5242880;h.TOTAL_STACK&&u(pe===h.TOTAL_STACK,"the stack size can no longer be determined at runtime");var Ae=h.TOTAL_MEMORY||67108864;Object.getOwnPropertyDescriptor(h,"TOTAL_MEMORY")||Object.defineProperty(h,"TOTAL_MEMORY",{configurable:!0,get:function(){S("Module.TOTAL_MEMORY has been replaced with plain INITIAL_TOTAL_MEMORY")}}),u(Ae>=pe,"TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ae+"! (TOTAL_STACK="+pe+")"),u("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(ie=h.wasmMemory?h.wasmMemory:new WebAssembly.Memory({initial:Ae/65536}))&&(se=ie.buffer),u((Ae=se.byteLength)%65536==0),v(se),he[335292]=6584208,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var ge=[],me=[],ye=[],ve=[],Ee=!1,we=!1;u(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),u(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),u(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),u(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var be=Math.abs,Ce=Math.ceil,Ie=Math.floor,Se=Math.min,Me=0,ke=null,Te=null,De={};h.preloadedImages={},h.preloadedAudios={};var Be,Re,Qe="data:application/octet-stream;base64,",Oe=c+"showVideo/showVideo.wasm";M(Oe)||(Oe=function(e){return h.locateFile?h.locateFile(e,_):_+e}(Oe)),me.push({func:function(){si()}});var Le={},xe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i;i--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);return(e=xe.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=xe.splitPath(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return xe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return xe.normalize(e.join("/"))},join2:function(e,t){return xe.normalize(e+"/"+t)}},qe={resolve:function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var r=i>=0?arguments[i]:Ne.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=xe.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."},relative:function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=qe.resolve(e).substr(1),t=qe.resolve(t).substr(1);for(var r=i(e.split("/")),n=i(t.split("/")),o=Math.min(r.length,n.length),a=o,s=0;s<o;s++)if(r[s]!==n[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(n.slice(a))).join("/")}},Ke={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ke.ttys[e]={input:[],output:[],ops:t},Ne.registerDevice(e,Ke.stream_ops)},stream_ops:{open:function(e){var t=Ke.ttys[e.node.rdev];if(!t)throw new Ne.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.get_char)throw new Ne.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ne.ErrnoError(29)}if(void 0===s&&0===o)throw new Ne.ErrnoError(6);if(null==s)break;o++,t[i+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.put_char)throw new Ne.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[i+o])}catch(e){throw new Ne.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var i=null;if(j){var r=o.alloc?o.alloc(256):new o(256),n=0;try{n=H.readSync(e.stdin.fd,r,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;n=0}i=n>0?r.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(i=window.prompt("Input: "))&&(i+="\n"):"function"==typeof readline&&null!==(i=readline())&&(i+="\n");if(!i)return null;t.input=O(i,!0)}return t.input.shift()},put_char:function(e,t){null===t||10===t?e.output=[]:0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(ee(f(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(ee(f(e.output,0)),e.output=[])}}},Ue={ops_table:null,mount:function(e){return Ue.createNode(null,"/",16895,0)},createNode:function(e,t,i,r){if(Ne.isBlkdev(i)||Ne.isFIFO(i))throw new Ne.ErrnoError(63);Ue.ops_table||(Ue.ops_table={dir:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,lookup:Ue.node_ops.lookup,mknod:Ue.node_ops.mknod,rename:Ue.node_ops.rename,unlink:Ue.node_ops.unlink,rmdir:Ue.node_ops.rmdir,readdir:Ue.node_ops.readdir,symlink:Ue.node_ops.symlink},stream:{llseek:Ue.stream_ops.llseek}},file:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:{llseek:Ue.stream_ops.llseek,read:Ue.stream_ops.read,write:Ue.stream_ops.write,allocate:Ue.stream_ops.allocate,mmap:Ue.stream_ops.mmap,msync:Ue.stream_ops.msync}},link:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,readlink:Ue.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:Ne.chrdev_stream_ops}});var n=Ne.createNode(e,t,i,r);return Ne.isDir(n.mode)?(n.node_ops=Ue.ops_table.dir.node,n.stream_ops=Ue.ops_table.dir.stream,n.contents={}):Ne.isFile(n.mode)?(n.node_ops=Ue.ops_table.file.node,n.stream_ops=Ue.ops_table.file.stream,n.usedBytes=0,n.contents=null):Ne.isLink(n.mode)?(n.node_ops=Ue.ops_table.link.node,n.stream_ops=Ue.ops_table.link.stream):Ne.isChrdev(n.mode)&&(n.node_ops=Ue.ops_table.chrdev.node,n.stream_ops=Ue.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],i=0;i<e.usedBytes;++i)t.push(e.contents[i]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){var i=e.contents?e.contents.length:0;if(!(i>=t)){t=Math.max(t,i*(i<1048576?2:1.125)|0),0!=i&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var i=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ne.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ne.isDir(e.mode)?t.size=4096:Ne.isFile(e.mode)?t.size=e.usedBytes:Ne.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ue.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ne.genericErrors[44]},mknod:function(e,t,i,r){return Ue.createNode(e,t,i,r)},rename:function(e,t,i){if(Ne.isDir(e.mode)){var r;try{r=Ne.lookupNode(t,i)}catch(e){}if(r)for(var n in r.contents)throw new Ne.ErrnoError(55)}delete e.parent.contents[e.name],e.name=i,t.contents[i]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var i=Ne.lookupNode(e,t);for(var r in i.contents)throw new Ne.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var i in e.contents)e.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(e,t,i){var r=Ue.createNode(e,t,41471,0);return r.link=i,r},readlink:function(e){if(!Ne.isLink(e.mode))throw new Ne.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,i,r,n){var o=e.node.contents;if(n>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-n,r);if(u(a>=0),a>8&&o.subarray)t.set(o.subarray(n,n+a),i);else for(var s=0;s<a;s++)t[i+s]=o[n+s];return a},write:function(e,i,r,n,o,a){if(a&&t("file packager has copied file data into memory, but in memory growth we are forced to copy it again (see --no-heap-copy)"),a=!1,!n)return 0;var s=e.node;if(s.timestamp=Date.now(),i.subarray&&(!s.contents||s.contents.subarray)){if(a)return u(0===o,"canOwn must imply no weird position inside the file"),s.contents=i.subarray(r,r+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===o)return s.contents=new Uint8Array(i.subarray(r,r+n)),s.usedBytes=n,n;if(o+n<=s.usedBytes)return s.contents.set(i.subarray(r,r+n),o),n}if(Ue.expandFileStorage(s,o+n),s.contents.subarray&&i.subarray)s.contents.set(i.subarray(r,r+n),o);else for(var l=0;l<n;l++)s.contents[o+l]=i[r+l];return s.usedBytes=Math.max(s.usedBytes,o+n),n},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&Ne.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Ne.ErrnoError(28);return r},allocate:function(e,t,i){Ue.expandFileStorage(e.node,t+i),e.node.usedBytes=Math.max(e.node.usedBytes,t+i)},mmap:function(e,t,i,r,n,o,a){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);var s,u,l=e.node.contents;if(2&a||l.buffer!==t&&l.buffer!==t.buffer){(n>0||n+r<e.node.usedBytes)&&(l=l.subarray?l.subarray(n,n+r):Array.prototype.slice.call(l,n,n+r)),u=!0;var c=t.buffer==ue.buffer;if(!(s=ui(r)))throw new Ne.ErrnoError(48);(c?ue:t).set(l,s)}else u=!1,s=l.byteOffset;return{ptr:s,allocated:u}},msync:function(e,t,i,r,n){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);return 2&n?0:(Ue.stream_ops.write(e,t,0,r,i,!1),0)}}},Fe={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},je={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Ne={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Ne.ErrnoError))throw e+" : "+B();return R(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=qe.resolve(Ne.cwd(),e)))return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var r in i)void 0===t[r]&&(t[r]=i[r]);if(t.recurse_count>8)throw new Ne.ErrnoError(32);for(var n=xe.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=Ne.root,a="/",s=0;s<n.length;s++){var u=s===n.length-1;if(u&&t.parent)break;if(o=Ne.lookupNode(o,n[s]),a=xe.join2(a,n[s]),Ne.isMountpoint(o)&&(!u||u&&t.follow_mount)&&(o=o.mounted.root),!u||t.follow)for(var l=0;Ne.isLink(o.mode);){var c=Ne.readlink(a);if(a=qe.resolve(xe.dirname(a),c),o=Ne.lookupPath(a,{recurse_count:t.recurse_count}).node,l++>40)throw new Ne.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(Ne.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?i+"/"+t:i+t:i}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(e+i>>>0)%Ne.nameTable.length},hashAddNode:function(e){var t=Ne.hashName(e.parent.id,e.name);e.name_next=Ne.nameTable[t],Ne.nameTable[t]=e},hashRemoveNode:function(e){var t=Ne.hashName(e.parent.id,e.name);if(Ne.nameTable[t]===e)Ne.nameTable[t]=e.name_next;else for(var i=Ne.nameTable[t];i;){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}},lookupNode:function(e,t){var i=Ne.mayLookup(e);if(i)throw new Ne.ErrnoError(i,e);for(var r=Ne.hashName(e.id,t),n=Ne.nameTable[r];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return Ne.lookup(e,t)},createNode:function(e,t,i,r){Ne.FSNode||(Ne.FSNode=function(e,t,i,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ne.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r},Ne.FSNode.prototype={},Object.defineProperties(Ne.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ne.isDir(this.mode)}},isDevice:{get:function(){return Ne.isChrdev(this.mode)}}}));var n=new Ne.FSNode(e,t,i,r);return Ne.hashAddNode(n),n},destroyNode:function(e){Ne.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Ne.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ne.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return Ne.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Ne.lookupNode(e,t),20}catch(e){}return Ne.nodePermissions(e,"wx")},mayDelete:function(e,t,i){var r;try{r=Ne.lookupNode(e,t)}catch(e){return e.errno}var n=Ne.nodePermissions(e,"wx");if(n)return n;if(i){if(!Ne.isDir(r.mode))return 54;if(Ne.isRoot(r)||Ne.getPath(r)===Ne.cwd())return 10}else if(Ne.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Ne.isLink(e.mode)?32:Ne.isDir(e.mode)&&("r"!==Ne.flagsToPermissionString(t)||512&t)?31:Ne.nodePermissions(e,Ne.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ne.MAX_OPEN_FDS;for(var i=e;i<=t;i++)if(!Ne.streams[i])return i;throw new Ne.ErrnoError(33)},getStream:function(e){return Ne.streams[e]},createStream:function(e,t,i){Ne.FSStream||(Ne.FSStream=function(){},Ne.FSStream.prototype={},Object.defineProperties(Ne.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new Ne.FSStream;for(var n in e)r[n]=e[n];e=r;var o=Ne.nextfd(t,i);return e.fd=o,Ne.streams[o]=e,e},closeStream:function(e){Ne.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ne.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ne.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ne.devices[e]={stream_ops:t}},getDevice:function(e){return Ne.devices[e]},getMounts:function(e){for(var t=[],i=[e];i.length;){var r=i.pop();t.push(r),i.push.apply(i,r.mounts)}return t},syncfs:function(e,t){function i(e){return u(Ne.syncFSRequests>0),Ne.syncFSRequests--,t(e)}function r(e){if(e)return r.errored?void 0:(r.errored=!0,i(e));++o>=n.length&&i(null)}"function"==typeof e&&(t=e,e=!1),++Ne.syncFSRequests>1&&console.log("warning: "+Ne.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ne.getMounts(Ne.root.mount),o=0;n.forEach(function(t){if(!t.type.syncfs)return r(null);t.type.syncfs(t,e,r)})},mount:function(e,t,i){if("string"==typeof e)throw e;var r,n="/"===i,o=!i;if(n&&Ne.root)throw new Ne.ErrnoError(10);if(!n&&!o){var a=Ne.lookupPath(i,{follow_mount:!1});if(i=a.path,r=a.node,Ne.isMountpoint(r))throw new Ne.ErrnoError(10);if(!Ne.isDir(r.mode))throw new Ne.ErrnoError(54)}var s={type:e,opts:t,mountpoint:i,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,n?Ne.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=Ne.lookupPath(e,{follow_mount:!1});if(!Ne.isMountpoint(t.node))throw new Ne.ErrnoError(28);var i=t.node,r=i.mounted,n=Ne.getMounts(r);Object.keys(Ne.nameTable).forEach(function(e){for(var t=Ne.nameTable[e];t;){var i=t.name_next;-1!==n.indexOf(t.mount)&&Ne.destroyNode(t),t=i}}),i.mounted=null;var o=i.mount.mounts.indexOf(r);u(-1!==o),i.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,i){var r=Ne.lookupPath(e,{parent:!0}).node,n=xe.basename(e);if(!n||"."===n||".."===n)throw new Ne.ErrnoError(28);var o=Ne.mayCreate(r,n);if(o)throw new Ne.ErrnoError(o);if(!r.node_ops.mknod)throw new Ne.ErrnoError(63);return r.node_ops.mknod(r,n,t,i)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ne.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ne.mknod(e,t,0)},mkdirTree:function(e,t){for(var i=e.split("/"),r="",n=0;n<i.length;++n)if(i[n]){r+="/"+i[n];try{Ne.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,i){return void 0===i&&(i=t,t=438),t|=8192,Ne.mknod(e,t,i)},symlink:function(e,t){if(!qe.resolve(e))throw new Ne.ErrnoError(44);var i=Ne.lookupPath(t,{parent:!0}).node;if(!i)throw new Ne.ErrnoError(44);var r=xe.basename(t),n=Ne.mayCreate(i,r);if(n)throw new Ne.ErrnoError(n);if(!i.node_ops.symlink)throw new Ne.ErrnoError(63);return i.node_ops.symlink(i,r,e)},rename:function(e,t){var i,r,n=xe.dirname(e),o=xe.dirname(t),a=xe.basename(e),s=xe.basename(t);try{i=Ne.lookupPath(e,{parent:!0}).node,r=Ne.lookupPath(t,{parent:!0}).node}catch(e){throw new Ne.ErrnoError(10)}if(!i||!r)throw new Ne.ErrnoError(44);if(i.mount!==r.mount)throw new Ne.ErrnoError(75);var u,l=Ne.lookupNode(i,a),c=qe.relative(e,o);if("."!==c.charAt(0))throw new Ne.ErrnoError(28);if("."!==(c=qe.relative(t,n)).charAt(0))throw new Ne.ErrnoError(55);try{u=Ne.lookupNode(r,s)}catch(e){}if(l!==u){var h=Ne.isDir(l.mode),d=Ne.mayDelete(i,a,h);if(d)throw new Ne.ErrnoError(d);if(d=u?Ne.mayDelete(r,s,h):Ne.mayCreate(r,s))throw new Ne.ErrnoError(d);if(!i.node_ops.rename)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(l)||u&&Ne.isMountpoint(u))throw new Ne.ErrnoError(10);if(r!==i&&(d=Ne.nodePermissions(i,"w")))throw new Ne.ErrnoError(d);try{Ne.trackingDelegate.willMovePath&&Ne.trackingDelegate.willMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}Ne.hashRemoveNode(l);try{i.node_ops.rename(l,r,s)}catch(e){throw e}finally{Ne.hashAddNode(l)}try{Ne.trackingDelegate.onMovePath&&Ne.trackingDelegate.onMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}}},rmdir:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,i=xe.basename(e),r=Ne.lookupNode(t,i),n=Ne.mayDelete(t,i,!0);if(n)throw new Ne.ErrnoError(n);if(!t.node_ops.rmdir)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);try{Ne.trackingDelegate.willDeletePath&&Ne.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,i),Ne.destroyNode(r);try{Ne.trackingDelegate.onDeletePath&&Ne.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=Ne.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ne.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,i=xe.basename(e),r=Ne.lookupNode(t,i),n=Ne.mayDelete(t,i,!1);if(n)throw new Ne.ErrnoError(n);if(!t.node_ops.unlink)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);try{Ne.trackingDelegate.willDeletePath&&Ne.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,i),Ne.destroyNode(r);try{Ne.trackingDelegate.onDeletePath&&Ne.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=Ne.lookupPath(e).node;if(!t)throw new Ne.ErrnoError(44);if(!t.node_ops.readlink)throw new Ne.ErrnoError(28);return qe.resolve(Ne.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var i=Ne.lookupPath(e,{follow:!t}).node;if(!i)throw new Ne.ErrnoError(44);if(!i.node_ops.getattr)throw new Ne.ErrnoError(63);return i.node_ops.getattr(i)},lstat:function(e){return Ne.stat(e,!0)},chmod:function(e,t,i){var r;if(!(r="string"==typeof e?Ne.lookupPath(e,{follow:!i}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Ne.chmod(e,t,!0)},fchmod:function(e,t){var i=Ne.getStream(e);if(!i)throw new Ne.ErrnoError(8);Ne.chmod(i.node,t)},chown:function(e,t,i,r){var n;if(!(n="string"==typeof e?Ne.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,t,i){Ne.chown(e,t,i,!0)},fchown:function(e,t,i){var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);Ne.chown(r.node,t,i)},truncate:function(e,t){if(t<0)throw new Ne.ErrnoError(28);var i;if(!(i="string"==typeof e?Ne.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);if(Ne.isDir(i.mode))throw new Ne.ErrnoError(31);if(!Ne.isFile(i.mode))throw new Ne.ErrnoError(28);var r=Ne.nodePermissions(i,"w");if(r)throw new Ne.ErrnoError(r);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var i=Ne.getStream(e);if(!i)throw new Ne.ErrnoError(8);if(0==(2097155&i.flags))throw new Ne.ErrnoError(28);Ne.truncate(i.node,t)},utime:function(e,t,i){var r=Ne.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,i)})},open:function(e,t,i,r,n){if(""===e)throw new Ne.ErrnoError(44);var o;if(i=void 0===i?438:i,i=64&(t="string"==typeof t?Ne.modeStringToFlags(t):t)?4095&i|32768:0,"object"==typeof e)o=e;else{e=xe.normalize(e);try{o=Ne.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(o){if(128&t)throw new Ne.ErrnoError(20)}else o=Ne.mknod(e,i,0),a=!0;if(!o)throw new Ne.ErrnoError(44);if(Ne.isChrdev(o.mode)&&(t&=-513),65536&t&&!Ne.isDir(o.mode))throw new Ne.ErrnoError(54);if(!a){var s=Ne.mayOpen(o,t);if(s)throw new Ne.ErrnoError(s)}512&t&&Ne.truncate(o,0),t&=-641;var u=Ne.createStream({node:o,path:Ne.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},r,n);u.stream_ops.open&&u.stream_ops.open(u),!h.logReadFiles||1&t||(Ne.readFiles||(Ne.readFiles={}),e in Ne.readFiles||(Ne.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(Ne.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=Ne.tracking.openFlags.READ),0!=(2097155&t)&&(l|=Ne.tracking.openFlags.WRITE),Ne.trackingDelegate.onOpenFile(e,l)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ne.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,i){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ne.ErrnoError(70);if(0!=i&&1!=i&&2!=i)throw new Ne.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read:function(e,t,i,r,n){if(r<0||n<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(1==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.read)throw new Ne.ErrnoError(28);var o=void 0!==n;if(o){if(!e.seekable)throw new Ne.ErrnoError(70)}else n=e.position;var a=e.stream_ops.read(e,t,i,r,n);return o||(e.position+=a),a},write:function(e,t,i,r,n,o){if(r<0||n<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.write)throw new Ne.ErrnoError(28);1024&e.flags&&Ne.llseek(e,0,2);var a=void 0!==n;if(a){if(!e.seekable)throw new Ne.ErrnoError(70)}else n=e.position;var s=e.stream_ops.write(e,t,i,r,n,o);a||(e.position+=s);try{e.path&&Ne.trackingDelegate.onWriteToFile&&Ne.trackingDelegate.onWriteToFile(e.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,i){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(t<0||i<=0)throw new Ne.ErrnoError(28);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(!Ne.isFile(e.node.mode)&&!Ne.isDir(e.node.mode))throw new Ne.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ne.ErrnoError(138);e.stream_ops.allocate(e,t,i)},mmap:function(e,t,i,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Ne.ErrnoError(2);if(1==(2097155&e.flags))throw new Ne.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ne.ErrnoError(43);return e.stream_ops.mmap(e,t,i,r,n,o,a)},msync:function(e,t,i,r,n){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,i,r,n):0},munmap:function(e){return 0},ioctl:function(e,t,i){if(!e.stream_ops.ioctl)throw new Ne.ErrnoError(59);return e.stream_ops.ioctl(e,t,i)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i,r=Ne.open(e,t.flags),n=Ne.stat(e).size,o=new Uint8Array(n);return Ne.read(r,o,0,n,0),"utf8"===t.encoding?i=f(o,0):"binary"===t.encoding&&(i=o),Ne.close(r),i},writeFile:function(e,t,i){(i=i||{}).flags=i.flags||"w";var r=Ne.open(e,i.flags,i.mode);if("string"==typeof t){var n=new Uint8Array(m(t)+1),o=A(t,n,0,n.length);Ne.write(r,n,0,o,void 0,i.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ne.write(r,t,0,t.byteLength,void 0,i.canOwn)}Ne.close(r)},cwd:function(){return Ne.currentPath},chdir:function(e){var t=Ne.lookupPath(e,{follow:!0});if(null===t.node)throw new Ne.ErrnoError(44);if(!Ne.isDir(t.node.mode))throw new Ne.ErrnoError(54);var i=Ne.nodePermissions(t.node,"x");if(i)throw new Ne.ErrnoError(i);Ne.currentPath=t.path},createDefaultDirectories:function(){Ne.mkdir("/tmp"),Ne.mkdir("/home"),Ne.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Ne.mkdir("/dev"),Ne.registerDevice(Ne.makedev(1,3),{read:function(){return 0},write:function(e,t,i,r,n){return r}}),Ne.mkdev("/dev/null",Ne.makedev(1,3)),Ke.register(Ne.makedev(5,0),Ke.default_tty_ops),Ke.register(Ne.makedev(6,0),Ke.default_tty1_ops),Ne.mkdev("/dev/tty",Ne.makedev(5,0)),Ne.mkdev("/dev/tty1",Ne.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(j)try{var r=i(71);e=function(){return r.randomBytes(1)[0]}}catch(e){}e||(e=function(){S("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),Ne.createDevice("/dev","random",e),Ne.createDevice("/dev","urandom",e),Ne.mkdir("/dev/shm"),Ne.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ne.mkdir("/proc"),Ne.mkdir("/proc/self"),Ne.mkdir("/proc/self/fd"),Ne.mount({mount:function(){var e=Ne.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var i=+t,r=Ne.getStream(i);if(!r)throw new Ne.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?Ne.createDevice("/dev","stdin",h.stdin):Ne.symlink("/dev/tty","/dev/stdin"),h.stdout?Ne.createDevice("/dev","stdout",null,h.stdout):Ne.symlink("/dev/tty","/dev/stdout"),h.stderr?Ne.createDevice("/dev","stderr",null,h.stderr):Ne.symlink("/dev/tty1","/dev/stderr");var e=Ne.open("/dev/stdin","r"),t=Ne.open("/dev/stdout","w"),i=Ne.open("/dev/stderr","w");u(0===e.fd,"invalid handle for stdin ("+e.fd+")"),u(1===t.fd,"invalid handle for stdout ("+t.fd+")"),u(2===i.fd,"invalid handle for stderr ("+i.fd+")")},ensureErrnoError:function(){Ne.ErrnoError||(Ne.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,je)if(je[t]===e){this.code=t;break}},this.setErrno(e),this.message=Fe[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=D(this.stack))},Ne.ErrnoError.prototype=new Error,Ne.ErrnoError.prototype.constructor=Ne.ErrnoError,[44].forEach(function(e){Ne.genericErrors[e]=new Ne.ErrnoError(e),Ne.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){Ne.ensureErrnoError(),Ne.nameTable=new Array(4096),Ne.mount(Ue,{},"/"),Ne.createDefaultDirectories(),Ne.createDefaultDevices(),Ne.createSpecialDirectories(),Ne.filesystems={MEMFS:Ue}},init:function(e,t,i){u(!Ne.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Ne.init.initialized=!0,Ne.ensureErrnoError(),h.stdin=e||h.stdin,h.stdout=t||h.stdout,h.stderr=i||h.stderr,Ne.createStandardStreams()},quit:function(){Ne.init.initialized=!1;var e=h._fflush;e&&e(0);for(var t=0;t<Ne.streams.length;t++){var i=Ne.streams[t];i&&Ne.close(i)}},getMode:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},joinPath:function(e,t){var i=xe.join.apply(null,e);return t&&"/"==i[0]&&(i=i.substr(1)),i},absolutePath:function(e,t){return qe.resolve(t,e)},standardizePath:function(e){return xe.normalize(e)},findObject:function(e,t){var i=Ne.analyzePath(e,t);return i.exists?i.object:(R(i.error),null)},analyzePath:function(e,t){try{e=(r=Ne.lookupPath(e,{follow:!t})).path}catch(e){}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ne.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=r.path,i.parentObject=r.node,i.name=xe.basename(e),r=Ne.lookupPath(e,{follow:!t}),i.exists=!0,i.path=r.path,i.object=r.node,i.name=r.node.name,i.isRoot="/"===r.path}catch(e){i.error=e.errno}return i},createFolder:function(e,t,i,r){var n=xe.join2("string"==typeof e?e:Ne.getPath(e),t),o=Ne.getMode(i,r);return Ne.mkdir(n,o)},createPath:function(e,t,i,r){e="string"==typeof e?e:Ne.getPath(e);for(var n=t.split("/").reverse();n.length;){var o=n.pop();if(o){var a=xe.join2(e,o);try{Ne.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,i,r,n){var o=xe.join2("string"==typeof e?e:Ne.getPath(e),t),a=Ne.getMode(r,n);return Ne.create(o,a)},createDataFile:function(e,t,i,r,n,o){var a=t?xe.join2("string"==typeof e?e:Ne.getPath(e),t):e,s=Ne.getMode(r,n),u=Ne.create(a,s);if(i){if("string"==typeof i){for(var l=new Array(i.length),c=0,h=i.length;c<h;++c)l[c]=i.charCodeAt(c);i=l}Ne.chmod(u,146|s);var d=Ne.open(u,"w");Ne.write(d,i,0,i.length,0,o),Ne.close(d),Ne.chmod(u,s)}return u},createDevice:function(e,t,i,r){var n=xe.join2("string"==typeof e?e:Ne.getPath(e),t),o=Ne.getMode(!!i,!!r);Ne.createDevice.major||(Ne.createDevice.major=64);var a=Ne.makedev(Ne.createDevice.major++,0);return Ne.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,n,o){for(var a=0,s=0;s<n;s++){var u;try{u=i()}catch(e){throw new Ne.ErrnoError(29)}if(void 0===u&&0===a)throw new Ne.ErrnoError(6);if(null==u)break;a++,t[r+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,i,n,o){for(var a=0;a<n;a++)try{r(t[i+a])}catch(e){throw new Ne.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),Ne.mkdev(n,o,a)},createLink:function(e,t,i,r,n){var o=xe.join2("string"==typeof e?e:Ne.getPath(e),t);return Ne.symlink(i,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!W)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=O(W(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||R(29),t},createLazyFile:function(e,t,i,r,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;n||(a=r);var s=this;s.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",i,!1),r!==a&&n.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+i+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):O(n.responseText||"",!0)}(t,n)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:i};var l=Ne.createFile(e,t,s,r,n);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];c[e]=function(){if(!Ne.forceLoadFile(l))throw new Ne.ErrnoError(29);return t.apply(null,arguments)}}),c.read=function(e,t,i,r,n){if(!Ne.forceLoadFile(l))throw new Ne.ErrnoError(29);var o=e.node.contents;if(n>=o.length)return 0;var a=Math.min(o.length-n,r);if(u(a>=0),o.slice)for(var s=0;s<a;s++)t[i+s]=o[n+s];else for(s=0;s<a;s++)t[i+s]=o.get(n+s);return a},l.stream_ops=c,l},createPreloadedFile:function(e,t,i,r,n,o,a,s,u,l){function c(i){function c(i){l&&l(),s||Ne.createDataFile(e,t,i,r,n,u),o&&o(),I(f)}var p=!1;h.preloadPlugins.forEach(function(e){p||e.canHandle(d)&&(e.handle(i,d,c,function(){a&&a(),I(f)}),p=!0)}),p||c(i)}Browser.init();var d=t?qe.resolve(xe.join2(e,t)):e,f=function(e){for(var t=e;;){if(!De[e])return e;e=t+Math.random()}return e}("cp "+d);C(f),"string"==typeof i?Browser.asyncLoad(i,function(e){c(e)},a):c(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=Ne.indexedDB();try{var n=r.open(Ne.DB_NAME(),Ne.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=function(){console.log("creating db"),n.result.createObjectStore(Ne.DB_STORE_NAME)},n.onsuccess=function(){function r(){0==u?t():i()}var o=n.result.transaction([Ne.DB_STORE_NAME],"readwrite"),a=o.objectStore(Ne.DB_STORE_NAME),s=0,u=0,l=e.length;e.forEach(function(e){var t=a.put(Ne.analyzePath(e).object.contents,e);t.onsuccess=function(){++s+u==l&&r()},t.onerror=function(){s+ ++u==l&&r()}}),o.onerror=i},n.onerror=i},loadFilesFromDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=Ne.indexedDB();try{var n=r.open(Ne.DB_NAME(),Ne.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=i,n.onsuccess=function(){function r(){0==l?t():i()}var o=n.result;try{var a=o.transaction([Ne.DB_STORE_NAME],"readonly")}catch(e){return void i(e)}var s=a.objectStore(Ne.DB_STORE_NAME),u=0,l=0,c=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){Ne.analyzePath(e).exists&&Ne.unlink(e),Ne.createDataFile(xe.dirname(e),xe.basename(e),t.result,!0,!0,!0),++u+l==c&&r()},t.onerror=function(){u+ ++l==c&&r()}}),a.onerror=i},n.onerror=i}},Je={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var i;if(-100===e)i=Ne.cwd();else{var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);i=r.path}t=xe.join2(i,t)}return t},doStat:function(e,t,i){try{var r=e(t)}catch(e){if(e&&e.node&&xe.normalize(t)!==xe.normalize(Ne.getPath(e.node)))return-54;throw e}return he[i>>2]=r.dev,he[i+4>>2]=0,he[i+8>>2]=r.ino,he[i+12>>2]=r.mode,he[i+16>>2]=r.nlink,he[i+20>>2]=r.uid,he[i+24>>2]=r.gid,he[i+28>>2]=r.rdev,he[i+32>>2]=0,Re=[r.size>>>0,(Be=r.size,+be(Be)>=1?Be>0?(0|Se(+Ie(Be/4294967296),4294967295))>>>0:~~+Ce((Be-+(~~Be>>>0))/4294967296)>>>0:0)],he[i+40>>2]=Re[0],he[i+44>>2]=Re[1],he[i+48>>2]=4096,he[i+52>>2]=r.blocks,he[i+56>>2]=r.atime.getTime()/1e3|0,he[i+60>>2]=0,he[i+64>>2]=r.mtime.getTime()/1e3|0,he[i+68>>2]=0,he[i+72>>2]=r.ctime.getTime()/1e3|0,he[i+76>>2]=0,Re=[r.ino>>>0,(Be=r.ino,+be(Be)>=1?Be>0?(0|Se(+Ie(Be/4294967296),4294967295))>>>0:~~+Ce((Be-+(~~Be>>>0))/4294967296)>>>0:0)],he[i+80>>2]=Re[0],he[i+84>>2]=Re[1],0},doMsync:function(e,t,i,r){var n=new Uint8Array(le.subarray(e,e+i));Ne.msync(t,n,0,i,r)},doMkdir:function(e,t){return"/"===(e=xe.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ne.mkdir(e,t,0),0},doMknod:function(e,t,i){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ne.mknod(e,t,i),0},doReadlink:function(e,t,i){if(i<=0)return-28;var r=Ne.readlink(e),n=Math.min(i,m(r)),o=ue[t+n];return g(r,t,i+1),ue[t+n]=o,n},doAccess:function(e,t){if(-8&t)return-28;var i;if(!(i=Ne.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&Ne.nodePermissions(i,r)?-2:0},doDup:function(e,t,i){var r=Ne.getStream(i);return r&&Ne.close(r),Ne.open(e,t,0,i,i).fd},doReadv:function(e,t,i,r){for(var n=0,o=0;o<i;o++){var a=he[t+8*o>>2],s=he[t+(8*o+4)>>2],u=Ne.read(e,ue,a,s,r);if(u<0)return-1;if(n+=u,u<s)break}return n},doWritev:function(e,t,i,r){for(var n=0,o=0;o<i;o++){var a=he[t+8*o>>2],s=he[t+(8*o+4)>>2],u=Ne.write(e,ue,a,s,r);if(u<0)return-1;n+=u}return n},varargs:0,get:function(e){return Je.varargs+=4,he[Je.varargs-4>>2]},getStr:function(){return p(Je.get())},getStreamFromFD:function(e){void 0===e&&(e=Je.get());var t=Ne.getStream(e);if(!t)throw new Ne.ErrnoError(8);return t},get64:function(){var e=Je.get(),t=Je.get();return u(e>=0?0===t:-1===t),e},getZero:function(){u(0===Je.get())}},Ge={};g("GMT",1341232,4),Ne.staticInit();var Ye={__cxa_allocate_exception:function(e){return ui(e)},__cxa_throw:function(e,t,i){throw Le[e]={ptr:e,adjusted:[e],type:t,destructor:i,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in li?li.uncaught_exceptions++:li.uncaught_exceptions=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},__lock:function(){},__syscall221:function(e,t){Je.varargs=t;try{var i=Je.getStreamFromFD();switch(Je.get()){case 0:return(r=Je.get())<0?-28:Ne.open(i.path,i.flags,0,r).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var r=Je.get();return i.flags|=r,0;case 12:return r=Je.get(),ce[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return R(28),-1;default:return-28}}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),-e.errno}},__syscall3:function(e,t){Je.varargs=t;try{var i=Je.getStreamFromFD(),r=Je.get(),n=Je.get();return Ne.read(i,ue,r,n)}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),-e.errno}},__syscall5:function(e,t){Je.varargs=t;try{var i=Je.getStr(),r=Je.get(),n=Je.get();return Ne.open(i,r,n).fd}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),-e.errno}},__unlock:function(){},abort:function(){S()},clock:function e(){return void 0===e.start&&(e.start=Date.now()),1e3*(Date.now()-e.start)|0},emscripten_memcpy_big:function(e,t,i){le.set(le.subarray(t,t+i),e)},emscripten_resize_heap:function(e){var i=ue.length;if(u(e>i),e>2147418112)return ee("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is 2147418112 bytes!"),!1;for(var r=Math.max(i,16777216);r<e;)(r=r<=536870912?y(2*r,65536):Math.min(y((3*r+2147483648)/4,65536),2147418112))===i&&t("Cannot ask for more memory since we reached the practical limit in browsers (which is just below 2GB), so the request would have failed. Requesting only "+ue.length);return!!function(e){try{return ie.grow(e-se.byteLength+65535>>16),v(ie.buffer),1}catch(t){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+se.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}(r)||(ee("Failed to grow the heap from "+i+" bytes to "+r+" bytes, not enough memory!"),!1)},environ_get:function(e,t){var i=0;return Q().forEach(function(r,n){var o=t+i;he[e+4*n>>2]=o,function(e,t,i){for(var r=0;r<e.length;++r)u(e.charCodeAt(r)==e.charCodeAt(r)&255),ue[t++>>0]=e.charCodeAt(r);i||(ue[t>>0]=0)}(r,o),i+=r.length+1}),0},environ_sizes_get:function(e,t){var i=Q();he[e>>2]=i.length;var r=0;return i.forEach(function(e){r+=e.length+1}),he[t>>2]=r,0},fd_close:function(e){try{var t=Je.getStreamFromFD(e);return Ne.close(t),0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},fd_fdstat_get:function(e,t){try{var i=Je.getStreamFromFD(e),r=i.tty?2:Ne.isDir(i.mode)?3:Ne.isLink(i.mode)?7:4;return ue[t>>0]=r,0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},fd_seek:function(e,t,i,r,n){try{var o=Je.getStreamFromFD(e),a=4294967296*i+(t>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(Ne.llseek(o,a,r),Re=[o.position>>>0,(Be=o.position,+be(Be)>=1?Be>0?(0|Se(+Ie(Be/4294967296),4294967295))>>>0:~~+Ce((Be-+(~~Be>>>0))/4294967296)>>>0:0)],he[n>>2]=Re[0],he[n+4>>2]=Re[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0)}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},fd_write:function(e,t,i,r){try{var n=Je.getStreamFromFD(e),o=Je.doWritev(n,t,i);return he[r>>2]=o,0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||S(e),e.errno}},gettimeofday:function(e){var t=Date.now();return he[e>>2]=t/1e3|0,he[e+4>>2]=t%1e3*1e3|0,0},memory:ie,round:function(e){return(e=+e)>=0?+Ie(e+.5):+Ce(e-.5)},setTempRet0:function(e){re(0|e)},table:ne,time:function(e){var t=Date.now()/1e3|0;return e&&(he[e>>2]=t),t}},Pe=function(){function e(e,t){var i=e.exports;h.asm=i,I("wasm-instantiate")}function t(t){u(h===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,e(t.instance)}function i(e){return(te||!z&&!Z||"function"!=typeof fetch?new Promise(function(e,t){e(k())}):fetch(Oe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Oe+"'";return e.arrayBuffer()}).catch(function(){return k()})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){ee("failed to asynchronously prepare wasm: "+e),S(e)})}var r={env:Ye,wasi_unstable:Ye};C("wasm-instantiate");var n=h;if(h.instantiateWasm)try{return h.instantiateWasm(r,e)}catch(r){return ee("Module.instantiateWasm callback failed with error: "+r),!1}return function(){if(te||"function"!=typeof WebAssembly.instantiateStreaming||M(Oe)||"function"!=typeof fetch)return i(t);fetch(Oe,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(t,function(e){ee("wasm streaming compile failed: "+e),ee("falling back to ArrayBuffer instantiation"),i(t)})})}(),{}}(),ze=Pe.__wasm_call_ctors;Pe.__wasm_call_ctors=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ze.apply(null,arguments)};var Ze=Pe.WasmDecoder_Check;Pe.WasmDecoder_Check=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ze.apply(null,arguments)};var We=Pe.WasmDecoder_Init;Pe.WasmDecoder_Init=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),We.apply(null,arguments)};var Ve=Pe.WasmDecoder_Deinit;Pe.WasmDecoder_Deinit=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ve.apply(null,arguments)};var He=Pe.WasmDecoder_OpenChannel;Pe.WasmDecoder_OpenChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),He.apply(null,arguments)};var Xe=Pe.WasmDecoder_InputFlvStream;Pe.WasmDecoder_InputFlvStream=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xe.apply(null,arguments)};var _e=Pe.WasmDecoder_GetFlvDecodeData;Pe.WasmDecoder_GetFlvDecodeData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_e.apply(null,arguments)};var $e=Pe.WasmDecoder_InputFlvStreamAndDecode;Pe.WasmDecoder_InputFlvStreamAndDecode=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$e.apply(null,arguments)};var et=Pe.WasmDecoder_OpenVideoDecoder;Pe.WasmDecoder_OpenVideoDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),et.apply(null,arguments)};var tt=Pe.WasmDecoder_OpenAudioDecoder;Pe.WasmDecoder_OpenAudioDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),tt.apply(null,arguments)};var it=Pe.WasmDecoder_DecodeVideoFrame;Pe.WasmDecoder_DecodeVideoFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),it.apply(null,arguments)};var rt=Pe.WasmDecoder_DecodeAudioFrame;Pe.WasmDecoder_DecodeAudioFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),rt.apply(null,arguments)};var nt=Pe.WasmDecoder_CloseChannel;Pe.WasmDecoder_CloseChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),nt.apply(null,arguments)};var ot=Pe.WasmDecoder_ConvertFrame2Image;Pe.WasmDecoder_ConvertFrame2Image=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ot.apply(null,arguments)};var at=Pe.WasmDecoder_ReleaseImageData;Pe.WasmDecoder_ReleaseImageData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),at.apply(null,arguments)};var st=Pe.WasmDecoder_CreateMP4File;Pe.WasmDecoder_CreateMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),st.apply(null,arguments)};var ut=Pe.WasmDecoder_WriteData;Pe.WasmDecoder_WriteData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ut.apply(null,arguments)};var lt=Pe.WasmDecoder_ReleaseMP4File;Pe.WasmDecoder_ReleaseMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),lt.apply(null,arguments)};var ct=Pe.main;Pe.main=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ct.apply(null,arguments)};var ht=Pe.free;Pe.free=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ht.apply(null,arguments)};var dt=Pe.malloc;Pe.malloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),dt.apply(null,arguments)};var ft=Pe.__errno_location;Pe.__errno_location=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ft.apply(null,arguments)};var pt=Pe.fflush;Pe.fflush=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),pt.apply(null,arguments)};var At=Pe._get_tzname;Pe._get_tzname=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),At.apply(null,arguments)};var gt=Pe._get_daylight;Pe._get_daylight=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),gt.apply(null,arguments)};var mt=Pe._get_timezone;Pe._get_timezone=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),mt.apply(null,arguments)};var yt=Pe.setThrew;Pe.setThrew=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),yt.apply(null,arguments)};var vt=Pe._ZSt18uncaught_exceptionv;Pe._ZSt18uncaught_exceptionv=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),vt.apply(null,arguments)};var Et=Pe.stackSave;Pe.stackSave=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Et.apply(null,arguments)};var wt=Pe.stackAlloc;Pe.stackAlloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),wt.apply(null,arguments)};var bt=Pe.stackRestore;Pe.stackRestore=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),bt.apply(null,arguments)};var Ct=Pe.__growWasmMemory;Pe.__growWasmMemory=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ct.apply(null,arguments)};var It=Pe.dynCall_ii;Pe.dynCall_ii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),It.apply(null,arguments)};var St=Pe.dynCall_viiiii;Pe.dynCall_viiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),St.apply(null,arguments)};var Mt=Pe.dynCall_viiiiiifi;Pe.dynCall_viiiiiifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Mt.apply(null,arguments)};var kt=Pe.dynCall_viiii;Pe.dynCall_viiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),kt.apply(null,arguments)};var Tt=Pe.dynCall_viii;Pe.dynCall_viii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Tt.apply(null,arguments)};var Dt=Pe.dynCall_iiiiiii;Pe.dynCall_iiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Dt.apply(null,arguments)};var Bt=Pe.dynCall_iiiiii;Pe.dynCall_iiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Bt.apply(null,arguments)};var Rt=Pe.dynCall_vii;Pe.dynCall_vii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Rt.apply(null,arguments)};var Qt=Pe.dynCall_iii;Pe.dynCall_iii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Qt.apply(null,arguments)};var Ot=Pe.dynCall_iiii;Pe.dynCall_iiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ot.apply(null,arguments)};var Lt=Pe.dynCall_viiiiii;Pe.dynCall_viiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Lt.apply(null,arguments)};var xt=Pe.dynCall_viiiiiiiii;Pe.dynCall_viiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),xt.apply(null,arguments)};var qt=Pe.dynCall_viiiiiiii;Pe.dynCall_viiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),qt.apply(null,arguments)};var Kt=Pe.dynCall_iiiii;Pe.dynCall_iiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Kt.apply(null,arguments)};var Ut=Pe.dynCall_viiiiiiiiiiiiii;Pe.dynCall_viiiiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ut.apply(null,arguments)};var Ft=Pe.dynCall_viiiiiiiiiii;Pe.dynCall_viiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ft.apply(null,arguments)};var jt=Pe.dynCall_viiiiiii;Pe.dynCall_viiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),jt.apply(null,arguments)};var Nt=Pe.dynCall_viiiiiiiiiiii;Pe.dynCall_viiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Nt.apply(null,arguments)};var Jt=Pe.dynCall_vi;Pe.dynCall_vi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Jt.apply(null,arguments)};var Gt=Pe.dynCall_iiiiiiiii;Pe.dynCall_iiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Gt.apply(null,arguments)};var Yt=Pe.dynCall_viiiifii;Pe.dynCall_viiiifii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Yt.apply(null,arguments)};var Pt=Pe.dynCall_fii;Pe.dynCall_fii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Pt.apply(null,arguments)};var zt=Pe.dynCall_viiiiiiiiii;Pe.dynCall_viiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),zt.apply(null,arguments)};var Zt=Pe.dynCall_dd;Pe.dynCall_dd=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Zt.apply(null,arguments)};var Wt=Pe.dynCall_viifi;Pe.dynCall_viifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Wt.apply(null,arguments)};var Vt=Pe.dynCall_fiii;Pe.dynCall_fiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Vt.apply(null,arguments)};var Ht=Pe.dynCall_viidi;Pe.dynCall_viidi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ht.apply(null,arguments)};var Xt=Pe.dynCall_iiiiiiii;Pe.dynCall_iiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xt.apply(null,arguments)};var _t=Pe.dynCall_did;Pe.dynCall_did=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_t.apply(null,arguments)};var $t=Pe.dynCall_v;Pe.dynCall_v=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$t.apply(null,arguments)};var ei=Pe.dynCall_viiijj;Pe.dynCall_viiijj=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ei.apply(null,arguments)};var ti=Pe.dynCall_iiiiiiidiiddii;Pe.dynCall_iiiiiiidiiddii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ti.apply(null,arguments)};var ii=Pe.dynCall_jij;Pe.dynCall_jij=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ii.apply(null,arguments)};var ri=Pe.dynCall_jii;Pe.dynCall_jii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ri.apply(null,arguments)};var ni=Pe.dynCall_jiji;Pe.dynCall_jiji=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ni.apply(null,arguments)};var oi=Pe.dynCall_iidiiii;Pe.dynCall_iidiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),oi.apply(null,arguments)},h.asm=Pe;var ai,si=h.___wasm_call_ctors=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.__wasm_call_ctors.apply(null,arguments)},ui=(h._WasmDecoder_Check=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_Check.apply(null,arguments)},h._WasmDecoder_Init=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_Init.apply(null,arguments)},h._WasmDecoder_Deinit=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_Deinit.apply(null,arguments)},h._WasmDecoder_OpenChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_OpenChannel.apply(null,arguments)},h._WasmDecoder_InputFlvStream=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_InputFlvStream.apply(null,arguments)},h._WasmDecoder_GetFlvDecodeData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_GetFlvDecodeData.apply(null,arguments)},h._WasmDecoder_InputFlvStreamAndDecode=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_InputFlvStreamAndDecode.apply(null,arguments)},h._WasmDecoder_OpenVideoDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_OpenVideoDecoder.apply(null,arguments)},h._WasmDecoder_OpenAudioDecoder=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_OpenAudioDecoder.apply(null,arguments)},h._WasmDecoder_DecodeVideoFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_DecodeVideoFrame.apply(null,arguments)},h._WasmDecoder_DecodeAudioFrame=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_DecodeAudioFrame.apply(null,arguments)},h._WasmDecoder_CloseChannel=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_CloseChannel.apply(null,arguments)},h._WasmDecoder_ConvertFrame2Image=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_ConvertFrame2Image.apply(null,arguments)},h._WasmDecoder_ReleaseImageData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_ReleaseImageData.apply(null,arguments)},h._WasmDecoder_CreateMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_CreateMP4File.apply(null,arguments)},h._WasmDecoder_WriteData=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_WriteData.apply(null,arguments)},h._WasmDecoder_ReleaseMP4File=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.WasmDecoder_ReleaseMP4File.apply(null,arguments)},h._main=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.main.apply(null,arguments)},h._free=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.free.apply(null,arguments)},h._malloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.malloc.apply(null,arguments)}),li=(h.___errno_location=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.__errno_location.apply(null,arguments)},h._fflush=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.fflush.apply(null,arguments)},h.__get_tzname=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._get_tzname.apply(null,arguments)},h.__get_daylight=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._get_daylight.apply(null,arguments)},h.__get_timezone=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._get_timezone.apply(null,arguments)},h._setThrew=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.setThrew.apply(null,arguments)},h.__ZSt18uncaught_exceptionv=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),ci=h.stackSave=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.stackSave.apply(null,arguments)},hi=h.stackAlloc=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.stackAlloc.apply(null,arguments)},di=h.stackRestore=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.stackRestore.apply(null,arguments)};if(h.__growWasmMemory=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.__growWasmMemory.apply(null,arguments)},h.dynCall_ii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_ii.apply(null,arguments)},h.dynCall_viiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiii.apply(null,arguments)},h.dynCall_viiiiiifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiifi.apply(null,arguments)},h.dynCall_viiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiii.apply(null,arguments)},h.dynCall_viii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viii.apply(null,arguments)},h.dynCall_iiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiii.apply(null,arguments)},h.dynCall_iiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiii.apply(null,arguments)},h.dynCall_vii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_vii.apply(null,arguments)},h.dynCall_iii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iii.apply(null,arguments)},h.dynCall_iiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiii.apply(null,arguments)},h.dynCall_viiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiii.apply(null,arguments)},h.dynCall_viiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiii.apply(null,arguments)},h.dynCall_viiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiii.apply(null,arguments)},h.dynCall_iiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiii.apply(null,arguments)},h.dynCall_viiiiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiiiiiii.apply(null,arguments)},h.dynCall_viiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},h.dynCall_viiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiii.apply(null,arguments)},h.dynCall_viiiiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiiiii.apply(null,arguments)},h.dynCall_vi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_vi.apply(null,arguments)},h.dynCall_iiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiiiii.apply(null,arguments)},h.dynCall_viiiifii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiifii.apply(null,arguments)},h.dynCall_fii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_fii.apply(null,arguments)},h.dynCall_viiiiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiiiiiiiii.apply(null,arguments)},h.dynCall_dd=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_dd.apply(null,arguments)},h.dynCall_viifi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viifi.apply(null,arguments)},h.dynCall_fiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_fiii.apply(null,arguments)},h.dynCall_viidi=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viidi.apply(null,arguments)},h.dynCall_iiiiiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiiii.apply(null,arguments)},h.dynCall_did=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_did.apply(null,arguments)},h.dynCall_v=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_v.apply(null,arguments)},h.dynCall_viiijj=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_viiijj.apply(null,arguments)},h.dynCall_iiiiiiidiiddii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iiiiiiidiiddii.apply(null,arguments)},h.dynCall_jij=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_jij.apply(null,arguments)},h.dynCall_jii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_jii.apply(null,arguments)},h.dynCall_jiji=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_jiji.apply(null,arguments)},h.dynCall_iidiiii=function(){return u(Ee,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),u(!we,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),h.asm.dynCall_iidiiii.apply(null,arguments)},h.asm=Pe,Object.getOwnPropertyDescriptor(h,"intArrayFromString")||(h.intArrayFromString=function(){S("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"intArrayToString")||(h.intArrayToString=function(){S("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.ccall=d,h.cwrap=function(e,t,i,r){return function(){return d(e,t,i,arguments)}},Object.getOwnPropertyDescriptor(h,"setValue")||(h.setValue=function(){S("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getValue")||(h.getValue=function(){S("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"allocate")||(h.allocate=function(){S("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getMemory")||(h.getMemory=function(){S("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"AsciiToString")||(h.AsciiToString=function(){S("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToAscii")||(h.stringToAscii=function(){S("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF8ArrayToString")||(h.UTF8ArrayToString=function(){S("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF8ToString")||(h.UTF8ToString=function(){S("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF8Array")||(h.stringToUTF8Array=function(){S("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF8")||(h.stringToUTF8=function(){S("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"lengthBytesUTF8")||(h.lengthBytesUTF8=function(){S("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF16ToString")||(h.UTF16ToString=function(){S("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF16")||(h.stringToUTF16=function(){S("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"lengthBytesUTF16")||(h.lengthBytesUTF16=function(){S("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"UTF32ToString")||(h.UTF32ToString=function(){S("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stringToUTF32")||(h.stringToUTF32=function(){S("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"lengthBytesUTF32")||(h.lengthBytesUTF32=function(){S("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"allocateUTF8")||(h.allocateUTF8=function(){S("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackTrace")||(h.stackTrace=function(){S("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnPreRun")||(h.addOnPreRun=function(){S("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnInit")||(h.addOnInit=function(){S("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnPreMain")||(h.addOnPreMain=function(){S("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnExit")||(h.addOnExit=function(){S("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addOnPostRun")||(h.addOnPostRun=function(){S("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"writeStringToMemory")||(h.writeStringToMemory=function(){S("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"writeArrayToMemory")||(h.writeArrayToMemory=function(){S("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"writeAsciiToMemory")||(h.writeAsciiToMemory=function(){S("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"addRunDependency")||(h.addRunDependency=function(){S("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"removeRunDependency")||(h.removeRunDependency=function(){S("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"ENV")||(h.ENV=function(){S("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"FS")||(h.FS=function(){S("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"FS_createFolder")||(h.FS_createFolder=function(){S("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createPath")||(h.FS_createPath=function(){S("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createDataFile")||(h.FS_createDataFile=function(){S("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createPreloadedFile")||(h.FS_createPreloadedFile=function(){S("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createLazyFile")||(h.FS_createLazyFile=function(){S("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createLink")||(h.FS_createLink=function(){S("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_createDevice")||(h.FS_createDevice=function(){S("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"FS_unlink")||(h.FS_unlink=function(){S("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(h,"GL")||(h.GL=function(){S("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"dynamicAlloc")||(h.dynamicAlloc=function(){S("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"loadDynamicLibrary")||(h.loadDynamicLibrary=function(){S("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"loadWebAssemblyModule")||(h.loadWebAssemblyModule=function(){S("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getLEB")||(h.getLEB=function(){S("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getFunctionTables")||(h.getFunctionTables=function(){S("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"alignFunctionTables")||(h.alignFunctionTables=function(){S("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"registerFunctions")||(h.registerFunctions=function(){S("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.addFunction=function(e,t){return u(void 0!==e),a(e,t)},Object.getOwnPropertyDescriptor(h,"removeFunction")||(h.removeFunction=function(){S("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getFuncWrapper")||(h.getFuncWrapper=function(){S("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"prettyPrint")||(h.prettyPrint=function(){S("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"makeBigInt")||(h.makeBigInt=function(){S("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"dynCall")||(h.dynCall=function(){S("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getCompilerSetting")||(h.getCompilerSetting=function(){S("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackSave")||(h.stackSave=function(){S("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackRestore")||(h.stackRestore=function(){S("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"stackAlloc")||(h.stackAlloc=function(){S("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"establishStackSpace")||(h.establishStackSpace=function(){S("'establishStackSpace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"print")||(h.print=function(){S("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"printErr")||(h.printErr=function(){S("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"getTempRet0")||(h.getTempRet0=function(){S("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"setTempRet0")||(h.setTempRet0=function(){S("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.callMain=x,Object.getOwnPropertyDescriptor(h,"abort")||(h.abort=function(){S("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"Pointer_stringify")||(h.Pointer_stringify=function(){S("'Pointer_stringify' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(h,"warnOnce")||(h.warnOnce=function(){S("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),h.writeStackCookie=E,h.checkStackCookie=w,h.abortStackOverflow=function(e){S("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(fe-ci()+e)+" bytes available!")},Object.getOwnPropertyDescriptor(h,"ALLOC_NORMAL")||Object.defineProperty(h,"ALLOC_NORMAL",{configurable:!0,get:function(){S("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"ALLOC_STACK")||Object.defineProperty(h,"ALLOC_STACK",{configurable:!0,get:function(){S("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"ALLOC_DYNAMIC")||Object.defineProperty(h,"ALLOC_DYNAMIC",{configurable:!0,get:function(){S("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"ALLOC_NONE")||Object.defineProperty(h,"ALLOC_NONE",{configurable:!0,get:function(){S("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(h,"calledRun")||Object.defineProperty(h,"calledRun",{configurable:!0,get:function(){S("'calledRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}}),Te=function e(){ai||q(),ai||(Te=e)},h.run=q,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);h.preInit.length>0;)h.preInit.pop()();var fi=!0;h.noInitialRun&&(fi=!1),s=!0,q()}i.d(t,"EasyPlayerWasmModule",function(){return f}),i.d(t,"EasyLoadWasmModule",function(){return p}),i.d(t,"EasyModuleInitialized",function(){return A});var s,u=i(1),l=!1,c="",h=void 0!==h?h:{},d=function(e){e.isFlvStream=!0,e.enableAudio=!1,e.pause=!1,e.exitFlag=!1,e.needMoreData=!1,e.wasmDecoderId=-1,e.wasmInitVideoDecoder=!1,e.wasmInitAudioDecoder=!1,e.videoQueue=[],e.audioQueue=[],e.videoFrameNum=0,e.videoRawData=null,e.audioRawData=null,e.videoPacketData=null,e.audioPacketData=null,e.findKeyFrame=!0,e.videoIntervalHandle=-1,e.videoIntervalValue=40,e.audioIntervalHandle=-1,e.audioIntervalValue=80,e.lastPTS=0,e.ptsCount=0,e.maxCacheFrameNum=0,e.calcDelayFlag=!0,e.procVideoFlag=!1,e.procAudioFlag=!1;var t=function(){null==e.videoRawData&&(e.videoRawData=h._malloc(16588800)),null==e.audioRawData&&(e.audioRawData=h._malloc(16384)),null==e.videoPacketData&&(e.videoPacketData=h._malloc(1048576)),null==e.audioPacketData&&(e.audioPacketData=h._malloc(2048)),e.wasmDecoderId<0&&(e.wasmDecoderId=h._WasmDecoder_OpenChannel())},i=function(t,i,r,n,o,a,s,l,c,d){if(e.procVideoFlag)return-1;e.procVideoFlag=!0,h.HEAPU8.set(l,e.videoPacketData);var f,p=u.G,A=0;p==u.G?A=0:p==u.E?A=2:p==u.F&&(A=26),1==t&&e.videoFrameNum>0&&(e.videoFrameNum-=1),1==t&&!e.wasmInitVideoDecoder&&r?0==h._WasmDecoder_OpenVideoDecoder(e.wasmDecoderId,i,0,0,A)&&(e.wasmInitVideoDecoder=!0):2!=t||e.wasmInitAudioDecoder||0==h._WasmDecoder_OpenAudioDecoder(e.wasmDecoderId,i,o,s,a)&&(e.wasmInitAudioDecoder=!0);var g=null;if(1==t&&e.wasmInitVideoDecoder?g=h._WasmDecoder_DecodeVideoFrame(e.wasmDecoderId,e.videoPacketData,c,0,0,e.videoRawData,0):2==t&&e.wasmInitAudioDecoder&&e.enableAudio&&(g=h._WasmDecoder_DecodeAudioFrame(e.wasmDecoderId,e.videoPacketData,c,e.audioRawData,0)),0!=g&&null!=g){var m=h.HEAPU32[g/4],y=(h.HEAPU32[g/4+1],h.HEAPU32[g/4+2]),v=(h.HEAPU32[g/4+3],h.HEAPU32[g/4+4]),E=h.HEAPU32[g/4+5],w=(h.HEAPU32[g/4+6],h.HEAPU32[g/4+7]),b=h.HEAPU32[g/4+8],C=h.HEAPU32[g/4+9],I=h.HEAPU32[g/4+10],S=h.HEAPU32[g/4+11],M=(h.HEAPU32[g/4+12],h.HEAPU32[g/4+13]);if(y<1)return void(e.procVideoFlag=!1);if(1==m){0==A?f=v*E*3/2:2==A?f=v*E*3:(25==A||26==A)&&(f=v*E*4);var k=h.HEAPU8.subarray(e.videoRawData,e.videoRawData+f),T=new Uint8Array(k),D={cmd:u.q,workerId:u.a,mediaType:1,ts:M,width:v,height:E,framesize:c,rawsize:f,fps:w,interval:b,playTimeSec:n,frameNum:e.videoFrameNum,dat:T,sei:d};if(e.postMessage(D,[D.dat.buffer]),v>=1920&&E>=720)return e.procVideoFlag=!1,1}else if(2==m){k=h.HEAPU8.subarray(e.audioRawData,e.audioRawData+y),T=new Uint8Array(k);var B=0;8==S?B=0:16==S?B=1:32==S&&(B=2),D={cmd:u.q,workerId:u.a,mediaType:2,fmt:B,ch:C,samplerate:I,ts:M,framesize:y,dat:T},e.postMessage(D,[D.dat.buffer])}}return e.procVideoFlag=!1,0},r=function(t,i,r,n,o,a){h.HEAPU8.set(o,e.audioPacketData),e.wasmInitAudioDecoder||0==h._WasmDecoder_OpenAudioDecoder(e.wasmDecoderId,t,i,n,r)&&(e.wasmInitAudioDecoder=!0);var s=null;if(e.wasmInitAudioDecoder&&e.enableAudio&&(s=h._WasmDecoder_DecodeAudioFrame(e.wasmDecoderId,e.audioPacketData,a,e.audioRawData,0)),0!=s&&null!=s){h.HEAPU32[s/4],h.HEAPU32[s/4+1];var l=h.HEAPU32[s/4+2],c=(h.HEAPU32[s/4+3],h.HEAPU32[s/4+4],h.HEAPU32[s/4+5],h.HEAPU32[s/4+6],h.HEAPU32[s/4+7],h.HEAPU32[s/4+8],h.HEAPU32[s/4+9]),d=h.HEAPU32[s/4+10],f=h.HEAPU32[s/4+11],p=(h.HEAPU32[s/4+12],h.HEAPU32[s/4+13]);if(l<1)return;var A=h.HEAPU8.subarray(e.audioRawData,e.audioRawData+l),g=new Uint8Array(A),m=0;8==f?m=0:16==f?m=1:32==f&&(m=2);var y={cmd:u.q,workerId:u.a,mediaType:2,fmt:m,ch:c,samplerate:d,ts:p,framesize:l,dat:g};e.postMessage(y,[y.dat.buffer])}},n=function(){if(e.wasmDecoderId<0&&t(),e.wasmDecoderId>0&&e.videoQueue.length>0&&!e.pause){var r=null,n=-1;if(e.isFlvStream){if(e.findKeyFrame)for(;e.videoQueue.length>0;){if((r=e.videoQueue[0]).frameType&&e.videoQueue.length<60){e.findKeyFrame=!1;break}e.videoQueue.shift()}else e.videoQueue.length>60&&(e.findKeyFrame=!0);e.videoQueue.length>0&&(null==r&&(r=e.videoQueue[0]),n=i(r.mediaType,r.codecId,r.frameType,r.playTimeSec,r.samplerate,r.channelNum,r.bitPerSample,r.dat,r.dat.length,r.sei))}else r=e.videoQueue[0],n=i(r.mediaType,r.codecId,r.frameType,r.playTimeSec,r.samplerate,r.channelNum,r.bitPerSample,r.dat,r.dat.length);n>=0&&e.videoQueue.shift(),e.videoQueue.length>e.maxCacheFrameNum&&e.videoQueue.length}},o=function(){if(!(e.wasmDecoderId<0)&&e.wasmDecoderId>0)for(;e.audioQueue.length>0&&!e.pause;)if(!e.pause){var t=e.audioQueue[0];e.enableAudio&&r(t.codecId,t.samplerate,t.channelNum,t.bitPerSample,t.dat,t.dat.length),e.audioQueue.shift()}};h.onRuntimeInitialized=function(){e.videoIntervalHandle<0&&(e.videoIntervalHandle=setInterval(n,e.videoIntervalValue)),e.audioIntervalHandle<0&&(e.audioIntervalHandle=setInterval(o,e.audioIntervalValue));var t={cmd:u.n};e.postMessage(t),l=!0},h.onExit=function(){};var f=function(t){if(t>e.lastPTS)if(e.lastPTS>0){if(e.videoQueue.length%5==0){var i=e.ptsCount/5;e.videoQueue.length<=e.maxCacheFrameNum&&function(t){if(l){var i=t;(i<5||i>500)&&(i=40),i!=e.videoIntervalValue&&(e.videoIntervalHandle>=0&&(clearInterval(e.videoIntervalHandle),e.videoIntervalHandle=-1),e.videoIntervalValue=Math.floor(i),e.videoIntervalHandle=setInterval(n,e.videoIntervalValue))}}(i),e.ptsCount=t-e.lastPTS}else e.ptsCount+=t-e.lastPTS;e.lastPTS=t}else e.lastPTS=t,e.ptsCount=40;else e.lastPTS=t,e.ptsCount=40};e.addEventListener("message",function(i){var r=i.data;switch(r.cmd){case u.w:c=r.url,e.isFlvStream=r.isFlv,l||a();break;case u.l:e.exitFlag=!0,d=null,e.videoIntervalHandle>=0&&(clearInterval(e.videoIntervalHandle),e.videoIntervalHandle=-1),e.audioIntervalHandle>=0&&(clearInterval(e.audioIntervalHandle),e.audioIntervalHandle=-1),e.wasmDecoderId>0&&(h._WasmDecoder_CloseChannel(e.wasmDecoderId),e.wasmDecoderId=-1),null!=e.videoRawData&&(h._free(e.videoRawData),e.videoRawData=null),null!=e.audioRawData&&(h._free(e.audioRawData),e.audioRawData=null),null!=e.videoPacketData&&(h._free(e.videoPacketData),e.videoPacketData=null),null!=e.audioPacketData&&(h._free(e.audioPacketData),e.audioPacketData=null),e.videoQueue.clear,e.videoQueue=[],e.videoQueue.length=0,e.videoFrameNum=0,e.audioQueue.clear,e.audioQueue=[],e.audioQueue.length=0,delete h.HEAP8,delete h.HEAP16,delete h.HEAP32,delete h.HEAPF32,delete h.HEAPF64,delete h.HEAPU8,delete h.HEAPU16,delete h.HEAPU32,delete h.buffer,h.HEAP8=null,h.HEAP16=null,h.HEAP32=null,h.HEAPF32=null,h.HEAPF64=null,h.HEAPU8=null,h.HEAPU16=null,h.HEAPU32=null,h.buffer=null,s=!1,h.callMain("exit"),h=null;var n={cmd:u.l,workerId:u.a};e.postMessage(n),close();break;case u.v:e.enableAudio=!0;break;case u.k:e.enableAudio=!1;break;case u.x:e.pause=!0;break;case u.A:e.pause=!1;break;case u.B:e.videoQueue.clear,e.videoQueue=[],e.videoQueue.length=0,e.videoFrameNum=0,e.audioQueue.clear,e.audioQueue=[],e.audioQueue.length=0;break;case u.D:e.updateIntervalTime(r.interval);break;case u.q:if(e.exitFlag)break;l?e.isFlvStream?(e.wasmDecoderId<0&&t(),e.wasmDecoderId>0?1==r.mediaType?e.videoIntervalHandle>=0&&(e.videoQueue.push(r),e.maxCacheFrameNum=5):2==r.mediaType&&e.audioIntervalHandle>=0&&!e.findKeyFrame&&e.audioQueue.push(r):e.videoQueue.length<100&&1==r.mediaType&&r.frameType&&e.videoIntervalHandle>=0&&(e.videoQueue.push(r),e.videoQueue.length>=5&&e.videoQueue.shift())):(1==r.mediaType?e.videoIntervalHandle>=0&&(e.videoQueue.push(r),f(r.samplerate),e.videoFrameNum+=1,e.calcDelayFlag&&e.maxCacheFrameNum<e.videoQueue.length?e.maxCacheFrameNum=e.videoQueue.length:e.calcDelayFlag&&(e.calcDelayFlag=!1)):2==r.mediaType&&e.audioIntervalHandle>=0&&e.audioQueue.push(r),e.needMoreData=!1):e.isFlvStream&&e.videoQueue.length<5?1==r.mediaType&&r.frameType&&e.videoIntervalHandle>=0&&(e.videoQueue.push(r),e.videoQueue.length>=5&&e.videoQueue.shift()):!e.isFlvStream&&e.videoQueue.length<1e3&&(1==r.mediaType?e.videoIntervalHandle>=0&&(e.videoQueue.push(r),f(r.samplerate),e.videoFrameNum+=1,e.calcDelayFlag&&e.maxCacheFrameNum<e.videoQueue.length?e.maxCacheFrameNum=e.videoQueue.length:e.calcDelayFlag&&(e.calcDelayFlag=!1)):2==r.mediaType&&e.audioIntervalHandle>=0&&e.audioQueue.push(r))}})};t.default=d;var f=h,p=a,A=l}.call(this,i(9),"/",i(68)(e),i(10).Buffer)},function(e,t,i){"use strict";function r(){return Object.assign({},u)}function n(){function e(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,n,o){var a=t&&t.prototype instanceof r?t:r,s=Object.create(a.prototype),u=new d(o||[]);return s._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=l(s,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=i(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,n,u),s}function i(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(i){e(t,i,function(e){return this._invoke(i,e)})})}function u(e,t){var r;this._invoke=function(n,o){function a(){return new t(function(r,a){!function r(n,o,a,s){var u=i(e[n],e,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&m.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(c).then(function(e){l.value=e,a(l)},function(e){return r("throw",e,a,s)})}s(u.arg)}(n,o,r,a)})}return r=r?r.then(a,a):a()}}function l(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,l(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var n=i(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,b;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,b):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function f(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(m.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:p}}function p(){return{value:void 0,done:!0}}n=function(){return A};var A={},g=Object.prototype,m=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},v=y.iterator||"@@iterator",E=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,i){return e[t]=i}}A.wrap=t;var b={},C={};e(C,v,function(){return this});var I=Object.getPrototypeOf,S=I&&I(I(f([])));S&&S!==g&&m.call(S,v)&&(C=S);var M=a.prototype=r.prototype=Object.create(C);return o.prototype=a,e(M,"constructor",a),e(a,"constructor",o),o.displayName=e(a,w,"GeneratorFunction"),A.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},A.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,e(t,w,"GeneratorFunction")),t.prototype=Object.create(M),t},A.awrap=function(e){return{__await:e}},s(u.prototype),e(u.prototype,E,function(){return this}),A.AsyncIterator=u,A.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new u(t(e,i,r,n),o);return A.isGeneratorFunction(i)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(M),e(M,w,"Generator"),e(M,v,function(){return this}),e(M,"toString",function(){return"[object Generator]"}),A.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},A.values=f,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,i.next=t,r&&(i.method="next",i.arg=void 0),!!r}if(this.done)throw e;for(var i=this,r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var a=m.call(n,"catchLoc"),s=m.call(n,"finallyLoc");if(a&&s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),h(i),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;h(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:f(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),b}},A}function o(e,t,i,r,n,o,a){try{var s=e[o](a),u=s.value}catch(e){return void i(e)}s.done?t(u):Promise.resolve(u).then(r,n)}i.r(t);var a=i(43),s=i(37),u={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0},l=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},e.supportNetworkStreamIO=function(){var e=new s.a({},r()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new s.a({},r()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var i=e.videoElement.canPlayType(t);return"probably"===i||"maybe"==i},e.getFeatureList=function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}(),c=i(3),h=(i(128),i(8)),d=i.n(h),f=i(0),p=i(7),A={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"},g=i(21),m=i.n(g),y=i(19),v=i(36),E=i(2),w=i(17),b=i(1),C={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full",UPDATE_PLAY_INFO:"update_play_info",CHANGE_SPEED:"change_speed",SOURCE_ENDED:"source_ended",RECORDING_END:"recording_end"},I=function(){function e(e){this.gl=e,this.texture=null}var t=e.prototype;return t.create=function(){var e=this.gl;this.texture=e.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)},t.bind=function(e,t,i){this.gl.activeTexture([this.gl.TEXTURE0,this.gl.TEXTURE1,this.gl.TEXTURE2,this.gl.TEXTURE3][e]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.uniform1i(this.gl.getUniformLocation(t,i),e)},t.fill=function(e,t,i){this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,e,t,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,i)},e}(),S=function(){function e(e){this.enableTextTexture=0,this.canvas=e,this.gl=null,this.program=null,this.gl=e.getContext("webgl")||e.getContext("experimental-webgl"),this.yuv_vertex_shader_source=["attribute highp vec4 aVertexPosition;","attribute vec2 aTextureCoord;","varying highp vec2 vTextureCoord;","void main(void) {"," gl_Position = aVertexPosition;"," vTextureCoord = aTextureCoord;","}"],this.yuv_fragment_shader_source=["precision highp float;","varying lowp vec2 vTextureCoord;","uniform sampler2D YTexture;","uniform sampler2D UTexture;","uniform sampler2D VTexture;","uniform sampler2D TTexture;","const mat4 YUV2RGB = mat4","("," 1.1643828125, 0, 1.59602734375, -.87078515625,"," 1.1643828125, -.39176171875, -.81296875, .52959375,"," 1.1643828125, 2.017234375, 0, -1.081390625,"," 0, 0, 0, 1",");","void main(void) {"," gl_FragColor = mix(vec4( texture2D(YTexture, vTextureCoord).x, texture2D(UTexture, vTextureCoord).x, texture2D(VTexture, vTextureCoord).x, 1) * YUV2RGB, texture2D(TTexture, vTextureCoord), 0.1);","}"],this.vertex_shader_source="\n            attribute vec4 apos;\n            void main(){\n                gl_Position = apos;\n           }",this.frag_shader_source="\n            void main(){\n                  gl_FragColor = vec4(0,0,1,1);\n            }",this.yuv_program=null,this.sei_program=null,this.index=0}var t=e.prototype;return t.initSEIProgram=function(){var e=this.gl,t=e.createShader(e.VERTEX_SHADER),i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(t,this.vertex_shader_source),e.shaderSource(i,this.frag_shader_source),e.compileShader(t),e.compileShader(i),this.sei_program=e.createProgram(),e.attachShader(this.sei_program,t),e.attachShader(this.sei_program,i),e.linkProgram(this.sei_program)},t.drawSEI=function(e){var t=this.gl,i=[];if("string"==typeof e&&(e=JSON.parse(e)),e&&e.length){e.forEach(function(e){var t=parseFloat((2*e.x1-1).toFixed(2)),r=parseFloat((1-2*e.y1).toFixed(2)),n=parseFloat((2*e.x2-1).toFixed(2)),o=parseFloat((1-2*e.y2).toFixed(2));i=[].concat(i,[t,r,t,o,n,o,n,r])});var r=new Float32Array(i);if(r.length){t.useProgram(this.sei_program);var n=t.getAttribLocation(this.sei_program,"apos"),o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n);for(var a=0;a<r.length/2;a+=4)t.drawArrays(t.LINE_LOOP,a,4)}}},t.initYUVProgram=function(){var e=this.gl;if(!this.gl)return console.log("[ER] WebGL not supported.");e.pixelStorei(e.UNPACK_ALIGNMENT,1),this.yuv_program=e.createProgram();var t=e.createShader(e.VERTEX_SHADER),i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(t,this.yuv_vertex_shader_source.join("\n")),e.shaderSource(i,this.yuv_fragment_shader_source.join("\n")),e.compileShader(t),e.compileShader(i),e.attachShader(this.yuv_program,t),e.attachShader(this.yuv_program,i),e.linkProgram(this.yuv_program)},t.drawYUV=function(e,t,i,r,n){var o=this.gl;if(o.useProgram(this.yuv_program),!o.getProgramParameter(this.yuv_program,o.LINK_STATUS))return console.log("[ER] Shader link failed.");var a=o.getAttribLocation(this.yuv_program,"aVertexPosition");o.enableVertexAttribArray(a);var s=o.getAttribLocation(this.yuv_program,"aTextureCoord");o.enableVertexAttribArray(s);var u=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,u),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),o.STATIC_DRAW),o.vertexAttribPointer(a,3,o.FLOAT,!1,0,0);var l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),o.STATIC_DRAW),o.vertexAttribPointer(s,2,o.FLOAT,!1,0,0),o.y=new I(o),o.y.create(0,null),o.u=new I(o),o.u.create(0,null),o.v=new I(o),o.v.create(0,null),o.y.bind(0,this.yuv_program,"YTexture"),o.u.bind(1,this.yuv_program,"UTexture"),o.v.bind(2,this.yuv_program,"VTexture"),o.y.fill(t,i,e.subarray(0,r)),o.u.fill(t>>1,i>>1,e.subarray(r,r+n)),o.v.fill(t>>1,i>>1,e.subarray(r+n,e.length)),o.drawArrays(o.TRIANGLE_STRIP,0,4)},t.initGL=function(){this.initYUVProgram(),this.initSEIProgram()},t.renderFrame=function(e,t,i,r,n,o){if(!this.gl)return console.log("[ER] Render frame failed due to WebGL not supported.");var a=this.gl;a.viewport(0,0,a.canvas.width,a.canvas.height),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),e&&(this.drawYUV(e,t,i,r,n),this.drawSEI(o))},t.renderVideoFrame=function(e,t,i,r){if(this.gl&&e)if(t<1||i<1){var n=this.gl,o=new Uint8Array(n.canvas.width*n.canvas.height*3/2),a=0,s=n.canvas.width*n.canvas.height,u=n.canvas.width*n.canvas.height*5/4,l=o.byteLength;for(a=s;a<u;a++)o[a]=128;for(a=u;a<l;a++)o[a]=128;var c=n.canvas.width*n.canvas.height,h=n.canvas.width/2*(n.canvas.height/2);this.renderFrame(o,n.canvas.width,n.canvas.height,c,h,r)}else{var d=t*i,f=t/2*(i/2);this.renderFrame(e,t,i,d,f,r)}},t.destroy=function(){this.gl&&(this.gl.deleteTexture(this.gl.y.texture),this.gl.deleteTexture(this.gl.u.texture),this.gl.deleteTexture(this.gl.v.texture),this.yuv_program=null,this.sei_program=null,this.gl=null)},e}(),M=function(){function e(){this.stopFlag=!1,this.bufferSourcePtr=null}var t=e.prototype;return t.destroy=function(){this.interval&&clearInterval(this.interval),this.samples=null,this.audioCtx.close(),this.audioCtx=null},t.init=function(e){this.option=Object.assign({},{encoding:"16bitInt",channels:2,sampleRate:8e3,flushingTime:1e3},e,{sampleRate:8e3===e.sampleRate?16e3:e.sampleRate}),this.samples=new Float32Array,this.flush=this.flush.bind(this),this.interval=setInterval(this.flush,this.option.flushingTime),this.maxValue=this.getMaxValue(),this.typedArray=this.getTypedArray(),this.createContext()},t.getMaxValue=function(){var e={"8bitInt":128,"16bitInt":32768,"32bitInt":2147483648,"32bitFloat":1};return e[this.option.encoding]?e[this.option.encoding]:e["16bitInt"]},t.getTypedArray=function(){var e={"8bitInt":Int8Array,"16bitInt":Int16Array,"32bitInt":Int32Array,"32bitFloat":Float32Array};return e[this.option.encoding]?e[this.option.encoding]:e["16bitInt"]},t.createContext=function(){this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},t.isTypedArray=function(e){return e.byteLength&&e.buffer&&e.buffer.constructor==ArrayBuffer},t.feed=function(e){if(this.isTypedArray(e)){e=this.getFormatedValue(e);var t=new Float32Array(this.samples.length+e.length);t.set(this.samples,0),t.set(e,this.samples.length),this.samples=t}},t.getFormatedValue=function(e){e=new this.typedArray(e.buffer);var t,i=new Float32Array(e.length);for(t=0;t<e.length;t++)i[t]=e[t]/this.maxValue;return i},t.volume=function(e){this.gainNode.gain.value=e},t.flush=function(){if(null!=this.samples&&this.samples.length){var e,t,i,r,n,o=this.audioCtx.createBufferSource(),a=this.samples.length/this.option.channels,s=this.audioCtx.createBuffer(this.option.channels,a,this.option.sampleRate);for(t=0;t<this.option.channels;t++)for(e=s.getChannelData(t),i=t,n=50,r=0;r<a;r++)e[r]=this.samples[i],r<50&&(e[r]=e[r]*r/50),r>=a-51&&(e[r]=e[r]*n--/50),i+=this.option.channels;this.startTime<this.audioCtx.currentTime&&(this.startTime=this.audioCtx.currentTime),o.buffer=s,o.connect(this.gainNode),o.start(this.startTime),this.startTime+=s.duration,this.samples=new Float32Array}},t.getTimestamp=function(){return this.audioCtx?this.audioCtx.currentTime:0},t.play=function(e){if(null!=this.audioCtx)if("running"===this.audioCtx.state){if(this.isTypedArray(e)&&(e=this.getFormatedValue(e)).length){this.stopFlag=!1;var t,i,r,n,o,a,s=this.audioCtx.createBufferSource(),u=e.length/this.option.channels;try{t=this.audioCtx.createBuffer(this.option.channels,u,this.option.sampleRate)}catch(e){console.log("audioBuffer",e)}for(r=0;r<this.option.channels;r++)for(i=t.getChannelData(r),n=r,a=50,o=0;o<u;o++)i[o]=e[n],o<50&&(i[o]=i[o]*o/50),o>=u-51&&(i[o]=i[o]*a--/50),n+=this.option.channels;this.startTime<this.audioCtx.currentTime&&(this.startTime=this.audioCtx.currentTime),s.buffer=t,s.connect(this.gainNode),s.start(this.startTime),this.startTime+=t.duration,this.bufferSourcePtr=s}}else this.audioCtx.resume()},t.clearAudioBuffer=function(){this.stopFlag=!0,this.bufferSourcePtr&&this.bufferSourcePtr.stop(0)},t.pause=function(){null!=this.audioCtx&&"running"===this.audioCtx.state&&this.audioCtx.suspend()},t.resume=function(){null!=this.audioCtx&&"suspended"===this.audioCtx.state&&this.audioCtx.resume()},e}(),k=function(){function e(e,t,i){var r=this;if(this.TAG="Transmuxer",this._emitter=new d.a,t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=m()(228),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},y.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:y.a.getConfig()})}catch(i){f.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new v.a(e,t)}else this._controller=new v.a(e,t);if(this._controller){var n=this._controller;n.on(E.a.IO_ERROR,this._onIOError.bind(this)),n.on(E.a.DEMUX_ERROR,this._onDemuxError.bind(this)),n.on(E.a.INIT_SEGMENT,this._onInitSegment.bind(this)),n.on(E.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),n.on(E.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),n.on(E.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),n.on(E.a.MEDIA_INFO,this._onMediaInfo.bind(this)),n.on(E.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),n.on(E.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),n.on(E.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),n.on(E.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this)),n.on(E.a.SEI_DATA,this._onReceiveSEIData.bind(this)),n.on(E.a.AUDIO_ERROR,this._onAudioError.bind(this)),n.on(E.a.SOCKET_CLOSE,function(){return r._emitter.emit(C.SOURCE_ENDED)}),n.on(E.a.RECORDING,function(e){r._emitter.emit(E.a.RECORDING,e)}),n.on("loaderChunkArrival",function(e){return r._emitter.emit("loaderChunkArrival",e)}),n.on("hls_error",function(){return r._emitter.emit("hls_error")})}this._wasmDecodeWoker=null,this._wasmRecordingWoker=null,this._mediaCanvas=null,this._mediaElement=i,this._webGLPlayer=null,this._isH265=!1,this._totalDuration=0,this._initDuration=0,this._currentPlayTime=0,this.snapshotTimer=null,this.loadingCompleteTimer=null,this._wasmMuted=!1,this._isFlv=e.url.includes(".flv"),this._videoRecordFindKeyframe=!0,this._videoRecordFileName="record.mp4",this._wasmVideoRecordWorker=null,this._videoRecordiInitFlag=!1,this._wasmAudioPlayer=null,this._wasmAudioFmt=0,this._wasmAudioSamplerate=0,this._wasmAudioChannelNum=1,this._wasmInitAudioPlayer=!1,this._wasmRecordingCb=null}var t=e.prototype;return t.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),y.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._wasmDecodeWoker&&(this._wasmDecodeWoker.removeAllListeners&&this._wasmDecodeWoker.removeAllListeners(),this._wasmDecodeWoker.postMessage({cmd:b.l}),this._wasmDecodeWoker&&this._wasmDecodeWoker.terminate(),this._wasmDecodeWoker=null),this._wasmRecordingWoker&&(this._wasmRecordingWoker.removeAllListeners&&this._wasmRecordingWoker.removeAllListeners(),this._wasmRecordingWoker.postMessage({cmd:b.l}),this._wasmRecordingWoker&&this._wasmRecordingWoker.terminate(),this._wasmRecordingWoker=null),this._emitter.removeAllListeners(),this._emitter=null,this._mediaCanvas&&this._mediaCanvas.parentNode.removeChild(this._mediaCanvas),this._mediaCanvas=null,this._mediaElement=null,this._webGLPlayer=null,this.snapshotTimer&&clearTimeout(this.snapshotTimer),this.loadingCompleteTimer&&clearTimeout(this.loadingCompleteTimer),this.snapshotTimer=null,this.loadingCompleteTimer=null,this._wasmAudioPlayer=null,this._wasmRecordingCb=null},t.on=function(e,t){this._emitter.addListener(e,t)},t.off=function(e,t){this._emitter.removeListener(e,t)},t.hasWorker=function(){return null!=this._worker},t.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):(this._controller.setReceiveH265MediaFrame(this._onReceiveH265MediaFrame.bind(this)),this._controller.start())},t.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},t.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},t.pause=function(){if(this._isH265){var e={cmd:b.x};this._wasmDecodeWoker&&void 0!==this._wasmDecodeWoker&&this._wasmDecodeWoker.postMessage(e)}else this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},t.resume=function(){if(this._isH265){var e={cmd:b.A};this._wasmDecodeWoker&&void 0!==this._wasmDecodeWoker&&this._wasmDecodeWoker.postMessage(e)}else this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},t._onInitSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(E.a.INIT_SEGMENT,e,t)})},t._onMediaSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(E.a.MEDIA_SEGMENT,e,t)})},t._onLoadingComplete=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(E.a.LOADING_COMPLETE)})},t._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(E.a.RECOVERED_EARLY_EOF)})},t._onMediaInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(E.a.MEDIA_INFO,e)})},t._onMetaDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(E.a.METADATA_ARRIVED,e)})},t._onScriptDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(E.a.SCRIPTDATA_ARRIVED,e)})},t._onStatisticsInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(E.a.STATISTICS_INFO,e)})},t._onIOError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(E.a.IO_ERROR,e,t)})},t._onDemuxError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(E.a.DEMUX_ERROR,e,t)})},t._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(E.a.RECOMMEND_SEEKPOINT,e)})},t._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(E.a.RECOMMEND_SEEKPOINT,e)})},t._encodedH265=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(E.a.IS_ENCODED_H265,e._isH265)})},t._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},t._onWorkerMessage=function(e){var t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case E.a.INIT_SEGMENT:case E.a.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case E.a.LOADING_COMPLETE:case E.a.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case E.a.MEDIA_INFO:Object.setPrototypeOf(i,w.a.prototype),this._emitter.emit(t.msg,i);break;case E.a.METADATA_ARRIVED:case E.a.SCRIPTDATA_ARRIVED:case E.a.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case E.a.IO_ERROR:case E.a.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case E.a.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":f.a.emitter.emit("log",i.type,i.logcat)}},t._onReceiveSEIData=function(e){this._emitter.emit(E.a.SEI_DATA,e)},t._onAudioError=function(){this._emitter.emit(E.a.AUDIO_ERROR)},t._creatCanvas=function(){var e=this;this._mediaElement.parentNode.style.position="relative";var t=document.createElement("canvas");t.style="width:100%;height:100%;position:absolute;top:0px;left:0px;display:none",this._mediaCanvas=t,this._mediaElement.parentNode.appendChild(this._mediaCanvas),this._mediaCanvas.ondblclick=function(){return e._emitter.emit(E.a.ON_DBL_CLICK)}},t._onReceiveH265MediaFrame=function(){var e,t=(e=n().mark(function e(t,i,r,o,a,s,u,l,c,h,d,f){var p,A,g,m;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isH265||(this._isH265=!0,this._encodedH265(),this._creatCanvas()),!(o<1)||i||1!==u){e.next=3;break}return e.abrupt("return");case 3:if(2===r&&(this._wasmAudioSamplerate=c||0,this._wasmAudioChannelNum=h),null!==this._wasmDecodeWoker){e.next=7;break}return e.next=7,this._createWasmDecodeWorker();case 7:if(!this._wasmDecodeWoker){e.next=15;break}if(p=new Uint8Array(s),A={cmd:b.q,mediaType:r,codecId:o,frameType:a,samplerate:c,channelNum:h,bitPerSample:d,playTimeSec:l,dat:p,sei:f},this._wasmDecodeWoker.postMessage(A,[A.dat.buffer]),this._videoRecordiInitFlag){e.next=13;break}return e.abrupt("return");case 13:1==a&&(this._videoRecordFindKeyframe=!1),this._wasmVideoRecordWorker&&!this._videoRecordFindKeyframe&&(g=new Uint8Array(s),m={cmd:b.q,mediaType:"video",type:1==a,dat:g,pts:l},1===r?(m.mediaType="video",m.codecId="0xAE"):2===r&&(m.mediaType="audio"),this._wasmVideoRecordWorker.postMessage(m,[m.dat.buffer]));case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(r,n){function a(e){o(u,r,n,a,s,"next",e)}function s(e){o(u,r,n,a,s,"throw",e)}var u=e.apply(t,i);a(void 0)})});return function(e,i,r,n,o,a,s,u,l,c,h,d){return t.apply(this,arguments)}}(),t._createWasmDecodeWorker=function(){if("undefined"!=typeof Worker)try{"none"===this._mediaCanvas.style.display&&(this._mediaCanvas.style.display="block"),this._wasmDecodeWoker=m()(229);var e={cmd:b.w,url:b.g(),isFlv:this._isFlv};this._wasmDecodeWoker.postMessage(e),this._wasmDecodeWoker.addEventListener("message",this._onWasmWorkerMessage.bind(this)),this._wasmDecodeWoker.onerror=function(e){}}catch(e){this._wasmDecodeWoker=null}else this._wasmDecodeWoker=null;this._wasmDecodeWoker&&null==this._webGLPlayer&&(this._webGLPlayer=new S(this._mediaCanvas),this._webGLPlayer&&this._webGLPlayer.initGL({preserveDrawingBuffer:!1}))},t._onWasmWorkerMessage=function(e){var t=e.data;switch(t.cmd){case b.o:case b.l:break;case b.n:this._wasmMuted&&this._openWasmAudio();break;case b.q:if(t.workerId===b.a)if(1===t.mediaType){if(this._mediaCanvas&&(this._mediaCanvas.width=t.width),this._mediaCanvas&&(this._mediaCanvas.height=t.height),t.playTimeSec>0){var i=Math.floor((t.playTimeSec+1e3)/1e3);this._currentPlayTime!==i&&(this._initDuration>0&&(this._currentPlayTime+=i-this._initDuration),this._initDuration!==i&&(this._initDuration=i,this._emitter&&this._emitter.emit(C.UPDATE_PLAY_INFO)))}this._webGLPlayer&&this._webGLPlayer.renderVideoFrame(t.dat,t.width,t.height,t.sei)}else 2===t.mediaType&&(null===this._wasmAudioPlayer?this._creatWasmAudioPlayer(t.fmt,t.samplerate>=16e3?2:t.ch,t.samplerate):(this._wasmAudioFmt=t.fmt,this._wasmAudioSamplerate=t.samplerate,this._wasmAudioChannelNum=t.ch,44100==this._wasmAudioSamplerate&&(this._wasmAudioFmt=1)),this._wasmMuted&&this._wasmAudioPlayer&&this._wasmInitAudioPlayer&&this._wasmAudioPlayer.play(t.dat));break;case b.m:break;case b.w:this._videoRecordiInitFlag=!0,this._videoRecordFindKeyframe=!0;break;case b.p:this._videoRecordiInitFlag=!1;var r=document.createElement("a");r.style.display="none",r.href=t.dat,r.download=this._videoRecordFileName,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(r.href),document.body.removeChild(r),this._videoRecordFindKeyframe=!1,this._wasmVideoRecordWorker.terminate(),this._wasmVideoRecordWorker=null,this._wasmRecordingCb(),this._wasmRecordingCb=null}},t._creatWasmAudioPlayer=function(e,t,i){if(null===this._wasmAudioPlayer){var r;r="16bitInt",this._wasmAudioPlayer=new M,this._wasmAudioPlayer.init({encoding:r,channels:t,sampleRate:i,flushingTime:1e3}),this._wasmInitAudioPlayer=!0}},t._getCurrentPlayTime=function(){return this._currentPlayTime},t._getTotalDuration=function(){if(this._controller)return this._controller._getHLSTotalDuration()},t._seekToSecs=function(e,t){var i={cmd:b.B,type:t,time:e};this._wasmDecodeWoker&&this._wasmDecodeWoker.postMessage(i),this._controller._seekToSecs(e,t)},t.saveLocalSnapshot=function(){var e=this,t=this._mediaCanvas.toDataURL("image/jpg",1);if(t.length<786432)return this.snapshotTimer=setTimeout(function(){return e.saveLocalSnapshot()},40);this.snapshotTimer&&clearTimeout(this.snapshotTimer),this.snapshotTimer=null;var i=document.createElement("a");i.download="easy-player-"+(new Date).getTime(),i.href=t,document.body.appendChild(i),i.click(),i.remove()},t.videoRecording=function(e,t,i,r){if(r&&(this._wasmRecordingCb=r),this._wasmDecodeWoker)if(1===i){if(this._videoRecordFileName=e,this._videoRecordingCB=r,null===this._wasmVideoRecordWorker){this._videoRecordFindKeyframe=!0;try{this._wasmVideoRecordWorker=m()(67),this.onwmsg=this._onWasmWorkerMessage.bind(this);var n={cmd:b.w,url:b.g(),filesize:t,audioSamplerate:this._wasmAudioSamplerate,channelCount:this._wasmAudioChannelNum};this._wasmVideoRecordWorker.postMessage(n),this._wasmVideoRecordWorker.addEventListener("message",this.onwmsg)}catch(e){this._wasmVideoRecordWorker&&this._wasmVideoRecordWorker.terminate(),this._wasmVideoRecordWorker=null}}}else this._videoRecordiInitFlag=!1,this._wasmVideoRecordWorker&&(this._wasmVideoRecordWorker.postMessage({cmd:b.C}),this._videoRecordFindKeyframe=!0);else{if(!this._controller)return;this._controller.videoRecording(e,t,i,r)}},t._openWasmAudio=function(){this._wasmDecodeWoker&&(this._wasmDecodeWoker.postMessage({cmd:b.v}),this._wasmMuted=!0,null===this._wasmAudioPlayer&&(this._wasmAudioSamplerate>0?this._creatWasmAudioPlayer(this._wasmAudioFmt,this._wasmAudioSamplerate>=16e3?2:this._wasmAudioChannelNum,this._wasmAudioSamplerate):console.log("采样率无效")))},t._closeWasmAudio=function(){this._wasmDecodeWoker&&this._wasmDecodeWoker.postMessage({cmd:b.k}),this._wasmAudioPlayer&&this._wasmInitAudioPlayer&&this._wasmAudioPlayer.clearAudioBuffer(),this._wasmMuted=!1},e}(),T=i(16),D=i(4),B=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new d.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new T.a,this._pause=!1,this._hlsSeekTime=0,this._lastPlayTime=0,this._currentPlayTime=0,this._audioError=!1}var t=e.prototype;return t.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},t.on=function(e,t){this._emitter.addListener(e,t)},t.off=function(e,t){this._emitter.removeListener(e,t)},t.attachMediaElement=function(e){var t=this;if(this._mediaSource)throw new D.a("MediaSource has been attached to an HTMLMediaElement!");var i=this._mediaSource=new window.MediaSource;i.addEventListener("sourceopen",this.e.onSourceOpen),i.addEventListener("sourceended",this.e.onSourceEnded),i.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),this._mediaElement.src=this._mediaSourceObjectURL,e.addEventListener("timeupdate",function(){var i=Math.floor(e.currentTime);t._hlsSeekTime>0&&(i=i-self._lastPlayTime+self._hlsSeekTime),t._currentPlayTime!==i&&(t._currentPlayTime=i,t._emitter&&t._emitter.emit(C.UPDATE_PLAY_INFO,{currentTime:t._currentPlayTime,duration:t._mediaElement.duration}))},!1)},t.getCurrentPlayTime=function(){return this._currentPlayTime},t.getTotalDuration=function(){return this._mediaElement.duration},t.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var r=this._sourceBuffers[t];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(e){f.a.e(this.TAG,e.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){f.a.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},t.appendInitSegment=function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var i=e,r=""+i.container;i.codec&&i.codec.length>0&&(r+=";codecs="+i.codec);var n=!1;if(this._lastInitSegments[i.type]=i,r!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])f.a.v(this.TAG,"Notice: "+i.type+" mimeType changed, origin: "+this._mimeTypes[i.type]+", target: "+r);else{n=!0;try{var o=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(r);o.addEventListener("error",this.e.onSourceBufferError),o.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return f.a.e(this.TAG,e.message),void this._emitter.emit(C.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=r}t||this._pendingSegments[i.type].push(i),n||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),p.a.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())},t.appendMediaSegment=function(e){if("audio"!==e.type||!this._audioError){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},t.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var i=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{i.abort()}catch(e){f.a.e(this.TAG,e.message)}this._idrList.clear();var r=this._pendingSegments[t];if(r.splice(0,r.length),"closed"!==this._mediaSource.readyState){for(var n=0;n<i.buffered.length;n++){var o=i.buffered.start(n),a=i.buffered.end(n);this._pendingRemoveRanges[t].push({start:o,end:a})}if(i.updating||this._doRemoveRanges(),p.a.safari){var s=this._lastInitSegments[t];s&&(this._pendingSegments[t].push(s),i.updating||this._doAppendSegments())}}}},t.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},t.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},t._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){var r=i.buffered;if(r.length>=1&&e-r.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},t._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var r=i.buffered,n=!1,o=0;o<r.length;o++){var a=r.start(o),s=r.end(o);if(a<=e&&e<s+3){if(e-a>=this._config.autoCleanupMaxBackwardDuration){n=!0;var u=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:a,end:u})}}else s<e&&(n=!0,this._pendingRemoveRanges[t].push({start:a,end:s}))}n&&!i.updating&&this._doRemoveRanges()}}},t._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(f.a.v(this.TAG,"Update MediaSource duration from "+t+" to "+i),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},t._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];i.length&&!t.updating;){var r=i.shift();t.remove(r.start,r.end)}},t._removerAudioSourceBuffer=function(){this._audioError=!0;var e=this._sourceBuffers.audio;e&&(this._mediaSource.removeSourceBuffer(e),e.removeEventListener("error",this.e.onSourceBufferError),e.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd),this._sourceBuffers.audio=null)},t._doAppendSegments=function(){var e=this._pendingSegments;for(var t in b.d()&&!this._pause&&"flv"===this._config.streamType&&this.AdjustPlayTimeToEnd(),e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var i=e[t].shift();if(i.timestampOffset){var r=this._sourceBuffers[t].timestampOffset,n=i.timestampOffset/1e3;Math.abs(r-n)>.1&&(f.a.v(this.TAG,"Update MPEG audio timestampOffset from "+r+" to "+n),this._sourceBuffers[t].timestampOffset=n),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,"video"===t&&i.hasOwnProperty("info")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){if(this._pendingSegments[t].unshift(i),22===e.code)this._isBufferFull||this._emitter.emit(C.BUFFER_FULL),this._isBufferFull=!0;else try{this._emitter.emit(C.ERROR,{code:11,msg:e.message})}catch(e){}}}},t._onSourceOpen=function(){if(f.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(C.SOURCE_OPEN)},t._onSourceEnded=function(){this._emitter.emit(C.SOURCE_ENDED),f.a.v(this.TAG,"MediaSource onSourceEnded")},t._onSourceClose=function(){f.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},t._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},t._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},t._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(C.UPDATE_END)},t._onSourceBufferError=function(e){f.a.e(this.TAG,"SourceBuffer Error: "+e)},t.pause=function(){this._pause=!0},t.resume=function(){this._pause=!1},t.AdjustPlayTimeToEnd=function(){if(null!=this._emitter&&null!=this._emitter){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers)if("video"===t){var i=this._sourceBuffers[t];if(i&&!i.updating){var r=i.buffered;if(r.length>0){var n=r.end(r.length-1);n-e>2?this._mediaElement.currentTime=n:this._lastSpeed>0&&(this._lastSpeed=0,this._emitter.emit(C.CHANGE_SPEED,{speed:0}))}}}}},e}(),R=i(12),Q={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},O={NETWORK_EXCEPTION:c.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:c.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:c.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:c.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:R.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:R.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:R.a.CODEC_UNSUPPORTED},L=function(){function e(e,t){this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new d.a;var i=e.url,n=e.muted,o=e.recordMaxFileSize;i.includes(".flv")&&(this._type="flv"),i.includes(".m3u8")&&(this._type="hls"),this._config=r(),l.supportMSEH264Playback()?t.decodeType=t.decodeType?t.decodeType:"auto":t.decodeType="soft","object"==typeof t&&(this._config=Object.assign(this._config,t)),!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=Object.assign(e,{type:this.type}),this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var a=p.a.chrome&&(p.a.version.major<50||50===p.a.version.major&&p.a.version.build<2661);this._alwaysSeekKeyframe=!!(a||p.a.msedge||p.a.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1),this.videoToolsTimer=null,this.playing=!0,this.mute=!0,this.kbpsEle=null,this.luXiangEle=null,this.timeTrackEle=null,this.isFullScreen=!1,this.progressBarEle=null,this.progressBarLabelEle=null,this._webRecording={enable:0},this._recording=!1,this._fullScreenBtnEle=null,this._muted=n,this._recordHlsOffset=0,this._recordMaxFileSize=o?1024*o*1024:209715200,this._recordHlsArrayBuffer=[],this._isEncodedH265=!l.supportMSEH264Playback(),this._mobile=this._isMobile(),this.isiOS=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}var t,i,n=e.prototype;return n.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null,this.videoToolsTimer&&clearTimeout(this.videoToolsTimer),this.kbpsEle=null,this.timeTrackEle=null,this.progressBarEle=null,this.videoToolsTimer=null,this.progressBarLabelEle=null,this._fullScreenBtnEle=null;var e=document.getElementsByClassName("video-tools")[0];e&&e.parentNode&&e.parentNode.removeChild(e),this._recordHlsOffset=0,this._recordHlsArrayBuffer=[],this._isEncodedH265=!1},n.on=function(e,t){var i=this;e===A.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(function(){i._emitter.emit(A.MEDIA_INFO,i.mediaInfo)}):e===A.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(function(){i._emitter.emit(A.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},n.off=function(e,t){this._emitter.removeListener(e,t)},n.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,l.supportMSEH264Playback()){if(e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new B(this._config),this._msectl.on(C.UPDATE_PLAY_INFO,this._onmseUpdatePlayInfo.bind(this)),this._msectl.on(C.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(C.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(C.SOURCE_ENDED,function(){1===t._webRecording.enable&&(t._webRecording.enable=0,t.startWebVideoRecord(0),setTimeout(function(){return t._emitter.emit(C.SOURCE_ENDED)},1e3))}),this._msectl.on(C.SOURCE_OPEN,function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())}),this._msectl.on(C.ERROR,function(e){t._emitter.emit(A.ERROR,Q.MEDIA_ERROR,O.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}this._mediaElement.muted=this._muted}else console.log("ios 设备")},n.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},n.load=function(){var e=this;if(l.supportMSEH264Playback()){if(!this._mediaElement)throw new D.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new D.a("FlvPlayer.load() has been called, please call unload() first!");if(this._hasPendingLoad)return;if(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened)return void(this._hasPendingLoad=!0);this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0)}this._transmuxer=new k(this._mediaDataSource,this._config,this._mediaElement),this._transmuxer.on(E.a.INIT_SEGMENT,function(t,i){e._msectl.appendInitSegment(i)}),this._transmuxer.on(E.a.ON_DBL_CLICK,function(){return e._requestFullScreen()}),this._transmuxer.on(E.a.MEDIA_SEGMENT,function(t,i){if(e._msectl.appendMediaSegment(i),e._config.lazyLoad&&!e._config.isLive){var r=e._mediaElement.currentTime;i.info.endDts>=1e3*(r+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(f.a.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}}),this._transmuxer.on(E.a.IS_ENCODED_H265,function(t){e._isEncodedH265=t,setTimeout(function(){return e._emitter.emit(E.a.IS_ENCODED_H265)},1500),e._render265VideoTools()}),this._transmuxer.on(E.a.LOADING_COMPLETE,function(){e._msectl.endOfStream(),e._emitter.emit(A.LOADING_COMPLETE)}),this._transmuxer.on(E.a.RECOVERED_EARLY_EOF,function(){e._emitter.emit(A.RECOVERED_EARLY_EOF)}),this._transmuxer.on(E.a.IO_ERROR,function(t,i){e._emitter.emit(A.ERROR,Q.NETWORK_ERROR,t,i)}),this._transmuxer.on(E.a.DEMUX_ERROR,function(t,i){e._emitter.emit(A.ERROR,Q.MEDIA_ERROR,t,{code:-1,msg:i})}),this._transmuxer.on(E.a.MEDIA_INFO,function(t){e._mediaInfo=t,e._emitter.emit(A.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(E.a.METADATA_ARRIVED,function(t){e._emitter.emit(A.METADATA_ARRIVED,t)}),this._transmuxer.on(E.a.SCRIPTDATA_ARRIVED,function(t){e._emitter.emit(A.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(E.a.STATISTICS_INFO,function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(A.STATISTICS_INFO,Object.assign({},e._statisticsInfo))}),this._transmuxer.on(E.a.RECOMMEND_SEEKPOINT,function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)}),this._transmuxer.on(C.SOURCE_ENDED,function(){return e._emitter.emit(C.SOURCE_ENDED)}),this._transmuxer.on(C.UPDATE_PLAY_INFO,this._onmseUpdatePlayInfo.bind(this)),this._transmuxer.on(E.a.SEI_DATA,this._onReceiveSEIData.bind(this)),this._transmuxer.on(E.a.AUDIO_ERROR,this._onAudioError.bind(this)),this._transmuxer.on("loaderChunkArrival",function(t){if(null!==t){var i=e._mediaDataSource.url;if(i&&i.includes(".m3u8"))if(e._recording){if(0===e._recordHlsArrayBuffer.length&&(e._recordHlsArrayBuffer=new Uint8Array(e._recordMaxFileSize)),e._recordHlsOffset+t.byteLength>e._recordMaxFileSize)return e.downRecord(),e._recording=!1,void(e.luXiangEle.style.color=e._recording?"red":"white");e._recordHlsArrayBuffer.set(new Int8Array(t),e._recordHlsOffset),e._recordHlsOffset+=t.byteLength}else{if(0===e._recordHlsArrayBuffer.length||0===e._recordHlsArrayBuffer.byteLength)return;e.downRecord()}}}),this._transmuxer.on("hls_error",function(){1===e._webRecording.enable&&(e._webRecording.enable=0,e.downRecord()),setTimeout(function(){return e._emitter.emit(E.a.SOURCE_ENDED)},1500)}),this._transmuxer.open()},n.downRecord=function(){var e=this.dateFormat(new Date,"YYYYMMDDhhmmss"),t=this._recordHlsArrayBuffer.slice(0,this._recordHlsOffset),i=document.createElement("a");i.style.display="none",i.href=URL.createObjectURL(new Blob([t],{type:"video/mp4"})),i.download=e+".mp4",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(i.href),document.body.removeChild(i),this._recordHlsOffset=0,this._recordHlsArrayBuffer=[]},n.dateFormat=function(e,t){var i,r={"Y+":e.getFullYear().toString(),"M+":(e.getMonth()+1).toString(),"D+":e.getDate().toString(),"h+":e.getHours().toString(),"m+":e.getMinutes().toString(),"s+":e.getSeconds().toString()};for(var n in r)(i=new RegExp("("+n+")").exec(t))&&(t=t.replace(i[1],1===i[1].length?r[n]:r[n].padStart(i[1].length,"0")));return t},n.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},n.play=function(){return this._mediaElement.play()},n.resume=function(){this._mediaElement&&this._mediaElement.play(),this._isEncodedH265&&this._transmuxer&&this._transmuxer.resume()},n.pause=function(){var e=this._mediaElement;e.offsetWidth,e.offsetHeight,this._mediaElement&&this._mediaElement.pause(),this._isEncodedH265&&this._transmuxer&&this._transmuxer.pause()},n._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var n=this._mediaElement.getVideoPlaybackQuality();i=n.totalVideoFrames,r=n.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=r),e},n._onmseUpdateEnd=function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,r=0;r<e.length;r++){var n=e.start(r),o=e.end(r);if(n<=t&&t<o){i=o;break}}i>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(f.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},n._onmseUpdatePlayInfo=function(){if(this._transmuxer){var e=0,t=0;this._isEncodedH265&&this._mediaDataSource.url.includes(".m3u8")&&((e=this._transmuxer._getCurrentPlayTime())<0&&(e=0),t=this._transmuxer._getTotalDuration(),this._updateDuration({currentTime:e,duration:t}));var i=this._transmuxer._controller._ioctl.currentSpeed,r=this._transmuxer._controller._ioctl.averageKBps;this._updateKbps({currentSpeed:i,averageKBps:r})}},n._onmseBufferFull=function(){f.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()},n._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},n._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1,r=0;r<t.length;r++){var n=t.start(r),o=t.end(r);if(e>=n&&e<o){e>=o-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(f.a.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},n._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,i=0;i<t.length;i++){var r=t.start(i),n=t.end(i);if(e>=r&&e<n)return!0}return!1},n._internalSeek=function(e){var t=this._isTimepointBuffered(e),i=!1,r=0;if(e<1&&this._mediaElement.buffered.length>0){var n=this._mediaElement.buffered.start(0);(n<1&&e<n||p.a.safari)&&(i=!0,r=p.a.safari?.1:n)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=r;else if(t){if(this._alwaysSeekKeyframe){var o=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=o?o.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},n._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},n._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var i=t.buffered;i.length>0&&t.currentTime<i.start(0)&&(f.a.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+i.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=i.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},n._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},n._onvSeeking=function(e){var t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){var r=i.start(0);if(r<1&&t<r||p.a.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=p.a.safari?.1:r)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var n=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=n&&(this._requestSetTime=!0,this._mediaElement.currentTime=n.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},n._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},n._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},n._onvProgress=function(e){this._checkAndResumeStuckPlayback()},n.seek=function(e,t){if(this._isEncodedH265&&this._transmuxer&&this._mediaDataSource.url.includes(".m3u8")){var i=Math.floor(e/100*this._transmuxer._getTotalDuration());if(this._msectl&&this._msectl.getCurrentPlayTime()===i)return!0;this._transmuxer._seekToSecs(e,t)}},n._render265VideoTools=function(){var e=this,t=document.createElement("span");t.style="width:100%;height:30px;position:absolute;bottom:0;left:0;background-color:rgba(43, 51, 63, 0.7);;z-index: 10;opacity:0;display: flex;flex-direction: row;justify-content: space-between;",t.classList="video-tools",this.videoTools=t;var i=document.createElement("div");i.style="display: flex;flex-direction: row;";var r=document.createElement("span");r.style="font-size:14px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center",r.classList="iconfont "+(this.playing?"icon-zanting":"icon-bofang");var n=document.createElement("span");n.style="font-size:14px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center",n.classList="iconfont "+(this._muted?"icon-jingyin":"icon-shengyin1"),this._mediaDataSource.url.includes(".m3u8")&&(this.progressBarEle=document.createElement("div"),this.progressBarEle.style="display:flex;flex:1;opacity: 0",this.timeTrackEle=document.createElement("input"),this.timeTrackEle.classList="timeTrack",this.timeTrackEle.id="timeTrack",this.timeTrackEle.type="range",this.timeTrackEle.style="width:100%;-webkit-appearance: none;height:3px;border-radius:3px;cursor:pointer;margin:auto;display:block;color: #FFF",this.timeTrackEle.value=0,this.timeTrackEle.oninput=function(){e.seekToPercent(e.timeTrackEle.value,1)},this.progressBarEle.appendChild(this.timeTrackEle),this.progressBarLabelEle=document.createElement("label"),this.progressBarLabelEle.style="color: #fff;padding-left: 10px;line-height:30px;font-size: 12px;min-width: 115px",this.progressBarLabelEle.innerHTML="00:00:00/00:00:00",this.progressBarEle.appendChild(this.progressBarLabelEle)),r.onclick=function(){e.playing?e.pause():e.resume(),e.playing=!e.playing,r.title=e.playing?"暂停":"播放",r.classList="iconfont "+(e.playing?"icon-zanting":"icon-bofang")},n.onclick=function(){e._muted=!e._muted,n.title=e._muted?"取消静音":"静音",n.classList="iconfont "+(e._muted?"icon-jingyin":"icon-shengyin1"),e._mediaElement.muted=e._muted,e._muted?e._transmuxer._closeWasmAudio():e._transmuxer._openWasmAudio()};var o=document.createElement("div");o.style="display: flex;flex-direction: row;",this.kbpsEle=document.createElement("div"),this.kbpsEle.style="font-size:12px;min-width:60px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;padding-right: 10px;",this.luXiangEle=document.createElement("span"),this.luXiangEle.title="录像",this.luXiangEle.style="font-size:16px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;",this.luXiangEle.classList="iconfont icon-luxiang2",this.luXiangEle.onclick=function(){return e._recordSwitch()};var a=document.createElement("span");a.title="快照",a.style="font-size:16px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;",a.classList="iconfont icon-xiangji",a.onclick=function(){return e._saveLocalSnapshot()},this._fullScreenBtnEle=document.createElement("span"),this._fullScreenBtnEle.title="全屏",this._fullScreenBtnEle.style="font-size:14px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center",this._fullScreenBtnEle.classList="iconfont "+(this.isFullScreen?"icon-xiaoping":"icon-quanping1"),this._fullScreenBtnEle.onclick=function(){return e._requestFullScreen()},this._mediaElement.parentNode.onmousemove=function(){e.videoToolsTimer&&clearTimeout(e.videoToolsTimer),e.videoTools.style.opacity="1",e.videoToolsTimer=setTimeout(function(){e.videoTools.style.opacity="0"},1e4)},this._mediaElement.parentNode.onmouseout=function(){e.videoTools.style.opacity="0",e.videoToolsTimer&&clearTimeout(e.videoToolsTimer),e.videoToolsTimer=null},i.appendChild(r),i.appendChild(n),o.appendChild(this.kbpsEle),this.isiOS||(o.appendChild(this.luXiangEle),o.appendChild(a)),o.appendChild(this._fullScreenBtnEle),t.appendChild(i),this.progressBarEle&&!this._mobile&&t.appendChild(this.progressBarEle),t.appendChild(o),this._mediaElement.parentNode.appendChild(t),window.onresize=function(){!document.fullscreenElement&&e.isFullScreen&&(e.isFullScreen=!1,e._fullScreenBtnEle.classList="iconfont "+(e.isFullScreen?"icon-xiaoping":"icon-quanping1"))}},n._recordingUIChange=function(){this._recording=!this._recording,this.luXiangEle.title=this._recording?"关闭录像":"录像",this.luXiangEle.style.color=this._recording?"red":"white"},n._requestFullScreen=function(){this.isFullScreen=!this.isFullScreen,this._fullScreenBtnEle.title=this.isFullScreen?"退出全屏":"全屏",this._fullScreenBtnEle.classList="iconfont "+(this.isFullScreen?"icon-xiaoping":"icon-quanping1"),this._emitter.emit("changeFullScreen",this.isFullScreen)},n._updateDuration=function(e){var t=e.currentTime,i=e.duration;if(!i)return this.progressBarEle.style.opacity=0;"0"===this.progressBarEle.style.opacity&&(this.progressBarEle.style.opacity=1);var r=parseInt((t+1)/i*100);r!==parseInt(this.timeTrackEle.value)&&(this.timeTrackEle.value=r),this.progressBarLabelEle&&(t<1?t=0:t>i&&(t=i),this.progressBarLabelEle.innerHTML=this._formatTime(t)+" / "+this._formatTime(i)),this._emitter.emit("timeupdate",t)},n._updateKbps=function(e){e.currentSpeed;var t=e.averageKBps;this.kbpsEle&&(this.kbpsEle.innerText=8*t>=1024?(8*t/1024).toFixed(2)+" Mb/s":parseInt(8*t+"")+" Kb/s")},n._saveLocalSnapshot=function(){this._transmuxer.saveLocalSnapshot()},n._formatTime=function(e){return(Math.floor(e/3600)<10?"0"+Math.floor(e/3600):Math.floor(e/3600))+":"+(Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60))+":"+(Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60))},n._onAudioError=function(){this._msectl&&this._msectl._removerAudioSourceBuffer()},n._onReceiveSEIData=function(e){},n.getClass=function(e){return 0===e?"blue":1===e?"black":2===e?"white":3===e?"green":4===e?"red":5===e?"yellow":"red"},n.seekToPercent=function(e){this.seek(e,1)},n.startWebVideoRecord=function(e,t,i,r){this._transmuxer&&(t||(t=this.dateFormat(new Date,"YYYYMMDDhhmmss")+".mp4"),this._mediaDataSource.url.includes(".flv")&&this._transmuxer.videoRecording(t,i||this._recordMaxFileSize,e,r),this._webRecording.enable=e)},n._isMobile=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},n._recordSwitch=function(){var e=this;this._recordingUIChange(),this.startWebVideoRecord(this._recording?1:0,"","",function(){e._emitter.emit(C.RECORDING_END)})},t=e,(i=[{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=function(){function e(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new d.a,this._config=r(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new D.b("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new D.b("NativePlayer("+e.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}var t,i,n=e.prototype;return n.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},n.on=function(e,t){var i=this;e===A.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(A.MEDIA_INFO,i.mediaInfo)}):e===A.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(A.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},n.off=function(e,t){this._emitter.removeListener(e,t)},n.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},n.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},n.load=function(){if(!this._mediaElement)throw new D.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},n.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},n.play=function(){return this._mediaElement.play()},n.pause=function(){this._mediaElement.pause()},n._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(A.MEDIA_INFO,this.mediaInfo)},n._reportStatisticsInfo=function(){this._emitter.emit(A.STATISTICS_INFO,this.statisticsInfo)},t=e,(i=[{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}},{key:"statisticsInfo",get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var n=this._mediaElement.getVideoPlaybackQuality();i=n.totalVideoFrames,r=n.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=r),e}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();a.a.install();var q={createPlayer:function(e,t){var i=e;if(null==i||"object"!=typeof i)throw new D.b("MediaDataSource must be an javascript object!");return new L(i,t)},isSupported:function(){return l.supportMSEH264Playback()},getFeatureList:function(){return l.getFeatureList()}};q.BaseLoader=c.a,q.LoaderStatus=c.c,q.LoaderErrors=c.b,q.Events=A,q.ErrorTypes=Q,q.ErrorDetails=O,q.FlvPlayer=L,q.NativePlayer=x,q.LoggingControl=y.a,Object.defineProperty(q,"version",{enumerable:!0,get:function(){return __VERSION__}});var K=q;t.default=K},function(e,t,i){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}i.r(t);var a=i(30),s=i.n(a),u=i(123),l=i.n(u),c=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}var i,n;return n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,r(i,n),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(s.a),h=function(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},n=i.length;n--;)""!==i[n]&&((t=/([^=]*)=(.*)/.exec(i[n]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},d=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,n(i,r);var o=t.prototype;return o.push=function(e){var t,i,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(function(t,i){var r=i(e);return r===e?t:t.concat([r])},[e]).forEach(function(e){for(var n=0;n<r.customParsers.length;n++)if(r.customParsers[n].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void r.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void r.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),void r.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void r.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var o=h(t[1]);if(o.URI&&(i.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];i.byterange={},s&&(i.byterange.length=parseInt(s,10)),u&&(i.byterange.offset=parseInt(u,10))}}r.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=h(t[1]),i.attributes.RESOLUTION){var l=i.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),i.attributes.RESOLUTION=c}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}r.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=h(t[1])),void r.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void r.trigger("data",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=h(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void r.trigger("data",i);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=h(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void r.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void r.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void r.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void r.trigger("data",i);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:e}))},o.addParser=function(e){var t=this,i=e.expression,r=e.customType,n=e.dataParser,o=e.segment;"function"!=typeof n&&(n=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:n(e),customType:r,segment:o}),!0})},o.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},t}(s.a),f=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new c,t.parseStream=new d,t.lineStream.pipe(t.parseStream);var i,r,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),o=[],a={},s={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(e){var t,c;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:l()(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,u=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){i={},e.uri&&(i.uri=e.uri),e.byterange&&(i.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||s,e.attributes?(a.attributes||(a.attributes={}),Object.assign(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||s,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes["GROUP-ID"]]=i[e.attributes["GROUP-ID"]]||{},t=i[e.attributes["GROUP-ID"]],(c={default:/yes/i.test(e.attributes.DEFAULT)}).default?c.autoselect=!0:c.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(c.language=e.attributes.LANGUAGE),e.attributes.URI&&(c.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(c.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(c.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(c.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=c}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}})[e.tagType]||function(){}).call(n)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=u,i&&(a.map=i),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(n)}),t}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,o(i,r);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(s.a),p=i(1),A=new WebAssembly.Memory({initial:256,maximum:256});new WebAssembly.Table({initial:0,maximum:0,element:"anyfunc"}),A.buffer.byteLength,t.default=function(e){e.url="",e.canvas=null,e.webGLPlayer=null,e.videoSampleQueue=[],e.audioSampleQueue=[],e.videoInterval=40,e.lastRenderTime=0,e.intervalVal=0,e.renderFrameCount=0,e.requestAbort=!1,e.pause=!1,e.cbStreamData=!0,e.reConnect=!0,e.isLiveStream=!0,e.seekTime=0,e.totalDuration=0,e.playDuration=0,e.startVideoPts=0,e.startAudioPts=0,e.tsFileList=[],e.getFileIndex=0,e.lastTsFile="",e.isFirstFile=!0,e.lastTsFileSequence=0,e.sequenceExceptNum=0,e.hlsTsPlaybackFileNo=-1,e.tsDemuxer=null,e.getFileCount=100,e.intervalHandle=-1,e.intervalValue=40,e.startDownloadTimeSecs=0;var t=function(e,t){if(e.indexOf("http")>=0)return e;for(var i=t,r=0,n=0;n>=0;)(n=i.indexOf("/"))>=0?(i=i.substring(n+1),r+=n+1):i=t.substring(0,r);return""!==e?i+e:i},i=function(){var t={cmd:p.l,workerId:p.b};e.postMessage(t),e.getFileIndex=0,e.hlsTsPlaybackFileNo=-1},r=function r(n,o){if(e.url=n,1!=e._requestAbort){if(!e.pause&&(!(e.totalDuration>0)||e.isLiveStream)){var a=new XMLHttpRequest;a.open("get",n,!0),a.responseType="text",a.onreadystatechange=function(){if(4!=a.readyState||200!=a.status&&304!=a.status)4===a.readyState&&404===a.status&&e.postMessage({cmd:404});else{var i=new f;i.push(a.responseText),i.end();var n=i.manifest;if("undefined"!==i.manifest.endList&&1==i.manifest.endList?e.isLiveStream=!1:e.isLiveStream=!0,n.segments.length<1){var s=e;return void p.j(3e3).then(function(){r(s.url,1)})}var u=0,l=0;if(e.isLiveStream)if(""==e.lastTsFile){for(u=0;u<n.segments.length;u++)g={filename:d=t(n.segments[u].uri,e.url),duration:n.segments[u].duration},e.tsFileList.push(g);var c=0;n.segments.length>2&&(c=n.segments.length-1-1),e.getFileIndex=c,e.lastTsFile=n.segments[c].uri}else{c=-1;var h=!1;for(u=0;u<n.segments.length;u++)d=t(n.segments[u].uri,e.url),n.segments[u].uri!==e.lastTsFile?c>=0&&(g={filename:d,duration:n.segments[u].duration},e.totalDuration+=n.segments[u].duration,e.tsFileList.push(g),h||(e.lastTsFile=n.segments[u].uri,h=!0)):(c=u,e.tsFileList.length=0,e.tsFileList=[],e.getFileIndex=0);if(c<0)for(e.tsFileList.length=0,e.tsFileList=[],e.getFileIndex=0,u=0;u<n.segments.length;u++)g={filename:d=t(n.segments[u].uri,e.url),duration:n.segments[u].duration},e.totalDuration+=n.segments[u].duration,e.tsFileList.push(g),e.lastTsFile=n.segments[u].uri;if(1===o)return}else{for(e.seekTime>0&&(e.getFileIndex=-1),u=0;u<n.segments.length;u++){var d=t(n.segments[u].uri,e.url),A=0;for(l=0;l<e.tsFileList.length;l++)if(e.tsFileList[l].filename===d){A=1;break}if(0==A){e.seekTime>0&&e.totalDuration>=e.seekTime&&e.getFileIndex<0&&(e.getFileIndex=u);var g={filename:d,duration:n.segments[u].duration};e.totalDuration+=n.segments[u].duration,e.tsFileList.push(g)}}e.getFileIndex<0&&(e.getFileIndex=0);var m={cmd:p.u,duration:e.totalDuration,live:e.isLiveStream,workerId:p.b};e.postMessage(m)}e.tsFileList.length>0&&1==o&&(m={cmd:p.w,workerId:p.b},e.postMessage(m))}},a.send()}}else i()},n=function t(){if(!(e.getFileCount++<1)){var n=!1;if(!e.pause)if(1!=e._requestAbort){if(e.isLiveStream){if(e.getFileCount=0,e.getFileIndex>=e.tsFileList.length||3==e.getFileCount)return void r(e.url,1);n=!0}else if(e.getFileIndex>=e.tsFileList.length){e.getFileIndex++;var o={cmd:p.r,workerId:p.b};return void e.postMessage(o)}var a=e.tsFileList[e.getFileIndex].filename;if(e.isLiveStream){var s=function(e){var t=a.split("-"),i=t.length;if(i>0){var r=t[i-1].split(".");if(r.length>0)return r[0]}return""}(),u=parseInt(s);u>0&&u>e.lastTsFileSequence+1&&(e.sequenceExceptNum++,o={cmd:p.z,workerId:p.b,fileSequence:e.sequenceExceptNum},e.postMessage(o)),e.lastTsFileSequence=u}else if(e.hlsTsPlaybackFileNo==e.getFileIndex)return;var l=new XMLHttpRequest;l.open("get",a,!0),l.responseType="arraybuffer",l.onreadystatechange=function(){if(404==l.status)return p.e("current file not found.  refresh list..."),void r(e.url,1);if(4==l.readyState&&(200==l.status||304==l.status)){var i=new Uint8Array(l.response),o=0;for(o=0;o<e.getFileIndex;o++)e.tsFileList[o].duration;var a={cmd:p.q,workerId:p.b,mediaType:1,codecId:27,flag:0,pts:0,playTimeSec:0,dat:i};if(e.postMessage(a,[a.dat.buffer]),e.intervalHandle>=0&&(clearInterval(e.intervalHandle),e.intervalHandle=-1),!e.pause){var s=e.getFileIndex;s>=0&&s<e.tsFileList.length?e.intervalValue=1e3*e.tsFileList[s].duration-600:e.intervalValue=2e3,e.isFirstFile&&(e.isFirstFile=!1,e.intervalValue>900&&(e.intervalValue-=900)),e.intervalValue=1e3*e.tsFileList[s].duration,e.intervalHandle=setInterval(t,e.intervalValue)}if(e.getFileCount=100,++e.getFileIndex>=0&&(e.getFileIndex,e.tsFileList.length),a={cmd:p.t,workerId:p.b},e.postMessage(a),n)return r(e.url,0)}},l.send(),e.hlsTsPlaybackFileNo=e.getFileIndex}else i()}};e.addEventListener("message",function(t){var o=t.data;switch(o.cmd){case p.w:e.url=o.url,e.seekTime=o.time,r(o.url,1);break;case p.s:0==o.t&&n();break;case p.y:r(e.url,1);break;case p.B:var a=o.time;1==o.type&&(a=o.time/100*e.totalDuration);var s=!1,u=0,l=0;for(l=0;l<e.tsFileList.length;l++)if((u+=e.tsFileList[l].duration)>a){e.getFileIndex=l,n();var c={cmd:p.B,type:o.type,time:a};e.postMessage(c),s=!0;break}s||(c={cmd:p.B,type:o.type,time:a},e.postMessage(c));break;case p.x:e.pause=!0;break;case p.A:e.pause=!1,r(e.url,1);break;case p.l:e._requestAbort=!0,e.seekTime=0,i()}})}}]).default}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsFlash=t(e.videojs)}(this,function(e){"use strict";function t(e){A[e]=function(){return this.el_.vjs_getProperty(e)}}e=e&&e.hasOwnProperty("default")?e.default:e;for(var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:{},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=e.getComponent("Tech"),s=e.dom,u=e.url,l=e.createTimeRange,c=e.mergeOptions,h=r&&r.navigator||{},d=function(e){function t(i,a){n(this,t);var s=o(this,e.call(this,i,a));return i.source&&s.ready(function(){this.setSource(i.source)},!0),i.startTime&&s.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),r.videojs=r.videojs||{},r.videojs.Flash=r.videojs.Flash||{},r.videojs.Flash.onReady=t.onReady,r.videojs.Flash.onEvent=t.onEvent,r.videojs.Flash.onError=t.onError,s.on("seeked",function(){this.lastSeekTarget_=void 0}),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="https://vjs.zencdn.net/swf/5.4.2/video-js.swf");var i=e.techId,r=c({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,stretch:e.stretch||!1,fluent:e.fluent||!1,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),n=c({wmode:"opaque",bgcolor:"#000000"},e.params),o=c({id:i,name:i,class:"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,r,n,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=u.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var i=this.seekable();i.length&&(t=(t=t>i.start(0)?t:i.start(0))<i.end(i.length-1)?t:i.end(i.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?l():l(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?l():l(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t.prototype.getVideoPlaybackQuality=function(){var e=this.el_.vjs_getProperty("getVideoPlaybackQuality");return r.performance&&"function"==typeof r.performance.now?e.creationTime=r.performance.now():r.performance&&r.performance.timing&&"number"==typeof r.performance.timing.navigationStart&&(e.creationTime=r.Date.now()-r.performance.timing.navigationStart),e},t}(a),f=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","stretch","fluent","loop","controls","volume","muted","defaultMuted"],p=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],A=d.prototype,g=0;g<f.length;g++)t(f[g]),function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);A["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}(f[g]);for(var m=0;m<p.length;m++)t(p[m]);return d.isSupported=function(){return!!(e.browser.IS_CHROME&&!e.browser.IS_ANDROID||e.browser.IS_SAFARI&&!e.browser.IS_IOS)||d.version()[0]>=10},a.withSourceHandlers(d),d.nativeSourceHandler={},d.nativeSourceHandler.canPlayType=function(e){return e in d.formats?"maybe":""},d.nativeSourceHandler.canHandleSource=function(e,t){var i;return i=e.type?e.type.replace(/;.*/,"").toLowerCase():function(e){var t=u.getFileExtension(e);return t?"video/"+t:""}(e.src),d.nativeSourceHandler.canPlayType(i)},d.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},d.nativeSourceHandler.dispose=function(){},d.registerSourceHandler(d.nativeSourceHandler),d.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},d.onReady=function(e){var t=s.$("#"+e),i=t&&t.tech;i&&i.el()&&d.checkReady(i)},d.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){d.checkReady(e)},50))},d.onEvent=function(e,t){var i=s.$("#"+e).tech,r=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(t,r)},1)},d.onError=function(e,t){var i=s.$("#"+e).tech;if("srcnotfound"===t)return i.error(4);"string"==typeof t?i.error("FLASH: "+t):(t.origin="flash",i.error(t))},d.version=function(){var e="0,0,0";try{e=new r.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{h.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(h.plugins["Shockwave Flash 2.0"]||h.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},d.embed=function(e,t,i,r){var n=d.getEmbedCode(e,t,i,r);return s.createEl("div",{innerHTML:n}).childNodes[0]},d.getEmbedCode=function(e,t,i,r){var n="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){n+=e+"="+t[e]+"&amp;"}),i=c({movie:e,flashvars:n,allowScriptAccess:"always",allowNetworking:"all"},i),Object.getOwnPropertyNames(i).forEach(function(e){o+='<param name="'+e+'" value="'+i[e]+'" />'}),r=c({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+=e+'="'+r[e]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},function(e){e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var i=e.search(/&(?![\w-]+=)/),r=void 0;return-1!==i?r=i+1:0===(i=r=e.lastIndexOf("/")+1)&&(i=r=e.length),t.connection=e.substring(0,i),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,i){return e.rtmpSourceHandler.canPlayType(t.type)||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,i,r){var n=e.streamToParts(t.src);i.setRtmpConnection(n.connection),i.setRtmpStream(n.stream)},e.registerSourceHandler(e.rtmpSourceHandler)}(d),a.getTech("Flash")?(e.log.warn("Not using videojs-flash as it appears to already be registered"),e.log.warn("videojs-flash should only be used with video.js@6 and above")):e.registerTech("Flash",d),d.VERSION="2.1.2",d}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsContribHls=e()}}(function(){return function e(t,i,r){function n(a,s){if(!i[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){return n(t[a][1][e]||e)},c,c.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e("global/window")),o=function(e,t){for(var i=e.cues,r=0;r<i.length;r++){var n=i[r];if(t>=n.adStartTime&&t<=n.adEndTime)return n}return null};i.default={updateAdCues:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var a=i,s=void 0,u=0;u<e.segments.length;u++){var l=e.segments[u];if(s||(s=o(t,a+l.duration/2)),s){if("cueIn"in l){s.endTime=a,s.adEndTime=a,a+=l.duration,s=null;continue}if(a<s.endTime){a+=l.duration;continue}s.endTime+=l.duration}else if("cueOut"in l&&((s=new n.default.VTTCue(a,a+l.duration,l.cueOut)).adStartTime=a,s.adEndTime=a+parseFloat(l.cueOut),t.addCue(s)),"cueOutCont"in l){var c,h,d=l.cueOutCont.split("/").map(parseFloat),f=r(d,2);c=f[0],h=f[1],(s=new n.default.VTTCue(a,a+l.duration,"")).adStartTime=a-c,s.adEndTime=s.adStartTime+h,t.addCue(s)}a+=l.duration}},findAdCue:o},t.exports=i.default},{"global/window":32}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(e,t){return e.start(t)+"-"+e.end(t)},n=function(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},o=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},a={hexDump:function(e){for(var t=Array.prototype.slice.call(e),i="",r=0;r<t.length/16;r++)i+=t.slice(16*r,16*r+16).map(n).join("")+" "+t.slice(16*r,16*r+16).map(o).join("")+"\n";return i},tagDump:function(e){return a.hexDump(e.bytes)},textRanges:function(e){var t="",i=void 0;for(i=0;i<e.length;i++)t+=r(e,i)+" ";return t},createTransferableMessage:function(e){var t={};return Object.keys(e).forEach(function(i){var r=e[i];ArrayBuffer.isView(r)?t[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[i]=r}),t},initSegmentId:function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}};i.default=a,t.exports=i.default},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=i.default},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("global/window")),n=e("aes-decrypter"),o=e("./bin-utils");i.default=function(e){return new function(e){e.onmessage=function(e){var t=e.data,i=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),a=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),s=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new n.Decrypter(i,a,s,function(e,i){r.default.postMessage((0,o.createTransferableMessage)({source:t.source,decrypted:i}),[i.buffer])})}}(e)},t.exports=i.default},{"./bin-utils":2,"aes-decrypter":25,"global/window":32}],5:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},a=r(e("./playlist-loader")),s=e("./playlist.js"),u=r(e("./segment-loader")),l=r(e("./vtt-segment-loader")),c=r(e("./ranges")),h=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),d=r(e("./ad-cue-tags")),f=r(e("./sync-controller")),p=e("videojs-contrib-media-sources/es5/codec-utils"),A=r(e("webwackify")),g=r(e("./decrypter-worker")),m=r(e("./config")),y=e("./util/codecs.js"),v=e("./media-groups"),E=void 0,w={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},b=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],C=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},I=function(){var t=void 0;try{t=e.resolve("./decrypter-worker")}catch(e){}return t},S=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,p.translateLegacyCodecs)([e])[0]})};i.mapLegacyAvcCodecs_=S;var M=function(e,t,i){return e+"/"+t+'; codecs="'+i.filter(function(e){return!!e}).join(", ")+'"'},k=function(e,t){var i=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),r=function(e){var t=e.attributes||{};return t.CODECS?(0,y.parseCodecs)(t.CODECS):w}(t),n=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&n.AUDIO){var s=e.mediaGroups.AUDIO[n.AUDIO];if(s)for(var u in a=!0,o=!1,s)if(!s[u].uri){o=!0;break}}a&&!r.audioProfile&&(h.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=w.audioProfile);var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var c=M("audio",i,[l.audio]),d=M("video",i,[l.video]),f=M("video",i,[l.video,l.audio]);return a?!o&&l.video?[d,c]:[f,c]:l.video?[f]:[c]};i.mimeTypesForPlaylist_=k;var T=function(e){function t(e){var i=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=e.url,n=e.handleManifestRedirects,s=e.withCredentials,c=e.mode,d=e.tech,p=e.bandwidth,m=e.externHls,y=e.useCueTags,w=e.blacklistDuration,S=e.enableLowInitialPlaylist;if(!r)throw new Error("A non-empty playlist URL is required");E=m,this.tech_=d,this.hls_=d.hls,this.mode_=c,this.useCueTags_=y,this.blacklistDuration=w,this.enableLowInitialPlaylist=S,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:s,handleManifestRedirects:n,timeout:null},this.mediaTypes_=(0,v.createMediaTypes)(),this.mediaSource=new h.default.MediaSource({mode:c}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=h.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new f.default(e),this.segmentMetadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,A.default)(g.default,I());var M={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_()},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:p,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new a.default(r,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new u.default(h.default.mergeOptions(M,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new u.default(h.default.mergeOptions(M,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new l.default(h.default.mergeOptions(M,{loaderType:"vtt"}),e),this.setupSegmentLoaderListeners_(),b.forEach(function(e){i[e+"_"]=C.bind(i,e)}),this.masterPlaylistLoader_.load()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default.EventTarget),n(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,s.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),(0,v.setupMediaGroups)({segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,mode:e.mode_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return h.default.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){var i=void 0;return e.enableLowInitialPlaylist&&(i=e.selectInitialPlaylist()),i||(i=e.selectPlaylist()),e.initialMedia_=i,void e.masterPlaylistLoader_.media(e.initialMedia_)}e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||e.mainSegmentLoader_.load(),t.endList||function(){var t=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};e.duration()!==1/0?e.tech_.one("durationchange",function i(){e.duration()===1/0?t():e.tech_.one("durationchange",i)}):t()}()}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,s.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var i=e.mediaGroups||{},r=!0,n=Object.keys(i.AUDIO);for(var o in i.AUDIO)for(var a in i.AUDIO[o]){i.AUDIO[o][a].uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),E.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),E.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.length&&Object.keys(i.AUDIO[n[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),i=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),n=r.length?r.end(r.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!i.endList||e.duration()<m.default.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<i.attributes.BANDWIDTH||n>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var i=function(){var t=e.seekable();return t.length?h.default.browser.IE_VERSION&&"html5"===e.mode_&&0===e.tech_.readyState()?(e.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(t.end(0)),e.hasPlayed_=function(){return!0}}),{v:!1}):(e.trigger("firstplay"),void e.tech_.setCurrentTime(t.end(0))):{v:!1}}();if("object"==typeof i)return i.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return h.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var i=E.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),n=this.tech_.buffered();if(!n.length)return i-r<=c.default.SAFE_TIME_DELTA;var o=n.end(n.length-1);return o-r<=c.default.SAFE_TIME_DELTA&&i-o<=c.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){void 0===e&&(e={});var i=void 0,r=void 0;if(i=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!i){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var n=1===this.masterPlaylistLoader_.master.playlists.filter(s.isEnabled).length;return n?(h.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(n)):(i.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),h.default.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=c.default.findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:E.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var r=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==r&&0!==(e=E.Playlist.seekable(i,r)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(t=E.Playlist.seekable(i,r)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=h.default.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,i=E.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),n=function t(){e.mediaSource.duration=i,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(i=Math.max(i,r.end(r.length-1))),t!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",n):n())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var i=e.mediaTypes_[t].groups;for(var r in i)i[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if((t=k(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,i=2,r=null,n=void 0;e.attributes.CODECS&&(n=(0,y.parseCodecs)(e.attributes.CODECS),r=n.videoCodec,i=n.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var n=e.attributes.CODECS;t=(0,y.parseCodecs)(n),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+S(n)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==i&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),d.default.updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=m.default.GOAL_BUFFER_LENGTH,i=m.default.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,m.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=m.default.BUFFER_LOW_WATER_LINE,i=m.default.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,m.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,r)}}]),t}();i.MasterPlaylistController=T}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./config":3,"./decrypter-worker":4,"./media-groups":6,"./playlist-loader":9,"./playlist.js":11,"./ranges":12,"./segment-loader":16,"./sync-controller":18,"./util/codecs.js":19,"./vtt-segment-loader":20,"videojs-contrib-media-sources/es5/codec-utils":65,webwackify:76}],6:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),o=r(e("./playlist-loader")),a=function(){},s=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},u=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};i.stopLoaders=u;var l=function(e,t){t.activePlaylistLoader=e,e.load()};i.startLoaders=l;var c=function(e,t){return function(){var i=t.segmentLoaders,r=i[e],n=i.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),c=o.activePlaylistLoader;if(u(r,o),s){if(!s.playlistLoader)return void(c&&n.resetEverything());r.resyncLoader(),l(s.playlistLoader,o)}}};i.onGroupChanged=c;var h=function(e,t){return function(){var i=t.segmentLoaders,r=i[e],n=i.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),c=o.activePlaylistLoader;if(u(r,o),s){if(!s.playlistLoader)return void n.resetEverything();if(c===s.playlistLoader)return void l(s.playlistLoader,o);r.track&&r.track(a),r.resetEverything(),l(s.playlistLoader,o)}}};i.onTrackChanged=h;var d={AUDIO:function(e,t){return function(){var i=t.segmentLoaders[e],r=t.mediaTypes[e],o=t.blacklistCurrentPlaylist;u(i,r);var a=r.activeTrack(),s=r.activeGroup(),l=(s.filter(function(e){return e.default})[0]||s[0]).id,c=r.tracks[l];if(a!==c){for(var h in n.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[h].enabled=r.tracks[h]===c;r.onTrackChanged()}else o({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var i=t.segmentLoaders[e],r=t.mediaTypes[e];n.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),u(i,r);var o=r.activeTrack();o&&(o.mode="disabled"),r.onTrackChanged()}}};i.onError=d;var f={AUDIO:function(e,t,i){if(t){var r=i.tech,n=i.requestOptions,o=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,n),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),n),r.paused()||o.load()}),t.on("error",d[e](e,i))}},SUBTITLES:function(e,t,i){var r=i.tech,n=i.requestOptions,o=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,n),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),n),r.paused()||o.load()}),t.on("error",d[e](e,i))}};i.setupListeners=f;var p={AUDIO:function(e,t){var i=t.mode,r=t.hls,a=t.segmentLoaders[e],u=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],h=c.groups,p=c.tracks;for(var A in l[e]&&0!==Object.keys(l[e]).length&&"html5"===i||(l[e]={main:{default:{default:!0}}}),l[e])for(var g in h[A]||(h[A]=[]),l[e][A]){var m,y=l[e][A][g];if(m=y.resolvedUri?new o.default(y.resolvedUri,r,u):null,y=n.default.mergeOptions({id:g,playlistLoader:m},y),f[e](e,y.playlistLoader,t),h[A].push(y),void 0===p[g]){var v=new n.default.AudioTrack({id:g,kind:s(y),enabled:!1,language:y.language,default:y.default,label:g});p[g]=v}}a.on("error",d[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,r=t.hls,a=t.segmentLoaders[e],s=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,h=l.tracks;for(var p in u[e])for(var A in c[p]||(c[p]=[]),u[e][p])if(!u[e][p][A].forced){var g=u[e][p][A];if(g=n.default.mergeOptions({id:A,playlistLoader:new o.default(g.resolvedUri,r,s)},g),f[e](e,g.playlistLoader,t),c[p].push(g),void 0===h[A]){var m=i.addRemoteTextTrack({id:A,kind:"subtitles",enabled:!1,language:g.language,label:A},!1).track;h[A]=m}}a.on("error",d[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,r=t.master.mediaGroups,o=t.mediaTypes[e],a=o.groups,s=o.tracks;for(var u in r[e])for(var l in a[u]||(a[u]=[]),r[e][u]){var c=r[e][u][l];if(c.instreamId.match(/CC\d/)&&(a[u].push(n.default.mergeOptions({id:l},c)),void 0===s[l])){var h=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:l},!1).track;s[l]=h}}}};i.initialize=p;var A=function(e,t){return function(i){var r=t.masterPlaylistLoader,n=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=n[o.attributes[e]]),a=a||n.main,void 0===i?a:null===i?null:a.filter(function(e){return e.id===i.id})[0]||null}};i.activeGroup=A;var g={AUDIO:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var r in i)if("showing"===i[r].mode)return i[r];return null}}};i.activeTrack=g;i.setupMediaGroups=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){p[t](t,e)});var t=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,n=e.hls;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=A(i,e),t[i].activeTrack=g[i](i,e),t[i].onGroupChanged=c(i,e),t[i].onTrackChanged=h(i,e)});var o=t.AUDIO.activeGroup(),a=(o.filter(function(e){return e.default})[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};for(var u in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),n.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[u])};i.createMediaTypes=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:a,activeTrack:a,onGroupChanged:a,onTrackChanged:a}}),e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist-loader":9}],7:[function(e,t,i){(function(t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),n=e("./bin-utils"),o={FAILURE:2,TIMEOUT:-101,ABORTED:-102};i.REQUEST_ERRORS=o;var a=function(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t},s=function(e){e.forEach(function(e){e.abort()})},u=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:o.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:o.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:o.FAILURE,xhr:t}:null},l=function(e,t){return function(i,r){var n=r.response,a=u(i,r);if(a)return t(a,e);if(16!==n.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:o.FAILURE,xhr:r},e);var s=new DataView(n);return e.key.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),t(null,e)}},c=function(e,t){return function(i,r){var n=r.response,a=u(i,r);return a?t(a,e):0===n.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:o.FAILURE,xhr:r},e):(e.map.bytes=new Uint8Array(r.response),t(null,e))}},h=function(e,t){return function(i,r){var n=r.response,a=u(i,r);return a?t(a,e):0===n.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:o.FAILURE,xhr:r},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),t(null,e))}},d=function(e,t,i){e.addEventListener("message",function r(n){if(n.data.source===t.requestId){e.removeEventListener("message",r);var o=n.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),i(null,t)}}),e.postMessage((0,n.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},f=function(e,t,i){var r=[],n=0;return function(o,a){if(o&&(s(e),r.push(o)),(n+=1)===e.length){if(a.endOfAllRequests=Date.now(),r.length>0){var u=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})}(r);return i(u,a)}return a.encryptedBytes?d(t,a,i):i(null,a)}}},p=function(e,t){return function(i){return e.stats=r.default.mergeOptions(e.stats,function(e){var t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(i)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(i,e)}};i.mediaSegmentRequest=function(e,t,i,n,o,u){var d=[],A=f(d,i,u);if(n.key){var g=e(r.default.mergeOptions(t,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),l(n,A));d.push(g)}if(n.map&&!n.map.bytes){var m=e(r.default.mergeOptions(t,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:a(n.map)}),c(n,A));d.push(m)}var y=e(r.default.mergeOptions(t,{uri:n.resolvedUri,responseType:"arraybuffer",headers:a(n)}),h(n,A));return y.addEventListener("progress",p(n,o)),d.push(y),function(){return s(d)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2}],8:[function(e,t,i){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),a=n(e("global/window")),s=n(e("./ranges")),u=n("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),l=["seeking","seeked","pause","playing","error"],c=function(){function e(t){var i=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,t.debug&&(this.logger_=u.default.log.bind(u.default,"playback-watcher ->")),this.logger_("initialize");var r=function(){return i.monitorCurrentTime_()},n=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},s=function(){return i.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",n),this.tech_.on(l,o),this.tech_.on("canplay",r),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",s),i.tech_.off("waiting",n),i.tech_.off(l,o),i.tech_.off("canplay",r),i.checkCurrentTimeTimeout_&&a.default.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}return o(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&a.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=a.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+s.default.SAFE_TIME_DELTA>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),i=this.tech_.currentTime(),r=void 0;return e&&this.afterSeekableWindow_(t,i)&&(r=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,i)&&(r=t.start(0)+s.default.SAFE_TIME_DELTA),void 0!==r&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+s.default.printableRange(t)+". Seeking to "+r+"."),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=s.default.findRange(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),n=s.default.findNextRange(r,t);if(this.videoUnderflow_(n,r,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(n.length>0){var o=n.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+n.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+s.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-s.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,i){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,i);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),r=s.default.findNextRange(t,i);this.cancelTimer_(),0!==r.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+s.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var i=s.default.findGaps(e),r=0;r<i.length;r++){var n=i.start(r),o=i.end(r);if(t-n<4&&t-n>2)return{start:n,end:o}}return null}},{key:"logger_",value:function(){}}]),e}();i.default=c,t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":12,"global/window":32}],9:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},a=r(e("./resolve-url")),s="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,u=r(e("m3u8-parser")),l=r(e("global/window")),c=function(e,t,i){var r=t.slice();i=i||0;for(var n=Math.min(e.length,t.length+i),o=i;o<n;o++)r[o-i]=(0,s.mergeOptions)(e[o],r[o-i]);return r};i.updateSegments=c;var h=function(e,t){e.resolvedUri||(e.resolvedUri=(0,a.default)(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,a.default)(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,a.default)(t,e.map.uri))};i.resolveSegmentUris=h;var d=function(e,t){var i=(0,s.mergeOptions)(e,{}),r=i.playlists.filter(function(e){return e.uri===t.uri})[0];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)return null;var n=(0,s.mergeOptions)(r,t);r.segments&&(n.segments=c(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),n.segments.forEach(function(e){h(e,n.resolvedUri)});for(var o=0;o<i.playlists.length;o++)i.playlists[o].uri===t.uri&&(i.playlists[o]=n);return i.playlists[t.uri]=n,i};i.updateMaster=d;var f=function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];e.playlists[i.uri]=i,i.resolvedUri=(0,a.default)(e.uri,i.uri),i.attributes||(i.attributes={},s.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};i.setupMediaPlaylists=f;var p=function(e){["AUDIO","SUBTITLES"].forEach(function(t){for(var i in e.mediaGroups[t])for(var r in e.mediaGroups[t][i]){var n=e.mediaGroups[t][i][r];n.uri&&(n.resolvedUri=(0,a.default)(e.uri,n.uri))}})};i.resolveMediaGroupUris=p;var A=function(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)};i.refreshDelay=A;var g=function(e){function t(e,i,r){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),r=r||{},this.srcUrl=e,this.hls_=i,this.withCredentials=!!r.withCredentials,this.handleManifestRedirects=!!r.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:(0,a.default)(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.EventTarget),n(t,[{key:"playlistRequestError",value:function(e,t,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var i=this;this.request=null,this.state="HAVE_METADATA";var r=new u.default.Parser;r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var n=d(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,n?(this.master=n,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(l.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=l.default.setTimeout(function(){i.trigger("mediaupdatetimeout")},A(this.media(),!!n))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),l.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(r,n){if(t.request){if(e.resolvedUri=t.resolveManifestRedirect(e.resolvedUri,n),r)return t.playlistRequestError(t.request,e.uri,i);t.haveMetadata(n,e.uri),"HAVE_MASTER"===i?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"resolveManifestRedirect",value:function(e,t){return this.handleManifestRedirects&&t.responseURL&&e!==t.responseURL?t.responseURL:e}},{key:"pause",value:function(){this.stopRequest(),l.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;l.default.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=l.default.setTimeout(function(){return t.load()},r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new u.default.Parser;return r.push(i.responseText),r.end(),e.state="HAVE_MASTER",e.srcUrl=e.resolveManifestRedirect(e.srcUrl,i),r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,f(e.master),p(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:l.default.location.href,playlists:[{uri:e.srcUrl,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(i,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}();i.default=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resolve-url":15,"global/window":32,"m3u8-parser":33}],10:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=r(e("./config")),o=r(e("./playlist")),a=e("./util/codecs.js"),s=function(e,t){var i=void 0;return e?(i=window.getComputedStyle(e))?i[t]:"":""},u=function(e,t){var i=e.slice();e.sort(function(e,r){var n=t(e,r);return 0===n?i.indexOf(e)-i.indexOf(r):n})},l=function(e,t){var i=void 0,r=void 0;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),i-(r=r||window.Number.MAX_VALUE)};i.comparePlaylistBandwidth=l;i.comparePlaylistResolution=function(e,t){var i=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),i===(r=r||window.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-r};var c=function(e,t,i,r){var a=e.playlists.map(function(e){var t,i;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:t,height:i,playlist:e}});u(a,function(e,t){return e.bandwidth-t.bandwidth});var s=(a=a.filter(function(e){return!o.default.isIncompatible(e.playlist)})).filter(function(e){return o.default.isEnabled(e.playlist)});s.length||(s=a.filter(function(e){return!o.default.isDisabled(e.playlist)}));var l=s.filter(function(e){return e.bandwidth*n.default.BANDWIDTH_VARIANCE<t}),c=l[l.length-1],h=l.filter(function(e){return e.bandwidth===c.bandwidth})[0],d=l.filter(function(e){return e.width&&e.height});u(d,function(e,t){return e.width-t.width});var f=d.filter(function(e){return e.width===i&&e.height===r});c=f[f.length-1];var p=f.filter(function(e){return e.bandwidth===c.bandwidth})[0],A=void 0,g=void 0,m=void 0;p||(g=(A=d.filter(function(e){return e.width>i||e.height>r})).filter(function(e){return e.width===A[0].width&&e.height===A[0].height}),c=g[g.length-1],m=g.filter(function(e){return e.bandwidth===c.bandwidth})[0]);var y=m||p||h||s[0]||a[0];return y?y.playlist:null};i.simpleSelector=c;i.lastBandwidthSelector=function(){return c(this.playlists.master,this.systemBandwidth,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))};i.movingAverageBandwidthSelector=function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,c(this.playlists.master,t,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))}};i.minRebufferMaxBandwidthSelector=function(e){var t=e.master,i=e.currentTime,r=e.bandwidth,n=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,c=e.currentTimeline,h=e.syncController,d=t.playlists.filter(function(e){return!o.default.isIncompatible(e)}),f=d.filter(o.default.isEnabled);f.length||(f=d.filter(function(e){return!o.default.isDisabled(e)}));var p=f.filter(o.default.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=h.getSyncPoint(e,n,c,i)?1:2;return{playlist:e,rebufferingImpact:o.default.estimateSegmentRequestTime(a,r,e)*t-s}}),A=p.filter(function(e){return e.rebufferingImpact<=0});return u(A,function(e,t){return l(t.playlist,e.playlist)}),A.length?A[0]:(u(p,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),p[0]||null)};i.lowestBitrateCompatibleVariantSelector=function(){var e=this.playlists.master.playlists.filter(o.default.isEnabled);return u(e,function(e,t){return l(e,t)}),e.filter(function(e){return(0,a.parseCodecs)(e.attributes.CODECS).videoCodec})[0]||null}},{"./config":3,"./playlist":11,"./util/codecs.js":19}],11:[function(e,t,i){(function(t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,n=function(e){return e&&e.__esModule?e:{default:e}}(e("global/window")),o=function(e,t,i){var r=void 0,n=void 0;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=function(e,t){var i=0,r=t-e.mediaSequence,n=e.segments[r];if(n){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)return{result:n.end-n.duration,precise:!0}}for(;r--;){if(void 0!==(n=e.segments[r]).end)return{result:i+n.end,precise:!0};if(i+=n.duration,void 0!==n.start)return{result:i+n.start,precise:!0}}return{result:i,precise:!1}}(e,t)).precise?r.result:(n=function(e,t){for(var i=0,r=void 0,n=t-e.mediaSequence;n<e.segments.length;n++){if(void 0!==(r=e.segments[n]).start)return{result:r.start-i,precise:!0};if(i+=r.duration,void 0!==r.end)return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?n.result:r.result+i},a=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return n.default.Infinity}return o(e,t,i)};i.duration=a;var s=function(e,t,i){var r=0;if(t>i){var n=[i,t];t=n[0],i=n[1]}if(t<0){for(var o=t;o<Math.min(0,i);o++)r+=e.targetDuration;t=0}for(o=t;o<i;o++)r+=e.segments[o].duration;return r};i.sumDurations=s;var u=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,i=e.segments[t].duration||e.targetDuration,r=i+2*e.targetDuration;t--&&!((i+=e.segments[t].duration)>=r););return Math.max(0,t)};i.safeLiveIndex=u;var l=function(e,t,i){if(!e||!e.segments)return null;if(e.endList)return a(e);if(null===t)return null;t=t||0;var r=i?u(e):e.segments.length;return o(e,e.mediaSequence+r,t)};i.playlistEnd=l;var c=function(e,t){var i=t||0,n=l(e,t,!0);return null===n?(0,r.createTimeRange)():(0,r.createTimeRange)(i,n)};i.seekable=c;var h=function(e){return e-Math.floor(e)==0},d=function(e,t){if(h(t))return t+.1*e;for(var i=t.toString().split(".")[1].length,r=1;r<=i;r++){var n=Math.pow(10,r),o=t*n;if(h(o)||r===i)return(o+e)/n}},f=d.bind(null,1),p=d.bind(null,-1),A=function(e,t,i,r){var n=void 0,o=void 0,a=e.segments.length,u=t-r;if(u<0){if(i>0)for(n=i-1;n>=0;n--)if(o=e.segments[n],(u+=p(o.duration))>0)return{mediaIndex:n,startTime:r-s(e,i,n)};return{mediaIndex:0,startTime:t}}if(i<0){for(n=i;n<0;n++)if((u-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(n=i;n<a;n++)if(o=e.segments[n],(u-=f(o.duration))<0)return{mediaIndex:n,startTime:r+s(e,i,n)};return{mediaIndex:a-1,startTime:t}};i.getMediaInfoForTime=A;var g=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};i.isBlacklisted=g;var m=function(e){return e.excludeUntil&&e.excludeUntil===1/0};i.isIncompatible=m;var y=function(e){var t=g(e);return!e.disabled&&!t};i.isEnabled=y;var v=function(e){return e.disabled};i.isDisabled=v;var E=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};i.isAes=E;var w=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};i.isFmp4=w;var b=function(e,t){return t.attributes&&t.attributes[e]};i.hasAttribute=b;var C=function(e,t,i){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return b("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*r)/t:NaN};i.estimateSegmentRequestTime=C;var I=function(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!y(e)&&(e.attributes.BANDWIDTH||0)<i}).length};i.isLowestEnabledRendition=I,i.default={duration:a,seekable:c,safeLiveIndex:u,getMediaInfoForTime:A,isEnabled:y,isDisabled:v,isBlacklisted:g,isIncompatible:m,playlistEnd:l,isAes:E,isFmp4:w,hasAttribute:b,estimateSegmentRequestTime:C,isLowestEnabledRendition:I}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":32}],12:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){return e&&e.__esModule?e:{default:e}}("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),o=function(e,t){var i=r(t,2),n=i[0],o=i[1];return Math.min(Math.max(n,e),o)},a=function(e,t){var i=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&i.push([e.start(r),e.end(r)]);return n.default.createTimeRanges(i)},s=function(e,t){var i=null,r=null,o=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return n.default.createTimeRange();for(var u=e.length;u--;)a.push({time:e.start(u),type:"start"}),a.push({time:e.end(u),type:"end"});for(u=t.length;u--;)a.push({time:t.start(u),type:"start"}),a.push({time:t.end(u),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),u=0;u<a.length;u++)"start"===a[u].type?2==++o&&(i=a[u].time):"end"===a[u].type&&1==--o&&(r=a[u].time),null!==i&&null!==r&&(s.push([i,r]),i=null,r=null);return n.default.createTimeRanges(s)};i.default={findRange:function(e,t){return a(e,function(e,i){return e-1/30<=t&&i+1/30>=t})},findNextRange:function(e,t){return a(e,function(e){return e-1/30>=t})},findGaps:function(e){if(e.length<2)return n.default.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var r=e.end(i-1),o=e.start(i);t.push([r,o])}return n.default.createTimeRanges(t)},findSoleUncommonTimeRangesEnd:function(e,t){var i=void 0,r=void 0,n=void 0,o=[],a=[],s=function(e){return e[0]<=n&&e[1]>=n};if(e)for(i=0;i<e.length;i++)r=e.start(i),n=e.end(i),a.push([r,n]);if(t)for(i=0;i<t.length;i++)r=t.start(i),n=t.end(i),a.some(s)||o.push(n);return 1!==o.length?null:o[0]},getSegmentBufferedPercent:function(e,t,i,r){var a=e+t,u=n.default.createTimeRanges([[e,a]]),l=n.default.createTimeRanges([[o(e,[i,a]),a]]);if(l.start(0)===l.end(0))return 0;var c=function(e,t,i,r){for(var n=t.end(0)-t.start(0),o=n-(e.end(0)-e.start(0)),a=s(e,r),u=s(t,r),l=0,c=0,h=a.length;h--;)l+=a.end(h)-a.start(h),a.start(h)===i&&(l+=o);for(h=u.length;h--;)c+=u.end(h)-u.start(h);return Math.max(l,c)/n*100}(l,u,i,r);return isNaN(c)||c===1/0||c===-1/0?0:c},TIME_FUDGE_FACTOR:1/30,SAFE_TIME_DELTA:.1,printableRange:function(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},timeUntilRebuffer:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return((e.length?e.end(e.length-1):0)-t)/i}},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),n={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};i.default=function(e){!function e(t,i){var o=0,a=0,s=r.default.mergeOptions(n,i);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var u=function(){a&&t.currentTime(a)},l=function(e){null!==e&&void 0!==e&&(a=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",u),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},c=function(){return Date.now()-o<1e3*s.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):s.getSource&&"function"==typeof s.getSource?(o=Date.now(),s.getSource.call(t,l)):void r.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},h=function e(){t.off("loadedmetadata",u),t.off("error",c),t.off("dispose",e)};t.on("error",c),t.on("dispose",h),t.reloadSourceOnError=function(i){h(),e(t,i)}}(this,e)},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("./playlist.js"),n=function(e,t,i){return function(n){var o=e.master.playlists[t],a=(0,r.isIncompatible)(o),s=(0,r.isEnabled)(o);return void 0===n?s:(n?delete o.disabled:o.disabled=!0,n===s||a||(i(),n?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),n)}},o=function e(t,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(i.attributes.RESOLUTION){var a=i.attributes.RESOLUTION;this.width=a.width,this.height=a.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=r,this.enabled=n(t.playlists,i.uri,o)};i.default=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!(0,r.isIncompatible)(e)}).map(function(t,i){return new o(e,t,t.uri)})}},t.exports=i.default},{"./playlist.js":11}],15:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=r(e("url-toolkit")),o=r(e("global/window"));i.default=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=n.default.buildAbsoluteURL(o.default.location.href,e)),n.default.buildAbsoluteURL(e,t))},t.exports=i.default},{"global/window":32,"url-toolkit":63}],16:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},a=r(e("./playlist")),s=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),u=r(e("./source-updater")),l=r(e("./config")),c=r(e("global/window")),h=r(e("videojs-contrib-media-sources/es5/remove-cues-from-track.js")),d=e("./bin-utils"),f=e("./media-segment-request"),p=e("./ranges"),A=e("./playlist-selectors"),g=function(e,t,i){if(!e||!t)return!1;var r=i===e.segments.length;return e.endList&&"open"===t.readyState&&r},m=function(e){return"number"==typeof e&&isFinite(e)},y=function(e,t,i){return"main"===e&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};i.illegalMediaSwitch=y;var v=function(e,t,i){var r;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-i)};i.safeBackBufferTrimTime=v;var E=function(e){function t(e){var i=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return i.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return i.ended_=!1}),this.fetchAtBuffer_=!1,r.debug&&(this.logger_=s.default.log.bind(s.default,"segment-loader",this.loaderType_,"->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.EventTarget),n(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():s.default.createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var i=(0,d.initSegmentId)(e),r=this.initSegments_[i];return t&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new u.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var i=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var n=e.mediaSequence-i.mediaSequence;this.logger_("mediaSequenceDiff",n),null!==this.mediaIndex&&(this.mediaIndex-=n),r&&(r.mediaIndex-=n,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(c.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,h.default)(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&c.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=c.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&c.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=c.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){if(g(this.playlist_,this.mediaSource_,e.mediaIndex))return void this.endOfStream();(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e))}}}},{key:"checkBuffer_",value:function(e,t,i,r,n,o){var s=0,u=void 0;e.length&&(s=e.end(e.length-1));var l,c=Math.max(0,s-n);if(!t.segments.length)return null;if(c>=this.goalBufferLength_())return null;if(!r&&c>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",i,"hasPlayed:",r,"currentTime:",n,"syncPoint:",o,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",c),null===o)return i=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",i),this.generateSegmentInfo_(t,i,null,!0);if(null!==i){this.logger_("walkForward","mediaIndex:",i+1);var h=t.segments[i];return u=h&&h.end?h.end:s,this.generateSegmentInfo_(t,i+1,u,!1)}this.fetchAtBuffer_?(i=(l=a.default.getMediaInfoForTime(t,s,o.segmentIndex,o.time)).mediaIndex,u=l.startTime):(i=(l=a.default.getMediaInfoForTime(t,n,o.segmentIndex,o.time)).mediaIndex,u=l.startTime);return this.logger_("getMediaIndexForTime","mediaIndex:",i,"startOfSegment:",u),this.generateSegmentInfo_(t,i,u,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,i,r){if(t<0||t>=e.segments.length)return null;var n=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:n.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:n.timeline,duration:n.duration,segment:n}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,n=a.default.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),o=(0,p.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(n<=o)return!1;var s=(0,A.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var u=n-o-s.rebufferingImpact,c=.5;return o<=p.TIME_FUDGE_FACTOR&&(c=1),!(!s.playlist||s.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=s.playlist.attributes.BANDWIDTH*l.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,f.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=v(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===f.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===f.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,i=t.segment,r=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var n=y(this.loaderType_,this.startingMedia_,r);if(n)return this.error({message:n,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var o=this.syncController_.mappingForTimeline(t.timeline);null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",i.map&&function(){var t=(0,d.initSegmentId)(i.map);if(!e.activeInitSegmentId_||e.activeInitSegmentId_!==t){var r=e.initSegment(i.map);e.sourceUpdater_.appendBuffer(r.bytes,function(){e.activeInitSegmentId_=t})}}(),t.byteLength=t.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),g(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,r=t.end;if(m(i)&&m(r)){(0,h.default)(i,r,this.segmentMetadataTrack_);var n=c.default.WebKitDataCue||c.default.VTTCue,o={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:i,end:r},a=new n(i,r,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}}}]),t}();i.default=E}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":7,"./playlist":11,"./playlist-selectors":10,"./ranges":12,"./source-updater":17,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],17:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),o=function(){},a=function(){function e(t,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(){r.sourceBuffer_=t.addSourceBuffer(i),r.onUpdateendCallback_=function(){var e=r.pendingCallback_;r.pendingCallback_=null,e&&e(),r.runCallback_()},r.sourceBuffer_.addEventListener("updateend",r.onUpdateendCallback_),r.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,"closed"===t.readyState?t.addEventListener("sourceopen",n):n()}return r(e,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:n.default.createTimeRanges()}},{key:"remove",value:function(e,t){var i=this;this.processedAppend_&&this.queueCallback_(function(){i.sourceBuffer_.remove(e,t)},o)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}();i.default=a,t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},a=r(e("mux.js/lib/mp4/probe")),s=e("mux.js/lib/tools/ts-inspector.js"),u=e("./playlist"),l=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),c=[{name:"VOD",run:function(e,t,i,r,n){return i!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,i,r,n){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(e,t,i,r,n){var o=t.segments||[],a=null,s=null;n=n||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===r&&void 0!==l.start){var c=Math.abs(n-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,i,r,n){var o=null;if(n=n||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var h=Math.abs(n-c.time);if(null!==a&&a<h)break;(!o||null===a||a>=h)&&(a=h,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(e,t,i,r,n){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];i.syncPointStrategies=c;var h=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=l.default.log.bind(l.default,"sync-controller ->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.EventTarget),n(t,[{key:"getSyncPoint",value:function(e,t,i,r){var n=this.runStrategies_(e,t,i,r);return n.length?this.selectSyncPoint_(n,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+(0,u.sumDurations)(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,i,r){for(var n=[],o=0;o<c.length;o++){var a=c[o],s=a.run(this,e,t,i,r);s&&(s.strategy=a.name,n.push({strategy:a.name,syncPoint:s}),this.logger_("syncPoint found via <"+a.name+">:",s))}return n}},{key:"selectSyncPoint_",value:function(e,t){for(var i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),n=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,i=e[o].syncPoint,n=e[o].strategy)}return this.logger_("syncPoint with strategy <"+n+"> chosen: ",i),i}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;i>=0;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t,i=e.segment,r=e.playlist;return(t=i.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,t)&&(this.saveDiscontinuitySyncInfo_(e),r.syncInfo||(r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:i.start})),t}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,i=a.default.timescale(t.map.bytes),r=a.default.startTime(i,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,s.inspect)(e.bytes,this.inspectCache_),i=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:i,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var i=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),i.start=e.startOfSegment,i.end=t.end+r.mapping;else{if(!r)return!1;i.start=t.start+r.mapping,i.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var n=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=n-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var l;l=a<0?i.start-(0,u.sumDurations)(t,e.mediaIndex,n):i.end+(0,u.sumDurations)(t,e.mediaIndex+1,n),this.discontinuities[o]={time:l,accuracy:s}}}}},{key:"logger_",value:function(){}}]),t}();i.default=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":11,"mux.js/lib/mp4/probe":57,"mux.js/lib/tools/ts-inspector.js":59}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.parseCodecs=function(){var e,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i={codecCount:0};return i.codecCount=t.split(",").length,i.codecCount=i.codecCount||2,(e=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t))&&(i.videoCodec=e[2],i.videoObjectTypeIndicator=e[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),i.audioProfile=i.audioProfile&&i.audioProfile[2],i}},{}],20:[function(e,t,i){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),a=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},s=n(e("./segment-loader")),u=n("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),l=n(e("global/window")),c=n(e("videojs-contrib-media-sources/es5/remove-cues-from-track.js")),h=e("./bin-utils"),d=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),f=function(e){return String.fromCharCode.apply(null,e)},p=function(e){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),this.mediaSource_=null,this.subtitlesTrack_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return u.default.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return u.default.createTimeRanges([[t,i]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var i=(0,h.initSegmentId)(e),r=this.initSegments_[i];if(t&&!r&&e.bytes){var n=d.byteLength+e.bytes.byteLength,o=new Uint8Array(n);o.set(e.bytes),o.set(d,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){(0,c.default)(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,i=t.segment;if("function"!=typeof l.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var t=function(){e.handleSegment_()};return e.state="WAITING_ON_VTTJS",e.subtitlesTrack_.tech_.one("vttjsloaded",t),e.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")}),{v:void 0}}();if("object"==typeof r)return r.v}i.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,i=!1;"function"==typeof l.default.TextDecoder?t=new l.default.TextDecoder("utf8"):(t=l.default.WebVTT.StringDecoder(),i=!0);var r=new l.default.WebVTT.Parser(l.default,l.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){u.default.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var n=e.segment.map.bytes;i&&(n=f(n)),r.parse(n)}var o=e.bytes;i&&(o=f(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,i){var r=e.segment;if(t){if(!e.cues.length)return void(r.empty=!0);var n=e.timestampmap,o=n.MPEGTS/9e4-n.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!i.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}}}]),t}();i.default=p,t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./segment-loader":16,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],21:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,n=function(e){return e&&e.__esModule?e:{default:e}}(r);i.default=function(){return function e(t,i){t=(0,r.mergeOptions)({timeout:45e3},t);var o=e.beforeRequest||n.default.Hls.xhr.beforeRequest;if(o&&"function"==typeof o){var a=o(t);a&&(t=a)}var s=(0,r.xhr)(t,function(e,t){var r=s.response;!e&&r&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=r.byteLength||r.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(r||s.responseText)))),i(e,s)}),u=s.abort;return s.abort=function(){return s.aborted=!0,u.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],r=t[4],n=i[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,r[a]=d,n[d]=a,p=16843009*u[h=u[c=u[a]]]^65537*h^257*c^16843008*a,f=257*u[d]^16843008*d,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,i[o][d]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),i[o]=i[o].slice(0);return e},o=null,a=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),o||(o=n()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var i=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=this._tables[0][4],c=this._tables[1],h=t.length,d=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(s=t.slice(0),u=[],this._key=[s,u],i=h;i<4*h+28;i++)a=s[i-1],(i%h==0||8===h&&i%h==4)&&(a=l[a>>>24]<<24^l[a>>16&255]<<16^l[a>>8&255]<<8^l[255&a],i%h==0&&(a=a<<8^a>>>24^d<<24,d=d<<1^283*(d>>7))),s[i]=s[i-h]^a;for(r=0;i;r++,i--)a=s[3&r?i:i-4],u[r]=i<=4||r<4?a:c[0][l[a>>>24]]^c[1][l[a>>16&255]]^c[2][l[a>>8&255]]^c[3][l[255&a]]}return r(e,[{key:"decrypt",value:function(e,t,i,r,n,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,A=void 0,g=4,m=this._tables[1],y=m[0],v=m[1],E=m[2],w=m[3],b=m[4];for(A=0;A<p;A++)h=y[s>>>24]^v[u>>16&255]^E[l>>8&255]^w[255&c]^a[g],d=y[u>>>24]^v[l>>16&255]^E[c>>8&255]^w[255&s]^a[g+1],f=y[l>>>24]^v[c>>16&255]^E[s>>8&255]^w[255&u]^a[g+2],c=y[c>>>24]^v[s>>16&255]^E[u>>8&255]^w[255&l]^a[g+3],g+=4,s=h,u=d,l=f;for(A=0;A<4;A++)n[(3&-A)+o]=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^a[g++],h=s,s=u,u=l,l=c,c=h}}]),e}();i.default=a,t.exports=i.default},{}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},o=function(e){return e&&e.__esModule?e:{default:e}}(e("./stream")),a=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,o.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}();i.default=a,t.exports=i.default},{"./stream":26}],24:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=r(e("./aes")),a=r(e("./async-stream")),s=e("pkcs7"),u=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(e,t,i){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),n=new o.default(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),s=new Int32Array(a.buffer),l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,A=void 0,g=void 0,m=void 0;for(l=i[0],c=i[1],h=i[2],d=i[3],m=0;m<r.length;m+=4)f=u(r[m]),p=u(r[m+1]),A=u(r[m+2]),g=u(r[m+3]),n.decrypt(f,p,A,g,s,m),s[m]=u(s[m]^l),s[m+1]=u(s[m+1]^c),s[m+2]=u(s[m+2]^h),s[m+3]=u(s[m+3]^d),l=f,c=p,h=A,d=g;return a};i.decrypt=l;var c=function(){function e(t,i,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=e.STEP,l=new Int32Array(t.buffer),c=new Uint8Array(t.byteLength),h=0;for(this.asyncStream_=new a.default,this.asyncStream_.push(this.decryptChunk_(l.subarray(h,h+o),i,r,c)),h=o;h<l.length;h+=o)r=new Uint32Array([u(l[h-4]),u(l[h-3]),u(l[h-2]),u(l[h-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(h,h+o),i,r,c));this.asyncStream_.push(function(){n(null,(0,s.unpad)(c))})}return n(e,[{key:"decryptChunk_",value:function(e,t,i,r){return function(){var n=l(e,t,i);r.set(n,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();i.Decrypter=c,i.default={Decrypter:c,decrypt:l}},{"./aes":22,"./async-stream":23,pkcs7:28}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("./decrypter"),n=function(e){return e&&e.__esModule?e:{default:e}}(e("./async-stream"));i.default={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:n.default},t.exports=i.default},{"./async-stream":23,"./decrypter":24}],26:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var i=void 0;return!!this.listeners[e]&&(i=this.listeners[e].indexOf(t),this.listeners[e].splice(i,1),i>-1)}},{key:"trigger",value:function(e){var t=void 0,i=void 0,r=void 0,n=void 0;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,i=0;i<r;++i)t[i].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),r=t.length,i=0;i<r;++i)t[i].apply(this,n)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();i.default=n,t.exports=i.default},{}],27:[function(e,t,i){"use strict";var r;t.exports=function(e){var t=r[e.byteLength%16||0],i=new Uint8Array(e.byteLength+t.length);return i.set(e),i.set(t,e.byteLength),i},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],28:[function(e,t,i){"use strict";i.pad=e("./pad.js"),i.unpad=e("./unpad.js")},{"./pad.js":27,"./unpad.js":29}],29:[function(e,t,i){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],30:[function(e,t,i){},{}],31:[function(e,t,i){(function(i){var r,n=void 0!==i?i:"undefined"!=typeof window?window:{},o=e("min-document");"undefined"!=typeof document?r=document:(r=n["__GLOBAL_DOCUMENT_CACHE@4"])||(r=n["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":30}],32:[function(e,t,i){(function(e){var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=r(e("./line-stream")),o=r(e("./parse-stream")),a=r(e("./parser"));t.exports={LineStream:n.default,ParseStream:o.default,Parser:a.default}},{"./line-stream":34,"./parse-stream":35,"./parser":36}],34:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e("./stream")),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),r(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}();i.default=o},{"./stream":37}],35:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("./stream")),a=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=t.length,n=void 0;r--;)""!==t[r]&&((n=/([^=]*)=(.*)/.exec(t[r]).slice(1))[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),i[n[0]]=n[1]);return i},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),n(t,[{key:"push",value:function(e){var t=void 0,i=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var n=a(t[1]);if(n.URI&&(i.uri=n.URI),n.BYTERANGE){var o=n.BYTERANGE.split("@"),s=r(o,2),u=s[0],l=s[1];i.byterange={},u&&(i.byterange.length=parseInt(u,10)),l&&(i.byterange.offset=parseInt(l,10))}}return void this.trigger("data",i)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=a(t[1]),i.attributes.RESOLUTION){var c=i.attributes.RESOLUTION.split("x"),h={};c[0]&&(h.width=parseInt(c[0],10)),c[1]&&(h.height=parseInt(c[1],10)),i.attributes.RESOLUTION=h}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}return void this.trigger("data",i)}if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=a(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.trigger("data",{type:"tag",tagType:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.trigger("data",{type:"tag",tagType:"discontinuity"});if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=a(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);this.trigger("data",{type:"tag",data:e.slice(4)})}}}]),t}();i.default=s},{"./stream":37}],36:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),a=r(e("./stream")),s=r(e("./line-stream")),u=r(e("./parse-stream")),l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new s.default,e.parseStream=new u.default,e.lineStream.pipe(e.parseStream);var i=e,r=[],o={},a=void 0,l=void 0,c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(e){var t=void 0,s=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(o.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(l=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void(void 0!==e.attributes.IV&&(l.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,h=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){a={},e.uri&&(a.uri=e.uri),e.byterange&&(a.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes?(o.attributes||(o.attributes={}),n(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes["GROUP-ID"]]=i[e.attributes["GROUP-ID"]]||{},t=i[e.attributes["GROUP-ID"]],(s={default:/yes/i.test(e.attributes.DEFAULT)}).default?s.autoselect=!0:s.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(s.language=e.attributes.LANGUAGE),e.attributes.URI&&(s.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(s.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(s.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(s.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=s}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}})[e.tagType]||function(){}).call(i)},uri:function(){o.uri=e.uri,r.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),l&&(o.key=l),o.timeline=h,a&&(o.map=a),o={}},comment:function(){}})[e.type].call(i)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}();i.default=l},{"./line-stream":34,"./parse-stream":35,"./stream":37}],37:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),i>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],i=void 0,r=void 0,n=void 0;if(t)if(2===arguments.length)for(r=t.length,i=0;i<r;++i)t[i].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),r=t.length,i=0;i<r;++i)t[i].apply(this,n)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();i.default=n},{}],38:[function(e,t,i){"use strict";var r,n=e("../utils/stream.js");(r=function(){var e=new Uint8Array,t=0;r.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},this.parseAdtsSize=function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i},this.push=function(i){var r,n,o,a,s=0,u=0;for(e.length?(a=e.length,(e=new Uint8Array(i.byteLength+a)).set(e.subarray(0,a)),e.set(i,a)):e=i;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(!0&e[u]&&240==(240&e[u+1])){if(e.length-u<7)break;if((s=this.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else u++;else{if(e.length-u<10)break;if((s=this.parseId3TagSize(e,u))>e.length)break;n={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",n),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array}}).prototype=new n,t.exports=r},{"../utils/stream.js":62}],39:[function(e,t,i){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],n=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},o=function(e,t,i){return unescape(function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n}(e,t,i))};t.exports={parseId3TagSize:function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,r;t=10,64&e[5]&&(t+=4,t+=n(e.subarray(10,14)));do{if((i=n(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+i+10);for(var a=0;a<r.byteLength;a++)if(0===r[a]){if("com.apple.streaming.transportStreamTimestamp"===o(r,0,a)){var s=r.subarray(a+1),u=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return(u*=4)+(3&s[7])}break}}t+=10,t+=i}while(t<e.byteLength);return null}}},{}],40:[function(e,t,i){"use strict";var r,n=e("../utils/stream.js"),o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(r=function(){var e;r.prototype.init.call(this),this.push=function(t){var i,r,n,a,s,u,l=0,c=0;if("audio"===t.type)for(e?(a=e,(e=new Uint8Array(a.byteLength+t.data.byteLength)).set(a),e.set(t.data,a.byteLength)):e=t.data;l+5<e.length;)if(255===e[l]&&240==(246&e[l+1])){if(r=2*(1&~e[l+1]),i=(3&e[l+3])<<11|e[l+4]<<3|(224&e[l+5])>>5,u=9e4*(s=1024*(1+(3&e[l+6])))/o[(60&e[l+2])>>>2],n=l+i,e.byteLength<n)return;if(this.trigger("data",{pts:t.pts+c*u,dts:t.dts+c*u,sampleCount:s,audioobjecttype:1+(e[l+2]>>>6&3),channelcount:(1&e[l+2])<<2|(192&e[l+3])>>>6,samplerate:o[(60&e[l+2])>>>2],samplingfrequencyindex:(60&e[l+2])>>>2,samplesize:16,data:e.subarray(l+7+r,n)}),e.byteLength===n)return void(e=void 0);c++,e=e.subarray(n)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new n,t.exports=r},{"../utils/stream.js":62}],41:[function(e,t,i){"use strict";var r,n,o,a=e("../utils/stream.js"),s=e("../utils/exp-golomb.js");(n=function(){var e,t,i=0;n.prototype.init.call(this),this.push=function(r){var n;for(t?((n=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),n.set(r.data,t.byteLength),t=n):t=r.data;i<t.byteLength-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<t.length);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")}}).prototype=new a,o={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(r=function(){var e,t,i,a,u,l,c,h=new n;r.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,a=e.dts,h.push(e))},h.on("data",function(r){var n={trackId:t,pts:i,dts:a,data:r};switch(31&r[0]){case 5:n.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:n.nalUnitType="sei_rbsp",n.escapedRBSP=u(r.subarray(1));break;case 7:n.nalUnitType="seq_parameter_set_rbsp",n.escapedRBSP=u(r.subarray(1)),n.config=l(n.escapedRBSP);break;case 8:n.nalUnitType="pic_parameter_set_rbsp";break;case 9:n.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",n)}),h.on("done",function(){e.trigger("done")}),this.flush=function(){h.flush()},c=function(e,t){var i,r=8,n=8;for(i=0;i<e;i++)0!==n&&(n=(r+t.readExpGolomb()+256)%256),r=0===n?r:n},u=function(e){for(var t,i,r=e.byteLength,n=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=e[a];return i},l=function(e){var t,i,r,n,a,u,l,h,d,f,p,A,g,m=0,y=0,v=0,E=0,w=1;if(i=(t=new s(e)).readUnsignedByte(),n=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),o[i]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==a?8:12,g=0;g<p;g++)t.readBoolean()&&c(g<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(u=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===u)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),g=0;g<l;g++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),h=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(f=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),E=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}A&&(w=A[0]/A[1])}return{profileIdc:i,levelIdc:r,profileCompatibility:n,width:Math.ceil((16*(h+1)-2*m-2*y)*w),height:(2-f)*(d+1)*16-2*v-2*E}}}).prototype=new a,t.exports={H264Stream:r,NalByteStream:n}},{"../utils/exp-golomb.js":61,"../utils/stream.js":62}],42:[function(e,t,i){var r=[33,16,5,32,164,27],n=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o=function(e){for(var t=[];e--;)t.push(0);return t},a={96000:[r,[227,64],o(154),[56]],88200:[r,[231],o(170),[56]],64000:[r,[248,192],o(240),[56]],48000:[r,[255,192],o(268),[55,148,128],o(54),[112]],44100:[r,[255,192],o(268),[55,163,128],o(84),[112]],32000:[r,[255,192],o(268),[55,234],o(226),[112]],24000:[r,[255,192],o(268),[55,255,128],o(268),[111,112],o(126),[224]],16000:[r,[255,192],o(268),[55,255,128],o(268),[111,255],o(269),[223,108],o(195),[1,192]],12000:[n,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,253,128],o(259),[56]],11025:[n,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,255,192],o(268),[55,175,128],o(108),[112]],8000:[n,o(268),[3,121,16],o(47),[7]]};t.exports=function(e){return Object.keys(e).reduce(function(t,i){return t[i]=new Uint8Array(e[i].reduce(function(e,t){return e.concat(t)},[])),t},{})}(a)},{}],43:[function(e,t,i){"use strict";var r=e("../utils/stream.js"),n=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,n.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};n.prototype=new r,n.prototype.flush=function(e){var t,i,r,n,o={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&++this.processedTracks<this.numberOfTracks)return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?n=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(n=this.audioTrack.timelineStartInfo.pts),o.tags.videoTags=this.videoTags,o.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)(i=this.pendingCaptions[r]).startTime=i.startPts-n,i.startTime/=9e4,i.endTime=i.endPts-n,i.endTime/=9e4,o.captionStreams[i.stream]=!0,o.captions.push(i);for(r=0;r<this.pendingMetadata.length;r++)(t=this.pendingMetadata[r]).cueTime=t.pts-n,t.cueTime/=9e4,o.metadata.push(t);o.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",o),this.trigger("done")}},t.exports=n},{"../utils/stream.js":62}],44:[function(e,t,i){"use strict";var r=e("./flv-tag.js");t.exports=function(e,t,i){var n,o,a,s=new Uint8Array(9),u=new DataView(s.buffer);return e=e||0,t=void 0===t||t,i=void 0===i||i,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(t?4:0)|(i?1:0)),u.setUint32(5,s.byteLength),e<=0?((o=new Uint8Array(s.byteLength+4)).set(s),o.set([0,0,0,0],s.byteLength),o):((n=new r(r.METADATA_TAG)).pts=n.dts=0,n.writeMetaDataDouble("duration",e),a=n.finalize().length,(o=new Uint8Array(s.byteLength+a)).set(s),o.set(u.byteLength,a),o)}},{"./flv-tag.js":45}],45:[function(e,t,i){"use strict";var r;(r=function(e,t){var i,n=0,o=16384,a=function(e,t){var i,r=e.position+t;r<e.bytes.byteLength||((i=new Uint8Array(2*r)).set(e.bytes.subarray(0,e.position),0),e.bytes=i,e.view=new DataView(e.bytes.buffer))},s=r.widthBytes||new Uint8Array("width".length),u=r.heightBytes||new Uint8Array("height".length),l=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(i=0;i<"width".length;i++)s[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)u[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)l[i]="videocodecid".charCodeAt(i);r.widthBytes=s,r.heightBytes=u,r.videocodecidBytes=l}switch(this.keyFrame=!1,e){case r.VIDEO_TAG:this.length=16,o*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(o),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,i){var r,n=t||0;r=n+(i=i||e.byteLength),a(this,i),this.bytes.set(e.subarray(n,r),this.position),this.position+=i,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===n?0:this.length-(n+4)},this.startNalUnit=function(){if(n>0)throw new Error("Attempted to create new NAL wihout closing the old one");n=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,i;this.length===n+4?this.length-=4:n>0&&(t=n+4,i=this.length-t,this.position=n,this.view.setUint32(this.position,i),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+i))),n=0},this.writeMetaDataDouble=function(e,t){var i;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(l,this.position),this.position+=12;else for(i=0;i<e.length;i++)this.bytes[this.position]=e.charCodeAt(i),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++n},this.writeMetaDataBoolean=function(e,t){var i;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,i=0;i<e.length;i++)a(this,1),this.bytes[this.position]=e.charCodeAt(i),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++n},this.finalize=function(){var e,i;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,n),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}}).AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(e){return r.AUDIO_TAG===e[0]},r.isVideoFrame=function(e){return r.VIDEO_TAG===e[0]},r.isMetaData=function(e){return r.METADATA_TAG===e[0]},r.isKeyFrame=function(e){return r.isVideoFrame(e)?23===e[11]:!!r.isAudioFrame(e)||!!r.isMetaData(e)},r.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,(t|=e[6]<<0)|e[7]<<24},t.exports=r},{}],46:[function(e,t,i){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),getFlvHeader:e("./flv-header")}},{"./flv-header":44,"./flv-tag":45,"./transmuxer":48}],47:[function(e,t,i){"use strict";t.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},{}],48:[function(e,t,i){"use strict";var r,n,o,a,s,u,l=e("../utils/stream.js"),c=e("./flv-tag.js"),h=e("../m2ts/m2ts.js"),d=e("../codecs/adts.js"),f=e("../codecs/h264").H264Stream,p=e("./coalesce-stream.js"),A=e("./tag-list.js");a=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var i=new c(c.METADATA_TAG);return i.dts=t,i.pts=t,i.writeMetaDataDouble("videocodecid",7),i.writeMetaDataDouble("width",e.width),i.writeMetaDataDouble("height",e.height),i},u=function(e,t){var i,r=new c(c.VIDEO_TAG,!0);for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),i=0;i<e.pps.length;++i)r.writeShort(e.pps[i].length),r.writeBytes(e.pps[i]);return r},(o=function(e){var t,i=[],r=[];o.prototype.init.call(this),this.push=function(t){a(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),i.push(t)},this.flush=function(){var n,o,a,s=new A;if(0!==i.length){for(a=-1/0;i.length;)n=i.shift(),r.length&&n.pts>=r[0]&&(a=r.shift(),this.writeMetaDataTags(s,a)),(e.extraData!==t||n.pts-a>=1e3)&&(this.writeMetaDataTags(s,n.pts),t=e.extraData,a=n.pts),(o=new c(c.AUDIO_TAG)).pts=n.pts,o.dts=n.dts,o.writeBytes(n.data),s.push(o.finalize());r.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,i){var r;(r=new c(c.METADATA_TAG)).pts=i,r.dts=i,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===e.channelcount),r.writeMetaDataDouble("audiosamplerate",e.samplerate),r.writeMetaDataDouble("audiosamplesize",16),t.push(r.finalize()),(r=new c(c.AUDIO_TAG,!0)).pts=i,r.dts=i,r.view.setUint16(r.position,e.extraData),r.position+=2,r.length=Math.max(r.length,r.position),t.push(r.finalize())},this.onVideoKeyFrame=function(e){r.push(e)}}).prototype=new l,(n=function(e){var t,i,r=[];n.prototype.init.call(this),this.finishFrame=function(r,n){if(n){if(t&&e&&e.newMetadata&&(n.keyFrame||0===r.length)){var o=s(t,n.dts).finalize(),a=u(e,n.dts).finalize();o.metaDataTag=a.metaDataTag=!0,r.push(o),r.push(a),e.newMetadata=!1,this.trigger("keyframe",n.dts)}n.endNalUnit(),r.push(n.finalize()),i=null}},this.push=function(t){a(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){for(var n,o=new A;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0!==r.length){for(;r.length;)"seq_parameter_set_rbsp"===(n=r.shift()).nalUnitType?(e.newMetadata=!0,t=n.config,e.width=t.width,e.height=t.height,e.sps=[n.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,i.endNalUnit()):"pic_parameter_set_rbsp"===n.nalUnitType?(e.newMetadata=!0,e.pps=[n.data],i.endNalUnit()):"access_unit_delimiter_rbsp"===n.nalUnitType?(i&&this.finishFrame(o,i),(i=new c(c.VIDEO_TAG)).pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.endNalUnit()),i.startNalUnit(),i.writeBytes(n.data);i&&this.finishFrame(o,i),this.trigger("data",{track:e,tags:o.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new l,(r=function(e){var t,i,a,s,u,l,c,A,g,m,y,v,E=this;r.prototype.init.call(this),e=e||{},this.metadataStream=new h.MetadataStream,e.metadataStream=this.metadataStream,t=new h.TransportPacketStream,i=new h.TransportParseStream,a=new h.ElementaryStream,s=new h.TimestampRolloverStream("video"),u=new h.TimestampRolloverStream("audio"),l=new h.TimestampRolloverStream("timed-metadata"),c=new d,A=new f,v=new p(e),t.pipe(i).pipe(a),a.pipe(s).pipe(A),a.pipe(u).pipe(c),a.pipe(l).pipe(this.metadataStream).pipe(v),y=new h.CaptionStream,A.pipe(y).pipe(v),a.on("data",function(e){var t,i,r;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?i=e.tracks[t]:"audio"===e.tracks[t].type&&(r=e.tracks[t]);i&&!g&&(v.numberOfTracks++,g=new n(i),A.pipe(g).pipe(v)),r&&!m&&(v.numberOfTracks++,m=new o(r),c.pipe(m).pipe(v),g&&g.on("keyframe",m.onVideoKeyFrame))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){y.reset()},v.on("data",function(e){E.trigger("data",e)}),v.on("done",function(){E.trigger("done")})}).prototype=new l,t.exports=r},{"../codecs/adts.js":40,"../codecs/h264":41,"../m2ts/m2ts.js":50,"../utils/stream.js":62,"./coalesce-stream.js":43,"./flv-tag.js":45,"./tag-list.js":47}],49:[function(e,t,i){"use strict";var r=e("../utils/stream"),n=function(){n.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};n.prototype=new r,n.prototype.push=function(e){var t,i;if("sei_rbsp"===e.nalUnitType&&(4===(t=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},r=0,n=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!i.payload&&4===r){i.payloadType=r,i.payloadSize=n,i.payload=e.subarray(t,t+n);break}t+=n,r=0,n=0}return i}(e.escapedRBSP)).payloadType&&(i=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(this.ignoreNextEqualDts_=!1);this.captionPackets_=this.captionPackets_.concat(function(e,t){var i,r,n,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],i=0;i<r;i++)o={type:3&t[2+(n=3*i)],pts:e},4&t[n+2]&&(o.ccData=t[n+3]<<8|t[n+4],a.push(o));return a}(e.pts,i)),this.latestDts_=e.dts}},n.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},n.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},n.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},n.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},n.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},a=function(e){return null===e?"":(e=o[e]||e,String.fromCharCode(e))},s=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var e=[],t=15;t--;)e.push("");return e},l=function(e,t){l.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,r,n,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,n=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=u();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,n))o=a((r=(3&r)<<8)|n),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),o=a((r=(3&r)<<8)|n),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,n))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,n))this.column_+=3&n;else if(this.isPAC(r,n)){var l=s.indexOf(7968&t);l!==this.row_&&(this.clearFormatting(e.pts),this.row_=l),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===n&&(n=null),o=a(r),o+=a(n),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};l.prototype=new r,l.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},l.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},l.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},l.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},l.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},l.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},l.prototype.isNormalChar=function(e){return e>=32&&e<=127},l.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},l.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},l.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},l.prototype.rollUp=function(e,t){var i=this.displayed_[14];i+=t,this.displayed_[14]=i},l.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},l.prototype.paintOn=function(){},t.exports={CaptionStream:n,Cea608Stream:l}},{"../utils/stream":62}],50:[function(e,t,i){"use strict";var r,n,o,a=e("../utils/stream.js"),s=e("./caption-stream"),u=e("./stream-types"),l=e("./timestamp-rollover-stream").TimestampRolloverStream,c=e("./stream-types.js");(r=function(){var e=new Uint8Array(188),t=0;r.prototype.init.call(this),this.push=function(i){var r,n=0,o=188;for(t?((r=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),r.set(i,t),t=0):r=i;o<r.byteLength;)71!==r[n]||71!==r[o]?(n++,o++):(this.trigger("data",r.subarray(n,o)),n+=188,o+=188);n<r.byteLength&&(e.set(r.subarray(n),0),t=r.byteLength-n)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new a,(n=function(){var e,t,i,r;n.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var n=0;r.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===r.type?t(e.subarray(n),r):i(e.subarray(n),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},i=function(e,t){var i,n;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var o=e[n],a=(31&e[n+1])<<8|e[n+2];o===u.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===u.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===u.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var i={},r=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===i.pid)i.type="pat",e(t.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,i]):this.processPes_(t,r,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=u.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=u.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new a,n.STREAM_TYPES={h264:27,adts:15},(o=function(){var e=this,t={data:[],size:0},i={data:[],size:0},r={data:[],size:0},n=function(t,i,r){var n,o=new Uint8Array(t.size),a={type:i},s=0,u=0,l=!1;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,s=0;s<t.data.length;s++)n=t.data[s],o.set(n.data,u),u+=n.data.byteLength;(function(e,t){var i;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])})(o,a),l="video"===i||a.packetLength<=t.size,(r||l)&&(t.size=0,t.data.length=0),l&&e.trigger("data",a)}};o.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=t,a="video";break;case u.ADTS_STREAM_TYPE:e=i,a="audio";break;case u.METADATA_STREAM_TYPE:e=r,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&n(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},i=o.programMapTable;null!==i.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){n(t,"video"),n(i,"audio"),n(r,"timed-metadata"),this.trigger("done")}}).prototype=new a;var h={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:n,ElementaryStream:o,TimestampRolloverStream:l,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var d in u)u.hasOwnProperty(d)&&(h[d]=u[d]);t.exports=h},{"../utils/stream.js":62,"./caption-stream":49,"./metadata-stream":51,"./stream-types":53,"./stream-types.js":53,"./timestamp-rollover-stream":54}],51:[function(e,t,i){"use strict";var r,n=e("../utils/stream"),o=e("./stream-types"),a=function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n},s=function(e,t,i){return decodeURIComponent(a(e,t,i))},u=function(e,t,i){return unescape(a(e,t,i))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=u(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(r=function(e){var t,i={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},n=0,a=[],s=0;if(r.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,o,u,h;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(i.debug&&console.log("Skipping unrecognized metadata packet"));if(a.push(e),s+=e.data.byteLength,1===a.length&&(n=l(e.data.subarray(6,10)),n+=10),!(s<n)){for(t={data:new Uint8Array(n),frames:[],pts:a[0].pts,dts:a[0].dts},h=0;h<n;)t.data.set(a[0].data.subarray(0,n-h),h),h+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();r=10,64&t.data[5]&&(r+=4,r+=l(t.data.subarray(10,14)),n-=l(t.data.subarray(16,20)));do{if((o=l(t.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+o+10)}).key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var d=u.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],u.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),r+=10,r+=o}while(r<n);this.trigger("data",t)}}}}).prototype=new n,t.exports=r},{"../utils/stream":62,"./stream-types":53}],52:[function(e,t,i){"use strict";var r=e("./stream-types.js"),n=function(e){var t=31&e[1];return(t<<=8)|e[2]},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(e,t){var i=n(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),i=4+a(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=o(e),r=4+a(e);if(i&&(r+=e[r]+1),1&e[r+5]){var n;n=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<n;){var u=r+s;t[(31&e[u+1])<<8|e[u+2]]=e[u],s+=5+((15&e[u+3])<<8|e[u+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[n(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var i,r=null;return 192&(i=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&i&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),i=e.subarray(t),r=0,n=0,o=!1;n<i.byteLength-3;n++)if(1===i[n+2]){r=n+5;break}for(;r<i.byteLength;)switch(i[r]){case 0:if(0!==i[r-1]){r+=2;break}if(0!==i[r-2]){r++;break}n+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&i[n+3])&&(o=!0);do{r++}while(1!==i[r]&&r<i.length);n=r-2,r+=3;break;case 1:if(0!==i[r-1]||0!==i[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&i[n+3])&&(o=!0),n=r-2,r+=3;break;default:r+=3}return i=i.subarray(n),r-=n,n=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&i[n+3])&&(o=!0),o}}},{"./stream-types.js":53}],53:[function(e,t,i){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],54:[function(e,t,i){"use strict";var r=e("../utils/stream"),n=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},o=function(e){var t,i;o.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===i&&(i=e.dts),e.dts=n(e.dts,i),e.pts=n(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.discontinuity=function(){i=void 0,t=void 0}};o.prototype=new r,t.exports={TimestampRolloverStream:o,handleRollover:n}},{"../utils/stream":62}],55:[function(e,t,i){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream}},{"./mp4-generator":56,"./transmuxer":58}],56:[function(e,t,i){"use strict";var r,n,o,a,s,u,l,c,h,d,f,p,A,g,m,y,v,E,w,b,C,I,S,M,k,T,D,B,R,Q,O,L,x,q,K,U,F=Math.pow(2,32)-1;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);M=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),T=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),B=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),R={video:D,audio:B},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),x=new Uint8Array([0,0,0,0,0,0,0,0]),q=x,K=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=x,Q=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(e){var t,i,r=[],n=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)n+=r[t].byteLength;for(i=new Uint8Array(n+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,n=8;t<r.length;t++)i.set(r[t],n),n+=r[t].byteLength;return i},n=function(){return r(S.dinf,r(S.dref,L))},o=function(e){return r(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return r(S.ftyp,M,k,M,T)},y=function(e){return r(S.hdlr,R[e])},s=function(e){return r(S.mdat,e)},m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),r(S.mdhd,t)},g=function(e){return r(S.mdia,m(e),y(e.type),l(e))},u=function(e){return r(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return r(S.minf,"video"===e.type?r(S.vmhd,Q):r(S.smhd,O),n(),E(e))},c=function(e,t){for(var i=[],n=t.length;n--;)i[n]=b(t[n]);return r.apply(null,[S.moof,u(e)].concat(i))},h=function(e){for(var t=e.length,i=[];t--;)i[t]=p(e[t]);return r.apply(null,[S.moov,f(4294967295)].concat(i).concat(d(e)))},d=function(e){for(var t=e.length,i=[];t--;)i[t]=C(e[t]);return r.apply(null,[S.mvex].concat(i))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(S.mvhd,t)},v=function(e){var t,i,n=e.samples||[],o=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)t=n[i].flags,o[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return r(S.sdtp,o)},E=function(e){return r(S.stbl,w(e),r(S.stts,U),r(S.stsc,q),r(S.stsz,K),r(S.stco,x))},function(){var e,t;w=function(i){return r(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?e(i):t(i))},e=function(e){var t,i=e.sps||[],n=e.pps||[],o=[],a=[];for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));for(t=0;t<n.length;t++)a.push((65280&n[t].byteLength)>>>8),a.push(255&n[t].byteLength),a=a.concat(Array.prototype.slice.call(n[t]));return r(S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(o).concat([n.length]).concat(a))),r(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return r(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))}}(),A=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return r(S.tkhd,t)},b=function(e){var t,i,n,o,a,s;return t=r(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(F+1)),s=Math.floor(e.baseMediaDecodeTime%(F+1)),i=r(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(n=I(e,92),r(S.traf,t,i,n)):(o=v(e),n=I(e,o.length+92),r(S.traf,t,i,n,o))},p=function(e){return e.duration=e.duration||4294967295,r(S.trak,A(e),g(e))},C=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),r(S.trex,t)},function(){var e,t,i;i=function(e,t){var i=0,r=0,n=0,o=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(n=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,i|r|n|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var n,o,a,s;for(t+=20+16*(o=e.samples||[]).length,n=i(o,t),s=0;s<o.length;s++)a=o[s],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return r(S.trun,new Uint8Array(n))},e=function(e,t){var n,o,a,s;for(t+=20+8*(o=e.samples||[]).length,n=i(o,t),s=0;s<o.length;s++)a=o[s],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return r(S.trun,new Uint8Array(n))},I=function(i,r){return"audio"===i.type?e(i,r):t(i,r)}}(),t.exports={ftyp:a,mdat:s,moof:c,moov:h,initSegment:function(e){var t,i=a(),r=h(e);return(t=new Uint8Array(i.byteLength+r.byteLength)).set(i),t.set(r,i.byteLength),t}}},{}],57:[function(e,t,i){"use strict";var r,n,o,a;r=function(e,t){var i,o,a,s,u,l=[];if(!t.length)return null;for(i=0;i<e.byteLength;)o=e[i]<<24,o|=e[i+1]<<16,o|=e[i+2]<<8,o|=e[i+3],a=n(e.subarray(i+4,i+8)),s=o>1?i+o:e.byteLength,a===t[0]&&(1===t.length?l.push(e.subarray(i+8,s)):(u=r(e.subarray(i+8,s),t.slice(1))).length&&(l=l.concat(u))),i=s;return l},n=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},o=function(e){return r(e,["moov","trak"]).reduce(function(e,t){var i,n,o,a;return(i=r(t,["tkhd"])[0])?(o=i[n=0===i[0]?12:20]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3],(a=r(t,["mdia","mdhd"])[0])?(n=0===a[0]?12:20,e[o]=a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3],e):null):null},{})},a=function(e,t){var i,n,o;return i=r(t,["moof","traf"]),n=[].concat.apply([],i.map(function(t){return r(t,["tfhd"]).map(function(i){var n,o;return n=i[4]<<24|i[5]<<16|i[6]<<8|i[7],o=e[n]||9e4,(r(t,["tfdt"]).map(function(e){var t,i;return t=e[0],i=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(i*=Math.pow(2,32),i+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),i})[0]||1/0)/o})})),o=Math.min.apply(null,n),isFinite(o)?o:0},t.exports={parseType:n,timescale:o,startTime:a}},{}],58:[function(e,t,i){"use strict";var r,n,o,a,s,u,l,c,h,d,f=e("../utils/stream.js"),p=e("./mp4-generator.js"),A=e("../m2ts/m2ts.js"),g=e("../codecs/adts.js"),m=e("../codecs/h264").H264Stream,y=e("../aac"),v=e("../data/silence"),E=e("../utils/clock"),w=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],b=["width","height","profileIdc","levelIdc","profileCompatibility"];s=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},h=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},d=function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i},(n=function(e){var t=[],i=0,r=0,o=0,a=1/0;n.prototype.init.call(this),this.push=function(i){u(e,i),e&&w.forEach(function(t){e[t]=i[t]}),t.push(i)},this.setEarliestDts=function(t){r=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var r,n,o,a;0!==t.length?(r=this.trimAdtsFramesByEarliestDts_(t),e.baseMediaDecodeTime=c(e),this.prefixWithSilence_(e,r),e.samples=this.generateSampleTable_(r),o=p.mdat(this.concatenateFrameData_(r)),t=[],n=p.moof(i,[e]),a=new Uint8Array(n.byteLength+o.byteLength),i++,a.set(n),a.set(o,n.byteLength),l(e),this.trigger("data",{track:e,boxes:a}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var i,r,n,s=0,u=0,l=0,c=0;if(t.length&&(i=E.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),o&&a&&(u=i-Math.max(o,a),c=(l=Math.floor(u/s))*s),!(l<1||c>45e3))){for((r=v[e.samplerate])||(r=t[0].data),n=0;n<l;n++)t.splice(n,0,{data:r});e.baseMediaDecodeTime-=Math.floor(E.videoTsToAudioTs(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=r?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=r&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,i,r=[];for(t=0;t<e.length;t++)i=e[t],r.push({size:i.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,i,r=0,n=new Uint8Array(d(e));for(t=0;t<e.length;t++)i=e[t],n.set(i.data,r),r+=i.data.byteLength;return n}}).prototype=new f,(r=function(e,t){var i,n,o=0,a=[],s=[];t=t||{},r.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){u(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],b.forEach(function(t){e[t]=i[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var i,r,n,h,d,f;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=this.groupNalsIntoFrames_(a),(n=this.groupFramesIntoGops_(i))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],e))?(n.unshift(r),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.pts=r.pts,n.dts=r.dts,n.duration+=r.duration):n=this.extendFirstKeyFrame_(n)),s.length){var A;if(!(A=t.alignGopsAtEnd?this.alignGopsAtEnd_(n):this.alignGopsAtStart_(n)))return this.gopCache_.unshift({gop:n.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");l(e),n=A}u(e,n),e.samples=this.generateSampleTable_(n),d=p.mdat(this.concatenateNalData_(n)),e.baseMediaDecodeTime=c(e),this.trigger("processedGopsInfo",n.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:n.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),h=p.moof(o,[e]),f=new Uint8Array(h.byteLength+d.byteLength),o++,f.set(h),f.set(d,h.byteLength),this.trigger("data",{track:e,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){l(e),i=void 0,n=void 0},this.getGopForFusion_=function(t){var i,r,n,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)n=(o=this.gopCache_[a]).gop,e.pps&&h(e.pps[0],o.pps[0])&&e.sps&&h(e.sps[0],o.sps[0])&&(n.dts<e.timelineStartInfo.dts||(i=t.dts-n.dts-n.duration)>=-1e4&&i<=45e3&&(!r||s>i)&&(r=o,s=i));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,i,r=[],n=[];for(r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(r.length&&(r.duration=i.dts-r.dts,n.push(r)),(r=[i]).byteLength=i.data.byteLength,r.pts=i.pts,r.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(r.keyFrame=!0),r.duration=i.dts-r.dts,r.byteLength+=i.data.byteLength,r.push(i));return n.length&&(!r.duration||r.duration<=0)&&(r.duration=n[n.length-1].duration),n.push(r),n},this.groupFramesIntoGops_=function(e){var t,i,r=[],n=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(r.length&&(n.push(r),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration),(r=[i]).nalCount=i.length,r.byteLength=i.byteLength,r.pts=i.pts,r.dts=i.dts,r.duration=i.duration):(r.duration+=i.duration,r.nalCount+=i.length,r.byteLength+=i.byteLength,r.push(i));return n.length&&r.duration<=0&&(r.duration=n[n.length-1].duration),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration,n.push(r),n},this.generateSampleTable_=function(e,t){var i,r,n,o,a,s=t||0,u=[];for(i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)a=o[r],(n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=s,n.compositionTimeOffset=a.pts-a.dts,n.duration=a.duration,n.size=4*a.length,n.size+=a.byteLength,a.keyFrame&&(n.flags.dependsOn=2),s+=n.size,u.push(n);return u},this.concatenateNalData_=function(e){var t,i,r,n,o,a,s=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(o=n[i],r=0;r<o.length;r++)a=o[r],h.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},this.alignGopsAtStart_=function(e){var t,i,r,n,o,a,u,l;for(o=e.byteLength,a=e.nalCount,u=e.duration,t=i=0;t<s.length&&i<e.length&&(r=s[t],n=e[i],r.pts!==n.pts);)n.pts>r.pts?t++:(i++,o-=n.byteLength,a-=n.nalCount,u-=n.duration);return 0===i?e:i===e.length?null:((l=e.slice(i)).byteLength=o,l.duration=u,l.nalCount=a,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,i,r,n,o,a,u;for(t=s.length-1,i=e.length-1,o=null,a=!1;t>=0&&i>=0;){if(r=s[t],n=e[i],r.pts===n.pts){a=!0;break}r.pts>n.pts?t--:(t===s.length-1&&(o=i),i--)}if(!a&&null===o)return null;if(0===(u=a?i:o))return e;var l=e.slice(u),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){s=e}}).prototype=new f,u=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},l=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},c=function(e){var t,i=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(a=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new f,a.prototype.flush=function(e){var t,i,r,n,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,b.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,w.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=p.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)a.data.set(this.pendingBoxes[n],o),o+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(t=this.pendingCaptions[n]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)(i=this.pendingMetadata[n]).cueTime=i.pts-s,i.cueTime/=9e4,a.metadata.push(i);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(o=function(e){var t,i,u=this,c=!0;o.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new A.MetadataStream,t.aacStream=new y,t.audioTimestampRolloverStream=new A.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new A.TimestampRolloverStream("timed-metadata"),t.adtsStream=new g,t.coalesceStream=new a(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:u.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new n(i),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new A.MetadataStream,o.packetStream=new A.TransportPacketStream,o.parseStream=new A.TransportParseStream,o.elementaryStream=new A.ElementaryStream,o.videoTimestampRolloverStream=new A.TimestampRolloverStream("video"),o.audioTimestampRolloverStream=new A.TimestampRolloverStream("audio"),o.timedMetadataTimestampRolloverStream=new A.TimestampRolloverStream("timed-metadata"),o.adtsStream=new g,o.h264Stream=new m,o.captionStream=new A.CaptionStream,o.coalesceStream=new a(e,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream),o.elementaryStream.pipe(o.videoTimestampRolloverStream).pipe(o.h264Stream),o.elementaryStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream),o.elementaryStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",function(a){var s;if("metadata"===a.type){for(s=a.tracks.length;s--;)t||"video"!==a.tracks[s].type?i||"audio"!==a.tracks[s].type||((i=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime):(t=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime;t&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new r(t,e),o.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts))}),o.videoSegmentStream.on("processedGopsInfo",u.trigger.bind(u,"gopInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),i&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new n(i),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream))}}),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,l(i),i.timelineStartInfo.baseMediaDecodeTime=e,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,l(t),r.captionStream.reset(),t.timelineStartInfo.baseMediaDecodeTime=e),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(c){var t=s(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new f,t.exports={Transmuxer:o,VideoSegmentStream:r,AudioSegmentStream:n,AUDIO_PROPERTIES:w,VIDEO_PROPERTIES:b}},{"../aac":38,"../codecs/adts.js":40,"../codecs/h264":41,"../data/silence":42,"../m2ts/m2ts.js":50,"../utils/clock":60,"../utils/stream.js":62,"./mp4-generator.js":56}],59:[function(e,t,i){"use strict";var r=e("../m2ts/stream-types.js"),n=e("../m2ts/timestamp-rollover-stream.js").handleRollover,o={};o.ts=e("../m2ts/probe.js"),o.aac=e("../aac/probe.js");var a=function(e,t){for(var i,r=0,n=188;n<e.byteLength;)if(71!==e[r]||71!==e[n])r++,n++;else{switch(i=e.subarray(r,n),o.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=o.ts.parsePat(i));break;case"pmt":t.table||(t.table=o.ts.parsePmt(i))}if(t.pid&&t.table)return;r+=188,n+=188}},s=function(e,t,i){for(var r,n,a,s,u=0,l=188,c=!1;l<e.byteLength;)if(71!==e[u]||71!==e[l])u++,l++;else{switch(r=e.subarray(u,l),o.ts.parseType(r,t.pid)){case"pes":n=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===n&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",i.audio.push(s),c=!0)}if(c)break;u+=188,l+=188}for(u=(l=e.byteLength)-188,c=!1;u>=0;)if(71!==e[u]||71!==e[l])u--,l--;else{switch(r=e.subarray(u,l),o.ts.parseType(r,t.pid)){case"pes":n=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===n&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",i.audio.push(s),c=!0)}if(c)break;u-=188,l-=188}},u=function(e,t,i){for(var r,n,a,s,u,l,c,h=0,d=188,f=!1,p={data:[],size:0};d<e.byteLength;)if(71!==e[h]||71!==e[d])h++,d++;else{switch(r=e.subarray(h,d),o.ts.parseType(r,t.pid)){case"pes":if(n=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===n&&(a&&!f&&(s=o.ts.parsePesTime(r))&&(s.type="video",i.video.push(s),f=!0),!i.firstKeyFrame)){if(a&&0!==p.size){for(u=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),u.set(c,l),l+=c.byteLength;o.ts.videoPacketContainsKeyFrame(u)&&(i.firstKeyFrame=o.ts.parsePesTime(u),i.firstKeyFrame.type="video"),p.size=0}p.data.push(r),p.size+=r.byteLength}}if(f&&i.firstKeyFrame)break;h+=188,d+=188}for(h=(d=e.byteLength)-188,f=!1;h>=0;)if(71!==e[h]||71!==e[d])h--,d--;else{switch(r=e.subarray(h,d),o.ts.parseType(r,t.pid)){case"pes":n=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===n&&a&&(s=o.ts.parsePesTime(r))&&(s.type="video",i.video.push(s),f=!0)}if(f)break;h-=188,d-=188}},l=function(e){var t={pid:null,table:null},i={};for(var n in a(e,t),t.table)if(t.table.hasOwnProperty(n)){switch(t.table[n]){case r.H264_STREAM_TYPE:i.video=[],u(e,t,i),0===i.video.length&&delete i.video;break;case r.ADTS_STREAM_TYPE:i.audio=[],s(e,t,i),0===i.audio.length&&delete i.audio}}return i};t.exports={inspect:function(e,t){var i;return(i=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)}(e)?function(e){for(var t,i=!1,r=0,n=null,a=null,s=0,u=0;e.length-u>=3;){switch(o.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){i=!0;break}if((s=o.aac.parseId3TagSize(e,u))>e.length){i=!0;break}null===a&&(t=e.subarray(u,u+s),a=o.aac.parseAacTimestamp(t)),u+=s;break;case"audio":if(e.length-u<7){i=!0;break}if((s=o.aac.parseAdtsSize(e,u))>e.length){i=!0;break}null===n&&(t=e.subarray(u,u+s),n=o.aac.parseSampleRate(t)),r++,u+=s;break;default:u++}if(i)return null}if(null===n||null===a)return null;var l=9e4/n;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*l,pts:a+1024*r*l}]}}(e):l(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;void 0===i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=n(e.dts,i),e.pts=n(e.pts,i),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=n(e.dts,r),e.pts=n(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=n(o.dts,r),o.pts=n(o.pts,r),o.dtsTime=o.dts/9e4,o.ptsTime=o.dts/9e4}}}(i,t),i):null}}},{"../aac/probe.js":39,"../m2ts/probe.js":52,"../m2ts/stream-types.js":53,"../m2ts/timestamp-rollover-stream.js":54}],60:[function(e,t,i){var r,n,o,a,s,u;r=function(e){return 9e4*e},n=function(e,t){return e*t},o=function(e){return e/9e4},a=function(e,t){return e/t},s=function(e,t){return r(a(e,t))},u=function(e,t){return n(o(e),t)},t.exports={secondsToVideoTs:r,secondsToAudioTs:n,videoTsToSeconds:o,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:u}},{}],61:[function(e,t,i){"use strict";var r;r=function(e){var t=e.byteLength,i=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var n=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(n,n+a)),i=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var n;r>e?(i<<=e,r-=e):(e-=r,e-=8*(n=Math.floor(e/8)),t-=n,this.loadWord(),i<<=e,r-=e)},this.readBits=function(e){var n=Math.min(r,e),o=i>>>32-n;return(r-=n)>0?i<<=n:t>0&&this.loadWord(),(n=e-n)>0?o<<n|this.readBits(n):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(i&2147483648>>>e))return i<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=r},{}],62:[function(e,t,i){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var r;return!!e[t]&&(r=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var i,r,n,o;if(i=e[t])if(2===arguments.length)for(n=i.length,r=0;r<n;++r)i[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(n=i.length,r=0;r<n;++r)i[r].apply(this,o)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},t.exports=r},{}],63:[function(e,t,i){!function(e){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=this.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=this.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=this.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=n.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(h)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=i.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"==typeof i&&"object"==typeof t?t.exports=s:"object"==typeof i?i.URLToolkit=s:e.URLToolkit=s}(this)},{}],64:[function(e,t,i){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=n(e("global/window")),a=n("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),s=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e};i.default={addTextTrackData:function(e,t,i){var r=o.default.WebKitDataCue||o.default.VTTCue;t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),i&&function(){var t=s(e.mediaSource_.duration);i.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var i=new r(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return a.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return a.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return a.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(i),this.metadataTrack_.addCue(i)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&function(){for(var i=e.metadataTrack_.cues,r=[],n=0;n<i.length;n++)i[n]&&r.push(i[n]);var o=r.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),a=Object.keys(o).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,i){var r=o[e],n=Number(a[i+1])||t;r.forEach(function(e){e.endTime=n})})}()}()},durationOfVideo:s},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":32}],65:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={isAudioCodec:function(e){return/mp4a\.\d+.\d+/i.test(e)},parseContentType:function(e){var t={type:"",parameters:{}},i=e.trim().split(";");return t.type=i.shift().trim(),i.forEach(function(e){var i=e.trim().split("=");if(i.length>1){var r=i[0].replace(/"/g,"").trim(),n=i[1].replace(/"/g,"").trim();t.parameters[r]=n}}),t},isVideoCodec:function(e){return/avc1\.[\da-f]+/i.test(e)},translateLegacyCodecs:function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})}},t.exports=i.default},{}],66:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(e,t,i){var r=t.player_;if(i.captions&&i.captions.length)for(var n in e.inbandTextTracks_||(e.inbandTextTracks_={}),i.captionStreams)if(!e.inbandTextTracks_[n]){r.tech_.trigger({type:"usage",name:"hls-608"});var o=r.textTracks().getTrackById(n);e.inbandTextTracks_[n]=o||r.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}i.metadata&&i.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)},t.exports=i.default},{}],67:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},t.exports=i.default},{}],68:[function(e,t,i){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),a=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},s=n(e("global/document")),u=n("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),l=n(e("./flash-source-buffer")),c=n(e("./flash-constants")),h=e("./codec-utils"),d=function(e){function t(){var e=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=s.default.getElementById(t.swfId),e.player_=(0,u.default)(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.swfObj&&e.swfObj.vjs_load()})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.EventTarget),o(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t,i=(0,h.parseContentType)(e);if("video/mp2t"!==i.type&&"audio/mp2t"!==i.type)throw new Error("NotSupportedError (Video.js)");return t=new l.default(this),this.sourceBuffers.push(t),t}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}();i.default=d;try{Object.defineProperty(d.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,i=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<i)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,i);return e}})}catch(e){d.prototype.duration=NaN}for(var f in c.default)d[f]=c.default[f];t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./codec-utils":65,"./flash-constants":67,"./flash-source-buffer":69,"global/document":31}],69:[function(e,t,i){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),a=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},s=n(e("global/window")),u=n("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),l=n(e("mux.js/lib/flv")),c=n(e("./remove-cues-from-track")),h=n(e("./create-text-tracks-if-necessary")),d=e("./add-text-track-data"),f=n(e("./flash-transmuxer-worker")),p=n(e("webwackify")),A=n(e("./flash-constants")),g=function(){var t=void 0;try{t=e.resolve("./flash-transmuxer-worker")}catch(e){}return t},m=function(e){s.default.setTimeout(e,A.default.TIME_BETWEEN_CHUNKS)},y=function(){return Math.random().toString(36).slice(2,8)},v=function(e,t){("number"!=typeof t||t<0)&&(t=0);var i=Math.pow(10,t);return Math.round(e*i)/i},E=function(e){function t(e){var i=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r;this.chunkSize_=A.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,r=s.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(l.default.getFlvHeader())));var n=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+n+y(),this.flashEncodedDataName_="vjs_flashEncodedData_"+n+y(),s.default[this.flashEncodedHeaderName_]=function(){return delete s.default[i.flashEncodedHeaderName_],r},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,p.default)(f.default,g()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&i.receiveBuffer_(e.data.segment)},this.one("updateend",function(){i.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return u.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=v(e[0][0],3),e[0][1]=v(e[0][1],3)),u.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){if((0,c.default)(0,1/0,i.metadataTrack_),i.inbandTextTracks_)for(var e in i.inbandTextTracks_)(0,c.default)(0,1/0,i.inbandTextTracks_[e])});var o=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",o),this.mediaSource_.player_.tech_.hls.on("dispose",function(){i.transmuxer_.terminate(),i.mediaSource_.player_.tech_.off("hls-reset",o)})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.EventTarget),o(t,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,c.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,c.default)(e,t,this.inbandTextTracks_[i]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,h.default)(this,this.mediaSource_,e),(0,d.addTextTrackData)(this,e.captions,e.metadata),m(function(){var i=t.convertTagsToData_(e);0===t.buffer_.length&&m(t.processBuffer_.bind(t)),i&&(t.buffer_.push(i),t.bufferSize_+=i.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=A.default.BYTES_PER_CHUNK;if(this.buffer_.length){var i=this.buffer_[0].subarray(0,t);i.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=i.byteLength;for(var r=[],n=i.byteLength,o=0;o<n;o++)r.push(String.fromCharCode(i[o]));var a=s.default.btoa(r.join(""));s.default[this.flashEncodedDataName_]=function(){return m(e.processBuffer_.bind(e)),delete s.default[e.flashEncodedDataName_],a},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,i=this.mediaSource_.tech_,r=0,n=void 0,o=e.tags.videoTags,a=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(o.length||a.length)){var s=o[0]||{pts:1/0},u=a[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,s.pts)}i.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(i.buffered().length&&(r=i.buffered().end(0)-this.timestampOffset),i.seeking()&&(r=Math.max(r,i.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var l=o.length;if(l&&o[l-1].pts>=r){for(;--l;){var c=o[l];if(!(c.pts>r)&&(c.keyFrame||c.metaDataTag))break}for(;l&&o[l-1].metaDataTag;)l--}var h=o.slice(l),d=void 0;for(d=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,h.length&&(d=Math.min(d,h[0].pts)),l=0;l<a.length&&!(a[l].pts>=d);)l++;var f=a.slice(l);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),h.length&&(this.videoBufferEnd_=h[h.length-1].pts);var p=this.getOrderedTags_(h,f);if(0!==p.length){if(p[0].pts<r&&i.seeking()){var A=i.currentTime()-(r-p[0].pts)/1e3;A<1/30&&(A=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(A)}catch(e){}}for(var g=0;g<p.length;g++)t+=p[g].bytes.byteLength;n=new Uint8Array(t);g=0;for(var m=0;g<p.length;g++)n.set(p[g].bytes,m),m+=p[g].bytes.byteLength;return n}}},{key:"getOrderedTags_",value:function(e,t){for(var i=void 0,r=[];e.length||t.length;)i=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(i);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),t}();i.default=E,t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./create-text-tracks-if-necessary":66,"./flash-constants":67,"./flash-transmuxer-worker":70,"./remove-cues-from-track":72,"global/window":32,"mux.js/lib/flv":46,webwackify:76}],70:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=r(e("global/window")),a=r(e("mux.js/lib/flv")),s=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t||{},this.init()}return n(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){o.default.postMessage({action:"data",segment:e})}),e.on("done",function(e){o.default.postMessage({action:"done"})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),e}();i.default=function(e){return new function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(e)},t.exports=i.default},{"global/window":32,"mux.js/lib/flv":46}],71:[function(e,t,i){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),a=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},s=n(e("global/window")),u=n(e("global/document")),l=n("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),c=n(e("./virtual-source-buffer")),h=e("./add-text-track-data"),d=e("./codec-utils"),f=function(e){function t(){var e=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var i=void 0;for(i in this.nativeMediaSource_=new s.default.MediaSource,this.nativeMediaSource_)i in t.prototype||"function"!=typeof this.nativeMediaSource_[i]||(this[i]=this.nativeMediaSource_[i].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?l.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var i=!1,r=!0,n=0;n<e.player_.audioTracks().length;n++){var o=e.player_.audioTracks()[n];if(o.enabled&&"main"!==o.kind){i=!0,r=!1;break}}e.sourceBuffers.forEach(function(t){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=i;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r,r))return;e.activeSourceBuffers_.push(t)})},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var i=u.default.querySelector('[src="'+e.url_+'"]');i&&(e.player_=(0,l.default)(i.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))}),this.on("sourceended",function(t){for(var i=(0,h.durationOfVideo)(e.duration),r=0;r<e.sourceBuffers.length;r++){var n=e.sourceBuffers[r],o=n.metadataTrack_&&n.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=i)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.EventTarget),o(t,[{key:"addSeekableRange_",value:function(e,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,i=(0,d.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(i.type)){var r=[];i.parameters&&i.parameters.codecs&&(r=i.parameters.codecs.split(","),r=(r=(0,d.translateLegacyCodecs)(r)).filter(function(e){return(0,d.isAudioCodec)(e)||(0,d.isVideoCodec)(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new c.default(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}();i.default=f,t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./virtual-source-buffer":75,"global/document":31,"global/window":32}],72:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(e,t,i){var r=void 0,n=void 0;if(i&&i.cues)for(r=i.cues.length;r--;)(n=i.cues[r]).startTime<=t&&n.endTime>=e&&i.removeCue(n)},t.exports=i.default},{}],73:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=r(e("global/window")),a=r(e("mux.js/lib/mp4")),s=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t||{},this.init()}return n(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var i=e.data;e.data=i.buffer,o.default.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){o.default.postMessage({action:"caption",data:e})}),e.on("done",function(e){o.default.postMessage({action:"done"})}),e.on("gopInfo",function(e){o.default.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();i.default=function(e){return new function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(e)},t.exports=i.default},{"global/window":32,"mux.js/lib/mp4":55}],74:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=r(e("global/window")),o=r(e("./flash-media-source")),a=r(e("./html-media-source")),s=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),u=0,l={mode:"auto"};s.default.mediaSources={};var c=function(e,t){var i=s.default.mediaSources[e];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:t})},h=function(){return!!n.default.MediaSource&&!!n.default.MediaSource.isTypeSupported&&n.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},d=function(e){var t=s.default.mergeOptions(l,e);if(this.MediaSource={open:c,supportsNativeMediaSources:h},"html5"===t.mode||"auto"===t.mode&&h())return new a.default;if(s.default.getTech("Flash"))return new o.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};i.MediaSource=d,d.open=c,d.supportsNativeMediaSources=h;var f={createObjectURL:function(e){var t=void 0;return e instanceof a.default?(t=n.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof o.default?(t="blob:vjs-media-source/"+u,u++,s.default.mediaSources[t]=e,t):(t=n.default.URL.createObjectURL(e),e.url_=t,t)}};i.URL=f,s.default.MediaSource=d,s.default.URL=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":68,"./html-media-source":71,"global/window":32}],75:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},a=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),s=r(e("./create-text-tracks-if-necessary")),u=r(e("./remove-cues-from-track")),l=e("./add-text-track-data"),c=r(e("webwackify")),h=r(e("./transmuxer-worker")),d=e("./codec-utils"),f=function(){var t=void 0;try{t=e.resolve("./transmuxer-worker")}catch(e){}return t},p=function(e,t,i){if(!t||!e.length)return[];var r=Math.ceil(9e4*(t.currentTime()-i+3)),n=void 0;for(n=0;n<e.length&&!(e[n].pts>r);n++);return e.slice(n)};i.gopsSafeToAlignWith=p;var A=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var r=t[0].pts,n=0;n<e.length&&!(e[n].pts>=r);n++);return e.slice(0,n).concat(t)};i.updateGopBuffer=A;var g=function(e,t,i,r){for(var n=Math.ceil(9e4*(t-r)),o=Math.ceil(9e4*(i-r)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(e[u].pts<=n););return u=Math.max(u,0),a.splice(u,s-u+1),a};i.removeGopBuffer=g;var m=function(e){function t(e,i){var r=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,a.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=i,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=a.default.browser.IE_VERSION>=11;var n={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(e){(0,d.isAudioCodec)(e)?r.audioCodec_=e:(0,d.isVideoCodec)(e)&&(r.videoCodec_=e)}),this.transmuxer_=(0,c.default)(h.default,f()),this.transmuxer_.postMessage({action:"init",options:n}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,i=0,r=[],n=[];if(!this.videoBuffer_&&!this.audioBuffer_)return a.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return a.default.createTimeRange();for(var o=this.videoBuffer_.buffered,s=this.audioBuffer_.buffered,u=o.length;u--;)r.push({time:o.start(u),type:"start"}),r.push({time:o.end(u),type:"end"});for(u=s.length;u--;)r.push({time:s.start(u),type:"start"}),r.push({time:s.end(u),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),u=0;u<r.length;u++)"start"===r[u].type?2==++i&&(e=r[u].time):"end"===r[u].type&&1==--i&&(t=r[u].time),null!==e&&null!==t&&(n.push([e,t]),e=null,t=null);return a.default.createTimeRanges(n)}})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.EventTarget),n(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,s.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(i){if(e[i+"Codec_"]&&!e[i+"Buffer_"]){var r=null;if(e.mediaSource_[i+"Buffer_"])(r=e.mediaSource_[i+"Buffer_"]).updating=!1;else{var n=i+'/mp4;codecs="'+e[i+"Codec_"]+'"';r=function(e,t){var i=e.addSourceBuffer(t),r=Object.create(null);for(var n in r.updating=!1,r.realBuffer_=i,i)!function(e){"function"==typeof i[e]?r[e]=function(){return i[e].apply(i,arguments)}:void 0===r[e]&&Object.defineProperty(r,e,{get:function(){return i[e]},set:function(t){return i[e]=t}})}(n);return r}(e.mediaSource_.nativeMediaSource_,n),e.mediaSource_[i+"Buffer_"]=r}e[i+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(n){r.addEventListener(n,function(){if("audio"!==i||!e.audioDisabled_)return"updateend"===n&&(e[i+"Buffer_"].updating=!1),t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||i===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating})?e.trigger(n):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:p(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=A(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=g(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,u.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,u.default)(e,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var i=t.type,r=t.data,n=t.initSegment;return e[i].segments.push(r),e[i].bytes+=r.byteLength,e[i].initSegment=n,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[i].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,l.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var i=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,i),i+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}();i.default=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./create-text-tracks-if-necessary":66,"./remove-cues-from-track":72,"./transmuxer-worker":73,webwackify:76}],76:[function(e,t,i){var r=arguments[3],n=arguments[4],o=arguments[5],a=JSON.stringify,s=!1;void 0===r&&(s=!0,r=function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=entryModule)},n=__webpack_modules__);var u=function(e){for(var t,i=Object.keys(o),s=0;s<i.length;s++){var u=i[s],l=o[u].exports;if(l===e||l&&l.default===e){t=u;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var c={};for(s=0;s<i.length;s++){c[u=i[s]]=u}n[t]=["function(require,module,exports){"+e+"(self); }",c]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};return d[t]=t,n[h]=["function(require,module,exports){var f = require("+a(t)+");(f.default ? f.default : f)(self);}",d],"("+r+")({"+Object.keys(n).map(function(e){return a(e)+":["+n[e][0]+","+a(n[e][1])+"]"}).join(",")+"},{},["+a(h)+"])"},l=function(e,t){var i,o="string"==typeof t;i=o?{}:[],Object.keys(n).forEach(function(e){n[e]&&(i[e]=n[e].toString())});var s,u=__webpack_require__(t);if(!u||u!==e&&u.default!==e){var l=i[t];i[t]=l.substring(0,l.length-1)+"\n"+e.name+"();\n}"}return o?(t=a(t),s="{"+Object.keys(i).map(function(e){return a(e)+":"+i[e]}).join(",")+"}"):s="["+i.join(",")+"]","var fn = ("+r.toString().replace("entryModule",t)+")("+s+');\n(typeof fn === "function") && fn(self);'};t.exports=function(e,t){var i;i=s?l(e,t):u(e);var r=new Blob([i],{type:"text/javascript"}),n=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(r),o=new Worker(n);return o.objectURL=n,o}},{}],77:[function(e,t,i){(function(i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t,i){for(var r=!0;r;){var n=e,o=t,a=i;r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return;e=l,t=o,i=a,r=!0,s=l=void 0}},a=r(e("global/document")),s=r(e("./playlist-loader")),u=r(e("./playlist")),l=r(e("./xhr")),c=e("aes-decrypter"),h=r(e("./bin-utils")),d=e("videojs-contrib-media-sources"),f=r(e("m3u8-parser")),p=r("undefined"!=typeof window?window.videojs:void 0!==i?i.videojs:null),A=e("./master-playlist-controller"),g=r(e("./config")),m=r(e("./rendition-mixin")),y=r(e("global/window")),v=r(e("./playback-watcher")),E=r(e("./reload-source-on-error")),w=e("./playlist-selectors.js"),b={PlaylistLoader:s.default,Playlist:u.default,Decrypter:c.Decrypter,AsyncStream:c.AsyncStream,decrypt:c.decrypt,utils:h.default,STANDARD_PLAYLIST_SELECTOR:w.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:w.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:w.comparePlaylistBandwidth,comparePlaylistResolution:w.comparePlaylistResolution,xhr:(0,l.default)()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(b,e,{get:function(){return p.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),g.default[e]},set:function(t){p.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?p.default.log.warn("value of Hls."+e+" must be greater than or equal to 0"):g.default[e]=t}})});var C=function(e,t){for(var i=t.media(),r=-1,n=0;n<e.length;n++)if(e[n].id===i.uri){r=n;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};b.canPlaySource=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},b.supportsNativeHls=function(){var e=a.default.createElement("video");return!!p.default.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),b.isSupported=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var I=p.default.getComponent("Component"),S=function(e){function t(e,i,r){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i,r.hls),i.options_&&i.options_.playerId){var s=(0,p.default)(i.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return p.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),n}})}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(a.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=a.default.fullscreenElement||a.default.webkitFullscreenElement||a.default.mozFullScreenElement||a.default.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),n(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth","handleManifestRedirects"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=b,this.masterPlaylistController_=new A.MasterPlaylistController(this.options_),this.playbackWatcher_=new v.default(p.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){p.default.players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):b.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=b.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){p.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,m.default)(t)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(p.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=p.default.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),C(e,t.playlists)}(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){C(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),o(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(),M=function e(t){return{canHandleSource:function(i){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=p.default.mergeOptions(p.default.options,r);return(!n.hls||!n.hls.mode||n.hls.mode===t)&&e.canPlayType(i.type,n)},handleSource:function(e,i){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=p.default.mergeOptions(p.default.options,r,{hls:{mode:t}});return"flash"===t&&i.setTimeout(function(){i.trigger("loadstart")},1),i.hls=new S(e,i,n),i.hls.xhr=(0,l.default)(),i.hls.src(e.src),i.hls},canPlayType:function(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=p.default.mergeOptions(p.default.options,i);return e.canPlayType(t,r)?"maybe":""}}};M.canPlayType=function(e,t){if(p.default.browser.IE_VERSION&&p.default.browser.IE_VERSION<=10)return!1;return!(!t.hls.overrideNative&&b.supportsNativeHls)&&/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)},void 0!==p.default.MediaSource&&void 0!==p.default.URL||(p.default.MediaSource=d.MediaSource,p.default.URL=d.URL);var k=p.default.getTech("Flash");d.MediaSource.supportsNativeMediaSources()&&p.default.getTech("Html5").registerSourceHandler(M("html5"),0),y.default.Uint8Array&&k&&k.registerSourceHandler(M("flash")),p.default.HlsHandler=S,p.default.HlsSourceHandler=M,p.default.Hls=b,p.default.use||p.default.registerComponent("Hls",b),p.default.m3u8=f.default,p.default.options.hls=p.default.options.hls||{},p.default.registerPlugin?p.default.registerPlugin("reloadSourceOnError",E.default):p.default.plugin("reloadSourceOnError",E.default),t.exports={Hls:b,HlsHandler:S,HlsSourceHandler:M}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":8,"./playlist":11,"./playlist-loader":9,"./playlist-selectors.js":10,"./reload-source-on-error":13,"./rendition-mixin":14,"./xhr":21,"aes-decrypter":25,"global/document":31,"global/window":32,"m3u8-parser":33,"videojs-contrib-media-sources":74}]},{},[77])(77)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsFlvjs=e()}}(function(){return function e(t,i,r){function n(a,s){if(!i[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){return n(t[a][1][e]||e)},c,c.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),n=r.default.getTech("Html5"),o=r.default.mergeOptions||r.default.util.mergeOptions,a={mediaDataSource:{},config:{}},s=function(e){function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o(a,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),t(i,[{key:"setSrc",value:function(e){this.flvPlayer&&(this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy());var t=this.options_.mediaDataSource,i=this.options_.config;t.type=void 0===t.type?"flv":t.type,t.url=e,this.flvPlayer=window.flvjs.createPlayer(t,i),this.flvPlayer.attachMediaElement(this.el_),this.flvPlayer.load()}},{key:"dispose",value:function(){this.flvPlayer&&(this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy()),function e(t,i,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}}]),i}();s.isSupported=function(){return window.flvjs&&window.flvjs.isSupported()},s.formats={"video/flv":"FLV","video/x-flv":"FLV"},s.canPlayType=function(e){return s.isSupported()&&e in s.formats?"maybe":""},s.canPlaySource=function(e,t){return s.canPlayType(e.type)},s.VERSION="0.2.0",r.default.registerTech("Flvjs",s),i.default=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(){"use strict";var e;e=void 0===window.videojs&&"function"==typeof require?require("video.js"):window.videojs,function(e,t){function i(e,t,i,r){return o={label:i,sources:t},"function"==typeof r?r(e,t,i):e.src(t.map(function(e){return{src:e.src,type:e.type,res:e.res}}))}var r,n={},o={},a={},s=t.getComponent("MenuItem"),u=t.extend(s,{constructor:function(e,t,i,r){this.onClickListener=i,this.label=r,s.call(this,e,t),this.src=t.src,this.on("click",this.onClick),this.on("touchstart",this.onClick),t.initialySelected&&(this.showAsLabel(),this.selected(!0),this.addClass("vjs-selected"))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(e){this.onClickListener(this);var t=this.player_.currentTime(),r=this.player_.paused();this.showAsLabel(),this.addClass("vjs-selected"),r||this.player_.bigPlayButton.hide(),"function"!=typeof e&&"function"==typeof this.options_.customSourcePicker&&(e=this.options_.customSourcePicker);var n="loadeddata";"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(n="timeupdate"),i(this.player_,this.src,this.options_.label,e),this.player_.one(n,function(){this.player_.currentTime(t),this.player_.handleTechSeeked_(),this.player_.trigger("resolutionchange")})}}),l=t.getComponent("MenuButton"),c=t.extend(l,{constructor:function(e,i,r,n){if(this.sources=i.sources,this.label=n,this.label.innerHTML=i.initialySelectedLabel,l.call(this,e,i,r),this.controlText("Quality"),r.dynamicLabel)this.el().appendChild(n);else{var o=document.createElement("span");t.dom.addClass(o,"vjs-resolution-button-staticlabel"),this.el().appendChild(o)}},createItems:function(){var e=[],t=this.sources&&this.sources.label||{},i=function(t){e.map(function(e){e.selected(e===t),e.removeClass("vjs-selected")})};for(var r in t)t.hasOwnProperty(r)&&(e.push(new u(this.player_,{label:r,src:t[r],initialySelected:r===this.options_.initialySelectedLabel,customSourcePicker:this.options_.customSourcePicker},i,this.label)),a[r]=e[e.length-1]);return e}});r=function(e){function r(e,t){return e.res&&t.res?+t.res-+e.res:0}function s(e){var t={label:{},res:{},type:{}};return e.map(function(e){u(t,"label",e),u(t,"res",e),u(t,"type",e),l(t,"label",e),l(t,"res",e),l(t,"type",e)}),t}function u(e,t,i){null==e[t][i[t]]&&(e[t][i[t]]=[])}function l(e,t,i){e[t][i[t]].push(i)}var h=t.mergeOptions(n,e),d=this,f=document.createElement("span"),p={};t.dom.addClass(f,"vjs-resolution-button-label"),d.updateSrc=function(e){if(!e)return d.src();d.controlBar.resolutionSwitcher&&(d.controlBar.resolutionSwitcher.dispose(),delete d.controlBar.resolutionSwitcher),e=e.sort(r);var n=function(e,t){var i=h.default,r="";return"high"===i?(i=t[0].res,r=t[0].label):"low"!==i&&null!=i&&e.res[i]?e.res[i]&&(r=e.res[i][0].label):(i=t[t.length-1].res,r=t[t.length-1].label),{res:i,label:r,sources:e.res[i]}}(p=s(e),e),o=new c(d,{sources:p,initialySelectedLabel:n.label,initialySelectedRes:n.res,customSourcePicker:h.customSourcePicker},h,f);return t.dom.addClass(o.el(),"vjs-resolution-button"),d.controlBar.resolutionSwitcher=d.controlBar.el_.insertBefore(o.el_,d.controlBar.getChild("fullscreenToggle").el_),d.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)},i(d,n.sources,n.label)},d.currentResolution=function(e,t){return null==e?o:(null!=a[e]&&a[e].onClick(t),d)},d.getGroupedSrc=function(){return p},d.ready(function(){var e;d.options_.sources.length>1&&d.updateSrc(d.options_.sources),"Youtube"===d.techName_&&((e=d).tech_.ytPlayer.setPlaybackQuality("default"),e.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(){e.trigger("resolutionchange")}),e.one("play",function(){var t={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"default"}},i=[];e.tech_.ytPlayer.getAvailableQualityLevels().map(function(r){i.push({src:e.src().src,type:e.src().type,label:t[r].label,res:t[r].res,_yt:t[r].yt})});var r="auto",n=0,o=((p=s(i)).label.auto,new c(e,{sources:p,initialySelectedLabel:r,initialySelectedRes:n,customSourcePicker:function(t,i,r){return e.tech_.ytPlayer.setPlaybackQuality(i[0]._yt),e}},h,f));o.el().classList.add("vjs-resolution-button"),e.controlBar.resolutionSwitcher=e.controlBar.addChild(o)}))})},t.registerPlugin("videoJsResolutionSwitcher",r)}(window,e)}(),function(e,t){"undefined"!=typeof window&&window.videojs?t(window.videojs):"function"==typeof define&&define.amd?define("videojs-hotkeys",["video.js"],function(e){return t(e.default||e)}):"undefined"!=typeof module&&module.exports&&(module.exports=t(require("video.js")))}(0,function(e){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.22"});(e.registerPlugin||e.plugin)("hotkeys",function(t){function i(e){return"function"==typeof l?l(e):l}var r=this,n=r.el(),o=document,a={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},s=e.mergeOptions||e.util.mergeOptions,u=(t=s(a,t||{})).volumeStep,l=t.seekStep,c=t.enableMute,h=t.enableVolumeScroll,d=t.enableFullscreen,f=t.enableNumbers,p=t.enableJogStyle,A=t.alwaysCaptureHotkeys,g=t.enableModifiersForNumbers,m=t.enableInactiveFocus,y=t.skipInitialFocus;n.hasAttribute("tabIndex")||n.setAttribute("tabIndex","-1"),n.style.outline="none",!A&&r.autoplay()||y||r.one("play",function(){n.focus()}),m&&r.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){r.off("useractive",e);var t=o.activeElement,i=n.querySelector(".vjs-control-bar");t&&t.parentElement==i&&n.focus()},10);r.one("useractive",e)}),r.on("play",function(){var e=n.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var v=function(e){if(r.controls()){var t=o.activeElement;if((A||t==n||t==n.querySelector(".vjs-tech")||t==n.querySelector(".iframeblocker")||t==n.querySelector(".vjs-control-bar"))&&h){e=window.event||e;var i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==i?r.volume(r.volume()+u):-1==i&&r.volume(r.volume()-u)}}},E=function(e,i){return t.playPauseKey(e,i)?1:t.rewindKey(e,i)?2:t.forwardKey(e,i)?3:t.volumeUpKey(e,i)?4:t.volumeDownKey(e,i)?5:t.muteKey(e,i)?6:t.fullscreenKey(e,i)?7:void 0};return r.on("keydown",function(e){var a,s,l=e.which,h=e.preventDefault,m=r.duration();if(r.controls()){var y=o.activeElement;if(A||y==n||y==n.querySelector(".vjs-tech")||y==n.querySelector(".vjs-control-bar")||y==n.querySelector(".iframeblocker"))switch(E(e,r)){case 1:h(),A&&e.stopPropagation(),r.paused()?r.play():r.pause();break;case 2:a=!r.paused(),h(),a&&r.pause(),(s=r.currentTime()-i(e))<=0&&(s=0),r.currentTime(s),a&&r.play();break;case 3:a=!r.paused(),h(),a&&r.pause(),(s=r.currentTime()+i(e))>=m&&(s=a?m-.001:m),r.currentTime(s),a&&r.play();break;case 5:h(),p?(s=r.currentTime()-1,r.currentTime()<=1&&(s=0),r.currentTime(s)):r.volume(r.volume()-u);break;case 4:h(),p?((s=r.currentTime()+1)>=m&&(s=m),r.currentTime(s)):r.volume(r.volume()+u);break;case 6:c&&r.muted(!r.muted());break;case 7:d&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen());break;default:if((l>47&&l<59||l>95&&l<106)&&(g||!(e.metaKey||e.ctrlKey||e.altKey))&&f){var v=48;l>95&&(v=96);var w=l-v;h(),r.currentTime(r.duration()*w*.1)}for(var b in t.customKeys){var C=t.customKeys[b];C&&C.key&&C.handler&&C.key(e)&&(h(),C.handler(r,t,e))}}}}),r.on("dblclick",function(e){if(r.controls()){var t=e.relatedTarget||e.toElement||o.activeElement;t!=n&&t!=n.querySelector(".vjs-tech")&&t!=n.querySelector(".iframeblocker")||d&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen())}}),r.on("mousewheel",v),r.on("DOMMouseScroll",v),this})}),"undefined"!=typeof window&&function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Hls=t():e.Hls=t()}(this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(r,n,function(t){return e[t]}.bind(null,n));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,i){"use strict";function r(){}function n(e,t,i,r,n){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new function(e,t,i){this.fn=e,this.context=t,this.once=i||!1}(i,r||e,n),a=u?u+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,u="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(u=!1)),a.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)s.call(e,t)&&i.push(u?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=u?u+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,n=i.length,o=new Array(n);r<n;r++)o[r]=i[r].fn;return o},a.prototype.listenerCount=function(e){var t=u?u+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,r,n,o){var a=u?u+e:e;if(!this._events[a])return!1;var s,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,n),!0;case 6:return c.fn.call(c.context,t,i,r,n,o),!0}for(l=1,s=new Array(h-1);l<h;l++)s[l-1]=arguments[l];c.fn.apply(c.context,s)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,i);break;case 4:c[l].fn.call(c[l].context,t,i,r);break;default:if(!s)for(d=1,s=new Array(h-1);d<h;d++)s[d-1]=arguments[d];c[l].fn.apply(c[l].context,s)}}return!0},a.prototype.on=function(e,t,i){return n(this,e,t,i,!1)},a.prototype.once=function(e,t,i){return n(this,e,t,i,!0)},a.prototype.removeListener=function(e,t,i,r){var n=u?u+e:e;if(!this._events[n])return this;if(!t)return o(this,n),this;var a=this._events[n];if(a.fn)a.fn!==t||r&&!a.once||i&&a.context!==i||o(this,n);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||i&&a[s].context!==i)&&l.push(a[s]);l.length?this._events[n]=1===l.length?l[0]:l:o(this,n)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=u?u+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=u,a.EventEmitter=a,e.exports=a},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,i){!function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=a.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=a.normalizePath(n.path),a.buildURLFromParts(n)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(h)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()},"./node_modules/webworkify-webpack/index.js":function(e,t,i){function r(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var r=t(t.s=ENTRY_MODULE);return r.default||r}function n(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e){return!isNaN(1*e)}function a(e,t,r){var a={};a[r]=[];var s=t.toString(),u=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return a;for(var h,d=u[1],f=new RegExp("(\\\\n|\\W)"+n(d)+c,"g");h=f.exec(s);)"dll-reference"!==h[3]&&a[r].push(h[3]);for(f=new RegExp("\\("+n(d)+'\\("(dll-reference\\s('+l+'))"\\)\\)'+c,"g");h=f.exec(s);)e[h[2]]||(a[r].push(h[1]),e[h[2]]=i(h[1]).m),a[h[2]]=a[h[2]]||[],a[h[2]].push(h[4]);for(var p=Object.keys(a),A=0;A<p.length;A++)for(var g=0;g<a[p[A]].length;g++)o(a[p[A]][g])&&(a[p[A]][g]=1*a[p[A]][g]);return a}function s(e){return Object.keys(e).reduce(function(t,i){return t||e[i].length>0},!1)}function u(e,t){for(var i={main:[t]},r={main:[]},n={main:{}};s(i);)for(var o=Object.keys(i),u=0;u<o.length;u++){var l=o[u],c=i[l].pop();if(n[l]=n[l]||{},!n[l][c]&&e[l][c]){n[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var h=a(e,e[l][c],l),d=Object.keys(h),f=0;f<d.length;f++)i[d[f]]=i[d[f]]||[],i[d[f]]=i[d[f]].concat(h[d[f]])}}return r}var l="[\\.|\\-|\\+|\\w|/|@]+",c="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+l+").*?\\)";e.exports=function(e,t){t=t||{};var n={main:i.m},o=t.all?{main:Object.keys(n.main)}:u(n,e),a="";Object.keys(o).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;o[e][t];)t++;o[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map(function(t){return JSON.stringify(t)+": "+n[e][t].toString()}).join(",")+"});\n"}),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);";var s=new window.Blob([a],{type:"text/javascript"});if(t.bare)return s;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),c=new window.Worker(l);return c.objectURL=l,c}},"./src/config.ts":function(e,t,i){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){a(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return r({},e,t)}function u(e){var t=e.loader;t!==w.default&&t!==E.default?(I.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(w.fetchSupported)()&&(e.loader=w.default,e.progressive=!0,e.enableSoftwareAES=!0,I.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}i.r(t),i.d(t,"hlsDefaultConfig",function(){return S}),i.d(t,"mergeConfig",function(){return s}),i.d(t,"enableStreamingMode",function(){return u});var l=i("./src/controller/abr-controller.ts"),c=i("./src/controller/audio-stream-controller.ts"),h=i("./src/controller/audio-track-controller.ts"),d=i("./src/controller/subtitle-stream-controller.ts"),f=i("./src/controller/subtitle-track-controller.ts"),p=i("./src/controller/buffer-controller.ts"),A=i("./src/controller/timeline-controller.ts"),g=i("./src/controller/cap-level-controller.ts"),m=i("./src/controller/fps-controller.ts"),y=i("./src/controller/eme-controller.ts"),v=i("./src/controller/cmcd-controller.ts"),E=i("./src/utils/xhr-loader.ts"),w=i("./src/utils/fetch-loader.ts"),b=i("./src/utils/cues.ts"),C=i("./src/utils/mediakeys-helper.ts"),I=i("./src/utils/logger.ts"),S=o(o({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:E.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:l.default,bufferController:p.default,capLevelController:g.default,fpsController:m.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:C.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},{cueHandler:b.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:d.SubtitleStreamController,subtitleTrackController:f.default,timelineController:A.TimelineController,audioStreamController:c.default,audioTrackController:h.default,emeController:y.default,cmcdController:v.default})},"./src/controller/abr-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t);var n=i("./src/polyfills/number.ts"),o=i("./src/utils/ewma-bandwidth-estimator.ts"),a=i("./src/events.ts"),s=i("./src/utils/buffer-helper.ts"),u=i("./src/errors.ts"),l=i("./src/types/loader.ts"),c=i("./src/utils/logger.ts"),h=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new o.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(a.Events.FRAG_LOADING,this.onFragLoading,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.ERROR,this.onError,this)},t.unregisterListeners=function(){var e=this.hls;e.off(a.Events.FRAG_LOADING,this.onFragLoading,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.ERROR,this.onError,this)},t.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},t.onFragLoading=function(e,t){var i,r=t.frag;r.type!==l.PlaylistLevelType.MAIN||this.timer||(this.fragCurrent=r,this.partCurrent=null!=(i=t.part)?i:null,this.timer=self.setInterval(this.onCheck,100))},t.onLevelLoaded=function(e,t){var i=this.hls.config;t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)},t._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,i=this.hls,r=i.autoLevelEnabled,o=i.config,u=i.media;if(e&&u){var l=t?t.stats:e.stats,h=t?t.duration:e.duration;if(l.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!u.paused&&u.playbackRate&&u.readyState){var d=performance.now()-l.loading.start,f=Math.abs(u.playbackRate);if(!(d<=500*h/f)){var p=i.levels,A=i.minAutoLevel,g=p[e.level],m=l.total||Math.max(l.loaded,Math.round(h*g.maxBitrate/8)),y=Math.max(1,l.bwEstimate?l.bwEstimate/8:1e3*l.loaded/d),v=(m-l.loaded)/y,E=u.currentTime,w=(s.BufferHelper.bufferInfo(u,E,o.maxBufferHole).end-E)/f;if(!(w>=2*h/f||v<=w)){var b,C=Number.POSITIVE_INFINITY;for(b=e.level-1;b>A&&!((C=h*p[b].maxBitrate/(6.4*y))<w);b--);if(!(C>=v)){var I=this.bwEstimator.getEstimate();c.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+b+"\n      Current BW estimate: "+(Object(n.isFiniteNumber)(I)?(I/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+v.toFixed(3)+" s\n      Estimated load time for the next fragment: "+C.toFixed(3)+" s\n      Time to underbuffer: "+w.toFixed(3)+" s"),i.nextLoadLevel=b,this.bwEstimator.sample(d,l.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),i.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:l})}}}}}},t.onFragLoaded=function(e,t){var i=t.frag,r=t.part;if(i.type===l.PlaylistLevelType.MAIN&&Object(n.isFiniteNumber)(i.sn)){var o=r?r.stats:i.stats,s=r?r.duration:i.duration;if(this.clearTimer(),this.lastLoadedFragLevel=i.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[i.level],c=(u.loaded?u.loaded.bytes:0)+o.loaded,h=(u.loaded?u.loaded.duration:0)+s;u.loaded={bytes:c,duration:h},u.realBitrate=Math.round(8*c/h)}if(i.bitrateTest){var d={stats:o,frag:i,part:r,id:i.type};this.onFragBuffered(a.Events.FRAG_BUFFERED,d),i.bitrateTest=!1}}},t.onFragBuffered=function(e,t){var i=t.frag,r=t.part,n=r?r.stats:i.stats;if(!n.aborted&&i.type===l.PlaylistLevelType.MAIN&&"initSegment"!==i.sn){var o=n.parsing.end-n.loading.start;this.bwEstimator.sample(o,n.loaded),n.bwEstimate=this.bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},t.onError=function(e,t){switch(t.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},t.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,i=this.hls,r=i.maxAutoLevel,n=i.config,o=i.minAutoLevel,a=i.media,u=t?t.duration:e?e.duration:0,l=a?a.currentTime:0,h=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,f=(s.BufferHelper.bufferInfo(a,l,n.maxBufferHole).end-l)/h,p=this.findBestLevel(d,o,r,f,n.abrBandWidthFactor,n.abrBandWidthUpFactor);if(p>=0)return p;c.logger.trace((f?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var A=u?Math.min(u,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(!f){var y=this.bitrateTestDelay;y&&(A=(u?Math.min(u,n.maxLoadingDelay):n.maxLoadingDelay)-y,c.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*A)+" ms"),g=m=1)}return p=this.findBestLevel(d,o,r,f+A,g,m),Math.max(p,0)},t.findBestLevel=function(e,t,i,r,n,o){for(var a,s=this.fragCurrent,u=this.partCurrent,l=this.lastLoadedFragLevel,h=this.hls.levels,d=h[l],f=!(null===d||void 0===d||null===(a=d.details)||void 0===a||!a.live),p=null===d||void 0===d?void 0:d.codecSet,A=u?u.duration:s?s.duration:0,g=i;g>=t;g--){var m=h[g];if(m&&(!p||m.codecSet===p)){var y,v=m.details,E=(u?null===v||void 0===v?void 0:v.partTarget:null===v||void 0===v?void 0:v.averagetargetduration)||A;y=g<=l?n*e:o*e;var w=h[g].maxBitrate,b=w*E/y;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(y)+"/"+w+"/"+E+"/"+r+"/"+b),y>w&&(!b||f&&!this.bitrateTestDelay||b<r))return g}}return-1},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var i=this.getNextABRAutoLevel();return-1!==e&&(i=Math.min(e,i)),i},set:function(e){this._nextAutoLevel=e}}]),e}();t.default=h},"./src/controller/audio-stream-controller.ts":function(e,t,i){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t);var o=i("./src/polyfills/number.ts"),a=i("./src/controller/base-stream-controller.ts"),s=i("./src/events.ts"),u=i("./src/utils/buffer-helper.ts"),l=i("./src/controller/fragment-tracker.ts"),c=i("./src/types/level.ts"),h=i("./src/types/loader.ts"),d=i("./src/loader/fragment.ts"),f=i("./src/demux/chunk-cache.ts"),p=i("./src/demux/transmuxer-interface.ts"),A=i("./src/types/transmuxer.ts"),g=i("./src/controller/fragment-finders.ts"),m=i("./src/utils/discontinuities.ts"),y=i("./src/errors.ts"),v=i("./src/utils/logger.ts"),E=function(e){function t(t,i){var r;return(r=e.call(this,t,i,"[audio-stream-controller]")||this).videoBuffer=null,r.videoTrackCC=-1,r.waitingVideoCC=-1,r.audioSwitch=!1,r.trackId=-1,r.waitingData=null,r.mainDetails=null,r.bufferFlushed=!1,r.cachedTrackLoadedData=null,r._registerListeners(),r}n(t,e);var i=t.prototype;return i.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},i._registerListeners=function(){var e=this.hls;e.on(s.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(s.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(s.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(s.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(s.Events.ERROR,this.onError,this),e.on(s.Events.BUFFER_RESET,this.onBufferReset,this),e.on(s.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(s.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(s.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(s.Events.FRAG_BUFFERED,this.onFragBuffered,this)},i._unregisterListeners=function(){var e=this.hls;e.off(s.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(s.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(s.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(s.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(s.Events.ERROR,this.onError,this),e.off(s.Events.BUFFER_RESET,this.onBufferReset,this),e.off(s.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(s.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(s.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(s.Events.FRAG_BUFFERED,this.onFragBuffered,this)},i.onInitPtsFound=function(e,t){var i=t.frag,r=t.id,n=t.initPTS;if("main"===r){var o=i.cc;this.initPTS[i.cc]=n,this.log("InitPTS for cc: "+o+" found from main: "+n),this.videoTrackCC=o,this.state===a.State.WAITING_INIT_PTS&&this.tick()}},i.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=a.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=a.State.IDLE):(this.loadedmetadata=!1,this.state=a.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},i.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_TRACK:var t,i=this.levels,r=this.trackId,n=null===i||void 0===i?void 0:null===(t=i[r])||void 0===t?void 0:t.details;if(n){if(this.waitForCdnTuneIn(n))break;this.state=a.State.WAITING_INIT_PTS}break;case a.State.FRAG_LOADING_WAITING_RETRY:var o,s=performance.now(),l=this.retryDate;(!l||s>=l||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=a.State.IDLE);break;case a.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var h=c.frag,d=c.part,f=c.cache,p=c.complete;if(void 0!==this.initPTS[h.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.FRAG_LOADING;var A={frag:h,part:d,payload:f.flush(),networkDetails:null};this._handleFragmentLoadProgress(A),p&&e.prototype._handleFragmentLoadComplete.call(this,A)}else if(this.videoTrackCC!==this.waitingVideoCC)v.logger.log("Waiting fragment cc ("+h.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var m=this.getLoadPosition(),y=u.BufferHelper.bufferInfo(this.mediaBuffer,m,this.config.maxBufferHole);Object(g.fragmentWithinToleranceTest)(y.end,this.config.maxFragLookUpTolerance,h)<0&&(v.logger.log("Waiting fragment cc ("+h.cc+") @ "+h.start+" cancelled because another fragment at "+y.end+" is needed"),this.clearWaitingFragment())}}else this.state=a.State.IDLE}this.onTickEnd()},i.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.IDLE)},i.onTickEnd=function(){var e=this.media;if(e&&e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length&&(this.loadedmetadata=!0),this.lastCurrentTime=e.currentTime}},i.doTickIdle=function(){var e,t,i=this.hls,r=this.levels,n=this.media,o=this.trackId,u=i.config;if(r&&r[o]&&(n||!this.startFragRequested&&u.startFragPrefetch)){var l=r[o].details;if(!l||l.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(l))return void(this.state=a.State.WAITING_TRACK);this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,d.ElementaryStreamTypes.AUDIO,h.PlaylistLevelType.AUDIO));var c=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,h.PlaylistLevelType.AUDIO);if(null!==c){var f=c.len,p=this.getMaxBufferLength(),A=this.audioSwitch;if(!(f>=p)||A){if(!A&&this._streamEnded(c,l))return i.trigger(s.Events.BUFFER_EOS,{type:"audio"}),void(this.state=a.State.ENDED);var g=l.fragments[0].start,m=c.end;if(A){var y=this.getLoadPosition();m=y,l.PTSKnown&&y<g&&(c.end>g||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=g+.05)}var v=this.getNextFragment(m,l);if(!v)return void(this.bufferFlushed=!0);"identity"!==(null===(e=v.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=v.decryptdata)&&void 0!==t&&t.key?this.loadFragment(v,l,m):this.loadKey(v,l)}}}},i.getMaxBufferLength=function(){var t=e.prototype.getMaxBufferLength.call(this),i=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,h.PlaylistLevelType.MAIN);return null===i?t:Math.max(t,i.len)},i.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},i.onAudioTracksUpdated=function(e,t){var i=t.audioTracks;this.resetTransmuxer(),this.levels=i.map(function(e){return new c.Level(e)})},i.onAudioTrackSwitching=function(e,t){var i=!!t.url;this.trackId=t.id;var r=this.fragCurrent;null!==r&&void 0!==r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.audioSwitch=!0,this.state=a.State.IDLE):this.state=a.State.STOPPED,this.tick()},i.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},i.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(s.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},i.onAudioTrackLoaded=function(e,t){var i;if(null!=this.mainDetails){var r=this.levels,n=t.details,o=t.id;if(r){this.log("Track "+o+" loaded ["+n.startSN+","+n.endSN+"],duration:"+n.totalduration);var s=r[o],u=0;if(n.live||null!==(i=s.details)&&void 0!==i&&i.live){var l=this.mainDetails;if(n.fragments[0]||(n.deltaUpdateFailed=!0),n.deltaUpdateFailed||!l)return;!s.details&&n.hasProgramDateTime&&l.hasProgramDateTime?(Object(m.alignMediaPlaylistByPDT)(n,l),u=n.fragments[0].start):u=this.alignPlaylists(n,s.details)}s.details=n,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(s.details,u),this.state!==a.State.WAITING_TRACK||this.waitForCdnTuneIn(n)||(this.state=a.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+o)}else this.cachedTrackLoadedData=t},i._handleFragmentLoadProgress=function(e){var t,i=e.frag,r=e.part,n=e.payload,o=this.config,s=this.trackId,u=this.levels;if(u){var l=u[s];console.assert(l,"Audio track is defined on fragment load progress");var c=l.details;console.assert(c,"Audio track details are defined on fragment load progress");var d=o.defaultAudioCodec||l.audioCodec||"mp4a.40.2",g=this.transmuxer;g||(g=this.transmuxer=new p.default(this.hls,h.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var m=this.initPTS[i.cc],y=null===(t=i.initSegment)||void 0===t?void 0:t.data;if(void 0!==m){var E=r?r.index:-1,w=-1!==E,b=new A.ChunkMetadata(i.level,i.sn,i.stats.chunkCount,n.byteLength,E,w);g.push(n,y,d,"",i,r,c.totalduration,!1,b,m)}else v.logger.log("Unknown video PTS for cc "+i.cc+", waiting for video PTS before demuxing audio frag "+i.sn+" of ["+c.startSN+" ,"+c.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:i,part:r,cache:new f.default,complete:!1}).cache.push(new Uint8Array(n)),this.waitingVideoCC=this.videoTrackCC,this.state=a.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+i.sn+" of level "+i.level+" will not be buffered")},i._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},i.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},i.onBufferCreated=function(e,t){var i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},i.onFragBuffered=function(e,t){var i=t.frag,r=t.part;if(i.type===h.PlaylistLevelType.AUDIO){if(this.fragContextChanged(i))return void this.warn("Fragment "+i.sn+(r?" p: "+r.index:"")+" of level "+i.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);"initSegment"!==i.sn&&(this.fragPrevious=i,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(s.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(i,r)}},i.onError=function(t,i){switch(i.details){case y.ErrorDetails.FRAG_LOAD_ERROR:case y.ErrorDetails.FRAG_LOAD_TIMEOUT:case y.ErrorDetails.KEY_LOAD_ERROR:case y.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(h.PlaylistLevelType.AUDIO,i);break;case y.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case y.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==a.State.ERROR&&this.state!==a.State.STOPPED&&(this.state=i.fatal?a.State.ERROR:a.State.IDLE,this.warn(i.details+" while loading frag, switching to "+this.state+" state"));break;case y.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===i.parent&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var r=!0,n=this.getFwdBufferInfo(this.mediaBuffer,h.PlaylistLevelType.AUDIO);n&&n.len>.5&&(r=!this.reduceMaxBufferLength(n.len)),r&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},i.onBufferFlushed=function(e,t){t.type===d.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},i._handleTransmuxComplete=function(e){var t,i="audio",n=this.hls,o=e.remuxResult,u=e.chunkMeta,l=this.getCurrentContext(u);if(!l)return this.warn("The loading context changed while buffering fragment "+u.sn+" of level "+u.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(u.level);var c=l.frag,h=l.part,f=o.audio,p=o.text,A=o.id3,g=o.initSegment;if(!this.fragContextChanged(c)){if(this.state=a.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!==g&&void 0!==g&&g.tracks&&(this._bufferInitSegment(g.tracks,c,u),n.trigger(s.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:i,tracks:g.tracks})),f){var m=f.startPTS,y=f.endPTS,v=f.startDTS,E=f.endDTS;h&&(h.elementaryStreams[d.ElementaryStreamTypes.AUDIO]={startPTS:m,endPTS:y,startDTS:v,endDTS:E}),c.setElementaryStreamInfo(d.ElementaryStreamTypes.AUDIO,m,y,v,E),this.bufferFragmentData(f,c,h,u)}if(null!==A&&void 0!==A&&null!==(t=A.samples)&&void 0!==t&&t.length){var w=r({frag:c,id:i},A);n.trigger(s.Events.FRAG_PARSING_METADATA,w)}if(p){var b=r({frag:c,id:i},p);n.trigger(s.Events.FRAG_PARSING_USERDATA,b)}}},i._bufferInitSegment=function(e,t,i){if(this.state===a.State.PARSING){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:"+r.container+", codecs[parsed]=["+r.codec+"]"),this.hls.trigger(s.Events.BUFFER_CODECS,e);var n=r.initSegment;if(null!==n&&void 0!==n&&n.byteLength){var o={type:"audio",frag:t,part:null,chunkMeta:i,parent:t.type,data:n};this.hls.trigger(s.Events.BUFFER_APPENDING,o)}this.tick()}}},i.loadFragment=function(t,i,r){var n=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||n===l.FragmentState.NOT_LOADED||n===l.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):i.live&&!Object(o.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=a.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,i,r)))},i.completeAudioSwitch=function(){var t=this.hls,i=this.media,r=this.trackId;i&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(s.Events.AUDIO_TRACK_SWITCHED,{id:r})},t}(a.default);t.default=E},"./src/controller/audio-track-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t);var o=i("./src/events.ts"),a=i("./src/errors.ts"),s=i("./src/controller/base-playlist-controller.ts"),u=i("./src/types/loader.ts"),l=function(e){function t(t){var i;return(i=e.call(this,t,"[audio-track-controller]")||this).tracks=[],i.groupId=null,i.tracksInGroup=[],i.trackId=-1,i.trackName="",i.selectDefaultTrack=!0,i.registerListeners(),i}n(t,e);var i=t.prototype;return i.registerListeners=function(){var e=this.hls;e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(o.Events.ERROR,this.onError,this)},i.unregisterListeners=function(){var e=this.hls;e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(o.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(o.Events.ERROR,this.onError,this)},i.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},i.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},i.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},i.onAudioTrackLoaded=function(e,t){var i=t.id,r=t.details,n=this.tracksInGroup[i];if(n){var o=n.details;n.details=t.details,this.log("audioTrack "+i+" loaded ["+r.startSN+"-"+r.endSN+"]"),i===this.trackId&&(this.retryCount=0,this.playlistLoaded(i,t,o))}else this.warn("Invalid audio track id "+i)},i.onLevelLoading=function(e,t){this.switchLevel(t.level)},i.onLevelSwitching=function(e,t){this.switchLevel(t.level)},i.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.audioGroupIds){var i=t.audioGroupIds[t.urlId];if(this.groupId!==i){this.groupId=i;var r=this.tracks.filter(function(e){return!i||e.groupId===i});this.selectDefaultTrack&&!r.some(function(e){return e.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=r;var n={audioTracks:r};this.log("Updating audio tracks, "+r.length+' track(s) found in "'+i+'" group-id'),this.hls.trigger(o.Events.AUDIO_TRACKS_UPDATED,n),this.selectInitialTrack()}}},i.onError=function(t,i){e.prototype.onError.call(this,t,i),!i.fatal&&i.context&&i.context.type===u.PlaylistContextType.AUDIO_TRACK&&i.context.id===this.trackId&&i.context.groupId===this.groupId&&this.retryLoadingOrFail(i)},i.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var i=t[this.trackId];this.log("Now switching to audio-track index "+e);var r=t[e],n=r.id,a=r.groupId,s=void 0===a?"":a,u=r.name,l=r.type,c=r.url;if(this.trackId=e,this.trackName=u,this.selectDefaultTrack=!1,this.hls.trigger(o.Events.AUDIO_TRACK_SWITCHING,{id:n,groupId:s,name:u,type:l,url:c}),!r.details||r.details.live){var h=this.switchParams(r.url,null===i||void 0===i?void 0:i.details);this.loadPlaylist(h)}}},i.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,i=this.findTrackId(t)||this.findTrackId();-1!==i?this.setAudioTrack(i):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},i.findTrackId=function(e){for(var t=this.tracksInGroup,i=0;i<t.length;i++){var r=t[i];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},i.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var i=t.id,r=t.groupId,n=t.url;if(e)try{n=e.addDirectives(n)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist for id: "+i),this.clearTimer(),this.hls.trigger(o.Events.AUDIO_TRACK_LOADING,{url:n,id:i,groupId:r,deliveryDirectives:e||null})}},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}]),t}(s.default);t.default=l},"./src/controller/base-playlist-controller.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return u});var r=i("./src/polyfills/number.ts"),n=i("./src/types/level.ts"),o=i("./src/controller/level-helper.ts"),a=i("./src/utils/logger.ts"),s=i("./src/errors.ts"),u=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=a.logger.log.bind(a.logger,t+":"),this.warn=a.logger.warn.bind(a.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var i=null===t||void 0===t?void 0:t.renditionReports;if(i)for(var o=0;o<i.length;o++){var a=i[o],s=""+a.URI;if(s===e.slice(-s.length)){var u=parseInt(a["LAST-MSN"]),l=parseInt(a["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==l&&c>t.partTarget&&(l+=1)}if(Object(r.isFiniteNumber)(u))return new n.HlsUrlParameters(u,Object(r.isFiniteNumber)(l)?l:void 0,n.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,i){var r=this,n=t.details,a=t.stats,s=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(n.advancedDateTime=Date.now()-s,n.live||null!==i&&void 0!==i&&i.live){if(n.reloaded(i),i&&this.log("live playlist "+e+" "+(n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:"MISSED")),i&&n.fragments.length>0&&Object(o.mergeDetails)(i,n),!this.canLoad||!n.live)return;var u,l=void 0,c=void 0;if(n.canBlockReload&&n.endSN&&n.advanced){var h=this.hls.config.lowLatencyMode,d=n.lastPartSn,f=n.endSN,p=n.lastPartIndex,A=d===f;-1!==p?(l=A?f+1:d,c=A?h?0:p:p+1):l=f+1;var g=n.age,m=g+n.ageHeader,y=Math.min(m-n.partTarget,1.5*n.targetduration);if(y>0){if(i&&y>i.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+i.tuneInGoal+" to: "+y+" with playlist age: "+n.age),y=0;else{var v=Math.floor(y/n.targetduration);l+=v,void 0!==c&&(c+=Math.round(y%n.targetduration/n.partTarget)),this.log("CDN Tune-in age: "+n.ageHeader+"s last advanced "+g.toFixed(2)+"s goal: "+y+" skip sn "+v+" to part "+c)}n.tuneInGoal=y}if(u=this.getDeliveryDirectives(n,t.deliveryDirectives,l,c),h||!A)return void this.loadPlaylist(u)}else u=this.getDeliveryDirectives(n,t.deliveryDirectives,l,c);var E=Object(o.computeReloadInterval)(n,a);void 0!==l&&n.canBlockReload&&(E-=n.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(E)+" ms"),this.timer=self.setTimeout(function(){return r.loadPlaylist(u)},E)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,i,r){var o=Object(n.getSkipValue)(e,i);return null!==t&&void 0!==t&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,r=t.part,o=n.HlsSkip.No),new n.HlsUrlParameters(i,r,o)},t.retryLoadingOrFail=function(e){var t,i=this,r=this.hls.config,n=this.retryCount<r.levelLoadingMaxRetry;if(n)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var o=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return i.loadPlaylist()},o),this.warn("retry playlist loading #"+this.retryCount+" in "+o+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return n},e}()},"./src/controller/base-stream-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t),i.d(t,"State",function(){return w}),i.d(t,"default",function(){return b});var o=i("./src/polyfills/number.ts"),a=i("./src/task-loop.ts"),s=i("./src/controller/fragment-tracker.ts"),u=i("./src/utils/buffer-helper.ts"),l=i("./src/utils/logger.ts"),c=i("./src/events.ts"),h=i("./src/errors.ts"),d=i("./src/types/transmuxer.ts"),f=i("./src/utils/mp4-tools.ts"),p=i("./src/utils/discontinuities.ts"),A=i("./src/controller/fragment-finders.ts"),g=i("./src/controller/level-helper.ts"),m=i("./src/loader/fragment-loader.ts"),y=i("./src/crypt/decrypter.ts"),v=i("./src/utils/time-ranges.ts"),E=i("./src/types/loader.ts"),w={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},b=function(e){function t(t,i,r){var n;return(n=e.call(this)||this).hls=void 0,n.fragPrevious=null,n.fragCurrent=null,n.fragmentTracker=void 0,n.transmuxer=null,n._state=w.STOPPED,n.media=void 0,n.mediaBuffer=void 0,n.config=void 0,n.bitrateTest=!1,n.lastCurrentTime=0,n.nextLoadPosition=0,n.startPosition=0,n.loadedmetadata=!1,n.fragLoadError=0,n.retryDate=0,n.levels=null,n.fragmentLoader=void 0,n.levelLastLoaded=null,n.startFragRequested=!1,n.decrypter=void 0,n.initPTS=[],n.onvseeking=null,n.onvended=null,n.logPrefix="",n.log=void 0,n.warn=void 0,n.logPrefix=r,n.log=l.logger.log.bind(l.logger,r+":"),n.warn=l.logger.warn.bind(l.logger,r+":"),n.hls=t,n.fragmentLoader=new m.default(t.config,t),n.fragmentTracker=i,n.config=t.config,n.decrypter=new y.default(t,t.config),t.on(c.Events.KEY_LOADED,n.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n(t,e);var i=t.prototype;return i.doTick=function(){this.onTickEnd()},i.onTickEnd=function(){},i.startLoad=function(e){},i.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=w.STOPPED},i._streamEnded=function(e,t){var i=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&i&&i.sn>=t.endSN&&!e.nextStart){var n=t.partList;if(null!==n&&void 0!==n&&n.length){var o=n[n.length-1];return u.BufferHelper.isBuffered(this.media,o.start+o.duration/2)}var a=r.getState(i);return a===s.FragmentState.PARTIAL||a===s.FragmentState.OK}return!1},i.onMediaAttached=function(e,t){var i=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===w.STOPPED&&this.startLoad(r.startPosition)},i.onMediaDetaching=function(){var e=this.media;null!==e&&void 0!==e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},i.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,i=this.media,r=this.mediaBuffer,n=this.state,a=i?i.currentTime:0,s=u.BufferHelper.bufferInfo(r||i,a,e.maxBufferHole);if(this.log("media seeking to "+(Object(o.isFiniteNumber)(a)?a.toFixed(3):a)+", state: "+n),n===w.ENDED)this.resetLoadingState();else if(t&&!s.len){var l=e.maxFragLookUpTolerance,c=t.start-l,h=a>t.start+t.duration+l;(a<c||h)&&(h&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}i&&(this.lastCurrentTime=a),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onKeyLoaded=function(e,t){if(this.state===w.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=w.IDLE;var i=this.levels[t.frag.level].details;i&&this.loadFragment(t.frag,i,t.frag.start)}},i.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=w.STOPPED,this.hls.off(c.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},i.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=w.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(c.Events.KEY_LOADING,{frag:e})},i.loadFragment=function(e,t,i){this._loadFragForPlayback(e,t,i)},i._loadFragForPlayback=function(e,t,i){var r=this;this._doFragLoad(e,t,i,function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)}).then(function(t){if(t){r.fragLoadError=0;var i=r.state;return r.fragContextChanged(e)?void((i===w.FRAG_LOADING||i===w.BACKTRACKING||!r.fragCurrent&&i===w.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=w.IDLE)):"payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(c.Events.FRAG_LOADED,t),r.state===w.BACKTRACKING)?(r.fragmentTracker.backtrack(e,t),void r.resetFragmentLoading(e)):void r._handleFragmentLoadComplete(t)}}).catch(function(t){r.state!==w.STOPPED&&(r.warn(t),r.resetFragmentLoading(e))})},i.flushMainBuffer=function(e,t,i){if(void 0===i&&(i=null),e-t){var r={startOffset:e,endOffset:t,type:i};this.fragLoadError=0,this.hls.trigger(c.Events.BUFFER_FLUSHING,r)}},i._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then(function(i){if(!i||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return i}).then(function(i){var r=t.hls,n=i.payload,o=e.decryptdata;if(n&&n.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer).then(function(t){var n=self.performance.now();return r.trigger(c.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:a,tdecrypt:n}}),i.payload=t,i})}return i}).then(function(i){var r=t.fragCurrent,n=t.hls,o=t.levels;if(!o)throw new Error("init load aborted, missing levels");var a=o[e.level].details;console.assert(a,"Level details are defined when init segment is loaded");var s=e.stats;t.state=w.IDLE,t.fragLoadError=0,e.data=new Uint8Array(i.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),i.frag===r&&n.trigger(c.Events.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:e.type}),t.tick()}).catch(function(i){t.warn(i),t.resetFragmentLoading(e)})},i.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},i.fragBufferedComplete=function(e,t){var i=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+v.default.toString(u.BufferHelper.getBuffered(i))),this.state=w.IDLE,this.tick()},i._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var i=e.frag,r=e.part,n=e.partsLoaded,o=!n||0===n.length||n.some(function(e){return!e}),a=new d.ChunkMetadata(i.level,i.sn,i.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(a)}},i._handleFragmentLoadProgress=function(e){},i._doFragLoad=function(e,t,i,r){var n=this;if(void 0===i&&(i=null),!this.levels)throw new Error("frag load aborted, missing levels");if(i=Math.max(e.start,i||0),this.config.lowLatencyMode&&t){var a=t.partList;if(a&&r){i>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(a,e,i);if(s>-1){var u=a[s];return this.log("Loading part sn: "+e.sn+" p: "+u.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(a.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(i.toFixed(3))),this.nextLoadPosition=u.start+u.duration,this.state=w.FRAG_LOADING,this.hls.trigger(c.Events.FRAG_LOADING,{frag:e,part:a[s],targetBufferTime:i}),this.doFragPartsLoad(e,a,s,r).catch(function(e){return n.handleFragLoadError(e)})}if(!e.url||this.loadedEndOfParts(a,i))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(i.toFixed(3))),Object(o.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=w.FRAG_LOADING,this.hls.trigger(c.Events.FRAG_LOADING,{frag:e,targetBufferTime:i}),this.fragmentLoader.load(e,r).catch(function(e){return n.handleFragLoadError(e)})},i.doFragPartsLoad=function(e,t,i,r){var n=this;return new Promise(function(o,a){var s=[];!function i(u){var l=t[u];n.fragmentLoader.loadPart(e,l,r).then(function(r){s[l.index]=r;var a=r.part;n.hls.trigger(c.Events.FRAG_LOADED,r);var h=t[u+1];if(!h||h.fragment!==e)return o({frag:e,part:a,partsLoaded:s});i(u+1)}).catch(a)}(i)})},i.handleFragLoadError=function(e){var t=e.data;return t&&t.details===h.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(c.Events.ERROR,t),null},i._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===w.PARSING){var i=t.frag,r=t.part,n=t.level,o=self.performance.now();i.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(i,r,n,e.partial)}else this.fragCurrent||(this.state=w.IDLE)},i.getCurrentContext=function(e){var t=this.levels,i=e.level,r=e.sn,n=e.part;if(!t||!t[i])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+i+". The current chunk will not be buffered."),null;var o=t[i],a=n>-1?Object(g.getPartWith)(o,r,n):null,s=a?a.fragment:Object(g.getFragmentWithSN)(o,r,this.fragCurrent);return s?{frag:s,part:a,level:o}:null},i.bufferFragmentData=function(e,t,i,r){if(e&&this.state===w.PARSING){var n=e.data1,o=e.data2,a=n;if(n&&o&&(a=Object(f.appendUint8Array)(n,o)),a&&a.length){var s={type:e.type,frag:t,part:i,chunkMeta:r,parent:t.type,data:a};this.hls.trigger(c.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!i&&this.flushBufferGap(t)}}},i.flushBufferGap=function(e){var t=this.media;if(t){if(!u.BufferHelper.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,e.start);var i=t.currentTime,r=u.BufferHelper.bufferInfo(t,i,0),n=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*n),a=Math.max(Math.min(e.start-o,r.end-o),i+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}},i.getFwdBufferInfo=function(e,t){var i=this.config,r=this.getLoadPosition();if(!Object(o.isFiniteNumber)(r))return null;var n=u.BufferHelper.bufferInfo(e,r,i.maxBufferHole);if(0===n.len&&void 0!==n.nextStart){var a=this.fragmentTracker.getBufferedFrag(r,t);if(a&&n.nextStart<a.end)return u.BufferHelper.bufferInfo(e,r,Math.max(n.nextStart,i.maxBufferHole))}return n},i.getMaxBufferLength=function(e){var t,i=this.config;return t=e?Math.max(8*i.maxBufferSize/e,i.maxBufferLength):i.maxBufferLength,Math.min(t,i.maxMaxBufferLength)},i.reduceMaxBufferLength=function(e){var t=this.config,i=e||t.maxBufferLength;return t.maxMaxBufferLength>=i&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},i.getNextFragment=function(e,t){var i,r,n=t.fragments,o=n.length;if(!o)return null;var a,s=this.config,u=n[0].start;if(t.live){var l=s.initialLiveManifestSize;if(o<l)return this.warn("Not enough fragments to start playback (have: "+o+", need: "+l+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(t,n),this.startPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=u&&(a=n[0]);if(!a){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,c,t)}return null===(i=a)||void 0===i||!i.initSegment||null!==(r=a)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(a=a.initSegment),a},i.getNextPart=function(e,t,i){for(var r=-1,n=!1,o=!0,a=0,s=e.length;a<s;a++){var u=e[a];if(o=o&&!u.independent,r>-1&&i<u.start)break;var l=u.loaded;!l&&(n||u.independent||o)&&u.fragment===t&&(r=a),n=l}return r},i.loadedEndOfParts=function(e,t){var i=e[e.length-1];return i&&t>i.start&&i.loaded},i.getInitialLiveFragment=function(e,t){var i=this.fragPrevious,r=null;if(i){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),r=Object(A.findFragmentByPDT)(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var n=i.sn+1;if(n>=e.startSN&&n<=e.endSN){var o=t[n-e.startSN];i.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=Object(A.findFragWithCC)(t,i.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var a=this.hls.liveSyncPosition;null!==a&&(r=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},i.getFragmentAtPosition=function(e,t,i){var r,n=this.config,o=this.fragPrevious,a=i.fragments,u=i.endSN,l=i.fragmentHint,c=n.maxFragLookUpTolerance,h=!!(n.lowLatencyMode&&i.partList&&l);if(h&&l&&!this.bitrateTest&&(a=a.concat(l),u=l.sn),e<t){var d=e>t-c?0:c;r=Object(A.findFragmentByPTS)(o,a,e,d)}else r=a[a.length-1];if(r){var f=r.sn-i.startSN,p=o&&r.level===o.level,g=a[f+1];if(this.fragmentTracker.getState(r)===s.FragmentState.BACKTRACKED){r=null;for(var m=f;a[m]&&this.fragmentTracker.getState(a[m])===s.FragmentState.BACKTRACKED;)r=o?a[m--]:a[--m];r||(r=g)}else o&&r.sn===o.sn&&!h&&p&&(r.sn<u&&this.fragmentTracker.getState(g)!==s.FragmentState.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+g.sn),r=g):r=null)}return r},i.synchronizeToLiveEdge=function(e){var t=this.config,i=this.media;if(i){var r=this.hls.liveSyncPosition,n=i.currentTime,o=e.fragments[0].start,a=e.edge,s=n>=o-t.maxFragLookUpTolerance&&n<=a;if(null!==r&&i.duration>r&&(n<r||!s)){var u=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&i.readyState<4||n<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=r),i.readyState&&(this.warn("Playback: "+n.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+r.toFixed(3)),i.currentTime=r))}}},i.alignPlaylists=function(e,t){var i=this.levels,r=this.levelLastLoaded,n=this.fragPrevious,a=null!==r?i[r]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var u=e.fragments[0].start,l=!t,c=e.alignedSliding&&Object(o.isFiniteNumber)(u);if(l||!c&&!u){Object(p.alignStream)(n,a,e);var h=e.fragments[0].start;return this.log("Live playlist sliding: "+h.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(n?n.sn:"na")+" fragments: "+s),h}return u},i.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},i.setStartPosition=function(e,t){var i=this.startPosition;if(i<t&&(i=-1),-1===i||-1===this.lastCurrentTime){var r=e.startTimeOffset;Object(o.isFiniteNumber)(r)?(i=t+r,r<0&&(i+=e.totalduration),i=Math.min(Math.max(t,i),t+e.totalduration),this.log("Start time offset "+r+" found in playlist, adjust startPosition to "+i),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||t:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i},i.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},i.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},i.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=w.IDLE)},i.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var i=t.frag;if(i&&i.type===e){var r=this.fragCurrent;console.assert(r&&i.sn===r.sn&&i.level===r.level&&i.urlId===r.urlId,"Frag load error must match current frag to retry");var n=this.config;if(this.fragLoadError+1<=n.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(i.level))return;var o=Math.min(Math.pow(2,this.fragLoadError)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);this.warn("Fragment "+i.sn+" of "+e+" "+i.level+" failed to load, retrying in "+o+"ms"),this.retryDate=self.performance.now()+o,this.fragLoadError++,this.state=w.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===E.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=w.IDLE):(l.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=w.ERROR)}}},i.afterBufferFlushed=function(e,t,i){if(e){var r=u.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,i),this.state===w.ENDED&&this.resetLoadingState()}},i.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=w.IDLE},i.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!==t&&void 0!==t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},i.updateLevelTiming=function(e,t,i,r){var n=this,o=i.details;console.assert(!!o,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce(function(t,a){var s=e.elementaryStreams[a];if(s){var u=s.endPTS-s.startPTS;if(u<=0)return n.warn("Could not parse fragment "+e.sn+" "+a+" duration reliably ("+u+") resetting transmuxer to fallback to playlist timing"),n.resetTransmuxer(),t||!1;var l=r?0:Object(g.updateFragPTSDTS)(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return n.hls.trigger(c.Events.LEVEL_PTS_UPDATED,{details:o,level:i,drift:l,type:a,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t},!1)?(this.state=w.PARSED,this.hls.trigger(c.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},i.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}]),t}(a.default)},"./src/controller/buffer-controller.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return f});var r=i("./src/polyfills/number.ts"),n=i("./src/events.ts"),o=i("./src/utils/logger.ts"),a=i("./src/errors.ts"),s=i("./src/utils/buffer-helper.ts"),u=i("./src/utils/mediasource-helper.ts"),l=i("./src/loader/fragment.ts"),c=i("./src/controller/buffer-operation-queue.ts"),h=Object(u.getMediaSource)(),d=/([ha]vc.)(?:\.[^.,]+)+/,f=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,i=t.media,r=t.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),i&&(t.updateMediaElementDuration(),e.trigger(n.Events.MEDIA_ATTACHED,{media:i})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_RESET,this.onBufferReset,this),e.on(n.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.BUFFER_EOS,this.onBufferEos,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(n.Events.FRAG_PARSED,this.onFragParsed,this),e.on(n.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_RESET,this.onBufferReset,this),e.off(n.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.BUFFER_EOS,this.onBufferEos,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(n.Events.FRAG_PARSED,this.onFragParsed,this),e.off(n.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var i=this.media=t.media;if(i&&h){var r=this.mediaSource=new h;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(r),this._objectUrl=i.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,i=this._objectUrl;if(t){if(o.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){o.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(i&&self.URL.revokeObjectURL(i),e.src===i?(e.removeAttribute("src"),e.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(n.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach(function(t){var i=e.sourceBuffer[t];try{i&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(i),e.sourceBuffer[t]=void 0)}catch(e){o.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}}),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var i=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach(function(e){if(r){var n=i.tracks[e];if(n&&"function"==typeof n.buffer.changeType){var a=t[e],s=a.id,u=a.codec,l=a.levelCodec,c=a.container,h=a.metadata,f=(n.levelCodec||n.codec).replace(d,"$1"),p=(l||u).replace(d,"$1");if(f!==p){var A=c+";codecs="+(l||u);i.appendChangeType(e,A),o.logger.log("[buffer-controller]: switching codec "+f+" to "+p),i.tracks[e]={buffer:n.buffer,codec:u,container:c,levelCodec:l,metadata:h,id:s}}}}else i.pendingTracks[e]=t[e]}),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var i=this,r=this.operationQueue,n={execute:function(){var n=i.sourceBuffer[e];n&&(o.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),n.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){o.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(n,e)},t.onBufferAppending=function(e,t){var i=this,r=this.hls,u=this.operationQueue,l=this.tracks,c=t.data,h=t.type,d=t.frag,f=t.part,p=t.chunkMeta,A=p.buffering[h],g=self.performance.now();A.start=g;var m=d.stats.buffering,y=f?f.stats.buffering:null;0===m.start&&(m.start=g),y&&0===y.start&&(y.start=g);var v=l.audio,E="audio"===h&&1===p.id&&"audio/mpeg"===(null===v||void 0===v?void 0:v.container),w={execute:function(){if(A.executeStart=self.performance.now(),E){var e=i.sourceBuffer[h];if(e){var t=d.start-e.timestampOffset;Math.abs(t)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+d.start+" (delta: "+t+") sn: "+d.sn+")"),e.timestampOffset=d.start)}}i.appendExecutor(c,h)},onStart:function(){},onComplete:function(){var e=self.performance.now();A.executeEnd=A.end=e,0===m.first&&(m.first=e),y&&0===y.first&&(y.first=e);var t=i.sourceBuffer,r={};for(var o in t)r[o]=s.BufferHelper.getBuffered(t[o]);i.appendError=0,i.hls.trigger(n.Events.BUFFER_APPENDED,{type:h,frag:d,part:f,chunkMeta:p,parent:d.type,timeRanges:r})},onError:function(e){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+h+" SourceBuffer",e);var t={type:a.ErrorTypes.MEDIA_ERROR,parent:d.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=a.ErrorDetails.BUFFER_FULL_ERROR:(i.appendError++,t.details=a.ErrorDetails.BUFFER_APPEND_ERROR,i.appendError>r.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(n.Events.ERROR,t)}};u.append(w,h)},t.onBufferFlushing=function(e,t){var i=this,r=this.operationQueue,a=function(e){return{execute:i.removeExecutor.bind(i,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){i.hls.trigger(n.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){o.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(a(t.type),t.type):this.getSourceBufferTypes().forEach(function(e){r.append(a(e),e)})},t.onFragParsed=function(e,t){var i=this,r=t.frag,a=t.part,s=[],u=a?a.elementaryStreams:r.elementaryStreams;u[l.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(u[l.ElementaryStreamTypes.AUDIO]&&s.push("audio"),u[l.ElementaryStreamTypes.VIDEO]&&s.push("video"));0===s.length&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers(function(){var e=self.performance.now();r.stats.buffering.end=e,a&&(a.stats.buffering.end=e);var t=a?a.stats:r.stats;i.hls.trigger(n.Events.FRAG_BUFFERED,{frag:r,part:a,stats:t,id:r.type})},s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var i=this;this.getSourceBufferTypes().reduce(function(e,r){var n=i.sourceBuffer[r];return t.type&&t.type!==r||n&&!n.ended&&(n.ended=!0,o.logger.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(n&&!n.ended)},!0)&&this.blockBuffers(function(){var e=i.mediaSource;e&&"open"===e.readyState&&e.endOfStream()})},t.onLevelUpdated=function(e,t){var i=t.details;i.fragments.length&&(this.details=i,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,i=this.media,o=this.sourceBuffer;if(i&&null!==t){var a=this.getSourceBufferTypes();if(a.length){var u=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(r.isFiniteNumber)(u)&&!(u<0)){var l=i.currentTime,c=t.levelTargetDuration,h=Math.max(u,c),d=Math.floor(l/c)*c-h;a.forEach(function(i){var r=o[i];if(r){var a=s.BufferHelper.getBuffered(r);a.length>0&&d>a.start(0)&&(e.trigger(n.Events.BACK_BUFFER_REACHED,{bufferEnd:d}),t.live&&e.trigger(n.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:d}),e.trigger(n.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:d,type:i}))}})}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,i=this.media,n=this.mediaSource,a=e.fragments[0].start+e.totalduration,s=i.duration,u=Object(r.isFiniteNumber)(n.duration)?n.duration:0;e.live&&t.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),n.duration=1/0,this.updateSeekableRange(e)):(a>u&&a>s||!Object(r.isFiniteNumber)(s))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),n.duration=a)}},t.updateSeekableRange=function(e){var t=this.mediaSource,i=e.fragments;if(i.length&&e.live&&null!==t&&void 0!==t&&t.setLiveSeekableRange){var r=Math.max(0,i[0].start),n=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,n)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,i=this.pendingTracks,r=Object.keys(i).length;if(r&&!e||2===r){this.createSourceBuffers(i),this.pendingTracks={};var o=this.getSourceBufferTypes();if(0===o.length)return void this.hls.trigger(n.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});o.forEach(function(e){t.executeNext(e)})}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,i=this.mediaSource;if(!i)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var s in e)if(!t[s]){var u=e[s];if(!u)throw Error("source buffer exists for track "+s+", however track does not");console.log("track.levelCodec = ",s,u.levelCodec,u.codec);var l=u.levelCodec||u.codec;"video"===s?"avc1.420128"===(l=u.levelCodec||u.codec)&&(l="avc1.4d002a"):l=u.levelCodec||u.codec;var c=u.container+";codecs="+l;o.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var h=t[s]=i.addSourceBuffer(c),d=s;this.addBufferListener(d,"updatestart",this._onSBUpdateStart),this.addBufferListener(d,"updateend",this._onSBUpdateEnd),this.addBufferListener(d,"error",this._onSBUpdateError),this.tracks[s]={buffer:h,codec:l,container:u.container,levelCodec:u.levelCodec,metadata:u.metadata,id:u.id},r++}catch(e){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(n.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}r&&this.hls.trigger(n.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){o.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(n.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var i=this.operationQueue.current(e);i&&i.onError(t)},t.removeExecutor=function(e,t,i){var n=this.media,a=this.mediaSource,s=this.operationQueue,u=this.sourceBuffer[e];if(!n||!a||!u)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var l=Object(r.isFiniteNumber)(n.duration)?n.duration:1/0,c=Object(r.isFiniteNumber)(a.duration)?a.duration:1/0,h=Math.max(0,t),d=Math.min(i,l,c);d>h?(o.logger.log("[buffer-controller]: Removing ["+h+","+d+"] from the "+e+" SourceBuffer"),console.assert(!u.updating,e+" sourceBuffer must not be updating"),u.remove(h,d)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var i=this.operationQueue,r=this.sourceBuffer[t];if(!r)return o.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void i.shiftAndExecuteNext(t);r.ended=!1,console.assert(!r.updating,t+" sourceBuffer must not be updating"),r.appendBuffer(e)},t.blockBuffers=function(e,t){var i=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var r=this.operationQueue,n=t.map(function(e){return r.appendBlocker(e)});Promise.all(n).then(function(){e(),t.forEach(function(e){var t=i.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)})})},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,i){var r=this.sourceBuffer[e];if(r){var n=i.bind(this,e);this.listeners[e].push({event:t,listener:n}),r.addEventListener(t,n)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach(function(e){t.removeEventListener(e.event,e.listener)})},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var r=i("./src/utils/logger.ts"),n=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var i=this.queues[t];i.push(e),1===i.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,i=new Promise(function(e){t=e}),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),i},t.executeNext=function(e){var t=this.buffers,i=this.queues,n=t[e],o=i[e];if(o.length){var a=o[0];try{a.execute()}catch(t){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(t),n&&n.updating||(o.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t);var n=i("./src/events.ts"),o=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},t.registerListeners=function(){var e=this.hls;e.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},t.unregisterListener=function(){var e=this.hls;e.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},t.onFpsDropLevelCapping=function(t,i){e.isLevelAllowed(i.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(i.droppedLevel)},t.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},t.onManifestParsed=function(e,t){var i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onMediaDetaching=function(){this.stopCapping()},t.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.getMaxLevel=function(t){var i=this,r=this.hls.levels;if(!r.length)return-1;var n=r.filter(function(r,n){return e.isLevelAllowed(n,i.restrictedLevels)&&n<=t});return this.clientRect=null,e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},t.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},t.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,t.width||t.height||(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,i){if(!e||!e.length)return-1;for(var r=e.length-1,n=0;n<e.length;n+=1){var o=e[n];if((o.width>=t||o.height>=i)&&function(e,t){return!t||e.width!==t.width||e.height!==t.height}(o,e[n+1])){r=n;break}}return r},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}}]),e}();t.default=o},"./src/controller/cmcd-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.r(t),i.d(t,"default",function(){return d});var u=i("./src/events.ts"),l=i("./src/types/cmcd.ts"),c=i("./src/utils/buffer-helper.ts"),h=i("./src/utils/logger.ts"),d=function(){function e(t){var i=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){i.initialized&&(i.starved=!0),i.buffering=!0},this.onPlaying=function(){i.initialized||(i.initialized=!0),i.buffering=!1},this.applyPlaylistData=function(e){try{i.apply(e,{ot:l.CMCDObjectType.MANIFEST,su:!i.initialized})}catch(e){h.logger.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var t=e.frag,r=i.hls.levels[t.level],n=i.getObjectType(t),o={d:1e3*t.duration,ot:n};n!==l.CMCDObjectType.VIDEO&&n!==l.CMCDObjectType.AUDIO&&n!=l.CMCDObjectType.MUXED||(o.br=r.bitrate/1e3,o.tb=i.getTopBandwidth(n)/1e3,o.bl=i.getBufferLength(n)),i.apply(e,o)}catch(e){h.logger.warn("Could not generate segment CMCD data.",e)}},this.hls=t;var r=this.config=t.config,n=r.cmcd;null!=n&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(u.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.on(u.Events.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(u.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.off(u.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},t.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var i,r;this.audioBuffer=null===(i=t.tracks.audio)||void 0===i?void 0:i.buffer,this.videoBuffer=null===(r=t.tracks.video)||void 0===r?void 0:r.buffer},t.createData=function(){var e;return{v:l.CMCDVersion,sf:l.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(e=this.media)||void 0===e?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,i){void 0===i&&(i={}),s(i,this.createData());var r=i.ot===l.CMCDObjectType.INIT||i.ot===l.CMCDObjectType.VIDEO||i.ot===l.CMCDObjectType.MUXED;if(this.starved&&r&&(i.bs=!0,i.su=!0,this.starved=!1),null==i.su&&(i.su=this.buffering),this.useHeaders){var n=e.toHeaders(i);if(!Object.keys(n).length)return;t.headers||(t.headers={}),s(t.headers,n)}else{var o=e.toQuery(i);if(!o)return;t.url=e.appendQueryToUri(t.url,o)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?l.CMCDObjectType.TIMED_TEXT:"initSegment"===e.sn?l.CMCDObjectType.INIT:"audio"===t?l.CMCDObjectType.AUDIO:"main"===t?this.hls.audioTracks.length?l.CMCDObjectType.VIDEO:l.CMCDObjectType.MUXED:void 0},t.getTopBandwidth=function(e){var t,i=0,r=this.hls;if(e===l.CMCDObjectType.AUDIO)t=r.audioTracks;else{var n=r.maxAutoLevel,a=n>-1?n+1:r.levels.length;t=r.levels.slice(0,a)}for(var s,u=o(t);!(s=u()).done;){var c=s.value;c.bitrate>i&&(i=c.bitrate)}return i>0?i:NaN},t.getBufferLength=function(e){var t=this.hls.media,i=e===l.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return i&&t?1e3*c.BufferHelper.bufferInfo(i,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,i=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new i(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,i,r){t(e),this.loader.load(e,i,r)},n(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,i=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new i(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,i,r){t(e),this.loader.load(e,i,r)},n(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,i=[],r=function(e){return Math.round(e)},n=function(e){return 100*r(e/100)},a={br:r,d:r,bl:n,dl:n,mtp:n,nor:function(e){return encodeURIComponent(e)},rtp:n,tb:r},s=o(Object.keys(e||{}).sort());!(t=s()).done;){var u=t.value,l=e[u];if(function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e}(l)&&!("v"===u&&1===l||"pr"==u&&1===l)){var c=a[u];c&&(l=c(l));var h,d=typeof l;h="ot"===u||"sf"===u||"st"===u?u+"="+l:"boolean"===d?u:"number"===d?u+"="+l:u+"="+JSON.stringify(l),i.push(h)}}return i.join(",")},e.toHeaders=function(t){for(var i={},r=["Object","Request","Session","Status"],n=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=0,s=Object.keys(t);a<s.length;a++){var u=s[a];n[null!=o[u]?o[u]:1][u]=t[u]}for(var l=0;l<n.length;l++){var c=e.serialize(n[l]);c&&(i["CMCD-"+r[l]]=c)}return i},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){return t?e+(e.includes("?")?"&":"?")+t:e},e}()},"./src/controller/eme-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t);var n=i("./src/events.ts"),o=i("./src/errors.ts"),a=i("./src/utils/logger.ts"),s=i("./src/utils/mediakeys-helper.ts"),u=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},t._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},t._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},t.getLicenseServerUrl=function(e){switch(e){case s.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},t._attemptKeySystemAccess=function(e,t,i){var r=this,n=function(e,t,i,r){switch(e){case s.KeySystems.WIDEVINE:return function(e,t,i){var r={audioCapabilities:[],videoCapabilities:[]};return e.forEach(function(e){r.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:i.audioRobustness||""})}),t.forEach(function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:i.videoRobustness||""})}),[r]}(t,i,r);default:throw new Error("Unknown key-system: "+e)}}(e,t,i,this._drmSystemOptions);a.logger.log("Requesting encrypted media key-system access");var o=this.requestMediaKeySystemAccess(e,n);this.mediaKeysPromise=o.then(function(t){return r._onMediaKeySystemAccessObtained(e,t)}),o.catch(function(t){a.logger.error('Failed to obtain key-system "'+e+'" access:',t)})},t._onMediaKeySystemAccessObtained=function(e,t){var i=this;a.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r);var n=Promise.resolve().then(function(){return t.createMediaKeys()}).then(function(t){return r.mediaKeys=t,a.logger.log('Media-keys created for key-system "'+e+'"'),i._onMediaKeysCreated(),t});return n.catch(function(e){a.logger.error("Failed to create media-keys:",e)}),n},t._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t._onNewMediaKeySession=function(e){var t=this;a.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(i){t._onKeySessionMessage(e,i.message)},!1)},t._onKeySessionMessage=function(e,t){a.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){a.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t).catch(function(e){a.logger.warn("Updating key-session failed: "+e)})})},t.onMediaEncrypted=function(e){var t=this;if(a.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var i=function(i){t._media&&(t._attemptSetMediaKeys(i),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(i).catch(i)},t._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});a.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},t._generateRequestWithPreferredKeySession=function(e,t){var i=this,r=this._mediaKeysList[0];if(!r)return a.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(!r.mediaKeysSessionInitialized){var s=r.mediaKeysSession;return s?t?(a.logger.log('Generating key-session request for "'+e+'" init data type'),r.mediaKeysSessionInitialized=!0,void s.generateRequest(e,t).then(function(){a.logger.debug("Key-session generation succeeded")}).catch(function(e){a.logger.error("Error generating key-session request:",e),i.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})):(a.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0})):(a.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}))}a.logger.warn("Key-Session already initialized but requested again")},t._createLicenseXhr=function(e,t,i){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,i);var n=this._licenseXhrSetup;if(n)try{n.call(this.hls,r,e),n=void 0}catch(e){a.logger.error(e)}try{r.readyState||r.open("POST",e,!0),n&&n.call(this.hls,r,e)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return r},t._onLicenseRequestReadyStageChange=function(e,t,i,r){switch(e.readyState){case 4:if(200===e.status){this._requestLicenseFailureCount=0,a.logger.log("License request succeeded");var s=e.response,u=this._licenseResponseCallback;if(u)try{s=u.call(this.hls,e,t)}catch(e){a.logger.error(e)}r(s)}else{if(a.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),++this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var l=3-this._requestLicenseFailureCount+1;a.logger.warn("Retrying license request, "+l+" attempts left"),this._requestLicense(i,r)}}},t._generateLicenseRequestChallenge=function(e,t){switch(e.mediaKeySystemDomain){case s.KeySystems.WIDEVINE:return t}throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},t._requestLicense=function(e,t){a.logger.log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return a.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var r=this.getLicenseServerUrl(i.mediaKeySystemDomain),s=this._createLicenseXhr(r,e,t);a.logger.log("Sending license request to URL: "+r);var u=this._generateLicenseRequestChallenge(i,e);s.send(u)}catch(e){a.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},t.onMediaAttached=function(e,t){if(this._emeEnabled){var i=t.media;this._media=i,i.addEventListener("encrypted",this._onMediaEncrypted)}},t.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map(function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch(function(){})})).then(function(){return e.setMediaKeys(null)}).catch(function(){}))},t.onManifestParsed=function(e,t){if(this._emeEnabled){var i=t.levels.map(function(e){return e.audioCodec}).filter(function(e){return!!e}),r=t.levels.map(function(e){return e.videoCodec}).filter(function(e){return!!e});this._attemptKeySystemAccess(s.KeySystems.WIDEVINE,i,r)}},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}();t.default=u},"./src/controller/fps-controller.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/events.ts"),n=i("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var i=this.hls.config;if(i.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,i){var o=performance.now();if(t){if(this.lastTime){var a=o-this.lastTime,s=i-this.lastDroppedFrames,u=t-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(r.Events.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:i}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var h=c.currentLevel;n.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=h)&&(h-=1,c.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:c.currentLevel}),c.autoLevelCapping=h,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=o},"./src/controller/fragment-finders.ts":function(e,t,i){"use strict";function r(e,t,i){if(null===t||!Array.isArray(e)||!e.length||!Object(u.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;i=i||0;for(var r=0;r<e.length;++r){var n=e[r];if(a(t,i,n))return n}return null}function n(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=null;return e?n=t[e.sn-t[0].sn+1]||null:0===i&&0===t[0].start&&(n=t[0]),n&&0===o(i,r,n)?n:l.default.search(t,o.bind(null,i,r))||n}function o(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-r<=e?1:i.start-r>e&&i.start?-1:0}function a(e,t,i){var r=1e3*Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return(i.endProgramDateTime||0)-r>e}function s(e,t){return l.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}i.r(t),i.d(t,"findFragmentByPDT",function(){return r}),i.d(t,"findFragmentByPTS",function(){return n}),i.d(t,"fragmentWithinToleranceTest",function(){return o}),i.d(t,"pdtWithinToleranceTest",function(){return a}),i.d(t,"findFragWithCC",function(){return s});var u=i("./src/polyfills/number.ts"),l=i("./src/utils/binary-search.ts")},"./src/controller/fragment-tracker.ts":function(e,t,i){"use strict";function r(e){var t,i;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(i=e.range.audio)||void 0===i?void 0:i.partial))}function n(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}i.r(t),i.d(t,"FragmentState",function(){return o}),i.d(t,"FragmentTracker",function(){return u});var o,a=i("./src/events.ts"),s=i("./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(o||(o={}));var u=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(a.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(a.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===s.PlaylistLevelType.MAIN){var i=this.activeFragment,r=this.activeParts;if(!i)return null;if(r)for(var n=r.length;n--;){var o=r[n],a=o?o.end:i.appendedPTS;if(o.start<=e&&void 0!==a&&e<=a)return n>9&&(this.activeParts=r.slice(n-9)),o}else if(i.start<=e&&void 0!==i.appendedPTS&&e<=i.appendedPTS)return i}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var i=this.fragments,r=Object.keys(i),n=r.length;n--;){var o=i[r[n]];if((null===o||void 0===o?void 0:o.body.type)===t&&o.buffered){var a=o.body;if(a.start<=e&&e<=a.end)return a}}return null},t.detectEvictedFragments=function(e,t,i){var r=this;Object.keys(this.fragments).forEach(function(n){var o=r.fragments[n];if(o){if(!o.buffered)return void(o.body.type===i&&r.removeFragment(o.body));var a=o.range[e];a&&a.time.some(function(e){var i=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return i&&r.removeFragment(o.body),i})}})},t.detectPartialFragments=function(e){var t=this,i=this.timeRanges,r=e.frag,o=e.part;if(i&&"initSegment"!==r.sn){var a=n(r),s=this.fragments[a];s&&(Object.keys(i).forEach(function(e){var n=r.elementaryStreams[e];if(n){var a=i[e],u=null!==o||!0===n.partial;s.range[e]=t.getBufferedTimes(r,o,u,a)}}),s.backtrack=s.loaded=null,Object.keys(s.range).length?s.buffered=!0:this.removeFragment(s.body))}},t.fragBuffered=function(e){var t=n(e),i=this.fragments[t];i&&(i.backtrack=i.loaded=null,i.buffered=!0)},t.getBufferedTimes=function(e,t,i,r){for(var n={time:[],partial:i},o=t?t.start:e.start,a=t?t.end:e.end,s=e.minEndPTS||a,u=e.maxStartPTS||o,l=0;l<r.length;l++){var c=r.start(l)-this.bufferPadding,h=r.end(l)+this.bufferPadding;if(u>=c&&s<=h){n.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});break}if(o<h&&a>c)n.partial=!0,n.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});else if(a<=c)break}return n},t.getPartialFragment=function(e){var t,i,n,o=null,a=0,s=this.bufferPadding,u=this.fragments;return Object.keys(u).forEach(function(l){var c=u[l];c&&r(c)&&(i=c.body.start-s,n=c.body.end+s,e>=i&&e<=n&&(t=Math.min(e-i,n-e),a<=t&&(o=c.body,a=t)))}),o},t.getState=function(e){var t=n(e),i=this.fragments[t];return i?i.buffered?r(i)?o.PARTIAL:o.OK:i.backtrack?o.BACKTRACKED:o.APPENDING:o.NOT_LOADED},t.backtrack=function(e,t){var i=n(e),r=this.fragments[i];if(!r||r.backtrack)return null;var o=r.backtrack=t||r.loaded;return r.loaded=null,o},t.getBacktrackData=function(e){var t=n(e),i=this.fragments[t];if(i){var r,o=i.backtrack;if(null!==o&&void 0!==o&&null!==(r=o.payload)&&void 0!==r&&r.byteLength)return o;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,i){for(var r,n,o=0;o<i.length;o++){if(r=i.start(o)-this.bufferPadding,n=i.end(o)+this.bufferPadding,e>=r&&t<=n)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var i=t.frag,r=t.part;if("initSegment"!==i.sn&&!i.bitrateTest&&!r){var o=n(i);this.fragments[o]={body:i,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var i=this,r=t.frag,n=t.part,o=t.timeRanges;if(r.type===s.PlaylistLevelType.MAIN)if(this.activeFragment=r,n){var a=this.activeParts;a||(this.activeParts=a=[]),a.push(n)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach(function(e){var t=o[e];if(i.detectEvictedFragments(e,t),!n)for(var a=0;a<t.length;a++)r.appendedPTS=Math.max(t.end(a),r.appendedPTS||0)})},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=n(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,i){var r=this;Object.keys(this.fragments).forEach(function(n){var o=r.fragments[n];if(o&&o.buffered){var a=o.body;a.type===i&&a.start<t&&a.end>e&&r.removeFragment(a)}})},t.removeFragment=function(e){var t=n(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}()},"./src/controller/gap-controller.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"STALL_MINIMUM_DURATION_MS",function(){return s}),i.d(t,"MAX_START_GAP_JUMP",function(){return u}),i.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return l}),i.d(t,"SKIP_BUFFER_RANGE_START",function(){return c}),i.d(t,"default",function(){return h});var r=i("./src/utils/buffer-helper.ts"),n=i("./src/errors.ts"),o=i("./src/events.ts"),a=i("./src/utils/logger.ts"),s=250,u=2,l=.1,c=.05,h=function(){function e(e,t,i,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=i,this.hls=r}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,i=this.media,n=this.stalled,o=i.currentTime,l=i.seeking,c=this.seeking&&!l,h=!this.seeking&&l;if(this.seeking=l,o===e){if((h||c)&&(this.stalled=null),!i.paused&&!i.ended&&0!==i.playbackRate&&r.BufferHelper.getBuffered(i).length){var d=r.BufferHelper.bufferInfo(i,o,0),f=d.len>0,p=d.nextStart||0;if(f||p){if(l){var A=d.len>u,g=!p||p-o>u&&!this.fragmentTracker.getPartialFragment(o);if(A||g)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var m,y=Math.max(p,d.start||0)-o,v=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(null===v||void 0===v?void 0:null===(m=v.details)||void 0===m?void 0:m.live)?2*v.details.targetduration:u;if(y>0&&y<=E)return void this._trySkipBufferHole(null)}var w=self.performance.now();if(null===n)return void(this.stalled=w);var b=w-n;!l&&b>=s&&this._reportStall(d.len);var C=r.BufferHelper.bufferInfo(i,o,t.maxBufferHole);this._tryFixBufferStall(C,b)}}}else if(this.moved=!0,null!==n){if(this.stallReported){var I=self.performance.now()-n;a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(I)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var i=this.config,r=this.fragmentTracker,n=this.media.currentTime,o=r.getPartialFragment(n);o&&this._trySkipBufferHole(o)||e.len>i.maxBufferHole&&t>1e3*i.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,i=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+i.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(o.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,i=this.hls,s=this.media,u=s.currentTime,h=0,d=r.BufferHelper.getBuffered(s),f=0;f<d.length;f++){var p=d.start(f);if(u+t.maxBufferHole>=h&&u<p){var A=Math.max(p+c,s.currentTime+l);return a.logger.warn("skipping hole, adjusting currentTime from "+u+" to "+A),this.moved=!0,this.stalled=null,s.currentTime=A,e&&i.trigger(o.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+u+" to "+A,frag:e}),A}h=d.end(f)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,i=this.media,r=this.nudgeRetry,s=i.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){var u=s+(r+1)*e.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+s+" to "+u),i.currentTime=u,t.trigger(o.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+s+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(o.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./src/controller/id3-track-controller.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/events.ts"),n=i("./src/utils/texttrack-utils.ts"),o=i("./src/demux/id3.ts"),a=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(n.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var i=e[t];if("metadata"===i.kind&&"id3"===i.label)return Object(n.sendAddTrackEvent)(i,this.media),i}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var i=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,a=0;a<r.length;a++){var s=o.getID3Frames(r[a].data);if(s){var u=r[a].pts,l=a<r.length-1?r[a+1].pts:i.end;l-u<=0&&(l=u+.25);for(var c=0;c<s.length;c++){var h=s[c];if(!o.isTimeStampFrame(h)){var d=new n(u,l,"");d.value=h,this.id3Track.addCue(d)}}}}}},t.onBufferFlushing=function(e,t){var i=t.startOffset,r=t.endOffset,o=t.type;if(!o||"audio"===o){var a=this.id3Track;a&&Object(n.removeCuesInRange)(a,i,r)}},e}();t.default=a},"./src/controller/latency-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t),i.d(t,"default",function(){return s});var n=i("./src/errors.ts"),o=i("./src/events.ts"),a=i("./src/utils/logger.ts"),s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},t.registerListeners=function(){this.hls.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(o.Events.ERROR,this.onError,this)},t.unregisterListeners=function(){this.hls.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(o.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(o.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(o.Events.ERROR,this.onError)},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},t.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},t.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},t.onLevelUpdated=function(e,t){var i=t.details;this.levelDetails=i,i.advanced&&this.timeupdate(),!i.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},t.onError=function(e,t){t.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,a.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},t.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var i=this.computeLatency();if(null!==i){this._latency=i;var r=this.config,n=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(n&&1!==o){var a=this.targetLatency;if(null!==a){var s=i-a,u=s<Math.min(this.maxLatency,a+t.targetduration);if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,o)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(l,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},t.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},t.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,i=e.partHoldBack,r=e.targetduration,n=this.config,o=n.liveSyncDuration,a=n.liveSyncDurationCount,s=n.lowLatencyMode,u=this.hls.userConfig,l=s&&i||t;(u.liveSyncDuration||u.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:a*r);var c=r;return l+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,i=this.levelDetails;if(null===e||null===t||null===i)return null;var r=i.edge,n=e-t-this.edgeStalled,o=r-i.totalduration,a=r-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o,n),a)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}}]),e}()},"./src/controller/level-controller.ts":function(e,t,i){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t),i.d(t,"default",function(){return p});var a=i("./src/types/level.ts"),s=i("./src/events.ts"),u=i("./src/errors.ts"),l=i("./src/utils/codecs.ts"),c=i("./src/controller/level-helper.ts"),h=i("./src/controller/base-playlist-controller.ts"),d=i("./src/types/loader.ts"),f=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){function t(t){var i;return(i=e.call(this,t,"[level-controller]")||this)._levels=[],i._firstLevel=-1,i._startLevel=void 0,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.onParsedComplete=void 0,i._registerListeners(),i}o(t,e);var i=t.prototype;return i._registerListeners=function(){var e=this.hls;e.on(s.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(s.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(s.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(s.Events.ERROR,this.onError,this)},i._unregisterListeners=function(){var e=this.hls;e.off(s.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(s.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(s.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(s.Events.ERROR,this.onError,this)},i.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},i.startLoad=function(){this._levels.forEach(function(e){e.loadError=0}),e.prototype.startLoad.call(this)},i.onManifestLoaded=function(e,t){var i,r,n=[],o=[],h=[],d={},p=!1,A=!1,g=!1;if(t.levels.forEach(function(e){var t=e.attrs;p=p||!(!e.width||!e.height),A=A||!!e.videoCodec,g=g||!!e.audioCodec,f&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var i=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(r=d[i])?r.url.push(e.url):(r=new a.Level(e),d[i]=r,n.push(r)),t&&(t.AUDIO&&Object(c.addGroupId)(r,"audio",t.AUDIO),t.SUBTITLES&&Object(c.addGroupId)(r,"text",t.SUBTITLES))}),(p||A)&&g&&(n=n.filter(function(e){var t=e.videoCodec,i=e.width,r=e.height;return!!t||!(!i||!r)})),n=n.filter(function(e){var t=e.audioCodec,i=e.videoCodec;return(!t||Object(l.isCodecSupportedInMp4)(t,"audio"))&&(!i||Object(l.isCodecSupportedInMp4)(i,"video"))}),t.audioTracks&&(o=t.audioTracks.filter(function(e){return!e.audioCodec||Object(l.isCodecSupportedInMp4)(e.audioCodec,"audio")}),Object(c.assignTrackIdsByGroup)(o)),t.subtitles&&(h=t.subtitles,Object(c.assignTrackIdsByGroup)(h)),n.length>0){i=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var m=0;m<n.length;m++)if(n[m].bitrate===i){this._firstLevel=m,this.log("manifest loaded, "+n.length+" level(s) found, first bitrate: "+i);break}var y=g&&!A,v={levels:n,audioTracks:o,subtitleTracks:h,firstLevel:this._firstLevel,stats:t.stats,audio:g,video:A,altAudio:!y&&o.some(function(e){return!!e.url})};this.hls.trigger(s.Events.MANIFEST_PARSED,v),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(s.Events.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},i.onError=function(t,i){if(e.prototype.onError.call(this,t,i),!i.fatal){var r=i.context,n=this._levels[this.currentLevelIndex];if(r&&(r.type===d.PlaylistContextType.AUDIO_TRACK&&n.audioGroupIds&&r.groupId===n.audioGroupIds[n.urlId]||r.type===d.PlaylistContextType.SUBTITLE_TRACK&&n.textGroupIds&&r.groupId===n.textGroupIds[n.urlId]))return void this.redundantFailover(this.currentLevelIndex);var o,a=!1,s=!0;switch(i.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:if(i.frag){var l=this._levels[i.frag.level];l?++l.fragmentError>this.hls.config.fragLoadingMaxRetry&&(o=i.frag.level):o=i.frag.level}break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(s=!1),o=r.level),a=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:o=i.level,a=!0}void 0!==o&&this.recoverLevel(i,o,a,s)}},i.recoverLevel=function(e,t,i,r){var n=e.details,o=this._levels[t];if(o.loadError++,i){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var a=o.url.length;if(a>1&&o.loadError<a)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(n+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},i.redundantFailover=function(e){var t=this._levels[e],i=t.url.length;if(i>1){var r=(t.urlId+1)%i;this.warn("Switching to redundant URL-id "+r),this._levels.forEach(function(e){e.urlId=r}),this.level=e}},i.onFragLoaded=function(e,t){var i=t.frag;if(void 0!==i&&i.type===d.PlaylistLevelType.MAIN){var r=this._levels[i.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},i.onLevelLoaded=function(e,t){var i,r,n=t.level,o=t.details,a=this._levels[n];if(!a)return this.warn("Invalid level index "+n),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(o.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(n,t,a.details)):null!==(i=t.deliveryDirectives)&&void 0!==i&&i.skip&&(o.deltaUpdateFailed=!0)},i.onAudioTrackSwitched=function(e,t){var i=this.hls.levels[this.currentLevelIndex];if(i&&i.audioGroupIds){for(var r=-1,n=this.hls.audioTracks[t.id].groupId,o=0;o<i.audioGroupIds.length;o++)if(i.audioGroupIds[o]===n){r=o;break}r!==i.urlId&&(i.urlId=r,this.startLoad())}},i.loadPlaylist=function(e){var t=this.currentLevelIndex,i=this._levels[t];if(this.canLoad&&i&&i.url.length>0){var r=i.urlId,n=i.url[r];if(e)try{n=e.addDirectives(n)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+n),this.clearTimer(),this.hls.trigger(s.Events.LEVEL_LOADING,{url:n,level:t,id:r,deliveryDirectives:e||null})}},i.removeLevel=function(e,t){var i=function(e,i){return i!==t},r=this._levels.filter(function(r,n){return n!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(i),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(i)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(i)),r.urlId=0,!0)}).map(function(e,t){var i=e.details;return null!==i&&void 0!==i&&i.fragments&&i.fragments.forEach(function(e){e.level=t}),e});this._levels=r,this.hls.trigger(s.Events.LEVELS_UPDATED,{levels:r})},function(e,t,i){t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,i=this._levels;if(0!==i.length&&(this.currentLevelIndex!==e||null===(t=i[e])||void 0===t||!t.details)){if(e<0||e>=i.length){var n=e<0;if(this.hls.trigger(s.Events.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:n,reason:"invalid level idx"}),n)return;e=Math.min(e,i.length-1)}this.clearTimer();var o=this.currentLevelIndex,a=i[o],l=i[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var c=r({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete c._urlId,this.hls.trigger(s.Events.LEVEL_SWITCHING,c);var h=l.details;if(!h||h.live){var d=this.switchParams(l.uri,null===a||void 0===a?void 0:a.details);this.loadPlaylist(d)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(h.default)},"./src/controller/level-helper.ts":function(e,t,i){"use strict";function r(e,t,i){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(i);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(i)}}function n(e){var t={};e.forEach(function(e){var i=e.groupId||"";e.id=t[i]=t[i]||0,t[i]++})}function o(e,t,i){a(e[t],e[i])}function a(e,t){var i=t.startPTS;if(Object(g.isFiniteNumber)(i)){var r,n=0;t.sn>e.sn?(n=i-e.start,r=e):(n=e.start-i,r=t),r.duration!==n&&(r.duration=n)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function s(e,t,i,r,n,o){r-i<=0&&(m.logger.warn("Fragment should have a positive duration",t),r=i+t.duration,o=n+t.duration);var s=i,u=r,l=t.startPTS,c=t.endPTS;if(Object(g.isFiniteNumber)(l)){var h=Math.abs(l-i);Object(g.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(h,t.deltaPTS):t.deltaPTS=h,s=Math.max(i,l),i=Math.min(i,l),n=Math.min(n,t.startDTS),u=Math.min(r,c),r=Math.max(r,c),o=Math.max(o,t.endDTS)}t.duration=r-i;var d=i-t.start;t.appendedPTS=r,t.start=t.startPTS=i,t.maxStartPTS=s,t.startDTS=n,t.endPTS=r,t.minEndPTS=u,t.endDTS=o;var f=t.sn;if(!e||f<e.startSN||f>e.endSN)return 0;var p,A=f-e.startSN,y=e.fragments;for(y[A]=t,p=A;p>0;p--)a(y[p],y[p-1]);for(p=A;p<y.length-1;p++)a(y[p],y[p+1]);return e.fragmentHint&&a(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,d}function u(e,t){for(var i=null,r=e.fragments,n=r.length-1;n>=0;n--){var o=r[n].initSegment;if(o){i=o;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var a,u=0;if(c(e,t,function(e,r){e.relurl&&(u=e.cc-r.cc),Object(g.isFiniteNumber)(e.startPTS)&&Object(g.isFiniteNumber)(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.appendedPTS=e.appendedPTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(a=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,r.urlId=e.urlId,e.initSegment&&(r.initSegment=e.initSegment,i=e.initSegment)}),i&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach(function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=i)||void 0===t?void 0:t.relurl)||(e.initSegment=i)}),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some(function(e){return!e}),t.deltaUpdateFailed)){m.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var d=t.skippedSegments;d--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var f=t.fragments;if(u){m.logger.warn("discontinuity sliding from playlist, take drift into account");for(var p=0;p<f.length;p++)f[p].cc+=u}t.skippedSegments&&(t.startCC=t.fragments[0].cc),l(e.partList,t.partList,function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats}),a?s(t,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS):h(e,t),f.length&&(t.totalduration=t.edge-f[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var A=t.advancedDateTime;if(t.advanced&&A){var y=t.edge;t.driftStart||(t.driftStartTime=A,t.driftStart=y),t.driftEndTime=A,t.driftEnd=y}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function l(e,t,i){if(e&&t)for(var r=0,n=0,o=e.length;n<=o;n++){var a=e[n],s=t[n+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?i(a,s):r--}}function c(e,t,i){for(var r=t.skippedSegments,n=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=n;l<=o;l++){var c=u[a+l],h=s[l];r&&!h&&l<r&&(h=t.fragments[l]=c),c&&h&&i(c,h)}}function h(e,t){var i=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;i<0||i>=r.length||d(t,r[i].start)}function d(e,t){if(t){for(var i=e.fragments,r=e.skippedSegments;r<i.length;r++)i[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function f(e,t){var i,r=1e3*e.levelTargetDuration,n=r/2,o=e.age,a=o>0&&o<3*r,s=t.loading.end-t.loading.start,u=e.availabilityDelay;if(!1===e.updated)if(a){var l=333*e.misses;i=Math.max(Math.min(n,2*s),l),e.availabilityDelay=(e.availabilityDelay||0)+i}else i=n;else a?(u=Math.min(u||r/2,o),e.availabilityDelay=u,i=u+r-o):i=r-s;return Math.round(i)}function p(e,t,i){if(!e||!e.details)return null;var r=e.details,n=r.fragments[t-r.startSN];return n||((n=r.fragmentHint)&&n.sn===t?n:t<r.startSN&&i&&i.sn===t?i:null)}function A(e,t,i){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var n=r.length;n--;){var o=r[n];if(o.index===i&&o.fragment.sn===t)return o}return null}i.r(t),i.d(t,"addGroupId",function(){return r}),i.d(t,"assignTrackIdsByGroup",function(){return n}),i.d(t,"updatePTS",function(){return o}),i.d(t,"updateFragPTSDTS",function(){return s}),i.d(t,"mergeDetails",function(){return u}),i.d(t,"mapPartIntersection",function(){return l}),i.d(t,"mapFragmentIntersection",function(){return c}),i.d(t,"adjustSliding",function(){return h}),i.d(t,"addSliding",function(){return d}),i.d(t,"computeReloadInterval",function(){return f}),i.d(t,"getFragmentWithSN",function(){return p}),i.d(t,"getPartWith",function(){return A});var g=i("./src/polyfills/number.ts"),m=i("./src/utils/logger.ts")},"./src/controller/stream-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t),i.d(t,"default",function(){return y});var o=i("./src/polyfills/number.ts"),a=i("./src/controller/base-stream-controller.ts"),s=i("./src/is-supported.ts"),u=i("./src/events.ts"),l=i("./src/utils/buffer-helper.ts"),c=i("./src/controller/fragment-tracker.ts"),h=i("./src/types/loader.ts"),d=i("./src/loader/fragment.ts"),f=i("./src/demux/transmuxer-interface.ts"),p=i("./src/types/transmuxer.ts"),A=i("./src/controller/gap-controller.ts"),g=i("./src/errors.ts"),m=i("./src/utils/logger.ts"),y=function(e){function t(t,i){var r;return(r=e.call(this,t,i,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n(t,e);var i=t.prototype;return i._registerListeners=function(){var e=this.hls;e.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(u.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(u.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(u.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(u.Events.ERROR,this.onError,this),e.on(u.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(u.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(u.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(u.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(u.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(u.Events.FRAG_BUFFERED,this.onFragBuffered,this)},i._unregisterListeners=function(){var e=this.hls;e.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(u.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(u.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(u.Events.ERROR,this.onError,this),e.off(u.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(u.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(u.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(u.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(u.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(u.Events.FRAG_BUFFERED,this.onFragBuffered,this)},i.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},i.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=i.startLevel;-1===r&&(i.config.testBandwidth?(r=0,this.bitrateTest=!0):r=i.nextAutoLevel),this.level=i.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=a.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=a.State.STOPPED},i.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},i.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_LEVEL:var e,t=this.levels,i=this.level,r=null===t||void 0===t?void 0:null===(e=t[i])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=a.State.IDLE;break}break;case a.State.FRAG_LOADING_WAITING_RETRY:var n,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(n=this.media)&&void 0!==n&&n.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=a.State.IDLE)}this.onTickEnd()},i.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},i.doTickIdle=function(){var e,t,i=this.hls,r=this.levelLastLoaded,n=this.levels,o=this.media,s=i.config,l=i.nextLoadLevel;if(null!==r&&(o||!this.startFragRequested&&s.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&n&&n[l]){var f=n[l];this.level=i.nextLoadLevel=l;var p=f.details;if(!p||this.state===a.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==l)return void(this.state=a.State.WAITING_LEVEL);var A=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:o,h.PlaylistLevelType.MAIN);if(null!==A&&!(A.len>=this.getMaxBufferLength(f.maxBitrate))){if(this._streamEnded(A,p)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(u.Events.BUFFER_EOS,g),void(this.state=a.State.ENDED)}var m=A.end,y=this.getNextFragment(m,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var v=y.sn-p.startSN;v>1&&(y=p.fragments[v-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===c.FragmentState.OK&&this.nextLoadPosition>m){var E=this.audioOnly&&!this.altAudio?d.ElementaryStreamTypes.AUDIO:d.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(o,E,h.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,m):this.loadKey(y,p))}}},i.loadFragment=function(t,i,r){var n,o=this.fragmentTracker.getState(t);if(this.fragCurrent=t,o===c.FragmentState.BACKTRACKED){var a=this.fragmentTracker.getBacktrackData(t);if(a)return this._handleFragmentLoadProgress(a),void this._handleFragmentLoadComplete(a);o=c.FragmentState.NOT_LOADED}o===c.FragmentState.NOT_LOADED||o===c.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,i,r)):o===c.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(n=this.media)||void 0===n?void 0:n.buffered.length)&&this.fragmentTracker.removeAllFragments()},i.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,h.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},i.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,h.PlaylistLevelType.MAIN)},i.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},i.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},i.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!==t&&void 0!==t&&t.readyState){var i,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var n=e[this.hls.nextLoadLevel],o=this.fragLastKbps;i=o&&this.fragCurrent?this.fragCurrent.duration*n.maxBitrate/(1e3*o)+1:0}else i=0;var a=this.getBufferedFrag(t.currentTime+i);if(a){var s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();var u=s.maxStartPTS?s.maxStartPTS:s.start,l=s.duration,c=Math.max(a.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,.5*l),.75*l));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},i.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,null!==e&&void 0!==e&&e.loader&&e.loader.abort(),this.state){case a.State.KEY_LOADING:case a.State.FRAG_LOADING:case a.State.FRAG_LOADING_WAITING_RETRY:case a.State.PARSING:case a.State.PARSED:case a.State.BACKTRACKING:this.state=a.State.IDLE}this.nextLoadPosition=this.getLoadPosition()},i.flushMainBuffer=function(t,i){e.prototype.flushMainBuffer.call(this,t,i,this.altAudio?"video":null)},i.onMediaAttached=function(t,i){e.prototype.onMediaAttached.call(this,t,i);var r=i.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new A.default(this.config,r,this.fragmentTracker,this.hls)},i.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},i.onMediaPlaying=function(){this.tick()},i.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(o.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},i.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(u.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},i.onManifestParsed=function(e,t){var i,r=!1,n=!1;t.levels.forEach(function(e){(i=e.audioCodec)&&(-1!==i.indexOf("mp4a.40.2")&&(r=!0),-1!==i.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=r&&n&&!Object(s.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},i.onLevelLoading=function(e,t){var i=this.levels;if(i&&this.state===a.State.IDLE){var r=i[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=a.State.WAITING_LEVEL)}},i.onLevelLoaded=function(e,t){var i,r=this.levels,n=t.level,o=t.details,s=o.totalduration;if(r){this.log("Level "+n+" loaded ["+o.startSN+","+o.endSN+"], cc ["+o.startCC+", "+o.endCC+"] duration:"+s);var l=this.fragCurrent;!l||this.state!==a.State.FRAG_LOADING&&this.state!==a.State.FRAG_LOADING_WAITING_RETRY||l.level!==t.level&&l.loader&&(this.state=a.State.IDLE,l.loader.abort());var c=r[n],h=0;if(o.live||null!==(i=c.details)&&void 0!==i&&i.live){if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed)return;h=this.alignPlaylists(o,c.details)}if(c.details=o,this.levelLastLoaded=n,this.hls.trigger(u.Events.LEVEL_UPDATED,{details:o,level:n}),this.state===a.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=a.State.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,h),this.tick()}else this.warn("Levels were reset while loading level "+n)},i._handleFragmentLoadProgress=function(e){var t,i=e.frag,r=e.part,n=e.payload,o=this.levels;if(o){var a=o[i.level],s=a.details;if(s){var u=a.videoCodec,l=s.PTSKnown||!s.live,c=null===(t=i.initSegment)||void 0===t?void 0:t.data,d=this._getAudioCodec(a),A=this.transmuxer=this.transmuxer||new f.default(this.hls,h.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=r?r.index:-1,m=-1!==g,y=new p.ChunkMetadata(i.level,i.sn,i.stats.chunkCount,n.byteLength,g,m),v=this.initPTS[i.cc];A.push(n,c,d,u,i,r,s.totalduration,l,y,v)}else this.warn("Dropping fragment "+i.sn+" of level "+i.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+i.sn+" of level "+i.level+" will not be buffered")},i.onAudioTrackSwitching=function(e,t){var i=this.altAudio,r=!!t.url,n=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;null!==o&&void 0!==o&&o.loader&&(this.log("Switching to main audio track, cancel main fragment load"),o.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var a=this.hls;i&&a.trigger(u.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(u.Events.AUDIO_TRACK_SWITCHED,{id:n})}},i.onAudioTrackSwitched=function(e,t){var i=t.id,r=!!this.hls.audioTracks[i].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},i.onBufferCreated=function(e,t){var i,r,n=t.tracks,o=!1;for(var a in n){var s=n[a];if("main"===s.id){if(r=a,i=s,"video"===a){var u=n[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&i?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},i.onFragBuffered=function(e,t){var i=t.frag,r=t.part;if(!i||i.type===h.PlaylistLevelType.MAIN){if(this.fragContextChanged(i))return this.warn("Fragment "+i.sn+(r?" p: "+r.index:"")+" of level "+i.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===a.State.PARSED&&(this.state=a.State.IDLE));var n=r?r.stats:i.stats;this.fragLastKbps=Math.round(8*n.total/(n.buffering.end-n.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,r)}},i.onError=function(e,t){switch(t.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:case g.ErrorDetails.KEY_LOAD_ERROR:case g.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(h.PlaylistLevelType.MAIN,t);break;case g.ErrorDetails.LEVEL_LOAD_ERROR:case g.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==a.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=a.State.ERROR):t.levelRetry||this.state!==a.State.WAITING_LEVEL||(this.state=a.State.IDLE));break;case g.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var i=!0,r=this.getFwdBufferInfo(this.media,h.PlaylistLevelType.MAIN);r&&r.len>.5&&(i=!this.reduceMaxBufferLength(r.len)),i&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},i.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var i=l.BufferHelper.getBuffered(e);!this.loadedmetadata&&i.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},i.onFragLoadEmergencyAborted=function(){this.state=a.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},i.onBufferFlushed=function(e,t){var i=t.type;if(i!==d.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var r=(i===d.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,i,h.PlaylistLevelType.MAIN)}},i.onLevelsUpdated=function(e,t){this.levels=t.levels},i.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},i.seekToStartPos=function(){var e=this.media,t=e.currentTime,i=this.startPosition;if(i>=0&&t<i){if(e.seeking)return void m.logger.log("could not seek to "+i+", already seeking at "+t);var r=l.BufferHelper.getBuffered(e),n=(r.length?r.start(0):0)-i;n>0&&(n<this.config.maxBufferHole||n<this.config.maxFragLookUpTolerance)&&(m.logger.log("adjusting start position by "+n+" to match buffer start"),i+=n,this.startPosition=i),this.log("seek to target start position "+i+" from current time "+t),e.currentTime=i}},i._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},i._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then(function(i){var r=t.hls;if(i&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=a.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var n=e.stats;n.parsing.start=n.parsing.end=n.buffering.start=n.buffering.end=self.performance.now(),r.trigger(u.Events.FRAG_LOADED,i)}})},i._handleTransmuxComplete=function(e){var t,i="main",r=this.hls,n=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var c=l.frag,h=l.part,f=l.level,p=n.video,A=n.text,g=n.id3,m=n.initSegment,y=this.altAudio?void 0:n.audio;if(!this.fragContextChanged(c)){if(this.state=a.State.PARSING,m){m.tracks&&(this._bufferInitSegment(f,m.tracks,c,s),r.trigger(u.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:i,tracks:m.tracks}));var v=m.initPTS,E=m.timescale;Object(o.isFiniteNumber)(v)&&(this.initPTS[c.cc]=v,r.trigger(u.Events.INIT_PTS_FOUND,{frag:c,id:i,initPTS:v,timescale:E}))}if(p&&!1!==n.independent){if(f.details){var w=p.startPTS,b=p.endPTS,C=p.startDTS,I=p.endDTS;if(h)h.elementaryStreams[p.type]={startPTS:w,endPTS:b,startDTS:C,endDTS:I};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){if(this.getLoadPosition()+this.config.maxBufferHole<w)return void this.backtrack(c);c.setElementaryStreamInfo(p.type,c.start,b,c.start,I,!0)}c.setElementaryStreamInfo(p.type,w,b,C,I),this.bufferFragmentData(p,c,h,s)}}else if(!1===n.independent)return void this.backtrack(c);if(y){var S=y.startPTS,M=y.endPTS,k=y.startDTS,T=y.endDTS;h&&(h.elementaryStreams[d.ElementaryStreamTypes.AUDIO]={startPTS:S,endPTS:M,startDTS:k,endDTS:T}),c.setElementaryStreamInfo(d.ElementaryStreamTypes.AUDIO,S,M,k,T),this.bufferFragmentData(y,c,h,s)}if(null!==g&&void 0!==g&&null!==(t=g.samples)&&void 0!==t&&t.length){var D={frag:c,id:i,samples:g.samples};r.trigger(u.Events.FRAG_PARSING_METADATA,D)}if(A){var B={frag:c,id:i,samples:A.samples};r.trigger(u.Events.FRAG_PARSING_USERDATA,B)}}},i._bufferInitSegment=function(e,t,i,r){var n=this;if(this.state===a.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var o=t.audio,s=t.video,l=t.audiovideo;if(o){var c=e.audioCodec,h=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===h.indexOf("firefox")&&(c="mp4a.40.5")),-1!==h.indexOf("android")&&"audio/mpeg"!==o.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),o.levelCodec=c,o.id="main",this.log("Init audio buffer, container:"+o.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+o.codec+"]")}s&&(s.levelCodec=e.videoCodec,s.id="main",this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+s.codec+"]")),l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+l.codec+"]"),this.hls.trigger(u.Events.BUFFER_CODECS,t),Object.keys(t).forEach(function(e){var o=t[e].initSegment;null!==o&&void 0!==o&&o.byteLength&&n.hls.trigger(u.Events.BUFFER_APPENDING,{type:e,data:o,frag:i,part:null,chunkMeta:r,parent:i.type})}),this.tick()}},i.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=a.State.BACKTRACKING},i.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var i=e.currentTime;if(l.BufferHelper.isBuffered(e,i)?t=this.getAppendedFrag(i):l.BufferHelper.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){var r=this.fragPlaying,n=t.level;r&&t.sn===r.sn&&r.level===n&&t.urlId===r.urlId||(this.hls.trigger(u.Events.FRAG_CHANGED,{frag:t}),r&&r.level===n||this.hls.trigger(u.Events.LEVEL_SWITCHED,{level:n}),this.fragPlaying=t)}}},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),t}(a.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t),i.d(t,"SubtitleStreamController",function(){return p});var o=i("./src/events.ts"),a=i("./src/utils/buffer-helper.ts"),s=i("./src/controller/fragment-finders.ts"),u=i("./src/utils/discontinuities.ts"),l=i("./src/controller/level-helper.ts"),c=i("./src/controller/fragment-tracker.ts"),h=i("./src/controller/base-stream-controller.ts"),d=i("./src/types/loader.ts"),f=i("./src/types/level.ts"),p=function(e){function t(t,i){var r;return(r=e.call(this,t,i,"[subtitle-stream-controller]")||this).levels=[],r.currentTrackId=-1,r.tracksBuffered=[],r.mainDetails=null,r._registerListeners(),r}n(t,e);var i=t.prototype;return i.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},i._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(o.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(o.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(o.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},i._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(o.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(o.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(o.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},i.startLoad=function(){this.stopLoad(),this.state=h.State.IDLE,this.setInterval(500),this.tick()},i.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},i.onLevelLoaded=function(e,t){this.mainDetails=t.details},i.onSubtitleFragProcessed=function(e,t){var i=t.frag,r=t.success;if(this.fragPrevious=i,this.state=h.State.IDLE,r){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var o,a=i.start,s=0;s<n.length;s++)if(a>=n[s].start&&a<=n[s].end){o=n[s];break}var u=i.start+i.duration;o?o.end=u:(o={start:a,end:u},n.push(o)),this.fragmentTracker.fragBuffered(i)}}},i.onBufferFlushing=function(e,t){var i=t.startOffset,r=t.endOffset;if(0===i&&r!==Number.POSITIVE_INFINITY){var n=this.currentTrackId,o=this.levels;if(!o.length||!o[n]||!o[n].details)return;var a=r-o[n].details.targetduration;if(a<=0)return;t.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(function(e){for(var t=0;t<e.length;)if(e[t].end<=a)e.shift();else{if(!(e[t].start<a))break;e[t].start=a,t++}}),this.fragmentTracker.removeFragmentsInRange(i,a,d.PlaylistLevelType.SUBTITLE)}},i.onError=function(e,t){var i,r=t.frag;r&&r.type===d.PlaylistLevelType.SUBTITLE&&(null!==(i=this.fragCurrent)&&void 0!==i&&i.loader&&this.fragCurrent.loader.abort(),this.state=h.State.IDLE)},i.onSubtitleTracksUpdated=function(e,t){var i=this,r=t.subtitleTracks;this.tracksBuffered=[],this.levels=r.map(function(e){return new f.Level(e)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(e){i.tracksBuffered[e.id]=[]}),this.mediaBuffer=null},i.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var i=this.levels[this.currentTrackId];null!==i&&void 0!==i&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(500)}else this.clearInterval()},i.onSubtitleTrackLoaded=function(e,t){var i,r=t.details,n=t.id,o=this.currentTrackId,a=this.levels;if(a.length){var c=a[o];if(!(n>=a.length||n!==o)&&c){if(this.mediaBuffer=this.mediaBufferTimeRanges,r.live||null!==(i=c.details)&&void 0!==i&&i.live){var d=this.mainDetails;if(r.deltaUpdateFailed||!d)return;var f=d.fragments[0];c.details?0===this.alignPlaylists(r,c.details)&&f&&Object(l.addSliding)(r,f.start):r.hasProgramDateTime&&d.hasProgramDateTime?Object(u.alignMediaPlaylistByPDT)(r,d):f&&Object(l.addSliding)(r,f.start)}c.details=r,this.levelLastLoaded=n,this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===h.State.IDLE&&(Object(s.findFragmentByPTS)(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0))}}},i._handleFragmentLoadComplete=function(e){var t=e.frag,i=e.payload,r=t.decryptdata,n=this.hls;if(!this.fragContextChanged(t)&&i&&i.byteLength>0&&r&&r.key&&r.iv&&"AES-128"===r.method){var a=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer).then(function(e){var i=performance.now();n.trigger(o.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:a,tdecrypt:i}})})}},i.doTick=function(){if(this.media){if(this.state===h.State.IDLE){var e,t=this.currentTrackId,i=this.levels;if(!i.length||!i[t]||!i[t].details)return;var r=i[t].details,n=r.targetduration,o=this.config,u=this.media,l=a.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,u.currentTime-n,o.maxBufferHole),d=l.end;if(l.len>this.getMaxBufferLength()+n)return;console.assert(r,"Subtitle track details are defined on idle subtitle stream controller tick");var f,p=r.fragments,A=p.length,g=r.edge,m=this.fragPrevious;if(d<g){var y=o.maxFragLookUpTolerance;!(f=Object(s.findFragmentByPTS)(m,p,Math.max(p[0].start,d),y))&&m&&m.start<p[0].start&&(f=p[0])}else f=p[A-1];null!==(e=f)&&void 0!==e&&e.encrypted?this.loadKey(f,r):f&&this.fragmentTracker.getState(f)===c.FragmentState.NOT_LOADED&&this.loadFragment(f,r,d)}}else this.state=h.State.IDLE},i.loadFragment=function(t,i,r){this.fragCurrent=t,e.prototype.loadFragment.call(this,t,i,r)},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}]),t}(h.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function o(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];"subtitles"===r.kind&&r.label&&t.push(e[i])}return t}i.r(t);var a=i("./src/events.ts"),s=i("./src/utils/texttrack-utils.ts"),u=i("./src/controller/base-playlist-controller.ts"),l=i("./src/types/loader.ts"),c=function(e){function t(t){var i;return(i=e.call(this,t,"[subtitle-track-controller]")||this).media=null,i.tracks=[],i.groupId=null,i.tracksInGroup=[],i.trackId=-1,i.selectDefaultTrack=!0,i.queuedDefaultTrack=-1,i.trackChangeListener=function(){return i.onTextTracksChanged()},i.asyncPollTrackChange=function(){return i.pollTrackChange(0)},i.useTextTrackPolling=!1,i.subtitlePollingInterval=-1,i.subtitleDisplay=!0,i.registerListeners(),i}n(t,e);var i=t.prototype;return i.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},i.registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(a.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(a.Events.ERROR,this.onError,this)},i.unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(a.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(a.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(a.Events.ERROR,this.onError,this)},i.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},i.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},i.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),o(this.media.textTracks).forEach(function(e){Object(s.clearCurrentCues)(e)}),this.subtitleTrack=-1,this.media=null)},i.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},i.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},i.onSubtitleTrackLoaded=function(e,t){var i=t.id,r=t.details,n=this.trackId,o=this.tracksInGroup[n];if(o){var a=o.details;o.details=t.details,this.log("subtitle track "+i+" loaded ["+r.startSN+"-"+r.endSN+"]"),i===this.trackId&&(this.retryCount=0,this.playlistLoaded(i,t,a))}else this.warn("Invalid subtitle track id "+i)},i.onLevelLoading=function(e,t){this.switchLevel(t.level)},i.onLevelSwitching=function(e,t){this.switchLevel(t.level)},i.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.textGroupIds){var i=t.textGroupIds[t.urlId];if(this.groupId!==i){var r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,n=this.tracks.filter(function(e){return!i||e.groupId===i});this.tracksInGroup=n;var o=this.findTrackId(null===r||void 0===r?void 0:r.name)||this.findTrackId();this.groupId=i;var s={subtitleTracks:n};this.log("Updating subtitle tracks, "+n.length+' track(s) found in "'+i+'" group-id'),this.hls.trigger(a.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==o&&this.setSubtitleTrack(o,r)}}},i.findTrackId=function(e){for(var t=this.tracksInGroup,i=0;i<t.length;i++){var r=t[i];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},i.onError=function(t,i){e.prototype.onError.call(this,t,i),!i.fatal&&i.context&&i.context.type===l.PlaylistContextType.SUBTITLE_TRACK&&i.context.id===this.trackId&&i.context.groupId===this.groupId&&this.retryLoadingOrFail(i)},i.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var i=t.id,r=t.groupId,n=t.url;if(e)try{n=e.addDirectives(n)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+i),this.hls.trigger(a.Events.SUBTITLE_TRACK_LOADING,{url:n,id:i,groupId:r,deliveryDirectives:e||null})}},i.toggleTrackModes=function(e){var t=this,i=this.media,r=this.subtitleDisplay,n=this.trackId;if(i){var a=o(i.textTracks),s=a.filter(function(e){return e.groupId===t.groupId});if(-1===e)[].slice.call(a).forEach(function(e){e.mode="disabled"});else{var u=s[n];u&&(u.mode="disabled")}var l=s[e];l&&(l.mode=r?"showing":"hidden")}},i.setSubtitleTrack=function(e,t){var i,r=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(i=r[e])&&void 0!==i&&i.details)||e<-1||e>=r.length)){this.clearTimer();var n=r[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,n){var o=n.id,s=n.groupId,u=void 0===s?"":s,l=n.name,c=n.type,h=n.url;this.hls.trigger(a.Events.SUBTITLE_TRACK_SWITCH,{id:o,groupId:u,name:l,type:c,url:h});var d=this.switchParams(n.url,null===t||void 0===t?void 0:t.details);this.loadPlaylist(d)}else this.hls.trigger(a.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},i.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=o(this.media.textTracks),i=0;i<t.length;i++)if("hidden"===t[i].mode)e=i;else if("showing"===t[i].mode){e=i;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}]),t}(u.default);t.default=c},"./src/controller/timeline-controller.ts":function(e,t,i){"use strict";function r(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function n(e,t,i,r){return Math.min(t,r)-Math.max(e,i)}i.r(t),i.d(t,"TimelineController",function(){return p});var o=i("./src/polyfills/number.ts"),a=i("./src/events.ts"),s=i("./src/utils/cea-608-parser.ts"),u=i("./src/utils/output-filter.ts"),l=i("./src/utils/webvtt-parser.ts"),c=i("./src/utils/texttrack-utils.ts"),h=i("./src/utils/imsc1-ttml-parser.ts"),d=i("./src/types/loader.ts"),f=i("./src/utils/logger.ts"),p=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new u.default(this,"textTrack1"),i=new u.default(this,"textTrack2"),r=new u.default(this,"textTrack3"),n=new u.default(this,"textTrack4");this.cea608Parser1=new s.default(1,t,i),this.cea608Parser2=new s.default(3,r,n)}e.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(a.Events.FRAG_LOADING,this.onFragLoading,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(a.Events.FRAG_LOADING,this.onFragLoading,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,i,r,o){for(var s=!1,u=o.length;u--;){var l=o[u],c=n(l[0],l[1],t,i);if(c>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],i),s=!0,c/(i-t)>.5))return}if(s||o.push([t,i]),this.config.renderTextTracksNatively){var h=this.captionsTracks[e];this.Cues.newCue(h,t,i,r)}else{var d=this.Cues.newCue(null,t,i,r);this.hls.trigger(a.Events.CUES_PARSED,{type:"captions",cues:d,track:e})}},t.onInitPtsFound=function(e,t){var i=this,r=t.frag,n=t.id,o=t.initPTS,s=t.timescale,u=this.unparsedVttFrags;"main"===n&&(this.initPTS[r.cc]=o,this.timescale[r.cc]=s),u.length&&(this.unparsedVttFrags=[],u.forEach(function(e){i.onFragLoaded(a.Events.FRAG_LOADED,e)}))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var i=0;i<t.textTracks.length;i++){var r=t.textTracks[i];if(r[e])return r}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,i=this.captionsTracks,r=this.media,n=t[e],o=n.label,a=n.languageCode,s=this.getExistingTrack(e);if(s)i[e]=s,Object(c.clearCurrentCues)(i[e]),Object(c.sendAddTrackEvent)(i[e],r);else{var u=this.createTextTrack("captions",o,a);u&&(u[e]=!0,i[e]=u)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var i={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}}},t.createTextTrack=function(e,t,i){var r=this.media;if(r)return r.addTextTrack(e,t,i)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){Object(c.clearCurrentCues)(e[t]),delete e[t]}),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var i=0;i<t.length;i++)Object(c.clearCurrentCues)(t[i])}},t.onSubtitleTracksUpdated=function(e,t){var i=this;this.textTracks=[];var n=t.subtitleTracks||[],o=n.some(function(e){return e.textCodec===h.IMSC1_CODEC});if(this.config.enableWebVTT||o&&this.config.enableIMSC1){var s=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var u=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,t){var n;if(t<u.length){for(var o=null,a=0;a<u.length;a++)if(r(u[a],e)){o=u[a];break}o&&(n=o)}n?Object(c.clearCurrentCues)(n):(n=i.createTextTrack("subtitles",e.name,e.lang))&&(n.mode="disabled"),n&&(n.groupId=e.groupId,i.textTracks.push(n))})}else if(!s&&this.tracks&&this.tracks.length){var l=this.tracks.map(function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}});this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}},t.onManifestLoaded=function(e,t){var i=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack"+t[1],n=i.captionsProperties[r];n&&(n.label=e.name,e.lang&&(n.languageCode=e.lang),n.media=e)}})},t.onFragLoading=function(e,t){var i=this.cea608Parser1,r=this.cea608Parser2,n=this.lastSn,o=this.lastPartIndex;if(this.enabled&&i&&r&&t.frag.type===d.PlaylistLevelType.MAIN){var a,s,u=t.frag.sn,l=null!=(a=null===t||void 0===t?void 0:null===(s=t.part)||void 0===s?void 0:s.index)?a:-1;u===n+1||u===n&&l===o+1||(i.reset(),r.reset()),this.lastSn=u,this.lastPartIndex=l}},t.onFragLoaded=function(e,t){var i=t.frag,r=t.payload,n=this.initPTS,s=this.unparsedVttFrags;if(i.type===d.PlaylistLevelType.SUBTITLE)if(r.byteLength){if(!Object(o.isFiniteNumber)(n[i.cc]))return s.push(t),void(n.length&&this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Missing initial subtitle PTS")}));var u=i.decryptdata,l="stats"in t;if(null==u||null==u.key||"AES-128"!==u.method||l){var c=this.tracks[i.level],f=this.vttCCs;f[i.cc]||(f[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),c&&c.textCodec===h.IMSC1_CODEC?this._parseIMSC1(i,r):this._parseVTTs(i,r,f)}}else this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var i=this,r=this.hls;Object(h.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],function(t){i._appendCues(t,e.level),r.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){f.logger.log("Failed to parse IMSC1: "+t),r.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})})},t._parseVTTs=function(e,t,i){var r=this,n=this.hls;Object(l.parseWebVTT)(t,this.initPTS[e.cc],this.timescale[e.cc],i,e.cc,e.start,function(t){r._appendCues(t,e.level),n.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(i){r._fallbackToIMSC1(e,t),f.logger.log("Failed to parse VTT cue: "+i),n.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})},t._fallbackToIMSC1=function(e,t){var i=this,r=this.tracks[e.level];r.textCodec||Object(h.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],function(){r.textCodec=h.IMSC1_CODEC,i._parseIMSC1(e,t)},function(){r.textCodec="wvtt"})},t._appendCues=function(e,t){var i=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if("disabled"===r.mode)return;e.forEach(function(e){return Object(c.addCueToTrack)(r,e)})}else{var n=this.tracks[t].default?"default":"subtitles"+t;i.trigger(a.Events.CUES_PARSED,{type:"subtitles",cues:e,track:n})}},t.onFragDecrypted=function(e,t){var i=t.frag;if(i.type===d.PlaylistLevelType.SUBTITLE){if(!Object(o.isFiniteNumber)(this.initPTS[i.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(a.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var i=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&i&&r)for(var n=0;n<t.samples.length;n++){var o=t.samples[n].bytes;if(o){var a=this.extractCea608Data(o);i.addData(t.samples[n].pts,a[0]),r.addData(t.samples[n].pts,a[1])}}},t.onBufferFlushing=function(e,t){var i=t.startOffset,r=t.endOffset,n=t.endOffsetSubtitles,o=t.type,a=this.media;if(a&&!(a.currentTime<r)){if(!o||"video"===o){var s=this.captionsTracks;Object.keys(s).forEach(function(e){return Object(c.removeCuesInRange)(s[e],i,r)})}if(this.config.renderTextTracksNatively&&0===i&&void 0!==n){var u=this.textTracks;Object.keys(u).forEach(function(e){return Object(c.removeCuesInRange)(u[e],i,n)})}}},t.extractCea608Data=function(e){for(var t=[[],[]],i=31&e[0],r=2,n=0;n<i;n++){var o=e[r++],a=127&e[r++],s=127&e[r++];if((0!==a||0!==s)&&0!=(4&o)){var u=3&o;0!==u&&1!==u||(t[u].push(a),t[u].push(s))}}return t},e}()},"./src/crypt/aes-crypto.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,i){"use strict";function r(e){var t=e.byteLength,i=t&&new DataView(e.buffer).getUint8(t-1);return i?Object(n.sliceUint8)(e,0,t-i):e}i.r(t),i.d(t,"removePadding",function(){return r}),i.d(t,"default",function(){return o});var n=i("./src/utils/typed-array.ts"),o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),i=new Uint32Array(4),r=0;r<4;r++)i[r]=t.getUint32(4*r);return i},t.initTable=function(){var e=this.sBox,t=this.invSBox,i=this.subMix,r=i[0],n=i[1],o=i[2],a=i[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],h=s[3],d=new Uint32Array(256),f=0,p=0,A=0;for(A=0;A<256;A++)d[A]=A<128?A<<1:A<<1^283;for(A=0;A<256;A++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[f]=g,t[g]=f;var m=d[f],y=d[m],v=d[y],E=257*d[g]^16843008*g;r[f]=E<<24|E>>>8,n[f]=E<<16|E>>>16,o[f]=E<<8|E>>>24,a[f]=E,E=16843009*v^65537*y^257*m^16843008*f,u[g]=E<<24|E>>>8,l[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,h[g]=E,f?(f=m^d[d[d[v^m]]],p^=d[d[p]]):f=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),i=!0,r=0;r<t.length&&i;)i=t[r]===this.key[r],r++;if(!i){this.key=t;var n=this.keySize=t.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var o,a,s,u,l=this.ksRows=4*(n+6+1),c=this.keySchedule=new Uint32Array(l),h=this.invKeySchedule=new Uint32Array(l),d=this.sBox,f=this.rcon,p=this.invSubMix,A=p[0],g=p[1],m=p[2],y=p[3];for(o=0;o<l;o++)o<n?s=c[o]=t[o]:(u=s,o%n==0?(u=d[(u=u<<8|u>>>24)>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u],u^=f[o/n|0]<<24):n>6&&o%n==4&&(u=d[u>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u]),c[o]=s=(c[o-n]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],h[a]=a<4||o<=4?u:A[d[u>>>24]]^g[d[u>>>16&255]]^m[d[u>>>8&255]]^y[d[255&u]],h[a]=h[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,i){for(var r,n,o,a,s,u,l,c,h,d,f,p,A,g,m=this.keySize+6,y=this.invKeySchedule,v=this.invSBox,E=this.invSubMix,w=E[0],b=E[1],C=E[2],I=E[3],S=this.uint8ArrayToUint32Array_(i),M=S[0],k=S[1],T=S[2],D=S[3],B=new Int32Array(e),R=new Int32Array(B.length),Q=this.networkToHostOrderSwap;t<B.length;){for(h=Q(B[t]),d=Q(B[t+1]),f=Q(B[t+2]),p=Q(B[t+3]),s=h^y[0],u=p^y[1],l=f^y[2],c=d^y[3],A=4,g=1;g<m;g++)r=w[s>>>24]^b[u>>16&255]^C[l>>8&255]^I[255&c]^y[A],n=w[u>>>24]^b[l>>16&255]^C[c>>8&255]^I[255&s]^y[A+1],o=w[l>>>24]^b[c>>16&255]^C[s>>8&255]^I[255&u]^y[A+2],a=w[c>>>24]^b[s>>16&255]^C[u>>8&255]^I[255&l]^y[A+3],s=r,u=n,l=o,c=a,A+=4;r=v[s>>>24]<<24^v[u>>16&255]<<16^v[l>>8&255]<<8^v[255&c]^y[A],n=v[u>>>24]<<24^v[l>>16&255]<<16^v[c>>8&255]<<8^v[255&s]^y[A+1],o=v[l>>>24]<<24^v[c>>16&255]<<16^v[s>>8&255]<<8^v[255&u]^y[A+2],a=v[c>>>24]<<24^v[s>>16&255]<<16^v[u>>8&255]<<8^v[255&l]^y[A+3],R[t]=Q(r^M),R[t+1]=Q(a^k),R[t+2]=Q(o^T),R[t+3]=Q(n^D),M=h,k=d,T=f,D=p,t+=4}return R.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return l});var r=i("./src/crypt/aes-crypto.ts"),n=i("./src/crypt/fast-aes-key.ts"),o=i("./src/crypt/aes-decryptor.ts"),a=i("./src/utils/logger.ts"),s=i("./src/utils/mp4-tools.ts"),u=i("./src/utils/typed-array.ts"),l=function(){function e(e,t,i){var r=(void 0===i?{}:i).removePKCS7Padding,n=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=n,n)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(o.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,i,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,i);var n=this.flush();n&&r(n.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,i).then(r)},t.softwareDecrypt=function(e,t,i){var r=this.currentIV,n=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Object(s.appendUint8Array)(a,e),this.remainderData=null);var l=this.getValidChunk(e);if(!l.length)return null;r&&(i=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new o.default),c.expandKey(t);var h=n;return this.currentResult=c.decrypt(l.buffer,0,i),this.currentIV=Object(u.sliceUint8)(l,-16).buffer,h||null},t.webCryptoDecrypt=function(e,t,i){var o=this,a=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new n.default(a,t)),this.fastAesKey.expandKey().then(function(t){return a?new r.default(a,i).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))}).catch(function(r){return o.onWebCryptoError(r,e,t,i)})},t.onWebCryptoError=function(e,t,i,r){return a.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,i,r)},t.getValidChunk=function(e){var t=e,i=e.length-e.length%16;return i!==e.length&&(t=Object(u.sliceUint8)(e,0,i),this.remainderData=Object(u.sliceUint8)(e,i)),t},t.logOnce=function(e){this.logEnabled&&(a.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var r=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,i){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t);var n=i("./src/demux/base-audio-demuxer.ts"),o=i("./src/demux/adts.ts"),a=i("./src/utils/logger.ts"),s=i("./src/demux/id3.ts"),u=function(e){function t(t,i){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=i,r}r(t,e);var i=t.prototype;return i.resetInitSegment=function(t,i,r,n){e.prototype.resetInitSegment.call(this,t,i,r,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:i,duration:n,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;for(var t=(s.getID3Data(e,0)||[]).length,i=e.length;t<i;t++)if(o.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},i.canParse=function(e,t){return o.canParse(e,t)},i.appendFrame=function(e,t,i){o.initTrackConfig(e,this.observer,t,i,e.manifestCodec);var r=o.appendFrame(e,t,i,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},t}(n.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,i){"use strict";function r(e,t,i,r){var n,o,a,s,u=navigator.userAgent.toLowerCase(),l=r,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=1+((192&t[i+2])>>>6);var h=(60&t[i+2])>>>2;return h>c.length-1?void e.trigger(m.Events.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+h}):(a=(1&t[i+2])<<2,a|=(192&t[i+3])>>>6,A.logger.log("manifest codec:"+r+", ADTS type:"+n+", samplingIndex:"+h),/firefox/i.test(u)?h>=6?(n=5,s=new Array(4),o=h-3):(n=2,s=new Array(2),o=h):-1!==u.indexOf("android")?(n=2,s=new Array(2),o=h):(n=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&h>=6?o=h-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(h>=6&&1===a||/vivaldi/i.test(u))||!r&&1===a)&&(n=2,s=new Array(2)),o=h)),s[0]=n<<3,s[0]|=(14&h)>>1,s[1]|=(1&h)<<7,s[1]|=a<<3,5===n&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[h],channelCount:a,codec:"mp4a.40."+n,manifestCodec:l})}function n(e,t){return 255===e[t]&&240==(246&e[t+1])}function o(e,t){return 1&e[t+1]?7:9}function a(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function s(e,t){return t+5<e.length}function u(e,t){return t+1<e.length&&n(e,t)}function l(e,t){return s(e,t)&&n(e,t)&&a(e,t)<=e.length-t}function c(e,t){if(u(e,t)){var i=o(e,t);if(t+i>=e.length)return!1;var r=a(e,t);if(r<=i)return!1;var n=t+r;return n===e.length||u(e,n)}return!1}function h(e,t,i,n,o){if(!e.samplerate){var a=r(t,i,n,o);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,A.logger.log("parsed codec:"+e.codec+", rate:"+a.samplerate+", channels:"+a.channelCount)}}function d(e){return 9216e4/e}function f(e,t,i,r,n){var s=o(e,t),u=a(e,t);if((u-=s)>0)return{headerLength:s,frameLength:u,stamp:i+r*n}}function p(e,t,i,r,n){var o=f(t,i,r,n,d(e.samplerate));if(o){var a,s=o.frameLength,u=o.headerLength,l=o.stamp,c=u+s,h=Math.max(0,i+c-t.length);h?(a=new Uint8Array(c-u)).set(t.subarray(i+u,t.length),0):a=t.subarray(i+u,i+c);var p={unit:a,pts:l};return h||e.samples.push(p),{sample:p,length:c,missing:h}}}i.r(t),i.d(t,"getAudioConfig",function(){return r}),i.d(t,"isHeaderPattern",function(){return n}),i.d(t,"getHeaderLength",function(){return o}),i.d(t,"getFullFrameLength",function(){return a}),i.d(t,"canGetFrameLength",function(){return s}),i.d(t,"isHeader",function(){return u}),i.d(t,"canParse",function(){return l}),i.d(t,"probe",function(){return c}),i.d(t,"initTrackConfig",function(){return h}),i.d(t,"getFrameDuration",function(){return d}),i.d(t,"parseFrameHeader",function(){return f}),i.d(t,"appendFrame",function(){return p});var A=i("./src/utils/logger.ts"),g=i("./src/errors.ts"),m=i("./src/events.ts")},"./src/demux/base-audio-demuxer.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"initPTSFn",function(){return l});var r=i("./src/polyfills/number.ts"),n=i("./src/demux/id3.ts"),o=i("./src/demux/dummy-demuxed-track.ts"),a=i("./src/utils/mp4-tools.ts"),s=i("./src/utils/typed-array.ts"),u=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,i,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,i){},t.demux=function(e,t){this.cachedData&&(e=Object(a.appendUint8Array)(this.cachedData,e),this.cachedData=null);var i,r,u=n.getID3Data(e,0),c=u?u.length:0,h=this._audioTrack,d=this._id3Track,f=u?n.getTimeStamp(u):void 0,p=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=l(f,t)),u&&u.length>0&&d.samples.push({pts:this.initPTS,dts:this.initPTS,data:u}),r=this.initPTS;c<p;){if(this.canParse(e,c)){var A=this.appendFrame(h,e,c);A?(this.frameIndex++,r=A.sample.pts,i=c+=A.length):c=p}else n.canParse(e,c)?(u=n.getID3Data(e,c),d.samples.push({pts:r,dts:r,data:u}),i=c+=u.length):c++;if(c===p&&i!==p){var g=Object(s.sliceUint8)(e,i);this.cachedData?this.cachedData=Object(a.appendUint8Array)(this.cachedData,g):this.cachedData=g}}return{audioTrack:h,videoTrack:Object(o.dummyTrack)(),id3Track:d,textTrack:Object(o.dummyTrack)()}},t.demuxSampleAes=function(e,t,i){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,videoTrack:Object(o.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(o.dummyTrack)()}},t.destroy=function(){},e}(),l=function(e,t){return Object(r.isFiniteNumber)(e)?90*e:9e4*t};t.default=u},"./src/demux/chunk-cache.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,i=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var i=new Uint8Array(t),r=0,n=0;n<e.length;n++){var o=e[n];i.set(o,r),r+=o.length}return i}(t,i),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,i){"use strict";function r(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}i.r(t),i.d(t,"dummyTrack",function(){return r})},"./src/demux/exp-golomb.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/utils/logger.ts"),n=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,r=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");r.set(e.subarray(i,i+n)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?i<<t|this.readBits(t):i},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,i=8,r=0;r<e;r++)0!==i&&(i=(t+this.readEG()+256)%256),t=0===i?t:i},t.readSPS=function(){var e,t,i,r=0,n=0,o=0,a=0,s=this.readUByte.bind(this),u=this.readBits.bind(this),l=this.readUEG.bind(this),c=this.readBoolean.bind(this),h=this.skipBits.bind(this),d=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var A=s();if(u(5),h(3),s(),f(),100===A||110===A||122===A||244===A||44===A||83===A||86===A||118===A||128===A){var g=l();if(3===g&&h(1),f(),f(),h(1),c())for(t=3!==g?8:12,i=0;i<t;i++)c()&&p(i<6?16:64)}f();var m=l();if(0===m)l();else if(1===m)for(h(1),d(),d(),e=l(),i=0;i<e;i++)d();f(),h(1);var y=l(),v=l(),E=u(1);0===E&&h(1),h(1),c()&&(r=l(),n=l(),o=l(),a=l());var w=[1,1];if(c()&&c())switch(s()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*n),height:(2-E)*(v+1)*16-(E?2:4)*(o+a),pixelRatio:w}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=n},"./src/demux/id3.ts":function(e,t,i){"use strict";function r(){return n||void 0===self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}i.r(t),i.d(t,"isHeader",function(){return o}),i.d(t,"isFooter",function(){return a}),i.d(t,"getID3Data",function(){return s}),i.d(t,"canParse",function(){return l}),i.d(t,"getTimeStamp",function(){return c}),i.d(t,"isTimeStampFrame",function(){return h}),i.d(t,"getID3Frames",function(){return f}),i.d(t,"decodeFrame",function(){return p}),i.d(t,"utf8ArrayToStr",function(){return v}),i.d(t,"testables",function(){return E});var n,o=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s=function(e,t){for(var i=t,r=0;o(e,t);)r+=10,r+=u(e,t+6),a(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(i,i+r)},u=function(e,t){var i=0;return i=(127&e[t])<<21,i|=(127&e[t+1])<<14,(i|=(127&e[t+2])<<7)|127&e[t+3]},l=function(e,t){return o(e,t)&&u(e,t+6)+10<=e.length-t},c=function(e){for(var t=f(e),i=0;i<t.length;i++){var r=t[i];if(h(r))return y(r)}},h=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),i=u(e,4);return{type:t,size:i,data:e.subarray(10,10+i)}},f=function(e){for(var t=0,i=[];o(e,t);){for(var r=u(e,t+6),n=(t+=10)+r;t+8<n;){var s=d(e.subarray(t)),l=p(s);l&&i.push(l),t+=s.size+10}a(e,t)&&(t+=10)}return i},p=function(e){return"PRIV"===e.type?A(e):"W"===e.type[0]?m(e):g(e)},A=function(e){if(!(e.size<2)){var t=v(e.data,!0),i=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:i.buffer}}},g=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,i=v(e.data.subarray(t),!0);t+=i.length+1;var r=v(e.data.subarray(t));return{key:e.type,info:i,data:r}}var n=v(e.data.subarray(1));return{key:e.type,data:n}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,i=v(e.data.subarray(t),!0);t+=i.length+1;var r=v(e.data.subarray(t));return{key:e.type,info:i,data:r}}var n=v(e.data);return{key:e.type,data:n}},y=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),i=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,i&&(r+=47721858.84),Math.round(r)}},v=function(e,t){void 0===t&&(t=!1);var i=r();if(i){var n=i.decode(e);if(t){var o=n.indexOf("\0");return-1!==o?n.substring(0,o):n}return n.replace(/\0/g,"")}for(var a,s,u,l=e.length,c="",h=0;h<l;){if(0===(a=e[h++])&&t)return c;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(a);break;case 12:case 13:s=e[h++],c+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[h++],u=e[h++],c+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&u)<<0)}}return c},E={decodeTextFrame:g}},"./src/demux/mp3demuxer.ts":function(e,t,i){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}i.r(t);var n=i("./src/demux/base-audio-demuxer.ts"),o=i("./src/demux/id3.ts"),a=i("./src/utils/logger.ts"),s=i("./src/demux/mpegaudio.ts"),u=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var i=t.prototype;return i.resetInitSegment=function(t,i,r,n){e.prototype.resetInitSegment.call(this,t,i,r,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:i,duration:n,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,i=e.length;t<i;t++)if(s.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},i.canParse=function(e,t){return s.canParse(e,t)},i.appendFrame=function(e,t,i){if(null!==this.initPTS)return s.appendFrame(e,t,i,this.initPTS,this.frameIndex)},t}(n.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/polyfills/number.ts"),n=i("./src/utils/mp4-tools.ts"),o=i("./src/demux/dummy-demuxed-track.ts"),a=/\/emsg[-/]ID3/i,s=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,i,r){var a=Object(n.parseInitSegment)(e),s=this.videoTrack=Object(o.dummyTrack)("video",1),u=this.audioTrack=Object(o.dummyTrack)("audio",1),l=this.txtTrack=Object(o.dummyTrack)("text",1);if(this.id3Track=Object(o.dummyTrack)("id3",1),this.timeOffset=0,a.video){var c=a.video,h=c.id,d=c.timescale,f=c.codec;s.id=h,s.timescale=l.timescale=d,s.codec=f}if(a.audio){var p=a.audio,A=p.id,g=p.timescale,m=p.codec;u.id=A,u.timescale=g,u.codec=m}l.id=n.RemuxerTrackIdConfig.text,s.sampleDuration=0,s.duration=u.duration=r},t.resetContiguity=function(){},e.probe=function(e){return e=e.length>16384?e.subarray(0,16384):e,Object(n.findBox)(e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var i=e,r=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Object(n.appendUint8Array)(this.remainderData,e));var a=Object(n.segmentValidRange)(i);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=i;var s=this.extractID3Track(r,t);return o.samples=Object(n.parseSamples)(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(t,this.timeOffset);return i.samples=Object(n.parseSamples)(e,t),{videoTrack:t,audioTrack:Object(o.dummyTrack)(),id3Track:r,textTrack:Object(o.dummyTrack)()}},t.extractID3Track=function(e,t){var i=this.id3Track;if(e.samples.length){var o=Object(n.findBox)(e.samples,["emsg"]);o&&o.forEach(function(e){var o=Object(n.parseEmsg)(e);if(a.test(o.schemeIdUri)){var s=Object(r.isFiniteNumber)(o.presentationTime)?o.presentationTime/o.timeScale:t+o.presentationTimeDelta/o.timeScale,u=o.payload;i.samples.push({data:u,len:u.byteLength,dts:s,pts:s})}})}return i},t.demuxSampleAes=function(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();s.minProbeByteLength=1024,t.default=s},"./src/demux/mpegaudio.ts":function(e,t,i){"use strict";function r(e,t,i,r,o){if(!(i+24>t.length)){var a=n(t,i);if(a&&i+a.frameLength<=t.length){var s=r+o*(9e4*a.samplesPerFrame/a.sampleRate),u={unit:t.subarray(i,i+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(u),{sample:u,length:a.frameLength,missing:0}}}}function n(e,t){var i=e[t+1]>>3&3,r=e[t+1]>>1&3,n=e[t+2]>>4&15,o=e[t+2]>>2&3;if(1!==i&&0!==n&&15!==n&&3!==o){var a=e[t+2]>>1&1,s=e[t+3]>>6,u=1e3*c[14*(3===i?3-r:3===r?3:4)+n-1],p=h[3*(3===i?0:2===i?1:2)+o],A=3===s?1:2,g=d[i][r],m=f[r],y=8*g*m,v=Math.floor(g*u/p+a)*m;if(null===l){var E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);l=E?parseInt(E[1]):0}return!!l&&l<=87&&2===r&&u>=224e3&&0===s&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:A,frameLength:v,samplesPerFrame:y}}}function o(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function a(e,t){return t+1<e.length&&o(e,t)}function s(e,t){return o(e,t)&&4<=e.length-t}function u(e,t){if(t+1<e.length&&o(e,t)){var i=n(e,t),r=4;null!==i&&void 0!==i&&i.frameLength&&(r=i.frameLength);var s=t+r;return s===e.length||a(e,s)}return!1}i.r(t),i.d(t,"appendFrame",function(){return r}),i.d(t,"parseHeader",function(){return n}),i.d(t,"isHeaderPattern",function(){return o}),i.d(t,"isHeader",function(){return a}),i.d(t,"canParse",function(){return s}),i.d(t,"probe",function(){return u});var l=null,c=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],h=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],d=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],f=[0,1,1,4]},"./src/demux/sample-aes.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/crypt/decrypter.ts"),n=i("./src/demux/tsdemuxer.ts"),o=function(){function e(e,t,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,i,r){var n=e[t].unit;if(!(n.length<=16)){var o=n.subarray(16,n.length-n.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){var a=new Uint8Array(o);n.set(a,16),r||s.decryptAacSamples(e,t+1,i)})}},t.decryptAacSamples=function(e,t,i){for(;;t++){if(t>=e.length)return void i();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,i,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,i=new Int8Array(t),r=0,n=32;n<e.length-16;n+=160,r+=16)i.set(e.subarray(n,n+16),r);return i},t.getAvcDecryptedUnit=function(e,t){for(var i=new Uint8Array(t),r=0,n=32;n<e.length-16;n+=160,r+=16)e.set(i.subarray(r,r+16),n);return e},t.decryptAvcSample=function(e,t,i,r,o,a){var s=Object(n.discardEPB)(o.data),u=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(u.buffer,function(n){o.data=l.getAvcDecryptedUnit(s,n),a||l.decryptAvcSamples(e,t,i+1,r)})},t.decryptAvcSamples=function(e,t,i,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length)return void r();for(var n=e[t].units;!(i>=n.length);i++){var o=n[i];if(!(o.data.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,i,r,o,a),!a)return}}}},e}();t.default=o},"./src/demux/transmuxer-interface.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return h});var r=i("./node_modules/webworkify-webpack/index.js"),n=i("./src/events.ts"),o=i("./src/demux/transmuxer.ts"),a=i("./src/utils/logger.ts"),s=i("./src/errors.ts"),u=i("./src/utils/mediasource-helper.ts"),l=i("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},h=function(){function e(e,t,i,u){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=i,this.onFlush=u;var d=e.config,f=function(t,i){(i=i||{}).frag=h.frag,i.id=h.id,e.trigger(t,i)};this.observer=new l.EventEmitter,this.observer.on(n.Events.FRAG_DECRYPTED,f),this.observer.on(n.Events.ERROR,f);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},A=navigator.vendor;if(d.enableWorker&&"undefined"!=typeof Worker){var g;a.logger.log("demuxing in webworker");try{g=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(t){e.trigger(n.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},g.postMessage({cmd:"init",typeSupported:p,vendor:A,id:t,config:JSON.stringify(d)})}catch(e){a.logger.warn("Error in worker:",e),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),g&&self.URL.revokeObjectURL(g.objectURL),this.transmuxer=new o.default(this.observer,p,d,A,t),this.worker=null}}else this.transmuxer=new o.default(this.observer,p,d,A,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var i=this.observer;i&&i.removeAllListeners(),this.observer=null},t.push=function(e,t,i,r,n,s,u,l,c,h){var d,f,p=this;c.transmuxing.start=self.performance.now();var A=this.transmuxer,g=this.worker,m=s?s.start:n.start,y=n.decryptdata,v=this.frag,E=!(v&&n.cc===v.cc),w=!(v&&c.level===v.level),b=v?c.sn-v.sn:-1,C=this.part?c.part-this.part.index:1,I=!w&&(1===b||0===b&&1===C),S=self.performance.now();(w||b||0===n.stats.parsing.start)&&(n.stats.parsing.start=S),!s||!C&&I||(s.stats.parsing.start=S);var M=!(v&&(null===(d=n.initSegment)||void 0===d?void 0:d.url)===(null===(f=v.initSegment)||void 0===f?void 0:f.url)),k=new o.TransmuxState(E,I,l,w,m,M);if(!I||E||M){a.logger.log("[transmuxer-interface, "+n.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+E+"\n        trackSwitch: "+w+"\n        contiguous: "+I+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+m+"\n        initSegmentChange: "+M);var T=new o.TransmuxConfig(i,r,t,u,h);this.configureTransmuxer(T)}if(this.frag=n,this.part=s,g)g.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:k},e instanceof ArrayBuffer?[e]:[]);else if(A){var D=A.push(e,y,c,k);Object(o.isPromise)(D)?D.then(function(e){p.handleTransmuxComplete(e)}):this.handleTransmuxComplete(D)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var i=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(i){var n=i.flush(e);Object(o.isPromise)(n)?n.then(function(i){t.handleFlushResult(i,e)}):this.handleFlushResult(n,e)}},t.handleFlushResult=function(e,t){var i=this;e.forEach(function(e){i.handleTransmuxComplete(e)}),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,i=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,i=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):i&&i.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,i){"use strict";function r(e){var t=new c.EventEmitter,i=function(t,i){e.postMessage({event:t,data:i})};t.on(u.Events.FRAG_DECRYPTED,i),t.on(u.Events.ERROR,i),e.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var u=JSON.parse(o.config);e.transmuxer=new s.default(t,o.typeSupported,u,o.vendor,o.id),Object(l.enableLogs)(u.debug),i("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var c=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);Object(s.isPromise)(c)?c.then(function(t){n(e,t)}):n(e,c);break;case"flush":var h=o.chunkMeta,d=e.transmuxer.flush(h);Object(s.isPromise)(d)?d.then(function(t){a(e,t,h)}):a(e,d,h)}})}function n(e,t){if(!function(e){return!(e.audio||e.video||e.text||e.id3||e.initSegment)}(t.remuxResult)){var i=[],r=t.remuxResult,n=r.audio,a=r.video;n&&o(i,n),a&&o(i,a),e.postMessage({event:"transmuxComplete",data:t},i)}}function o(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function a(e,t,i){t.forEach(function(t){n(e,t)}),e.postMessage({event:"flush",data:i})}i.r(t),i.d(t,"default",function(){return r});var s=i("./src/demux/transmuxer.ts"),u=i("./src/events.ts"),l=i("./src/utils/logger.ts"),c=i("./node_modules/eventemitter3/index.js")},"./src/demux/transmuxer.ts":function(e,t,i){"use strict";function r(e){return"then"in e&&e.then instanceof Function}i.r(t),i.d(t,"default",function(){return v}),i.d(t,"isPromise",function(){return r}),i.d(t,"TransmuxConfig",function(){return w}),i.d(t,"TransmuxState",function(){return b});var n,o=i("./src/events.ts"),a=i("./src/errors.ts"),s=i("./src/crypt/decrypter.ts"),u=i("./src/demux/aacdemuxer.ts"),l=i("./src/demux/mp4demuxer.ts"),c=i("./src/demux/tsdemuxer.ts"),h=i("./src/demux/mp3demuxer.ts"),d=i("./src/remux/mp4-remuxer.ts"),f=i("./src/remux/passthrough-remuxer.ts"),p=i("./src/demux/chunk-cache.ts"),A=i("./src/utils/mp4-tools.ts"),g=i("./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(e){g.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var m=[{demux:c.default,remux:d.default},{demux:l.default,remux:f.default},{demux:u.default,remux:d.default},{demux:h.default,remux:d.default}],y=1024;m.forEach(function(e){var t=e.demux;y=Math.max(y,t.minProbeByteLength)});var v=function(){function e(e,t,i,r,n){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new p.default,this.observer=e,this.typeSupported=t,this.config=i,this.vendor=r,this.id=n}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,i,r){var o=this,a=i.transmuxing;a.executeStart=n();var s=new Uint8Array(e),u=this.cache,l=this.config,c=this.currentTransmuxState,h=this.transmuxConfig;r&&(this.currentTransmuxState=r);var d=function(e,t){var i=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(i=t),i}(s,t);if(d&&"AES-128"===d.method){var f=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=f.webCryptoDecrypt(s,d.key.buffer,d.iv.buffer).then(function(e){var t=o.push(e,null,i);return o.decryptionPromise=null,t}),this.decryptionPromise;var p=f.softwareDecrypt(s,d.key.buffer,d.iv.buffer);if(!p)return a.executeEnd=n(),E(i);s=new Uint8Array(p)}var g=r||c,m=g.contiguous,y=g.discontinuity,v=g.trackSwitch,w=g.accurateTimeOffset,b=g.timeOffset,C=g.initSegmentChange,I=h.audioCodec,S=h.videoCodec,M=h.defaultInitPts,k=h.duration,T=h.initSegmentData;if((y||v||C)&&this.resetInitSegment(T,I,S,k),(y||C)&&this.resetInitialTimestamp(M),m||this.resetContiguity(),this.needsProbing(s,y,v)){if(u.dataLength){var D=u.flush();s=Object(A.appendUint8Array)(D,s)}this.configureTransmuxer(s,h)}var B=this.transmux(s,d,b,w,i),R=this.currentTransmuxState;return R.contiguous=!0,R.discontinuity=!1,R.trackSwitch=!1,a.executeEnd=n(),B},t.flush=function(e){var t=this,i=e.transmuxing;i.executeStart=n();var s=this.decrypter,u=this.cache,l=this.currentTransmuxState,c=this.decryptionPromise;if(c)return c.then(function(){return t.flush(e)});var h=[],d=l.timeOffset;if(s){var f=s.flush();f&&h.push(this.push(f,null,e))}var p=u.dataLength;u.reset();var A=this.demuxer,g=this.remuxer;if(!A||!g)return p>=y&&this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),i.executeEnd=n(),[E(e)];var m=A.flush(d);return r(m)?m.then(function(i){return t.flushRemux(h,i,e),h}):(this.flushRemux(h,m,e),h)},t.flushRemux=function(e,t,i){var r=t.audioTrack,o=t.videoTrack,a=t.id3Track,s=t.textTrack,u=this.currentTransmuxState,l=u.accurateTimeOffset,c=u.timeOffset;g.logger.log("[transmuxer.ts]: Flushed fragment "+i.sn+(i.part>-1?" p: "+i.part:"")+" of level "+i.level);var h=this.remuxer.remux(r,o,a,s,c,l,!0,this.id);e.push({remuxResult:h,chunkMeta:i}),i.transmuxing.executeEnd=n()},t.resetInitialTimestamp=function(e){var t=this.demuxer,i=this.remuxer;t&&i&&(t.resetTimeStamp(e),i.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,i,r){var n=this.demuxer,o=this.remuxer;n&&o&&(n.resetInitSegment(e,t,i,r),o.resetInitSegment(e,t,i))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,i,r,n){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,i,r,n):this.transmuxUnencrypted(e,i,r,n)},t.transmuxUnencrypted=function(e,t,i,r){var n=this.demuxer.demux(e,t,!1,!this.config.progressive),o=n.audioTrack,a=n.videoTrack,s=n.id3Track,u=n.textTrack;return{remuxResult:this.remuxer.remux(o,a,s,u,t,i,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,i,r,n){var o=this;return this.demuxer.demuxSampleAes(e,t,i).then(function(e){return{remuxResult:o.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,i,r,!1,o.id),chunkMeta:n}})},t.configureTransmuxer=function(e,t){for(var i,r=this.config,n=this.observer,o=this.typeSupported,a=this.vendor,s=t.audioCodec,u=t.defaultInitPts,c=t.duration,h=t.initSegmentData,d=t.videoCodec,p=0,A=m.length;p<A;p++)if(m[p].demux.probe(e)){i=m[p];break}i||(g.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),i={demux:l.default,remux:f.default});var y=this.demuxer,v=this.remuxer,E=i.remux,w=i.demux;v&&v instanceof E||(this.remuxer=new E(n,r,o,a)),y&&y instanceof w||(this.demuxer=new w(n,r,o),this.probe=w.probe),this.resetInitSegment(h,s,d,c),this.resetInitialTimestamp(u)},t.needsProbing=function(e,t,i){return!this.demuxer||!this.remuxer||t||i},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new s.default(this.observer,this.config)),e},e}(),E=function(e){return{remuxResult:{},chunkMeta:e}},w=function(e,t,i,r,n){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=i,this.duration=r,this.defaultInitPts=n},b=function(e,t,i,r,n,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=i,this.trackSwitch=r,this.timeOffset=n,this.initSegmentChange=o}},"./src/demux/tsdemuxer.ts":function(e,t,i){"use strict";function r(e,t,i,r){return{key:e,frame:!1,pts:t,dts:i,units:[],debug:r,length:0}}function n(e,t){return(31&e[t+10])<<8|e[t+11]}function o(e,t,i,r,n){var o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var s=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){A.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=s);break;case 21:-1===o.id3&&(o.id3=s);break;case 219:if(!r){A.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=s);break;case 3:case 4:!0!==i.mpeg&&!0!==i.mp3?A.logger.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=s,o.segmentCodec="mp3");break;case 36:n.emit(f.Events.ERROR,f.Events.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!1,reason:"Unsupported HEVC stream type found 0x24"}),A.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return o}function a(e){var t,i,r,n,o,a=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var u=new Uint8Array(s[0].length+s[1].length);u.set(s[0]),u.set(s[1],s[0].length),s[0]=u,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((i=(t[4]<<8)+t[5])&&i>e.size-6)return null;var l=t[7];192&l&&(n=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?n-(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(A.logger.warn(Math.round((n-o)/9e4)+"s delta between PTS and DTS, align them"),n=o):o=n);var c=(r=t[8])+9;if(e.size<=c)return null;e.size-=c;for(var h=new Uint8Array(e.size),d=0,f=s.length;d<f;d++){var p=(t=s[d]).byteLength;if(c){if(c>p){c-=p;continue}t=t.subarray(c),p-=c,c=0}h.set(t,a),a+=p}return i&&(i-=r+3),{data:h,pts:n,dts:o,len:i}}return null}function s(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var i=t.samples,r=i.length;if(!r)return void t.dropped++;var n=i[r-1];e.pts=n.pts,e.dts=n.dts}t.samples.push(e)}e.debug.length&&A.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function u(e){for(var t=e.byteLength,i=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return e;var n=t-i.length,o=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),o[r]=e[a];return o}i.r(t),i.d(t,"discardEPB",function(){return u});var l=i("./src/demux/adts.ts"),c=i("./src/demux/mpegaudio.ts"),h=i("./src/demux/exp-golomb.ts"),d=i("./src/demux/sample-aes.ts"),f=i("./src/events.ts"),p=i("./src/utils/mp4-tools.ts"),A=i("./src/utils/logger.ts"),g=i("./src/errors.ts"),m=function(){function e(e,t,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=i}e.probe=function(t){var i=e.syncOffset(t);return!(i<0||(i&&A.logger.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),i=0;i<t;){if(71===e[i]&&71===e[i+188]&&71===e[i+376])return i;i++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:p.RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,i,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=r,this._duration=n},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,i=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null},t.demux=function(t,i,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),r||(this.sampleAes=null);var u,l=this._avcTrack,c=this._audioTrack,h=this._id3Track,d=this._txtTrack,m=l.pid,y=l.pesData,v=c.pid,E=h.pid,w=c.pesData,b=h.pesData,C=!1,I=this.pmtParsed,S=this._pmtId,M=t.length;if(this.remainderData&&(M=(t=Object(p.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),M<188&&!s)return this.remainderData=t,{audioTrack:c,videoTrack:l,id3Track:h,textTrack:d};var k=Math.max(0,e.syncOffset(t));(M-=(M+k)%188)<t.byteLength&&!s&&(this.remainderData=new Uint8Array(t.buffer,M,t.buffer.byteLength-M));for(var T=0,D=k;D<M;D+=188)if(71===t[D]){var B=!!(64&t[D+1]),R=((31&t[D+1])<<8)+t[D+2],Q=void 0;if((48&t[D+3])>>4>1){if((Q=D+5+t[D+4])===D+188)continue}else Q=D+4;switch(R){case m:B&&(y&&(u=a(y))&&this.parseAVCPES(l,d,u,!1),y={data:[],size:0}),y&&(y.data.push(t.subarray(Q,D+188)),y.size+=D+188-Q);break;case v:if(B){if(w&&(u=a(w)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,u);break;case"mp3":this.parseMPEGPES(c,u)}w={data:[],size:0}}w&&(w.data.push(t.subarray(Q,D+188)),w.size+=D+188-Q);break;case E:B&&(b&&(u=a(b))&&this.parseID3PES(h,u),b={data:[],size:0}),b&&(b.data.push(t.subarray(Q,D+188)),b.size+=D+188-Q);break;case 0:B&&(Q+=t[Q]+1),S=this._pmtId=n(t,Q);break;case S:B&&(Q+=t[Q]+1);var O=o(t,Q,this.typeSupported,r,this.observer);(m=O.avc)>0&&(l.pid=m),(v=O.audio)>0&&(c.pid=v,c.segmentCodec=O.segmentCodec),(E=O.id3)>0&&(h.pid=E),C&&!I&&(A.logger.log("reparse from beginning"),C=!1,D=k-188),I=this.pmtParsed=!0;break;case 17:case 8191:break;default:C=!0}}else T++;T>0&&this.observer.emit(f.Events.ERROR,f.Events.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+T+" TS packet/s that do not start with 0x47"}),l.pesData=y,c.pesData=w,h.pesData=b;var L={audioTrack:c,videoTrack:l,id3Track:h,textTrack:d};return s&&this.extractRemainingSamples(L),L},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,i=e.audioTrack,r=e.videoTrack,n=e.id3Track,o=e.textTrack,s=r.pesData,u=i.pesData,l=n.pesData;if(s&&(t=a(s))?(this.parseAVCPES(r,o,t,!0),r.pesData=null):r.pesData=s,u&&(t=a(u))){switch(i.segmentCodec){case"aac":this.parseAACPES(i,t);break;case"mp3":this.parseMPEGPES(i,t)}i.pesData=null}else null!==u&&void 0!==u&&u.size&&A.logger.log("last AAC PES packet truncated,might overlap between fragments"),i.pesData=u;l&&(t=a(l))?(this.parseID3PES(n,t),n.pesData=null):n.pesData=l},t.demuxSampleAes=function(e,t,i){var r=this.demux(e,i,!0,!this.config.progressive),n=this.sampleAes=new d.default(this.observer,this.config,t);return this.decrypt(r,n)},t.decrypt=function(e,t){return new Promise(function(i){var r=e.audioTrack,n=e.videoTrack;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,function(){n.samples?t.decryptAvcSamples(n.samples,0,0,function(){i(e)}):i(e)}):n.samples&&t.decryptAvcSamples(n.samples,0,0,function(){i(e)})})},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,i,n){var o,a=this,l=this.parseAVCNALu(e,i.data),c=this.avcSample,d=!1;i.data=null,c&&l.length&&!e.audFound&&(s(c,e),c=this.avcSample=r(!1,i.pts,i.dts,"")),l.forEach(function(n){switch(n.type){case 1:o=!0,c||(c=a.avcSample=r(!0,i.pts,i.dts,"")),c.frame=!0;var l=n.data;if(d&&l.length>4){var f=new h.default(l).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c.key=!0)}break;case 5:o=!0,c||(c=a.avcSample=r(!0,i.pts,i.dts,"")),c.key=!0,c.frame=!0;break;case 6:o=!0,Object(p.parseSEIMessageFromNALu)(u(n.data),i.pts,t.samples);break;case 7:if(o=!0,d=!0,!e.sps){var A=new h.default(n.data).readSPS();e.width=A.width,e.height=A.height,e.pixelRatio=A.pixelRatio,e.sps=[n.data],e.duration=a._duration;for(var g=n.data.subarray(1,4),m="avc1.",y=0;y<3;y++){var v=g[y].toString(16);v.length<2&&(v="0"+v),m+=v}e.codec=m}break;case 8:o=!0,e.pps||(e.pps=[n.data]);break;case 9:o=!1,e.audFound=!0,c&&s(c,e),c=a.avcSample=r(!1,i.pts,i.dts,"");break;case 12:o=!1;break;default:o=!1,c&&(c.debug+="unknown NAL "+n.type+" ")}c&&o&&c.units.push(n)}),n&&c&&(s(c,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,i,r=this.avcSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!==(t=r)&&void 0!==t&&t.units){var n=r.units;i=n[n.length-1]}return i},t.parseAVCNALu=function(e,t){var i,r,n=t.byteLength,o=e.naluState||0,a=o,s=[],u=0,l=-1,c=0;for(-1===o&&(l=0,c=31&t[0],o=0,u=1);u<n;)if(i=t[u++],o)if(1!==o)if(i)if(1===i){if(l>=0){var h={data:t.subarray(l,u-o-1),type:c};s.push(h)}else{var d=this.getLastNalUnit(e.samples);if(d&&(a&&u<=4-a&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-a)),(r=u-o-1)>0)){var f=new Uint8Array(d.data.byteLength+r);f.set(d.data,0),f.set(t.subarray(0,r),d.data.byteLength),d.data=f,d.state=0}}u<n?(l=u,c=31&t[u],o=0):o=-1}else o=0;else o=3;else o=i?0:2;else o=i?0:1;if(l>=0&&o>=0){var p={data:t.subarray(l,n),type:c,state:o};s.push(p)}if(0===s.length){var A=this.getLastNalUnit(e.samples);if(A){var g=new Uint8Array(A.data.byteLength+t.byteLength);g.set(A.data,0),g.set(t,A.data.byteLength),A.data=g}}return e.naluState=o,s},t.parseAACPES=function(e,t){var i,r,n,o,a,s=0,u=this.aacOverFlow,c=t.data;if(u){this.aacOverFlow=null;var h=u.sample.unit.byteLength,d=Math.min(u.missing,h),p=h-d;u.sample.unit.set(c.subarray(0,d),p),e.samples.push(u.sample),s=u.missing}for(i=s,r=c.length;i<r-1&&!l.isHeader(c,i);i++);if(i!==s&&(i<r-1?(n="AAC PES did not start with ADTS header,offset:"+i,o=!1):(n="no ADTS header found in AAC PES",o=!0),A.logger.warn("parsing error:"+n),this.observer.emit(f.Events.ERROR,f.Events.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:n}),o))return;if(l.initTrackConfig(e,this.observer,c,i,this.audioCodec),void 0!==t.pts)a=t.pts;else{if(!u)return void A.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var m=l.getFrameDuration(e.samplerate);a=u.sample.pts+m}for(var y=0;i<r;){if(l.isHeader(c,i)){if(i+5<r){var v=l.appendFrame(e,c,i,a,y);if(v){if(!v.missing){i+=v.length,y++;continue}this.aacOverFlow=v}}break}i++}},t.parseMPEGPES=function(e,t){var i=t.data,r=i.length,n=0,o=0,a=t.pts;if(void 0!==a)for(;o<r;)if(c.isHeader(i,o)){var s=c.appendFrame(e,i,o,a,n);if(!s)break;o+=s.length,n++}else o++;else A.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){void 0!==t.pts?e.samples.push(t):A.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();m.minProbeByteLength=188,t.default=m},"./src/errors.ts":function(e,t,i){"use strict";var r,n;i.r(t),i.d(t,"ErrorTypes",function(){return r}),i.d(t,"ErrorDetails",function(){return n}),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(r||(r={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(n||(n={}))},"./src/events.ts":function(e,t,i){"use strict";var r;i.r(t),i.d(t,"Events",function(){return r}),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.RECORDING="recording"}(r||(r={}))},"./src/hls.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t),i.d(t,"default",function(){return y});var n=i("./node_modules/url-toolkit/src/url-toolkit.js"),o=i("./src/loader/playlist-loader.ts"),a=i("./src/loader/key-loader.ts"),s=i("./src/controller/id3-track-controller.ts"),u=i("./src/controller/latency-controller.ts"),l=i("./src/controller/level-controller.ts"),c=i("./src/controller/fragment-tracker.ts"),h=i("./src/controller/stream-controller.ts"),d=i("./src/is-supported.ts"),f=i("./src/utils/logger.ts"),p=i("./src/config.ts"),A=i("./node_modules/eventemitter3/index.js"),g=i("./src/events.ts"),m=i("./src/errors.ts"),y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new A.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var i=this.config=Object(p.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(f.enableLogs)(i.debug),this._autoLevelCapping=-1,i.progressive&&Object(p.enableStreamingMode)(i);var r=i.abrController,n=i.bufferController,d=i.capLevelController,g=i.fpsController,m=this.abrController=new r(this),y=this.bufferController=new n(this),v=this.capLevelController=new d(this),E=new g(this),w=new o.default(this),b=new a.default(this),C=new s.default(this),I=this.levelController=new l.default(this),S=new c.FragmentTracker(this),M=this.streamController=new h.default(this,S);v.setStreamController(M),E.setStreamController(M);var k=[I,M];this.networkControllers=k;var T=[w,b,m,y,v,E,C,S];this.audioTrackController=this.createController(i.audioTrackController,null,k),this.createController(i.audioStreamController,S,k),this.subtitleTrackController=this.createController(i.subtitleTrackController,null,k),this.createController(i.subtitleStreamController,S,k),this.createController(i.timelineController,null,T),this.emeController=this.createController(i.emeController,null,T),this.cmcdController=this.createController(i.cmcdController,null,T),this.latencyController=this.createController(u.default,null,T),this.coreComponents=T}e.isSupported=function(){return Object(d.isSupported)()};var t=e.prototype;return t.createController=function(e,t,i){if(e){var r=t?new e(this,t):new e(this);return i&&i.push(r),r}return null},t.on=function(e,t,i){void 0===i&&(i=this),this._emitter.on(e,t,i)},t.once=function(e,t,i){void 0===i&&(i=this),this._emitter.once(e,t,i)},t.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},t.off=function(e,t,i,r){void 0===i&&(i=this),this._emitter.off(e,t,i,r)},t.listeners=function(e){return this._emitter.listeners(e)},t.emit=function(e,t,i){return this._emitter.emit(e,t,i)},t.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){f.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(g.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},t.listenerCount=function(e){return this._emitter.listenerCount(e)},t.destroy=function(){f.logger.log("destroy"),this.trigger(g.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(e){return e.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(e){return e.destroy()}),this.coreComponents.length=0},t.attachMedia=function(e){f.logger.log("attachMedia"),this._media=e,this.trigger(g.Events.MEDIA_ATTACHING,{media:e})},t.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(g.Events.MEDIA_DETACHING,void 0),this._media=null},t.loadSource=function(e){this.stopLoad();var t=this.media,i=this.url,r=this.url=n.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});f.logger.log("loadSource:"+r),t&&i&&i!==r&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(g.Events.MANIFEST_LOADING,{url:e})},t.startLoad=function(e){void 0===e&&(e=-1),f.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},t.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.recoverMediaError=function(){f.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},t.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){f.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){f.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){f.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){f.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){f.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(f.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var i=e.length,r=0;r<i;r++)if(e[r].maxBitrate>=t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){}},{key:"Events",get:function(){return g.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:p.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),e}();y.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,i){"use strict";function r(){return self.SourceBuffer||self.WebKitSourceBuffer}function n(){var e=Object(a.getMediaSource)();if(!e)return!1;var t=r(),i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!i&&!!n}function o(){var e,t=r();return"function"==typeof(null===t||void 0===t?void 0:null===(e=t.prototype)||void 0===e?void 0:e.changeType)}i.r(t),i.d(t,"isSupported",function(){return n}),i.d(t,"changeTypeSupported",function(){return o});var a=i("./src/utils/mediasource-helper.ts")},"./src/loader/fragment-loader.ts":function(e,t,i){"use strict";function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){function i(){return n(e,arguments,function(e){return(Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(this).constructor)}if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)})(e)}function n(e,t,i){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,i){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return i&&o(n,i.prototype),n}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){void 0===t&&(t=null);var i=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:i.url,headers:{},rangeStart:0,rangeEnd:0},n=i.byteRangeStartOffset,o=i.byteRangeEndOffset;return Object(s.isFiniteNumber)(n)&&Object(s.isFiniteNumber)(o)&&(r.rangeStart=n,r.rangeEnd=o),r}i.r(t),i.d(t,"default",function(){return h}),i.d(t,"LoadError",function(){return d});var s=i("./src/polyfills/number.ts"),u=i("./src/errors.ts"),l=i("./src/events.ts"),c=Math.pow(2,17),h=function(){function e(e,t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.magic=void 0,this.index=void 0,this.hls=void 0,this.hls=t,this.config=e,this.magic=[],this.index=0}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var i=this,r=e.url;if(!r)return Promise.reject(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var n=this.config,o=n.fLoader,s=n.loader;return new Promise(function(r,h){i.loader&&i.loader.destroy();var f=i.loader=e.loader=o?new o(n):new s(n),p=a(e),A={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:n.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===e.sn?1/0:c};e.stats=f.stats,f.load(p,A,{onSuccess:function(t,n,o,a){i.hls.trigger(l.Events.RECORDING,{data:t.data}),r({frag:e,part:null,payload:t.data,networkDetails:a})},onError:function(t,r,n){i.resetLoader(e,f),h(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:n}))},onAbort:function(t,r,n){i.resetLoader(e,f),h(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:n}))},onTimeout:function(t,r,n){i.resetLoader(e,f),h(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:n}))},onProgress:function(i,r,n,o){t&&t({frag:e,part:null,payload:n,networkDetails:o})}})})},t.loadPart=function(e,t,i){var r=this;this.abort();var n=this.config,o=n.fLoader,s=n.loader;return new Promise(function(l,h){r.loader&&r.loader.destroy();var f=r.loader=e.loader=o?new o(n):new s(n),p=a(e,t),A={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:n.fragLoadingMaxRetryTimeout,highWaterMark:c};t.stats=f.stats,f.load(p,A,{onSuccess:function(n,o,a,s){r.resetLoader(e,f),r.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:n.data,networkDetails:s};i(u),l(u)},onError:function(i,n,o){r.resetLoader(e,f),h(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:i,networkDetails:o}))},onAbort:function(i,n,o){e.stats.aborted=t.stats.aborted,r.resetLoader(e,f),h(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(i,n,o){r.resetLoader(e,f),h(new d({type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})})},t.updateStatsFromPart=function(e,t){var i=e.stats,r=t.stats,n=r.total;if(i.loaded+=r.loaded,n){var o=Math.round(e.duration/t.duration),a=Math.min(Math.round(i.loaded/n),o),s=(o-a)*Math.round(i.loaded/a);i.total=i.loaded+s}else i.total=Math.max(i.loaded,i.total);var u=i.loading,l=r.loading;u.start?u.first+=l.first-l.start:(u.start=l.start,u.first=l.first),u.end=l.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}(),d=function(e){function t(t){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).data=void 0,i.data=t,i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}(t,e),t}(r(Error))},"./src/loader/fragment.ts":function(e,t,i){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}i.r(t),i.d(t,"ElementaryStreamTypes",function(){return a}),i.d(t,"BaseSegment",function(){return d}),i.d(t,"Fragment",function(){return f}),i.d(t,"Part",function(){return p});var a,s=i("./src/polyfills/number.ts"),u=i("./node_modules/url-toolkit/src/url-toolkit.js"),l=i("./src/utils/logger.ts"),c=i("./src/loader/level-key.ts"),h=i("./src/loader/load-stats.ts");!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(a||(a={}));var d=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[a.AUDIO]=null,t[a.VIDEO]=null,t[a.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var i=e.split("@",2),r=[];1===i.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(i[1]),r[1]=parseInt(i[0])+r[0],this._byteRange=r},o(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(u.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),f=function(e){function t(t,i){var r;return(r=e.call(this,i)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new h.LoadStats,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}r(t,e);var i=t.prototype;return i.createInitializationVector=function(e){for(var t=new Uint8Array(16),i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t},i.setDecryptDataFromLevelKey=function(e,t){var i=e;return"AES-128"===(null===e||void 0===e?void 0:e.method)&&e.uri&&!e.iv&&((i=c.LevelKey.fromURI(e.uri)).method=e.method,i.iv=this.createInitializationVector(t),i.keyFormat="identity"),i},i.setElementaryStreamInfo=function(e,t,i,r,n,o){void 0===o&&(o=!1);var a=this.elementaryStreams,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,i),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,n)):a[e]={startPTS:t,endPTS:i,startDTS:r,endDTS:n,partial:o}},i.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[a.AUDIO]=null,e[a.VIDEO]=null,e[a.AUDIOVIDEO]=null},o(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&l.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(s.isFiniteNumber)(this.programDateTime))return null;var e=Object(s.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(d),p=function(e){function t(t,i,r,n,o){var a;(a=e.call(this,r)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.stats=new h.LoadStats,a.duration=t.decimalFloatingPoint("DURATION"),a.gap=t.bool("GAP"),a.independent=t.bool("INDEPENDENT"),a.relurl=t.enumeratedString("URI"),a.fragment=i,a.index=n;var s=t.enumeratedString("BYTERANGE");return s&&a.setByteRange(s,o),o&&(a.fragOffset=o.fragOffset+o.duration),a}return r(t,e),o(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(d)},"./src/loader/key-loader.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var r=i("./src/events.ts"),n=i("./src/errors.ts"),o=i("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var i=t.frag,n=i.type,a=this.loaders[n];if(i.decryptdata){var s=i.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;if(a&&(o.logger.warn("abort previous key loader for type:"+n),a.abort()),!s)return void o.logger.warn("key uri is falsy");var l=u.loader,c=i.loader=this.loaders[n]=new l(u);this.decrypturl=s,this.decryptkey=null;var h={url:s,frag:i,responseType:"arraybuffer"},d={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout,highWaterMark:0},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(h,d,f)}else this.decryptkey&&(i.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:i}))}else o.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,i){var n=i.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=null,delete this.loaders[n.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:n})):o.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var i=t.frag,o=i.loader;o&&o.abort(),delete this.loaders[i.type],this.hls.trigger(r.Events.ERROR,{type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:i,response:e})},t.loadtimeout=function(e,t){var i=t.frag,o=i.loader;o&&o.abort(),delete this.loaders[i.type],this.hls.trigger(r.Events.ERROR,{type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}()},"./src/loader/level-details.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t),i.d(t,"LevelDetails",function(){return o});var n=i("./src/polyfills/number.ts"),o=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&i>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}()},"./src/loader/level-key.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t),i.d(t,"LevelKey",function(){return o});var n=i("./node_modules/url-toolkit/src/url-toolkit.js"),o=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(n.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}return e.fromURL=function(t,i){return new e(t,i)},e.fromURI=function(t){return new e(t)},function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"uri",get:function(){return this._uri}}]),e}()},"./src/loader/load-stats.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"LoadStats",function(){return r});var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,i){"use strict";function r(e){var t,i;return v.test(null!=(t=null===(i=u.parseURL(e))||void 0===i?void 0:i.path)?t:"")}function n(e,t){["video","audio","text"].forEach(function(i){var r=e.filter(function(e){return Object(p.isCodecType)(e,i)});if(r.length){var n=r.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[i+"Codec"]=n.length>0?n[0]:r[0],e=e.filter(function(e){return-1===r.indexOf(e)})}}),t.unknownCodecs=e}function o(e,t,i){var r=t[i];r&&(e[i]=r)}function a(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!==t&&void 0!==t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(s.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}i.r(t),i.d(t,"default",function(){return E});var s=i("./src/polyfills/number.ts"),u=i("./node_modules/url-toolkit/src/url-toolkit.js"),l=i("./src/loader/fragment.ts"),c=i("./src/loader/level-details.ts"),h=i("./src/loader/level-key.ts"),d=i("./src/utils/attr-list.ts"),f=i("./src/utils/logger.ts"),p=i("./src/utils/codecs.ts"),A=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,g=/#EXT-X-MEDIA:(.*)/g,m=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),y=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),v=/\.(mp4|m4s|m4v|m4a)$/i,E=function(){function e(){}return e.findGroup=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var i=t.shift()+".";return(i+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e},e.resolve=function(e,t){return u.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,i){var r,o=[],a={},s=!1;for(A.lastIndex=0;null!=(r=A.exec(t));)if(r[1]){var u=new d.AttrList(r[1]),l={attrs:u,bitrate:u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),name:u.NAME,url:e.resolve(r[2],i)},c=u.decimalResolution("RESOLUTION");c&&(l.width=c.width,l.height=c.height),n((u.CODECS||"").split(/[ ,]+/).filter(function(e){return e}),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=e.convertAVC1ToAVCOTI(l.videoCodec)),o.push(l)}else if(r[3]){var h=new d.AttrList(r[3]);h["DATA-ID"]&&(s=!0,a[h["DATA-ID"]]=h)}return{levels:o,sessionData:s?a:null}},e.parseMasterPlaylistMedia=function(t,i,r,n){void 0===n&&(n=[]);var a,s=[],u=0;for(g.lastIndex=0;null!==(a=g.exec(t));){var l=new d.AttrList(a[1]);if(l.TYPE===r){var c={attrs:l,bitrate:0,id:u++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:r,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,i):""};if(n.length){var h=e.findGroup(n,c.groupId)||n[0];o(c,h,"audioCodec"),o(c,h,"textCodec")}s.push(c)}}return s},e.parseLevelPlaylist=function(e,t,i,n,o){var u,p,A,g=new c.LevelDetails(t),v=g.fragments,E=null,w=0,b=0,C=0,I=0,S=null,M=new l.Fragment(n,t),k=-1,T=!1;for(m.lastIndex=0,g.m3u8=e;null!==(u=m.exec(e));){T&&(T=!1,(M=new l.Fragment(n,t)).start=C,M.sn=w,M.cc=I,M.level=i,E&&(M.initSegment=E,M.rawProgramDateTime=E.rawProgramDateTime,E.rawProgramDateTime=null));var D=u[1];if(D){M.duration=parseFloat(D);var B=(" "+u[2]).slice(1);M.title=B||null,M.tagList.push(B?["INF",D,B]:["INF",D])}else if(u[3])Object(s.isFiniteNumber)(M.duration)&&(M.start=C,A&&(M.levelkey=A),M.sn=w,M.level=i,M.cc=I,M.urlId=o,v.push(M),M.relurl=(" "+u[3]).slice(1),a(M,S),S=M,C+=M.duration,w++,b=0,T=!0);else if(u[4]){var R=(" "+u[4]).slice(1);S?M.setByteRange(R,S):M.setByteRange(R)}else if(u[5])M.rawProgramDateTime=(" "+u[5]).slice(1),M.tagList.push(["PROGRAM-DATE-TIME",M.rawProgramDateTime]),-1===k&&(k=v.length);else{if(!(u=u[0].match(y))){f.logger.warn("No matches on slow regex match for level playlist!");continue}for(p=1;p<u.length&&void 0===u[p];p++);var Q=(" "+u[p]).slice(1),O=(" "+u[p+1]).slice(1),L=u[p+2]?(" "+u[p+2]).slice(1):"";switch(Q){case"PLAYLIST-TYPE":g.type=O.toUpperCase();break;case"MEDIA-SEQUENCE":w=g.startSN=parseInt(O);break;case"SKIP":var x=new d.AttrList(O),q=x.decimalInteger("SKIPPED-SEGMENTS");if(Object(s.isFiniteNumber)(q)){g.skippedSegments=q;for(var K=q;K--;)v.unshift(null);w+=q}var U=x.enumeratedString("RECENTLY-REMOVED-DATERANGES");U&&(g.recentlyRemovedDateranges=U.split("\t"));break;case"TARGETDURATION":g.targetduration=parseFloat(O);break;case"VERSION":g.version=parseInt(O);break;case"EXTM3U":break;case"ENDLIST":g.live=!1;break;case"#":(O||L)&&M.tagList.push(L?[O,L]:[O]);break;case"DIS":I++;case"GAP":M.tagList.push([Q]);break;case"BITRATE":M.tagList.push([Q,O]);break;case"DISCONTINUITY-SEQ":I=parseInt(O);break;case"KEY":var F,j=new d.AttrList(O),N=j.enumeratedString("METHOD"),J=j.URI,G=j.hexadecimalInteger("IV"),Y=j.enumeratedString("KEYFORMATVERSIONS"),P=j.enumeratedString("KEYID"),z=null!=(F=j.enumeratedString("KEYFORMAT"))?F:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(z)>-1){f.logger.warn("Keyformat "+z+" is not supported from the manifest");continue}if("identity"!==z)continue;N&&(A=h.LevelKey.fromURL(t,J),J&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(N)>=0&&(A.method=N,A.keyFormat=z,P&&(A.keyID=P),Y&&(A.keyFormatVersions=Y),A.iv=G));break;case"START":var Z=new d.AttrList(O).decimalFloatingPoint("TIME-OFFSET");Object(s.isFiniteNumber)(Z)&&(g.startTimeOffset=Z);break;case"MAP":var W=new d.AttrList(O);M.relurl=W.URI,W.BYTERANGE&&M.setByteRange(W.BYTERANGE),M.level=i,M.sn="initSegment",A&&(M.levelkey=A),M.initSegment=null,E=M,T=!0;break;case"SERVER-CONTROL":var V=new d.AttrList(O);g.canBlockReload=V.bool("CAN-BLOCK-RELOAD"),g.canSkipUntil=V.optionalFloat("CAN-SKIP-UNTIL",0),g.canSkipDateRanges=g.canSkipUntil>0&&V.bool("CAN-SKIP-DATERANGES"),g.partHoldBack=V.optionalFloat("PART-HOLD-BACK",0),g.holdBack=V.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var H=new d.AttrList(O);g.partTarget=H.decimalFloatingPoint("PART-TARGET");break;case"PART":var X=g.partList;X||(X=g.partList=[]);var _=b>0?X[X.length-1]:void 0,$=b++,ee=new l.Part(new d.AttrList(O),M,t,$,_);X.push(ee),M.duration+=ee.duration;break;case"PRELOAD-HINT":var te=new d.AttrList(O);g.preloadHint=te;break;case"RENDITION-REPORT":var ie=new d.AttrList(O);g.renditionReports=g.renditionReports||[],g.renditionReports.push(ie);break;default:f.logger.warn("line parsed but not handled: "+u)}}}S&&!S.relurl?(v.pop(),C-=S.duration,g.partList&&(g.fragmentHint=S)):g.partList&&(a(M,S),M.cc=I,g.fragmentHint=M);var re=v.length,ne=v[0],oe=v[re-1];if((C+=g.skippedSegments*g.targetduration)>0&&re&&oe){g.averagetargetduration=C/re;var ae=oe.sn;g.endSN="initSegment"!==ae?ae:0,ne&&(g.startCC=ne.cc,ne.initSegment||g.fragments.every(function(e){return e.relurl&&r(e.relurl)})&&(f.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(M=new l.Fragment(n,t)).relurl=oe.relurl,M.level=i,M.sn="initSegment",ne.initSegment=M,g.needSidxRanges=!0))}else g.endSN=0,g.startCC=0;return g.fragmentHint&&(C+=g.fragmentHint.duration),g.totalduration=C,g.endCC=I,k>0&&function(e,t){for(var i=e[t],r=t;r--;){var n=e[r];if(!n)return;n.programDateTime=i.programDateTime-1e3*n.duration,i=n}}(v,k),g},e}()},"./src/loader/playlist-loader.ts":function(e,t,i){"use strict";function r(e,t){var i=e.url;return void 0!==i&&0!==i.indexOf("data:")||(i=t.url),i}i.r(t);var n=i("./src/polyfills/number.ts"),o=i("./src/events.ts"),a=i("./src/errors.ts"),s=i("./src/utils/logger.ts"),u=i("./src/utils/mp4-tools.ts"),l=i("./src/loader/m3u8-parser.ts"),c=i("./src/types/loader.ts"),h=i("./src/utils/attr-list.ts"),d=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(o.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(o.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(o.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,i=t.pLoader,r=t.loader,n=new(i||r)(t);return e.loader=n,this.loaders[e.type]=n,n},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var i=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:c.PlaylistContextType.MANIFEST,url:i,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var i=t.id,r=t.level,n=t.url,o=t.deliveryDirectives;this.load({id:i,groupId:null,level:r,responseType:"text",type:c.PlaylistContextType.LEVEL,url:n,deliveryDirectives:o})},t.onAudioTrackLoading=function(e,t){var i=t.id,r=t.groupId,n=t.url,o=t.deliveryDirectives;this.load({id:i,groupId:r,level:null,responseType:"text",type:c.PlaylistContextType.AUDIO_TRACK,url:n,deliveryDirectives:o})},t.onSubtitleTrackLoading=function(e,t){var i=t.id,r=t.groupId,n=t.url,o=t.deliveryDirectives;this.load({id:i,groupId:r,level:null,responseType:"text",type:c.PlaylistContextType.SUBTITLE_TRACK,url:n,deliveryDirectives:o})},t.load=function(e){var t,i,r,n,o,a,u=this.hls.config,l=this.getInternalLoader(e);if(l){var h=l.context;if(h&&h.url===e.url)return void s.logger.trace("[playlist-loader]: playlist request ongoing");s.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),l.abort()}switch(e.type){case c.PlaylistContextType.MANIFEST:i=u.manifestLoadingMaxRetry,r=u.manifestLoadingTimeOut,n=u.manifestLoadingRetryDelay,o=u.manifestLoadingMaxRetryTimeout;break;case c.PlaylistContextType.LEVEL:case c.PlaylistContextType.AUDIO_TRACK:case c.PlaylistContextType.SUBTITLE_TRACK:i=0,r=u.levelLoadingTimeOut;break;default:i=u.levelLoadingMaxRetry,r=u.levelLoadingTimeOut,n=u.levelLoadingRetryDelay,o=u.levelLoadingMaxRetryTimeout}if((l=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part)&&(e.type===c.PlaylistContextType.LEVEL&&null!==e.level?a=this.hls.levels[e.level].details:e.type===c.PlaylistContextType.AUDIO_TRACK&&null!==e.id?a=this.hls.audioTracks[e.id].details:e.type===c.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(a=this.hls.subtitleTracks[e.id].details),a)){var d=a.partTarget,f=a.targetduration;d&&f&&(r=Math.min(1e3*Math.max(3*d,.8*f),r))}var p={timeout:r,maxRetry:i,retryDelay:n,maxRetryDelay:o,highWaterMark:0},A={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};l.load(e,p,A)},t.loadsuccess=function(e,t,i,r){if(void 0===r&&(r=null),i.isSidxRequest)return this.handleSidxRequest(e,i),void this.handlePlaylistLoaded(e,t,i,r);this.resetInternalLoader(i.type);var n=e.data;0===n.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,i,r):this.handleMasterPlaylist(e,t,i,r)):this.handleManifestParsingError(e,i,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,i){void 0===i&&(i=null),this.handleNetworkError(t,i,!1,e)},t.loadtimeout=function(e,t,i){void 0===i&&(i=null),this.handleNetworkError(t,i,!0)},t.handleMasterPlaylist=function(e,t,i,n){var a=this.hls,u=e.data,c=r(e,i),d=l.default.parseMasterPlaylist(u,c),f=d.levels,p=d.sessionData;if(f.length){var A=f.map(function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}}),g=f.map(function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}}),m=l.default.parseMasterPlaylistMedia(u,c,"AUDIO",A),y=l.default.parseMasterPlaylistMedia(u,c,"SUBTITLES",g),v=l.default.parseMasterPlaylistMedia(u,c,"CLOSED-CAPTIONS");m.length&&(m.some(function(e){return!e.url})||!f[0].audioCodec||f[0].attrs.AUDIO||(s.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new h.AttrList({}),bitrate:0,url:""}))),a.trigger(o.Events.MANIFEST_LOADED,{levels:f,audioTracks:m,subtitles:y,captions:v,url:c,stats:t,networkDetails:n,sessionData:p})}else this.handleManifestParsingError(e,i,"no level found in manifest",n)},t.handleTrackOrLevelPlaylist=function(e,t,i,s){var u=this.hls,d=i.id,f=i.level,p=i.type,A=r(e,i),g=Object(n.isFiniteNumber)(d)?d:0,m=Object(n.isFiniteNumber)(f)?f:g,y=function(e){switch(e.type){case c.PlaylistContextType.AUDIO_TRACK:return c.PlaylistLevelType.AUDIO;case c.PlaylistContextType.SUBTITLE_TRACK:return c.PlaylistLevelType.SUBTITLE;default:return c.PlaylistLevelType.MAIN}}(i),v=l.default.parseLevelPlaylist(e.data,A,m,y,g);if(v.fragments.length){if(p===c.PlaylistContextType.MANIFEST){var E={attrs:new h.AttrList({}),bitrate:0,details:v,name:"",url:A};u.trigger(o.Events.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:A,stats:t,networkDetails:s,sessionData:null})}if(t.parsing.end=performance.now(),v.needSidxRanges){var w,b=null===(w=v.fragments[0].initSegment)||void 0===w?void 0:w.url;this.load({url:b,isSidxRequest:!0,type:p,level:f,levelDetails:v,id:d,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else i.levelDetails=v,this.handlePlaylistLoaded(e,t,i,s)}else u.trigger(o.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:A,reason:"no fragments found in level",level:"number"==typeof i.level?i.level:void 0})},t.handleSidxRequest=function(e,t){var i=Object(u.parseSegmentIndex)(new Uint8Array(e.data));if(i){var r=i.references,n=t.levelDetails;r.forEach(function(e,t){var r=e.info,o=n.fragments[t];0===o.byteRange.length&&o.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),o.initSegment&&o.initSegment.setByteRange(String(i.moovEndOffset)+"@0")})}},t.handleManifestParsingError=function(e,t,i,r){this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===c.PlaylistContextType.MANIFEST,url:e.url,reason:i,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,i,r){void 0===i&&(i=!1),s.logger.warn("[playlist-loader]: A network "+(i?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var n=a.ErrorDetails.UNKNOWN,u=!1,l=this.getInternalLoader(e);switch(e.type){case c.PlaylistContextType.MANIFEST:n=i?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case c.PlaylistContextType.LEVEL:n=i?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case c.PlaylistContextType.AUDIO_TRACK:n=i?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case c.PlaylistContextType.SUBTITLE_TRACK:n=i?a.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:a.ErrorDetails.SUBTITLE_LOAD_ERROR,u=!1}l&&this.resetInternalLoader(e.type);var h={type:a.ErrorTypes.NETWORK_ERROR,details:n,fatal:u,url:e.url,loader:l,context:e,networkDetails:t};r&&(h.response=r),this.hls.trigger(o.Events.ERROR,h)},t.handlePlaylistLoaded=function(e,t,i,r){var n=i.type,a=i.level,s=i.id,u=i.groupId,l=i.loader,h=i.levelDetails,d=i.deliveryDirectives;if(null!==h&&void 0!==h&&h.targetduration){if(l)switch(h.live&&(l.getCacheAge&&(h.ageHeader=l.getCacheAge()||0),l.getCacheAge&&!isNaN(h.ageHeader)||(h.ageHeader=0)),n){case c.PlaylistContextType.MANIFEST:case c.PlaylistContextType.LEVEL:this.hls.trigger(o.Events.LEVEL_LOADED,{details:h,level:a||0,id:s||0,stats:t,networkDetails:r,deliveryDirectives:d});break;case c.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(o.Events.AUDIO_TRACK_LOADED,{details:h,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:d});break;case c.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(o.Events.SUBTITLE_TRACK_LOADED,{details:h,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:d})}}else this.handleManifestParsingError(e,i,"invalid target duration",r)},e}();t.default=d},"./src/polyfills/number.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"isFiniteNumber",function(){return r}),i.d(t,"MAX_SAFE_INTEGER",function(){return n});var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},n=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,i){"use strict";i.r(t);var r=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,i){"use strict";i.r(t);var r=Math.pow(2,32)-1,n=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:i,audio:r};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))},e.box=function(e){for(var t=8,i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(var o=r.length,a=o;o--;)t+=r[o].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(r[o],t),t+=r[o].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,i){i*=t;var n=Math.floor(i/(r+1)),o=Math.floor(i%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,i,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,i))},e.moov=function(t){for(var i=t.length,r=[];i--;)r[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var i=t.length,r=[];i--;)r[i]=e.trex(t[i]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,i){i*=t;var n=Math.floor(i/(r+1)),o=Math.floor(i%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var i,r,n=t.samples||[],o=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)r=n[i].flags,o[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var i,r,n,o=[],a=[];for(i=0;i<t.sps.length;i++)n=(r=t.sps[i]).byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(r));for(i=0;i<t.pps.length;i++)n=(r=t.pps[i]).byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],h=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,h>>24,h>>16&255,h>>8&255,255&h])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var i=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var i=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var i=t.id,n=t.duration*t.timescale,o=t.width,a=t.height,s=Math.floor(n/(r+1)),u=Math.floor(n%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,i){var n=e.sdtp(t),o=t.id,a=Math.floor(i/(r+1)),s=Math.floor(i%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var i=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,i){var r,n,o,a,s,u,l=t.samples||[],c=l.length,h=12+16*c,d=new Uint8Array(h);for(i+=8+h,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),r=0;r<c;r++)o=(n=l[r]).duration,a=n.size,s=n.flags,u=n.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var i=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+i.byteLength);return r.set(e.FTYP),r.set(i,e.FTYP.byteLength),r},e}();n.types=void 0,n.HDLR_TYPES=void 0,n.STTS=void 0,n.STSC=void 0,n.STCO=void 0,n.STSZ=void 0,n.VMHD=void 0,n.SMHD=void 0,n.STSD=void 0,n.FTYP=void 0,n.DINF=void 0,t.default=n},"./src/remux/mp4-remuxer.ts":function(e,t,i){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e,t){var i;if(null===t)return e;for(i=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e}function o(e,t,i,r){var o=e.samples.length;if(o){for(var a=e.inputTimeScale,s=0;s<o;s++){var u=e.samples[s];u.pts=n(u.pts-i,t*a)/a,u.dts=n(u.dts-r,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function a(e,t,i){var r=e.samples.length;if(r){for(var o=e.inputTimeScale,a=0;a<r;a++){var s=e.samples[a];s.pts=n(s.pts-i,t*o)/o}e.samples.sort(function(e,t){return e.pts-t.pts});var u=e.samples;return e.samples=[],{samples:u}}}i.r(t),i.d(t,"default",function(){return y}),i.d(t,"normalizePts",function(){return n}),i.d(t,"flushTextTrackMetadataCueSamples",function(){return o}),i.d(t,"flushTextTrackUserdataCueSamples",function(){return a});var s=i("./src/polyfills/number.ts"),u=i("./src/remux/aac-helper.ts"),l=i("./src/remux/mp4-generator.ts"),c=i("./src/events.ts"),h=i("./src/errors.ts"),d=i("./src/utils/logger.ts"),f=i("./src/types/loader.ts"),p=i("./src/utils/timescale-conversion.ts"),A=null,g=null,m=!1,y=function(){function e(e,t,i,r){if(void 0===r&&(r=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=i,this.ISGenerated=!1,null===A){var n=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);A=n?parseInt(n[1]):0}if(null===g){var o=navigator.userAgent.match(/Safari\/(\d+)/i);g=o?parseInt(o[1]):0}m=!!A&&A<75||!!g&&g<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){d.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){d.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){d.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,i=e.reduce(function(e,i){var r=i.pts-e;return r<-4294967296?(t=!0,n(e,i.pts)):r>0?e:i.pts},e[0].pts);return t&&d.logger.debug("PTS rollover detected"),i},t.remux=function(e,t,i,r,s,u,l,c){var h,p,A,g,m,y,v=s,E=s,w=e.pid>-1,b=t.pid>-1,C=t.samples.length,I=e.samples.length>0,S=C>1;if((!w||I)&&(!b||S)||this.ISGenerated||l){this.ISGenerated||(A=this.generateIS(e,t,s));var M=this.isVideoContiguous,k=-1;if(S&&(k=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!M&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,k>0){d.logger.warn("[mp4-remuxer]: Dropped "+k+" out of "+C+" video samples due to a missing keyframe");var T=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(k),t.dropped+=k,E+=(t.samples[0].pts-T)/(t.timescale||9e4)}else-1===k&&(d.logger.warn("[mp4-remuxer]: No keyframe found out of "+C+" video samples"),y=!1);if(this.ISGenerated){if(I&&S){var D=this.getVideoStartPts(t.samples),B=(n(e.samples[0].pts,D)-D)/t.inputTimeScale;v+=Math.max(0,B),E+=Math.max(0,-B)}if(I){if(e.samplerate||(d.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),A=this.generateIS(e,t,s)),p=this.remuxAudio(e,v,this.isAudioContiguous,u,b||S||c===f.PlaylistLevelType.AUDIO?E:void 0),S){var R=p?p.endPTS-p.startPTS:0;t.inputTimeScale||(d.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),A=this.generateIS(e,t,s)),h=this.remuxVideo(t,E,M,R)}}else S&&(h=this.remuxVideo(t,E,M,0));h&&(h.firstKeyFrame=k,h.independent=-1!==k)}}return this.ISGenerated&&(i.samples.length&&(m=o(i,s,this._initPTS,this._initDTS)),r.samples.length&&(g=a(r,s,this._initPTS))),{audio:p,video:h,initSegment:A,independent:y,text:g,id3:m}},t.generateIS=function(e,t,i){var r,o,a,u=e.samples,c=t.samples,h=this.typeSupported,d={},f=!Object(s.isFiniteNumber)(this._initPTS),p="audio/mp4";if(f&&(r=o=1/0),e.config&&u.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":h.mpeg?(p="audio/mpeg",e.codec=""):h.mp3&&(e.codec="mp3")}d.audio={id:"audio",container:p,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&h.mpeg?new Uint8Array(0):l.default.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(a=e.inputTimeScale,r=o=u[0].pts-Math.round(a*i))}if(t.sps&&t.pps&&c.length&&(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:l.default.initSegment([t]),metadata:{width:t.width,height:t.height}},f)){a=t.inputTimeScale;var A=this.getVideoStartPts(c),g=Math.round(a*i);o=Math.min(o,n(c[0].dts,A)-g),r=Math.min(r,A-g)}if(Object.keys(d).length)return this.ISGenerated=!0,f&&(this._initPTS=r,this._initDTS=o),{tracks:d,initPTS:r,timescale:a}},t.remuxVideo=function(e,t,i,o){var a,s,u,f=e.inputTimeScale,g=e.samples,y=[],E=g.length,w=this._initPTS,b=this.nextAvcDts,C=8,I=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,M=0,k=!1;i&&null!==b||(b=t*f-(g[0].pts-n(g[0].dts,g[0].pts)));for(var T=0;T<E;T++){var D=g[T];D.pts=n(D.pts-w,b),D.dts=n(D.dts-w,b),D.dts>D.pts&&(M=Math.max(Math.min(M,D.pts-D.dts),-18e3)),D.dts<g[T>0?T-1:T].dts&&(k=!0)}k&&g.sort(function(e,t){var i=e.dts-t.dts,r=e.pts-t.pts;return i||r}),s=g[0].dts,u=g[g.length-1].dts;var B=Math.round((u-s)/(E-1));if(M<0){if(M<-2*B){d.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(p.toMsFromMpegTsClock)(-B,!0)+" ms");for(var R=M,Q=0;Q<E;Q++)g[Q].dts=R=Math.max(R,g[Q].pts-B),g[Q].pts=Math.max(R,g[Q].pts)}else{d.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(p.toMsFromMpegTsClock)(M,!0)+" ms to overcome this issue");for(var O=0;O<E;O++)g[O].dts=g[O].dts+M}s=g[0].dts}if(i){var L=s-b,x=L>B;if(x||L<-1){x?d.logger.warn("AVC: "+Object(p.toMsFromMpegTsClock)(L,!0)+" ms ("+L+"dts) hole between fragments detected, filling it"):d.logger.warn("AVC: "+Object(p.toMsFromMpegTsClock)(-L,!0)+" ms ("+L+"dts) overlapping between fragments detected"),s=b;var q=g[0].pts-L;g[0].dts=s,g[0].pts=q,d.logger.log("Video: First PTS/DTS adjusted: "+Object(p.toMsFromMpegTsClock)(q,!0)+"/"+Object(p.toMsFromMpegTsClock)(s,!0)+", delta: "+Object(p.toMsFromMpegTsClock)(L,!0)+" ms")}}m&&(s=Math.max(0,s));for(var K=0,U=0,F=0;F<E;F++){for(var j=g[F],N=j.units,J=N.length,G=0,Y=0;Y<J;Y++)G+=N[Y].data.length;U+=G,K+=J,j.length=G,j.dts=Math.max(j.dts,s),j.pts=Math.max(j.pts,j.dts,0),I=Math.min(j.pts,I),S=Math.max(j.pts,S)}u=g[E-1].dts;var P,z=U+4*K+8;try{P=new Uint8Array(z)}catch(e){return void this.observer.emit(c.Events.ERROR,c.Events.ERROR,{type:h.ErrorTypes.MUX_ERROR,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:z,reason:"fail allocating video mdat "+z})}var Z=new DataView(P.buffer);Z.setUint32(0,z),P.set(l.default.types.mdat,4);for(var W=0;W<E;W++){for(var V=g[W],H=V.units,X=0,_=0,$=H.length;_<$;_++){var ee=H[_],te=ee.data,ie=ee.data.byteLength;Z.setUint32(C,ie),C+=4,P.set(te,C),C+=ie,X+=4+ie}if(W<E-1)a=g[W+1].dts-V.dts;else{var re=this.config,ne=V.dts-g[W>0?W-1:W].dts;if(re.stretchShortVideoTrack&&null!==this.nextAudioPts){var oe=Math.floor(re.maxBufferHole*f),ae=(o?I+o*f:this.nextAudioPts)-V.pts;ae>oe?((a=ae-ne)<0&&(a=ne),d.logger.log("[mp4-remuxer]: It is approximately "+ae/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=ne}else a=ne}var se=Math.round(V.pts-V.dts);y.push(new v(V.key,a,X,se))}if(y.length&&A&&A<70){var ue=y[0].flags;ue.dependsOn=2,ue.isNonSync=0}console.assert(void 0!==a,"mp4SampleDuration must be computed"),this.nextAvcDts=b=u+a,this.isVideoContiguous=!0;var le={data1:l.default.moof(e.sequenceNumber++,s,r({},e,{samples:y})),data2:P,startPTS:I/f,endPTS:(S+a)/f,startDTS:s/f,endDTS:b/f,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(P.length,"MDAT length must not be zero"),le},t.remuxAudio=function(e,t,i,o,a){var s=e.inputTimeScale,f=s/(e.samplerate?e.samplerate:s),p="aac"===e.segmentCodec?1024:1152,A=p*f,g=this._initPTS,m="mp3"===e.segmentCodec&&this.typeSupported.mpeg,y=[],E=e.samples,w=m?0:8,b=this.nextAudioPts||-1,C=t*s;if(this.isAudioContiguous=i=i||E.length&&b>0&&(o&&Math.abs(C-b)<9e3||Math.abs(n(E[0].pts-g,C)-b)<20*A),E.forEach(function(e){e.pts=n(e.pts-g,C)}),!i||b<0){if(!(E=E.filter(function(e){return e.pts>=0})).length)return;b=0===a?0:o?Math.max(0,C):E[0].pts}if("aac"===e.segmentCodec)for(var I=void 0!==a,S=this.config.maxAudioFramesDrift,M=0,k=b;M<E.length;M++){var T=E[M],D=T.pts,B=D-k,R=Math.abs(1e3*B/s);if(B<=-S*A&&I)0===M&&(d.logger.warn("Audio frame @ "+(D/s).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*B/s)+" ms."),this.nextAudioPts=b=k=D);else if(B>=S*A&&R<1e4&&I){var Q=Math.round(B/A);(k=D-Q*A)<0&&(Q--,k+=A),0===M&&(this.nextAudioPts=b=k),d.logger.warn("[mp4-remuxer]: Injecting "+Q+" audio frame @ "+(k/s).toFixed(3)+"s due to "+Math.round(1e3*B/s)+" ms gap.");for(var O=0;O<Q;O++){var L=Math.max(k,0),x=u.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);x||(d.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),x=T.unit.subarray()),E.splice(M,0,{unit:x,pts:L}),k+=A,M++}}T.pts=k,k+=A}for(var q,K=null,U=null,F=0,j=E.length;j--;)F+=E[j].unit.byteLength;for(var N=0,J=E.length;N<J;N++){var G=E[N],Y=G.unit,P=G.pts;if(null!==U)y[N-1].duration=Math.round((P-U)/f);else{if(i&&"aac"===e.segmentCodec&&(P=b),K=P,!(F>0))return;F+=w;try{q=new Uint8Array(F)}catch(e){return void this.observer.emit(c.Events.ERROR,c.Events.ERROR,{type:h.ErrorTypes.MUX_ERROR,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating audio mdat "+F})}m||(new DataView(q.buffer).setUint32(0,F),q.set(l.default.types.mdat,4))}q.set(Y,w);var z=Y.byteLength;w+=z,y.push(new v(!0,p,z,0)),U=P}var Z=y.length;if(Z){var W=y[y.length-1];this.nextAudioPts=b=U+f*W.duration;var V=m?new Uint8Array(0):l.default.moof(e.sequenceNumber++,K/f,r({},e,{samples:y}));e.samples=[];var H=K/s,X=b/s,_={data1:V,data2:q,startPTS:H,endPTS:X,startDTS:H,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:Z};return this.isAudioContiguous=!0,console.assert(q.length,"MDAT length must not be zero"),_}},t.remuxEmptyAudio=function(e,t,i,r){var n=e.inputTimeScale,o=n/(e.samplerate?e.samplerate:n),a=this.nextAudioPts,s=(null!==a?a:r.startDTS*n)+this._initDTS,l=r.endDTS*n+this._initDTS,c=1024*o,h=Math.ceil((l-s)/c),f=u.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(d.logger.warn("[mp4-remuxer]: remux empty Audio"),f){for(var p=[],A=0;A<h;A++){var g=s+A*c;p.push({unit:f,pts:g,dts:g})}return e.samples=p,this.remuxAudio(e,t,i,!1)}d.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}(),v=function(e,t,i,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=i,this.cts=r,this.flags=new E(e)},E=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,i){"use strict";function r(e,t){var i=null===e||void 0===e?void 0:e.codec;return i&&i.length>4?i:"hvc1"===i?"hvc1.1.c.L120.90":"av01"===i?"av01.0.04M.08":"avc1"===i||t===s.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}i.r(t);var n=i("./src/polyfills/number.ts"),o=i("./src/remux/mp4-remuxer.ts"),a=i("./src/utils/mp4-tools.ts"),s=i("./src/loader/fragment.ts"),u=i("./src/utils/logger.ts"),l=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,i){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,i=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=Object(a.parseInitSegment)(e);t||(t=r(n.audio,s.ElementaryStreamTypes.AUDIO)),i||(i=r(n.video,s.ElementaryStreamTypes.VIDEO));var o={};n.audio&&n.video?o.audiovideo={container:"video/mp4",codec:t+","+i,initSegment:e,id:"main"}:n.audio?o.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?o.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:u.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o},t.remux=function(e,t,i,r,s){var l,h=this.initPTS,d=this.lastEndDTS,f={audio:void 0,video:void 0,text:r,id3:i,initSegment:void 0};Object(n.isFiniteNumber)(d)||(d=this.lastEndDTS=s||0);var p=t.samples;if(!p||!p.length)return f;var A={initPTS:void 0,timescale:1},g=this.initData;if(g&&g.length||(this.generateInitSegment(p),g=this.initData),!g||!g.length)return u.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(A.tracks=this.initTracks,this.emitInitSegment=!1),Object(n.isFiniteNumber)(h)||(this.initPTS=A.initPTS=h=c(g,p,d));var m=Object(a.getDuration)(p,g),y=d,v=m+y;Object(a.offsetStartDTS)(g,p,h),m>0?this.lastEndDTS=v:(u.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var E=!!g.audio,w=!!g.video,b="";E&&(b+="audio"),w&&(b+="video");var C={data1:p,startPTS:y,startDTS:y,endPTS:v,endDTS:v,type:b,hasAudio:E,hasVideo:w,nb:1,dropped:0};f.audio="audio"===C.type?C:void 0,f.video="audio"!==C.type?C:void 0,f.initSegment=A;var I=null!=(l=this.initPTS)?l:0;return f.id3=Object(o.flushTextTrackMetadataCueSamples)(i,s,I,I),r.samples.length&&(f.text=Object(o.flushTextTrackUserdataCueSamples)(r,s,I)),f},e}(),c=function(e,t,i){return Object(a.getStartDTS)(e,t)-i};t.default=l},"./src/task-loop.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var r=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){1==++this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/cmcd.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"CMCDVersion",function(){return a}),i.d(t,"CMCDObjectType",function(){return r}),i.d(t,"CMCDStreamingFormat",function(){return n}),i.d(t,"CMCDStreamType",function(){return o});var r,n,o,a=1;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(r||(r={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(n||(n={})),function(e){e.VOD="v",e.LIVE="l"}(o||(o={}))},"./src/types/level.ts":function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){var i=e.canSkipUntil,r=e.canSkipDateRanges,n=e.endSN;return i&&(void 0!==t?t-n:0)<i?r?o.v2:o.Yes:o.No}var o;i.r(t),i.d(t,"HlsSkip",function(){return o}),i.d(t,"getSkipValue",function(){return n}),i.d(t,"HlsUrlParameters",function(){return a}),i.d(t,"Level",function(){return s}),function(e){e.No="",e.Yes="YES",e.v2="v2"}(o||(o={}));var a=function(){function e(e,t,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=i}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter(function(e){return e}).join(",").replace(/\.[^.,]+/g,"")}return function(e,t,i){t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}]),e}()},"./src/types/loader.ts":function(e,t,i){"use strict";var r,n;i.r(t),i.d(t,"PlaylistContextType",function(){return r}),i.d(t,"PlaylistLevelType",function(){return n}),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(n||(n={}))},"./src/types/transmuxer.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ChunkMetadata",function(){return r});var r=function(e,t,i,r,n,o){void 0===r&&(r=0),void 0===n&&(n=-1),void 0===o&&(o=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=i,this.size=r,this.part=n,this.partial=o}},"./src/utils/attr-list.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"AttrList",function(){return o});var r=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var i in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(i)&&(this[i]=t[i])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var i=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)i[r]=parseInt(t.slice(2*r,2*r+2),16);return i}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var i=this[e];return i?parseFloat(i):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,i={};for(n.lastIndex=0;null!==(t=n.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),i[t[1]]=r}return i},e}()},"./src/utils/binary-search.ts":function(e,t,i){"use strict";i.r(t);t.default={search:function(e,t){for(var i=0,r=e.length-1,n=null,o=null;i<=r;){var a=t(o=e[n=(i+r)/2|0]);if(a>0)i=n+1;else{if(!(a<0))return o;r=n-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"BufferHelper",function(){return o});var r=i("./src/utils/logger.ts"),n={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function e(){}return e.isBuffered=function(t,i){try{if(t)for(var r=e.getBuffered(t),n=0;n<r.length;n++)if(i>=r.start(n)&&i<=r.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(t,i,r){try{if(t){var n,o=e.getBuffered(t),a=[];for(n=0;n<o.length;n++)a.push({start:o.start(n),end:o.end(n)});return this.bufferedInfo(a,i,r)}}catch(e){}return{len:0,start:i,end:i,nextStart:void 0}},e.bufferedInfo=function(e,t,i){t=Math.max(0,t),e.sort(function(e,t){return e.start-t.start||t.end-e.end});var r=[];if(i)for(var n=0;n<e.length;n++){var o=r.length;if(o){var a=r[o-1].end;e[n].start-a<i?e[n].end>a&&(r[o-1].end=e[n].end):r.push(e[n])}else r.push(e[n])}else r=e;for(var s,u=0,l=t,c=t,h=0;h<r.length;h++){var d=r[h].start,f=r[h].end;if(t+i>=d&&t<f)l=d,u=(c=f)-t;else if(t+i<d){s=d;break}}return{len:u,start:l||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return r.logger.log("failed to get media.buffered",e),n}},e}()},"./src/utils/cea-608-parser.ts":function(e,t,i){"use strict";function r(e,t,i){i.a=e,i.b=t}function n(e,t,i){return i.a===e&&i.b===t}i.r(t),i.d(t,"Row",function(){return E}),i.d(t,"CaptionScreen",function(){return w});var o,a=i("./src/utils/logger.ts"),s={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},u=function(e){var t=e;return s.hasOwnProperty(e)&&(t=s[e]),String.fromCharCode(t)},l=15,c=100,h={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},p={25:2,26:4,29:6,30:8,31:10,27:13,28:15},A=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(o||(o={}));var g=function(){function e(){this.time=null,this.verboseLevel=o.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&a.logger.log(this.time+" ["+e+"] "+t)},e}(),m=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toString(16));return t},y=function(){function e(e,t,i,r,n){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=i||!1,this.background=r||"black",this.flash=n||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],i=0;i<t.length;i++){var r=t[i];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),v=function(){function e(e,t,i,r,n,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new y(t,i,r,n,o)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),E=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<c;t++)this.chars.push(new v);this.logger=e,this.pos=0,this.currPenState=new y}var t=e.prototype;return t.equals=function(e){for(var t=!0,i=0;i<c;i++)if(!this.chars[i].equals(e.chars[i])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<c;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<c;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(o.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>c&&(this.logger.log(o.DEBUG,"Too large cursor position "+this.pos),this.pos=c)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=u(e);this.pos>=c?this.logger.log(o.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<c;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,i=0;i<c;i++){var r=this.chars[i].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),w=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<l;t++)this.rows.push(new E(e));this.logger=e,this.currRow=l-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<l;e++)this.rows[e].clear();this.currRow=l-1},t.equals=function(e){for(var t=!0,i=0;i<l;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<l;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<l;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(o.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(o.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var i=0;i<l;i++)this.rows[i].clear();var r=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var a=n.rows[r].cueStartTime,s=this.logger.time;if(a&&null!==s&&a<s)for(var u=0;u<this.nrRollUpRows;u++)this.rows[t-this.nrRollUpRows+u+1].copy(n.rows[r+u])}}this.currRow=t;var c=this.rows[this.currRow];if(null!==e.indent){var h=e.indent,d=Math.max(h-1,0);c.setCursor(e.indent),e.color=c.chars[d].penState.foreground}var f={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(f)},t.setBkgData=function(e){this.logger.log(o.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(o.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(o.INFO,"Rolling up")}else this.logger.log(o.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],i="",r=-1,n=0;n<l;n++){var o=this.rows[n].getTextString();o&&(r=n+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i},t.getTextAndFormat=function(){return this.rows},e}(),b=function(){function e(e,t,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new w(i),this.nonDisplayedMemory=new w(i),this.lastOutputScreen=new w(i),this.currRollUpRow=this.displayedMemory.rows[l-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[l-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(o.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(o.INFO,i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(o.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(o.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(o.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(o.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(o.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(o.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(o.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(o.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(o.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(o.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(o.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(o.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(o.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(o.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(o.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var i=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(o.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),C=function(){function e(e,t,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new g;this.channels=[null,new b(e,t,r),new b(e+1,i,r)],this.cmdHistory={a:null,b:null},this.logger=r}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var i,r,n,a=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(r=127&t[s],n=127&t[s+1],0!==r||0!==n){if(this.logger.log(o.DATA,"["+m([t[s],t[s+1]])+"] -> ("+m([r,n])+")"),(i=this.parseCmd(r,n))||(i=this.parseMidrow(r,n)),i||(i=this.parsePAC(r,n)),i||(i=this.parseBackgroundAttributes(r,n)),!i&&(a=this.parseChars(r,n))){var u=this.currentChannel;if(u&&u>0)this.channels[u].insertChars(a);else this.logger.log(o.WARNING,"No channel found yet. TEXT-MODE?")}i||a||this.logger.log(o.WARNING,"Couldn't parse cleaned data "+m([r,n])+" orig: "+m([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var i=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(n(e,t,i))return r(null,null,i),this.logger.log(o.DEBUG,"Repeated command ("+m([e,t])+") is dropped"),!0;var a=20===e||21===e||23===e?1:2,s=this.channels[a];return 20===e||21===e||28===e||29===e?32===t?s.ccRCL():33===t?s.ccBS():34===t?s.ccAOF():35===t?s.ccAON():36===t?s.ccDER():37===t?s.ccRU(2):38===t?s.ccRU(3):39===t?s.ccRU(4):40===t?s.ccFON():41===t?s.ccRDC():42===t?s.ccTR():43===t?s.ccRTD():44===t?s.ccEDM():45===t?s.ccCR():46===t?s.ccENM():47===t&&s.ccEOC():s.ccTO(t-32),r(e,t,i),this.currentChannel=a,!0},t.parseMidrow=function(e,t){var i=0;if((17===e||25===e)&&t>=32&&t<=47){if((i=17===e?1:2)!==this.currentChannel)return this.logger.log(o.ERROR,"Mismatch channel in midrow parsing"),!1;var r=this.channels[i];return!!r&&(r.ccMIDROW(t),this.logger.log(o.DEBUG,"MIDROW ("+m([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var i,o=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(n(e,t,o))return r(null,null,o),!0;var a=e<=23?1:2;i=t>=64&&t<=95?1===a?h[e]:f[e]:1===a?d[e]:p[e];var s=this.channels[a];return!!s&&(s.setPAC(this.interpretPAC(i,t)),r(e,t,o),this.currentChannel=a,!0)},t.interpretPAC=function(e,t){var i,r={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,r.underline=1==(1&i),i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((i-16)/2),r},t.parseChars=function(e,t){var i,n,a=null,s=null;(e>=25?(i=2,s=e-8):(i=1,s=e),s>=17&&s<=19)?(n=17===s?t+80:18===s?t+112:t+144,this.logger.log(o.INFO,"Special char '"+u(n)+"' in channel "+i),a=[n]):e>=32&&e<=127&&(a=0===t?[e]:[e,t]);if(a){var l=m(a);this.logger.log(o.DEBUG,"Char codes =  "+l.join(",")),r(e,t,this.cmdHistory)}return a},t.parseBackgroundAttributes=function(e,t){if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;var i,n={};16===e||24===e?(i=Math.floor((t-32)/2),n.background=A[i],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));var o=e<=23?1:2;return this.channels[o].setBkgData(n),r(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var i=this.channels[t];i&&i.cueSplitAtTime(e)}},e}();t.default=C},"./src/utils/codecs.ts":function(e,t,i){"use strict";function r(e,t){var i=o[t];return!!i&&!0===i[e.slice(0,4)]}function n(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}i.r(t),i.d(t,"isCodecType",function(){return r}),i.d(t,"isCodecSupportedInMp4",function(){return n});var o={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}}},"./src/utils/cues.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/utils/vttparser.ts"),n=i("./src/utils/webvtt-parser.ts"),o=i("./src/utils/texttrack-utils.ts"),a=/\s/,s={newCue:function(e,t,i,s){for(var u,l,c,h,d,f=[],p=self.VTTCue||self.TextTrackCue,A=0;A<s.rows.length;A++)if(c=!0,h=0,d="",!(u=s.rows[A]).isEmpty()){for(var g=0;g<u.chars.length;g++)a.test(u.chars[g].uchar)&&c?h++:(d+=u.chars[g].uchar,c=!1);u.cueStartTime=t,t===i&&(i+=1e-4),h>=16?h--:h++;var m=Object(r.fixLineBreaks)(d.trim()),y=Object(n.generateCueId)(t,i,m);e&&e.cues&&e.cues.getCueById(y)||((l=new p(t,i,m)).id=y,l.line=A+1,l.align="left",l.position=10+Math.min(80,10*Math.floor(8*h/32)),f.push(l))}return e&&f.length&&(f.sort(function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line}),f.forEach(function(t){return Object(o.addCueToTrack)(e,t)})),f}};t.default=s},"./src/utils/discontinuities.ts":function(e,t,i){"use strict";function r(e,t){for(var i=null,r=0,n=e.length;r<n;r++){var o=e[r];if(o&&o.cc===t){i=o;break}}return i}function n(e,t,i){return!(!t.details||!(i.endCC>i.startCC||e&&e.cc<i.startCC))}function o(e,t){var i=e.fragments,n=t.fragments;if(n.length&&i.length){var o=r(i,n[0].cc);return!o||o&&!o.startPTS?void f.logger.log("No frag in previous level to align on"):o}f.logger.log("No fragments to align")}function a(e,t){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}function s(e,t){for(var i=t.fragments,r=0,n=i.length;r<n;r++)a(i[r],e);t.fragmentHint&&a(t.fragmentHint,e),t.alignedSliding=!0}function u(e,t,i){t&&(function(e,t,i){if(n(e,i,t)){var r=o(i.details,t);r&&Object(d.isFiniteNumber)(r.start)&&(f.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),s(r.start,t))}}(e,i,t),!i.alignedSliding&&t.details&&l(i,t.details),i.alignedSliding||!t.details||i.skippedSegments||Object(p.adjustSliding)(t.details,i))}function l(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var i=t.fragments[0].programDateTime,r=e.fragments[0].programDateTime,n=(r-i)/1e3+t.fragments[0].start;n&&Object(d.isFiniteNumber)(n)&&(f.logger.log("Adjusting PTS using programDateTime delta "+(r-i)+"ms, sliding:"+n.toFixed(3)+" "+e.url+" "),s(n,e))}}function c(e,t){var i=e.programDateTime;if(i){var r=(i-t)/1e3;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function h(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var i=t.fragments[0].programDateTime-1e3*t.fragments[0].start;e.fragments.forEach(function(e){c(e,i)}),e.fragmentHint&&c(e.fragmentHint,i),e.alignedSliding=!0}}i.r(t),i.d(t,"findFirstFragWithCC",function(){return r}),i.d(t,"shouldAlignOnDiscontinuities",function(){return n}),i.d(t,"findDiscontinuousReferenceFrag",function(){return o}),i.d(t,"adjustSlidingStart",function(){return s}),i.d(t,"alignStream",function(){return u}),i.d(t,"alignPDT",function(){return l}),i.d(t,"alignFragmentByPDTDelta",function(){return c}),i.d(t,"alignMediaPlaylistByPDT",function(){return h});var d=i("./src/polyfills/number.ts"),f=i("./src/utils/logger.ts"),p=i("./src/controller/level-helper.ts")},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/utils/ewma.ts"),n=function(){function e(e,t,i){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(t)}var t=e.prototype;return t.update=function(e,t){var i=this.slow_,n=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new r.default(e,i.getEstimate(),i.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new r.default(t,n.getEstimate(),n.getTotalWeight()))},t.sample=function(e,t){var i=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/i;this.fast_.sample(i,r),this.slow_.sample(i,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=n},"./src/utils/ewma.ts":function(e,t,i){"use strict";i.r(t);var r=function(){function e(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=i}var t=e.prototype;return t.sample=function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,i){"use strict";function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){function i(){return n(e,arguments,function(e){return(Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(this).constructor)}if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)})(e)}function n(e,t,i){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,i){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return i&&o(n,i.prototype),n}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function s(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}function u(e,t){return new self.Request(e.url,t)}i.r(t),i.d(t,"fetchSupported",function(){return s});var l=i("./src/polyfills/number.ts"),c=i("./src/loader/load-stats.ts"),h=i("./src/demux/chunk-cache.ts"),d=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||u,this.controller=new self.AbortController,this.stats=new c.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,i){var r=this,n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();var o=function(e,t){var i={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(a({},e.headers))};return e.rangeEnd&&i.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),i}(e,this.controller.signal),s=i.onProgress,u="arraybuffer"===e.responseType,c=u?"byteLength":"length";this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){r.abortInternal(),i.onTimeout(n,e,r.response)},t.timeout),self.fetch(this.request).then(function(i){if(r.response=r.loader=i,!i.ok){var o=i.status,a=i.statusText;throw new f(a||"fetch, bad network response",o,i)}return n.loading.first=Math.max(self.performance.now(),n.loading.start),n.total=parseInt(i.headers.get("Content-Length")||"0"),s&&Object(l.isFiniteNumber)(t.highWaterMark)?r.loadProgressively(i,n,e,t.highWaterMark,s):u?i.arrayBuffer():i.text()}).then(function(o){var a=r.response;self.clearTimeout(r.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first),n.loaded=n.total=o[c];var u={url:a.url,data:o};s&&!Object(l.isFiniteNumber)(t.highWaterMark)&&s(n,e,o,a),i.onSuccess(u,n,e,a)}).catch(function(t){if(self.clearTimeout(r.requestTimeout),!n.aborted){var o=t&&t.code||0,a=t?t.message:null;i.onError({code:o,text:a},e,t?t.details:null)}})},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,i,r,n){void 0===r&&(r=0);var o=new h.default,a=e.body.getReader();return function s(){return a.read().then(function(a){if(a.done)return o.dataLength&&n(t,i,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var u=a.value,l=u.length;return t.loaded+=l,l<r||o.dataLength?(o.push(u),o.dataLength>=r&&n(t,i,o.flush(),e)):n(t,i,u,e),s()}).catch(function(){return Promise.reject()})}()},e}(),f=function(e){function t(t,i,r){var n;return(n=e.call(this,t)||this).code=void 0,n.details=void 0,n.code=i,n.details=r,n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}(t,e),t}(r(Error));t.default=d},"./src/utils/imsc1-ttml-parser.ts":function(e,t,i){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e,t,i,r,n){var a=Object(d.findBox)(new Uint8Array(e),["mdat"]);if(0!==a.length){var s=a.map(function(e){return Object(A.utf8ArrayToStr)(e)}),u=Object(g.toTimescaleFromScale)(t,1,i);try{s.forEach(function(e){return r(o(e,u))})}catch(e){n(e)}}else n(new Error("Could not parse IMSC1 mdat"))}function o(e,t){var i=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");var n={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(n).reduce(function(e,t){return e[t]=i.getAttribute("ttp:"+t)||n[t],e},{}),l="preserve"!==i.getAttribute("xml:space"),d=s(a(i,"styling","style")),f=s(a(i,"layout","region")),A=a(i,"body","[begin]");return[].map.call(A,function(e){var i=function e(t,i){return[].slice.call(t.childNodes).reduce(function(t,r,n){var o;return"br"===r.nodeName&&n?t+"\n":null!==(o=r.childNodes)&&void 0!==o&&o.length?e(r,i):i?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent},"")}(e,l);if(!i||!e.hasAttribute("begin"))return null;var n=h(e.getAttribute("begin"),o),a=h(e.getAttribute("dur"),o),s=h(e.getAttribute("end"),o);if(null===n)throw c(e);if(null===s){if(null===a)throw c(e);s=n+a}var A=new p.default(n-t,s-t,i);A.id=Object(m.generateCueId)(A.startTime,A.endTime,A.text);var g=f[e.getAttribute("region")],y=d[e.getAttribute("style")];A.position=10,A.size=80;var v=u(g,y,d),E=v.textAlign;if(E){var b=w[E];b&&(A.lineAlign=b),A.align=E}return r(A,v),A}).filter(function(e){return null!==e})}function a(e,t,i){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(i)):[]}function s(e){return e.reduce(function(e,t){var i=t.getAttribute("xml:id");return i&&(e[i]=t),e},{})}function u(e,t,i){var r="http://www.w3.org/ns/ttml#styling",n=null,o=null!==e&&void 0!==e&&e.hasAttribute("style")?e.getAttribute("style"):null;return o&&i.hasOwnProperty(o)&&(n=i[o]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(i,o){var a=l(t,r,o)||l(e,r,o)||l(n,r,o);return a&&(i[o]=a),i},{})}function l(e,t,i){return e&&e.hasAttributeNS(t,i)?e.getAttributeNS(t,i):null}function c(e){return new Error("Could not parse ttml timestamp "+e)}function h(e,t){if(!e)return null;var i=Object(f.parseTimeStamp)(e);return null===i&&(v.test(e)?i=function(e,t){var i=v.exec(e),r=(0|i[4])+(0|i[5])/t.subFrameRate;return 3600*(0|i[1])+60*(0|i[2])+(0|i[3])+r/t.frameRate}(e,t):E.test(e)&&(i=function(e,t){var i=E.exec(e),r=Number(i[1]);switch(i[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),i}i.r(t),i.d(t,"IMSC1_CODEC",function(){return y}),i.d(t,"parseIMSC1",function(){return n});var d=i("./src/utils/mp4-tools.ts"),f=i("./src/utils/vttparser.ts"),p=i("./src/utils/vttcue.ts"),A=i("./src/demux/id3.ts"),g=i("./src/utils/timescale-conversion.ts"),m=i("./src/utils/webvtt-parser.ts"),y="stpp.ttml.im1t",v=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,E=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,w={left:"start",center:"center",right:"end",start:"start",end:"end"}},"./src/utils/logger.ts":function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];i.forEach(function(t){s[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):o}(t)})}function n(e){if(self.console&&!0===e||"object"==typeof e){r(e,"debug","log","info","warn","error");try{s.log()}catch(e){s=a}}else s=a}i.r(t),i.d(t,"enableLogs",function(){return n}),i.d(t,"logger",function(){return u});var o=function(){},a={trace:o,debug:o,log:o,warn:o,info:o,error:o},s=a,u=a},"./src/utils/mediakeys-helper.ts":function(e,t,i){"use strict";var r;i.r(t),i.d(t,"KeySystems",function(){return r}),i.d(t,"requestMediaKeySystemAccess",function(){return n}),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(r||(r={}));var n="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,i){"use strict";function r(){return self.MediaSource||self.WebKitMediaSource}i.r(t),i.d(t,"getMediaSource",function(){return r})},"./src/utils/mp4-tools.ts":function(e,t,i){"use strict";function r(e){return String.fromCharCode.apply(null,e)}function n(e,t){var i=e[t]<<8|e[t+1];return i<0?65536+i:i}function o(e,t){var i=a(e,t);return i<0?4294967296+i:i}function a(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function s(e,t,i){e[t]=i>>24,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i}function u(e,t){var i=[];if(!t.length)return i;for(var n=e.byteLength,a=0;a<n;){var s=o(e,a),l=r(e.subarray(a+4,a+8)),c=s>1?a+s:n;if(l===t[0])if(1===t.length)i.push(e.subarray(a+8,c));else{var h=u(e.subarray(a+8,c),t.slice(1));h.length&&S.apply(i,h)}a=c}return i}function l(e){var t=u(e,["moov"])[0],i=t?t.length:null,r=u(e,["sidx"]);if(!r||!r[0])return null;var a=[],s=r[0],l=s[0],c=0===l?8:16,h=o(s,c);c+=4,c+=0===l?8:16,c+=2;var d=s.length+0,f=n(s,c);c+=2;for(var p=0;p<f;p++){var A=c,g=o(s,A);A+=4;var m=2147483647&g;if(1==(2147483648&g)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=o(s,A);A+=4,a.push({referenceSize:m,subsegmentDuration:y,info:{duration:y/h,start:d,end:d+m-1}}),d+=m,c=A+=4}return{earliestPresentationTime:0,timescale:h,version:l,referencesCount:f,references:a,moovEndOffset:i}}function c(e){for(var t=[],i=u(e,["moov","trak"]),n=0;n<i.length;n++){var a=i[n],s=u(a,["tkhd"])[0];if(s){var l=s[0],c=0===l?12:20,h=o(s,c),d=u(a,["mdia","mdhd"])[0];if(d){var f=o(d,c=0===(l=d[0])?12:20),p=u(a,["mdia","hdlr"])[0];if(p){var A=r(p.subarray(8,12)),g={soun:b.ElementaryStreamTypes.AUDIO,vide:b.ElementaryStreamTypes.VIDEO}[A];if(g){var m=u(a,["mdia","minf","stbl","stsd"])[0],y=void 0;m&&(y=r(m.subarray(12,16))),t[h]={timescale:f,type:g},t[g]={timescale:f,id:h,codec:y}}}}}}return u(e,["moov","mvex","trex"]).forEach(function(e){var i=o(e,4),r=t[i];r&&(r.default={duration:o(e,12),flags:o(e,20)})}),t}function h(e,t){return u(t,["moof","traf"]).reduce(function(t,i){var r=u(i,["tfdt"])[0],n=r[0],a=u(i,["tfhd"]).reduce(function(t,i){var a=o(i,4),s=e[a];if(s){var u=o(r,4);1===n&&(u*=Math.pow(2,32),u+=o(r,8));var l=u/(s.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t},null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t},null)||0}function d(e,t){for(var i=0,r=0,n=0,a=u(e,["moof","traf"]),s=0;s<a.length;s++){var c=a[s],h=u(c,["tfhd"])[0],d=t[o(h,4)];if(d){var p=d.default,A=o(h,0)|(null===p||void 0===p?void 0:p.flags),g=null===p||void 0===p?void 0:p.duration;8&A&&(g=o(h,2&A?12:8));for(var m=d.timescale||9e4,y=u(c,["trun"]),v=0;v<y.length;v++)!(i=f(y[v]))&&g&&(i=g*o(y[v],4)),d.type===b.ElementaryStreamTypes.VIDEO?r+=i/m:d.type===b.ElementaryStreamTypes.AUDIO&&(n+=i/m)}}if(0===r&&0===n){var E=l(e);if(null!==E&&void 0!==E&&E.references)return E.references.reduce(function(e,t){return e+t.info.duration||0},0)}return r||n}function f(e){var t=o(e,0),i=8;1&t&&(i+=4),4&t&&(i+=4);for(var r=0,n=o(e,4),a=0;a<n;a++)256&t&&(r+=o(e,i),i+=4),512&t&&(i+=4),1024&t&&(i+=4),2048&t&&(i+=4);return r}function p(e,t,i){u(t,["moof","traf"]).forEach(function(t){u(t,["tfhd"]).forEach(function(r){var n=o(r,4),a=e[n];if(a){var l=a.timescale||9e4;u(t,["tfdt"]).forEach(function(e){var t=e[0],r=o(e,4);if(0===t)r-=i*l,s(e,4,r=Math.max(r,0));else{r*=Math.pow(2,32),r+=o(e,8),r-=i*l,r=Math.max(r,0);var n=Math.floor(r/(I+1)),a=Math.floor(r%(I+1));s(e,4,n),s(e,8,a)}})}})})}function A(e){var t={valid:null,remainder:null},i=u(e,["moof"]);if(!i)return t;if(i.length<2)return t.remainder=e,t;var r=i[i.length-1];return t.valid=Object(w.sliceUint8)(e,0,r.byteOffset-8),t.remainder=Object(w.sliceUint8)(e,r.byteOffset-8),t}function g(e,t){var i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i}function m(e,t){var i=[],r=t.samples,n=t.timescale,s=t.id,l=!1;return u(r,["moof"]).map(function(c){var h=c.byteOffset-8;u(c,["traf"]).map(function(c){var d=u(c,["tfdt"]).map(function(e){var t=e[0],i=o(e,4);return 1===t&&(i*=Math.pow(2,32),i+=o(e,8)),i/n})[0];return void 0!==d&&(e=d),u(c,["tfhd"]).map(function(d){var f=o(d,4),p=16777215&o(d,0),A=0,g=0!=(16&p),m=0,E=0!=(32&p),w=8;f===s&&(0!=(1&p)&&(w+=8),0!=(2&p)&&(w+=4),0!=(8&p)&&(A=o(d,w),w+=4),g&&(m=o(d,w),w+=4),E&&(w+=4),"video"===t.type&&(l=function(e){if(!e)return!1;var t=e.indexOf("."),i=t<0?e:e.substring(0,t);return"hvc1"===i||"hev1"===i||"dvh1"===i||"dvhe"===i}(t.codec)),u(c,["trun"]).map(function(s){var u=s[0],c=16777215&o(s,0),d=0!=(1&c),f=0,p=0!=(4&c),g=0!=(256&c),E=0,w=0!=(512&c),C=0,I=0!=(1024&c),S=0!=(2048&c),M=0,k=o(s,4),T=8;d&&(f=o(s,T),T+=4),p&&(T+=4);for(var D=f+h,B=0;B<k;B++){if(g?(E=o(s,T),T+=4):E=A,w?(C=o(s,T),T+=4):C=m,I&&(T+=4),S&&(M=0===u?o(s,T):a(s,T),T+=4),t.type===b.ElementaryStreamTypes.VIDEO)for(var R=0;R<C;){var Q=o(r,D),O=31&r[D+=4];if(y(l,O))v(r.subarray(D,D+Q),e+M/n,i);D+=Q,R+=Q+4}e+=E/n}}))})})}),i}function y(e,t){return e?39===t||40===t:6===t}function v(e,t,i){var r=function(e){for(var t=e.byteLength,i=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return e;var n=t-i.length,o=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),o[r]=e[a];return o}(e),a=0;a++;for(var s=0,u=0,l=!1,c=0;a<r.length;){s=0;do{if(a>=r.length)break;s+=c=r[a++]}while(255===c);u=0;do{if(a>=r.length)break;u+=c=r[a++]}while(255===c);var h=r.length-a;if(!l&&4===s&&a<r.length){if(l=!0,181===r[a++]){var d=n(r,a);if(a+=2,49===d){var f=o(r,a);if(a+=4,1195456820===f){var p=r[a++];if(3===p){var A=r[a++],g=64&A,m=g?2+3*(31&A):0,y=new Uint8Array(m);if(g){y[0]=A;for(var v=1;v<m;v++)y[v]=r[a++]}i.push({type:p,payloadType:s,pts:t,bytes:y})}}}}}else if(5===s&&u<h){if(l=!0,u>16){for(var E=[],w=0;w<16;w++){var b=r[a++].toString(16);E.push(1==b.length?"0"+b:b),3!==w&&5!==w&&7!==w&&9!==w||E.push("-")}for(var I=u-16,S=new Uint8Array(I),M=0;M<I;M++)S[M]=r[a++];i.push({payloadType:s,pts:t,uuid:E.join(""),userData:Object(C.utf8ArrayToStr)(S),userDataBytes:S})}}else if(u<h)a+=u;else if(u>h)break}}function E(e){var t=e[0],i="",n="",a=0,s=0,u=0,l=0,c=0,h=0;if(0===t){for(;"\0"!==r(e.subarray(h,h+1));)i+=r(e.subarray(h,h+1)),h+=1;for(i+=r(e.subarray(h,h+1)),h+=1;"\0"!==r(e.subarray(h,h+1));)n+=r(e.subarray(h,h+1)),h+=1;n+=r(e.subarray(h,h+1)),h+=1,a=o(e,12),s=o(e,16),l=o(e,20),c=o(e,24),h=28}else if(1===t){a=o(e,h+=4);var d=o(e,h+=4),f=o(e,h+=4);for(h+=4,u=Math.pow(2,32)*d+f,Number.isSafeInteger(u)||(u=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=o(e,h),c=o(e,h+=4),h+=4;"\0"!==r(e.subarray(h,h+1));)i+=r(e.subarray(h,h+1)),h+=1;for(i+=r(e.subarray(h,h+1)),h+=1;"\0"!==r(e.subarray(h,h+1));)n+=r(e.subarray(h,h+1)),h+=1;n+=r(e.subarray(h,h+1)),h+=1}return{schemeIdUri:i,value:n,timeScale:a,presentationTime:u,presentationTimeDelta:s,eventDuration:l,id:c,payload:e.subarray(h,e.byteLength)}}i.r(t),i.d(t,"RemuxerTrackIdConfig",function(){return M}),i.d(t,"bin2str",function(){return r}),i.d(t,"readUint16",function(){return n}),i.d(t,"readUint32",function(){return o}),i.d(t,"readSint32",function(){return a}),i.d(t,"writeUint32",function(){return s}),i.d(t,"findBox",function(){return u}),i.d(t,"parseSegmentIndex",function(){return l}),i.d(t,"parseInitSegment",function(){return c}),i.d(t,"getStartDTS",function(){return h}),i.d(t,"getDuration",function(){return d}),i.d(t,"computeRawDurationFromSamples",function(){return f}),i.d(t,"offsetStartDTS",function(){return p}),i.d(t,"segmentValidRange",function(){return A}),i.d(t,"appendUint8Array",function(){return g}),i.d(t,"parseSamples",function(){return m}),i.d(t,"parseSEIMessageFromNALu",function(){return v}),i.d(t,"parseEmsg",function(){return E});var w=i("./src/utils/typed-array.ts"),b=i("./src/loader/fragment.ts"),C=i("./src/demux/id3.ts"),I=Math.pow(2,32)-1,S=[].push,M={video:1,audio:2,id3:3,text:4}},"./src/utils/output-filter.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var r=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,i){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}()},"./src/utils/texttrack-utils.ts":function(e,t,i){"use strict";function r(e,t){var i;try{i=new Event("addtrack")}catch(e){(i=document.createEvent("Event")).initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)}function n(e,t){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(i){u.logger.debug("[texttrack-utils]: "+i);var r=new self.TextTrackCue(t.startTime,t.endTime,t.text);r.id=t.id,e.addCue(r)}"disabled"===i&&(e.mode=i)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var i=e.cues.length;i--;)e.removeCue(e.cues[i]);"disabled"===t&&(e.mode=t)}function a(e,t,i){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var n=s(e.cues,t,i),o=0;o<n.length;o++)e.removeCue(n[o]);"disabled"===r&&(e.mode=r)}function s(e,t,i){var r=[],n=function(e,t){if(t<e[0].startTime)return 0;var i=e.length-1;if(t>e[i].endTime)return-1;for(var r=0,n=i;r<=n;){var o=Math.floor((n+r)/2);if(t<e[o].startTime)n=o-1;else{if(!(t>e[o].startTime&&r<i))return o;r=o+1}}return e[r].startTime-t<t-e[n].startTime?r:n}(e,t);if(n>-1)for(var o=n,a=e.length;o<a;o++){var s=e[o];if(s.startTime>=t&&s.endTime<=i)r.push(s);else if(s.startTime>i)return r}return r}i.r(t),i.d(t,"sendAddTrackEvent",function(){return r}),i.d(t,"addCueToTrack",function(){return n}),i.d(t,"clearCurrentCues",function(){return o}),i.d(t,"removeCuesInRange",function(){return a}),i.d(t,"getCuesInRange",function(){return s});var u=i("./src/utils/logger.ts")},"./src/utils/time-ranges.ts":function(e,t,i){"use strict";i.r(t);t.default={toString:function(e){for(var t="",i=e.length,r=0;r<i;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,i){"use strict";function r(e,t,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);var n=e*t*i;return r?Math.round(n):n}function n(e,t,i,n){return void 0===i&&(i=1),void 0===n&&(n=!1),r(e,t,1/i,n)}function o(e,t){return void 0===t&&(t=!1),r(e,1e3,1/s,t)}function a(e,t){return void 0===t&&(t=1),r(e,s,1/t)}i.r(t),i.d(t,"toTimescaleFromBase",function(){return r}),i.d(t,"toTimescaleFromScale",function(){return n}),i.d(t,"toMsFromMpegTsClock",function(){return o}),i.d(t,"toMpegTsClockFromTimescale",function(){return a});var s=9e4},"./src/utils/typed-array.ts":function(e,t,i){"use strict";function r(e,t,i){return Uint8Array.prototype.slice?e.slice(t,i):new Uint8Array(Array.prototype.slice.call(e,t,i))}i.r(t),i.d(t,"sliceUint8",function(){return r})},"./src/utils/vttcue.ts":function(e,t,i){"use strict";i.r(t),t.default=function(){function e(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var i=t.toLowerCase();return!!~e.indexOf(i)&&i}function t(t){return e(o,t)}function i(t){return e(a,t)}function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)e[a]=o[a]}return e}function n(e,n,o){var a=this,s={enumerable:!0};a.hasBeenReset=!1;var u="",l=!1,c=e,h=n,d=o,f=null,p="",A=!0,g="auto",m="start",y=50,v="middle",E=50,w="middle";Object.defineProperty(a,"id",r({},s,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(a,"pauseOnExit",r({},s,{get:function(){return l},set:function(e){l=!!e}})),Object.defineProperty(a,"startTime",r({},s,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},s,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},s,{get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},s,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},s,{get:function(){return p},set:function(e){var i=t(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");p=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},s,{get:function(){return A},set:function(e){A=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},s,{get:function(){return g},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},s,{get:function(){return m},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},s,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},s,{get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},s,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},s,{get:function(){return w},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),a.displayState=void 0}if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var o=["","lr","rl"],a=["start","middle","end","left","right"];return n.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},n}()},"./src/utils/vttparser.ts":function(e,t,i){"use strict";function r(e){function t(e,t,i,r){return 3600*(0|e)+60*(0|t)+(0|i)+parseFloat(r||0)}var i=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?t(i[2],i[3],0,i[4]):t(i[1],i[2],i[3],i[4]):null}function n(e,t,i,r){var n=r?e.split(r):[e];for(var o in n)if("string"==typeof n[o]){var a=n[o].split(i);if(2===a.length)t(a[0],a[1])}}function o(e,t,i){function o(){var t=r(e);if(null===t)throw new Error("Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}var s=e;if(a(),t.startTime=o(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.slice(3),a(),t.endTime=o(),a(),function(e,t){var r=new l;n(e,function(e,t){var n;switch(e){case"region":for(var o=i.length-1;o>=0;o--)if(i[o].id===t){r.set(e,i[o].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":n=t.split(","),r.integer(e,n[0]),r.percent(e,n[0])&&r.set("snapToLines",!1),r.alt(e,n[0],["auto"]),2===n.length&&r.alt("lineAlign",n[1],["start",h,"end"]);break;case"position":n=t.split(","),r.percent(e,n[0]),2===n.length&&r.alt("positionAlign",n[1],["start",h,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",h,"end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var o=r.get("line","auto");"auto"===o&&-1===c.line&&(o=-1),t.line=o,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",h);var a=r.get("position","auto");"auto"===a&&50===c.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function a(e){return e.replace(/<br(?: \/)?>/gi,"\n")}i.r(t),i.d(t,"parseTimeStamp",function(){return r}),i.d(t,"fixLineBreaks",function(){return a}),i.d(t,"VTTParser",function(){return d});var s=i("./src/utils/vttcue.ts"),u=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}(),l=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1},e}(),c=new s.default(0,0,""),h="middle"===c.align?"middle":"center",d=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new u,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){function t(){var e=i.buffer,t=0;for(e=a(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.slice(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.slice(t),r}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var r="";if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var u=(r=t()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:r=t(),i.state){case"HEADER":/:/.test(r)?n(r,function(e,t){},/:/):r||(i.state="ID");continue;case"NOTE":r||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){i.state="NOTE";break}if(!r)continue;if(i.cue=new s.default(0,0,""),i.state="CUE",-1===r.indexOf("--\x3e")){i.cue.id=r;continue}case"CUE":if(!i.cue){i.state="BADCUE";continue}try{o(r,i.cue,i.regionList)}catch(e){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var c=-1!==r.indexOf("--\x3e");if(!r||c&&(l=!0)){i.oncue&&i.cue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}if(null===i.cue)continue;i.cue.text&&(i.cue.text+="\n"),i.cue.text+=r;continue;case"BADCUE":r||(i.state="ID")}}}catch(e){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":function(e,t,i){"use strict";function r(e,t,i){return f(e.toString())+f(t.toString())+f(i)}function n(e,t,i,n,o,f,A,g){var m,y=new a.VTTParser,v=Object(s.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(c,"\n").split("\n"),E=[],w=Object(u.toMpegTsClockFromTimescale)(t,i),b="00:00.000",C=0,I=0,S=!0;y.oncue=function(e){var t=n[o],i=n.ccOffset,a=(C-w)/9e4;null!==t&&void 0!==t&&t.new&&(void 0!==I?i=n.ccOffset=t.start:p(n,o,a)),a&&(i=a-n.presentationOffset);var s=e.endTime-e.startTime,u=Object(l.normalizePts)(9e4*(e.startTime+i-I),9e4*f)/9e4;e.startTime=u,e.endTime=u+s;var c=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(c)),e.id||(e.id=r(e.startTime,e.endTime,c)),e.endTime>0&&E.push(e)},y.onparsingerror=function(e){m=e},y.onflush=function(){m?g(m):A(E)},v.forEach(function(e){if(S){if(h(e,"X-TIMESTAMP-MAP=")){S=!1,e.slice(16).split(",").forEach(function(e){h(e,"LOCAL:")?b=e.slice(6):h(e,"MPEGTS:")&&(C=parseInt(e.slice(7)))});try{I=d(b)/1e3}catch(e){m=e}return}""===e&&(S=!1)}y.parse(e+"\n")}),y.flush()}i.r(t),i.d(t,"generateCueId",function(){return r}),i.d(t,"parseWebVTT",function(){return n});var o=i("./src/polyfills/number.ts"),a=i("./src/utils/vttparser.ts"),s=i("./src/demux/id3.ts"),u=i("./src/utils/timescale-conversion.ts"),l=i("./src/remux/mp4-remuxer.ts"),c=/\r\n|\n\r|\n|\r/g,h=function(e,t,i){return void 0===i&&(i=0),e.slice(i,i+t.length)===t},d=function(e){var t=parseInt(e.slice(-3)),i=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),n=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!(Object(o.isFiniteNumber)(t)&&Object(o.isFiniteNumber)(i)&&Object(o.isFiniteNumber)(r)&&Object(o.isFiniteNumber)(n)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*i,(t+=6e4*r)+36e5*n},f=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()},p=function(e,t,i){var r=e[t],n=e[r.prevCC];if(!n||!n.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!==(o=n)&&void 0!==o&&o.new;){var o;e.ccOffset+=r.start-n.start,r.new=!1,n=e[(r=n).prevCC]}e.presentationOffset=i}},"./src/utils/xhr-loader.ts":function(e,t,i){"use strict";i.r(t);var r=i("./src/utils/logger.ts"),n=i("./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,a=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new n.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var i=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(i,t.url)}catch(e){i.open("GET",t.url,!0),n(i,t.url)}i.readyState||i.open("GET",t.url,!0);var o=this.context.headers;if(o)for(var a in o)i.setRequestHeader(a,o[a])}catch(e){return void this.callbacks.onError({code:i.status,text:e.message},t,i)}t.rangeEnd&&i.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),i.onreadystatechange=this.readystatechange.bind(this),i.onprogress=this.loadprogress.bind(this),i.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),i.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,i=this.stats;if(e&&t){var n=t.readyState,o=this.config;if(!i.aborted&&n>=2)if(self.clearTimeout(this.requestTimeout),0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start)),4===n){t.onreadystatechange=null,t.onprogress=null;var a=t.status;if(a>=200&&a<300){var s,u,l;if(i.loading.end=Math.max(self.performance.now(),i.loading.first),"arraybuffer"===e.responseType?(l=(s=t.response).byteLength,u=s.slice(0)):(s=t.responseText,u=t.responseText,l=s.length),i.loaded=i.total=l,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(i,e,s,t),!this.callbacks)return;var h={url:t.responseURL,data:u};this.callbacks.onSuccess(h,i,e,t)}else i.retry>=o.maxRetry||a>=400&&a<499?(r.logger.error(a+" while loading "+e.url),console.log("this.callbacks",this.callbacks.onError),this.callbacks.onError({code:a,text:t.statusText},e,t)):(r.logger.warn(a+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),i.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.timeout)}},t.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},t.deepClone=function(e){var t=Object.prototype.toString;if(!e||"object"!=typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if("[object Date]"===t.call(e))return new Date(e.getTime());if("[object RegExp]"===t.call(e)){var i=[];return e.global&&i.push("g"),e.multiline&&i.push("m"),e.ignoreCase&&i.push("i"),new RegExp(e.source,i.join(""))}var r=Array.isArray(e)?[]:e.constructor?new e.constructor:{};for(var n in e)r[n]=this.deepClone(e[n]);return r},e}();t.default=a}}).default}),function(e,t,i){if(t&&i&&i.isSupported()){var r=function(e,r){var n,o,a,s=this,u={},l=!1,c=!1,h=!1,d=r.el(),f=r.hls=new i(r.options_.hlsJs||{}),p=0,A=function(){c&&(!h||h&&0===s.duration()&&!1===f.config.autoStartLoad)&&f.startLoad(),h=!0},g=function(e){var t=Date.now();if(!o||3e3<t-o)o=t,f.recoverMediaError();else if(!a||3e3<t-a)a=t,f.swapAudioCodec(),f.recoverMediaError();else{if(l)return;l=!0,r.error=function(){return e},r.trigger("error")}};return f.isHlsJs=!0,!1===f.config.autoStartLoad&&d.addEventListener("play",A),f.on(i.Events.MANIFEST_LOADED,function(){c=!0,h&&!1===f.config.autoStartLoad&&A()}),f.on(i.Events.LEVEL_LOADED,function(e,t){n=t.details.live?1/0:t.details.totalduration,p=t.details.fragments&&t.details.fragments[0]&&t.details.fragments[0].start||p}),f.on(i.Events.ERROR,function(t,n){var o=function(){l=!0,r.error=function(){return n},r.trigger("error")};if(!l&&n.fatal)switch(u[n.type]=u[n.type]||0,++u[n.type],n.type){case i.ErrorTypes.NETWORK_ERROR:if(2<u[n.type])return void o();if([i.ErrorDetails.MANIFEST_LOAD_ERROR,i.ErrorDetails.MANIFEST_LOAD_TIMEOUT,i.ErrorDetails.MANIFEST_PARSING_ERROR].some(function(e){return e===n.details}))return void f.loadSource(e.src);f.startLoad();break;case i.ErrorTypes.MEDIA_ERROR:g();break;default:o()}}),f.attachMedia(d),f.loadSource(e.src),s.dispose=function(){d.removeEventListener("play",A),f.destroy()},s.duration=function(){return n||d.duration||0},s.seekable=function(){return t.createTimeRange(p,d.seekable.length&&d.seekable.end(0)||d.duration)},s};(t.getTech&&t.getTech("Html5")||t.getComponent&&t.getComponent("Html5")).registerSourceHandler({canHandleSource:function(e,t){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e.type)&&!1!==(t.hlsJs||{}).shouldHandle?"probably":""},handleSource:function(e,t){return new r(e,t)}},0)}}(window,window.videojs,window.Hls),function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}({"+8RM":function(e,t){e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzI9JUk9AAABfAAAAFZjbWFw59e3twAAAdwAAAFwZ2x5ZjuR1XQAAANUAAABCGhlYWQXkug7AAAA4AAAADZoaGVhCPUEugAAALwAAAAkaG10eAk3AAAAAAHUAAAACGxvY2EAhAAAAAADTAAAAAZtYXhwAREAYAAAARgAAAAgbmFtZT5U/n0AAARcAAACbXBvc3Tm7Ml9AAAGzAAAADEAAQAAA4D/gABcBTcAAAAABRcAAQAAAAAAAAAAAAAAAAAAAAIAAQAAAAEAAJn9rONfDzz1AAsEAAAAAADZrlIfAAAAANmuUh8AAP+RBRcDbwAAAAgAAgAAAAAAAAABAAAAAgBUAAUAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQScAZAABQAIAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5q/mrwOA/4AAXAOAAIAAAAABAAAAAAAABAAAAAU3AAAAAAAFAAAAAwAAACwAAAAEAAABVAABAAAAAABOAAMAAQAAACwAAwAKAAABVAAEACIAAAAEAAQAAQAA5q///wAA5q///wAAAAEABAAAAAEAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAABwAAAAAAAAAAQAA5q8AAOavAAAAAQAAAAAAhAAAAAUAAP+RBRcDbwAXAC8AOwBHAFMAAAEjJyYjISIPASMOAQcRHgEXIT4BNxEuAQMUBiMhIiYnET4BOwEyPwEhFxY7ATIWFQUOAQceARc+ATcuAQMuASc+ATceARcOAQEjDgEUFjsBMjY0JgSmoFYKDv4JDgpYnzA/AgI/MAQUMD8BAT8DGhP77BQZAQEZFK4OClcB2lcKDq4TGv3JZIMDA4RjY4QDA4RjR14CAl5HR14CAl4BfUMOExMOQw4TEwMKWgoKWgFAMf1rMEABAUAwApUwQfz6FBoaFAKVFBsKWloKGxRbAoRkY4QCAoRjZIT+cgFfRkdfAQFfR0ZfAbwBEh0TEx0SAAAAAAAAEgDeAAEAAAAAAAAAFQAAAAEAAAAAAAEACAAVAAEAAAAAAAIABwAdAAEAAAAAAAMACAAkAAEAAAAAAAQACAAsAAEAAAAAAAUACwA0AAEAAAAAAAYACAA/AAEAAAAAAAoAKwBHAAEAAAAAAAsAEwByAAMAAQQJAAAAKgCFAAMAAQQJAAEAEACvAAMAAQQJAAIADgC/AAMAAQQJAAMAEADNAAMAAQQJAAQAEADdAAMAAQQJAAUAFgDtAAMAAQQJAAYAEAEDAAMAAQQJAAoAVgETAAMAAQQJAAsAJgFpCkNyZWF0ZWQgYnkgaWNvbmZvbnQKaWNvbmZvbnRSZWd1bGFyaWNvbmZvbnRpY29uZm9udFZlcnNpb24gMS4waWNvbmZvbnRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQAKAEMAcgBlAGEAdABlAGQAIABiAHkAIABpAGMAbwBuAGYAbwBuAHQACgBpAGMAbwBuAGYAbwBuAHQAUgBlAGcAdQBsAGEAcgBpAGMAbwBuAGYAbwBuAHQAaQBjAG8AbgBmAG8AbgB0AFYAZQByAHMAaQBvAG4AIAAxAC4AMABpAGMAbwBuAGYAbwBuAHQARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgECAQMAB3BpY3R1cmUAAAAAAA=="},"+olj":function(e,t,i){"use strict";i.d(t,"a",function(){return l});var r=i("jxY5"),n=i.n(r),o=i("FhoZ"),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n.a.loading,u=n.a.logoGif,l={methods:{initVideoEle:function(){var e=this;this.noSingleEle&&this.noSingleEle.parentNode&&this.noSingleEle.parentNode.removeChild(this.noSingleEle),this.videoEle=this.$el.querySelector("video"),this.videoEle&&this.videoEle.parentNode&&this.videoEle.parentNode.removeChild(this.videoEle),this._videoId=this.getUUID().split("-").join(""),this.videoUrl.startsWith("webrtc")||(this.videoEle=document.createElement("video"),this.videoEle.setAttribute("playsinline","playsinline"),this.poster&&!this.videoUrl.includes(".mp4")&&this.videoEle.setAttribute("poster",this.poster),this.videoEle.setAttribute("muted","true"),this.videoEle.setAttribute("id",this._videoId),this.videoEle.setAttribute("ref","easyPlayer"),this.videoEle.setAttribute("x5-playsinline","true"),this.videoEle.setAttribute("x5-crossOrigin","anonymous"),this.videoEle.setAttribute("x5-video-player-type","h5"),this.videoEle.setAttribute("webkit-playsinline","true"),this.videoEle.setAttribute("x5-video-player-fullscreen","true"),this.videoEle.classList="video-js vjs-default-skin vjs-big-play-centered magic-video",this.videoEle.style="width:100%;height: 100%");var t=parseInt(this.easyVideoPlayerInnerEle.offsetWidth);this.easyPlayerLoadingEle=document.createElement("div");var i=document.createElement("img"),r=document.createElement("div");this.easyPlayerLoadingEle.setAttribute("ref","loadingPage"),this.easyPlayerLoadingEle.classList="easy-player-loading",r.classList="loading-text",r.setAttribute("ref","loadingText"),r.innerHTML="加载中...",i.classList="logo",t<625?(i.style="width:90px;height:90px;line-height: 24px;",r.style.height="24px",this.$refs.loadingTextInfo.style.fontSize="10px"):(i.style.width="180px",i.style.height="180px",r.style.height="24px",this.$refs.loadingTextInfo.style.fontSize="12px"),i.setAttribute("src",this.showEnterprise?n.a.logoGif:n.a.loading),this.easyPlayerLoadingEle.appendChild(i),this.easyPlayerLoadingEle.appendChild(r),this.videoEle&&this.easyVideoPlayerInnerEle.appendChild(this.videoEle),setTimeout(function(){var t=i.src;return e.showEnterprise&&t.indexOf(u)===-1?e.destroyPlayer():e.showEnterprise||t.indexOf(s)!==-1?void 0:e.destroyPlayer()},1e3)},_createVideoLoadingEle:function(){document.getElementById(this._videoId).appendChild(this.easyPlayerLoadingEle)},_createVideoPlayBtnEle:function(){var e=this;if(!this.autoplay){var t=document.getElementById(this._videoId),i=document.createElement("div"),r=document.createElement("span");i.classList="easy-big-play-button easy-play-btn",i.style="display:flex;flex-direction: row;justify-content:centet;align-items: center;z-index:50",r.classList="iconfont icon-bofang easy-play-btn-bofang",i.appendChild(r),t.appendChild(i);var n=this.$el.querySelector(".easy-big-play-button");n.onclick=function(){var i=e.playerOption.type;e.easyPlayer.src({src:e.videoUrl,type:i}),e.easyPlayer.load(),setTimeout(function(){return e.easyPlayer.play()},200),t.removeChild(n),n=null,setTimeout(function(){return e.setHLSListener()},200),setTimeout(function(){return e.setFlvPlayerListener(e.easyPlayer)},200)}}},createPlayerMenusBtn:function(){var e=this,t=this.easyPlayer.controlBar.el_,i=t.getElementsByClassName("vjs-fullscreen-control"),r=a(i,1)[0],n=document.createElement("button");n.className="vjs-control vjs-button vjs-stretch-control",n.type="button",n.title="拉伸模式",n.innerText=this.stretch?"拉伸":"标准",n.addEventListener("click",function(){e.stretch=!e.stretch,n.innerText=e.stretch?"拉伸":"标准"}),t.insertBefore(n,r),this.luXiangEle=document.createElement("span"),this.luXiangEle.title="录像",this.luXiangEle.style="font-size:16px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;",this.luXiangEle.classList="iconfont  icon-luxiang2",this.luXiangEle.onclick=function(){e._recordingUIChange()},t.insertBefore(this.luXiangEle,r);var o=document.createElement("button");if(o.className="vjs-control vjs-button vjs-snapshot-control",o.type="button",o.title="快照",o.innerHTML='<span class="iconfont icon-xiangji"></span>',t.insertBefore(o,r),o.addEventListener("click",function(){e.saveLocalSnapshot()}),!this.videoUrl.includes(".mp4")){var s=document.createElement("span");s.className="vjs-control vjs-button vjs-bitrate-control",s.type="span",s.title="码率",s.style="line-height: 30px;width: 75px",t.insertBefore(s,n)}},setFLVListener:function(){this.createKbps(Math.ceil(8*this.easyPlayer.tech_.flvPlayer._transmuxer._controller._ioctl._speedSampler.averageKBps))},createKbps:function(e){e=e>1024?(e/1024).toFixed(2)+" Mb/s":e.toFixed(2)+" Kb/s",this.$el.querySelector(".vjs-bitrate-control").innerHTML=e},showVersion:function(){var e=this,t=this.$refs.easyH5Player,i=this.$el.querySelector(".easy-video-player-inner");i&&i.setAttribute("oncontextmenu","return false"),t.oncontextmenu=function(t){var i={left:t.offsetX+"px",top:t.offsetY+"px",pointerEvents:"auto"};e.showRightMenu=!0,e.versionStyle=Object.assign(e.versionStyle,i)},t.onclick=function(){e.showRightMenu=!1,e.versionStyle=Object.assign(e.versionStyle,{pointerEvents:"none"})}},onTouchCopyVideoSrc:function(){var e=document.createElement("input");document.body.appendChild(e),e.value=this.videoUrl,e.select(),document.execCommand&&(document.execCommand("copy"),document.body.removeChild(e))},onTouchRightMenuClose:function(){var e=this;this.videoUrl&&(this.$emit("change",""),this.$emit("rightMenuClose"),this.$nextTick(function(){document.getElementById(e._videoId)&&e.destroyPlayer()}))},saveLocalSnapshot:function(){var e=new Date,t="EasyPlayer-"+e.getFullYear()+(e.getMonth()+1)+e.getDate()+e.getHours()+e.getMinutes()+e.getSeconds()+".png",i="png";switch(t){case t.indexOf("png")>-1:i="png";break;case t.indexOf("jpg")>-1:i="jpg";break;case t.indexOf("jpeg")>-1:i="jpeg";break;case t.indexOf("bmp")>-1:i="bmp";break;case t.indexOf("gif")>-1:i="gif";break;default:i="png"}var r=void 0,n=void 0,o=a(this.easyPlayer.el_.children,1)[0];if(o&&o.tagName.toUpperCase()==="object".toUpperCase()?r=o.vjs_snap():((n=window.canvas=document.createElement("canvas")).width=o.videoWidth,n.height=o.videoHeight,n.getContext("2d").drawImage(o,0,0,n.width,n.height),r=n.toDataURL("image/"+i)),this.isCacheCleanUp)return this.restartSnapshot=r;for(var s=r.split(","),u=s[0].match(/:(.*?);/)[1],l=atob(s[1]),c=l.length,h=new Uint8Array(c);c--;)h[c]=l.charCodeAt(c);var d=new Blob([h],{type:u}),f=window.URL.createObjectURL(d),p=document.createElement("a");p.style.display="none",p.href=f,p.download=t,p.click(),document.body.appendChild(p),setTimeout(function(){document.body.removeChild(p),window.URL.revokeObjectURL(f)},1e3)}}}},"+wZ5":function(e,t,i){"use strict";var r,n=t,o=i("JSLd"),a=i("OJ8B"),s=i("UXd7").assert;function u(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var i=new u(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:i}),i}})}n.PresetCurve=u,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=i("3Ngr")}catch(e){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},"/TTR":function(e,t,i){var r=i("g38Z");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0};i("uOJK")(r,n);r.locals&&(e.exports=r.locals)},"/gF+":function(e,t,i){var r=i("DLTi").Buffer,n=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,i,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],n=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),i=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,i&&(r[0]=r[0]^225<<24)}this.state=o(n)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,n],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},"/sSn":function(e,t,i){"use strict";var r=i("z2li");function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(n,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(n,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},0:function(e,t,i){e.exports=i("8liJ")},"0I3d":function(e,t,i){"use strict";var r=i("DLTi").Buffer,n=i("WTPY").Transform;function o(e){n.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i("mwrz")(o,n),o.prototype._transform=function(e,t,i){var r=null;try{this.update(e,t)}catch(e){r=e}i(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var i=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)i[o++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)i[this._blockOffset++]=e[n++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},"0Nqt":function(e,t){},1:function(e,t){},"183T":function(e,t,i){var r=i("DLTi").Buffer,n=i("YHLM"),o=i("qve+").ec,a=i("UjI3"),s=i("D380");function u(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,i,l,c){var h=a(i);if("ec"===h.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(e,t,i){var r=s[i.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var n=new o(r),a=i.data.subjectPrivateKey.data;return n.verify(t,e,a)}(e,t,h)}if("dsa"===h.type){if("dsa"!==l)throw new Error("wrong public key type");return function(e,t,i){var r=i.data.p,o=i.data.q,s=i.data.g,l=i.data.pub_key,c=a.signature.decode(e,"der"),h=c.s,d=c.r;u(h,o),u(d,o);var f=n.mont(r),p=h.invm(o);return 0===s.toRed(f).redPow(new n(t).mul(p).mod(o)).fromRed().mul(l.toRed(f).redPow(d.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(d)}(e,t,h)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");t=r.concat([c,t]);for(var d=h.modulus.byteLength(),f=[1],p=0;t.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var A=-1;++A<t.length;)f.push(t[A]);f=r.from(f);var g=n.mont(h.modulus);e=(e=new n(e).toRed(g)).redPow(new n(h.publicExponent)),e=r.from(e.fromRed().toArray());var m=p<8?1:0;for(d=Math.min(e.length,f.length),e.length!==f.length&&(m=1),A=-1;++A<d;)m|=e[A]^f[A];return 0===m}},2:function(e,t){},"2Ml6":function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,qAcAAAAHAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAe7f9mQAAAAAAAAAAAAAAAAAAAAAAABAAaQBjAG8AbgBmAG8AbgB0AAAADgBSAGUAZwB1AGwAYQByAAAAFgBWAGUAcgBzAGkAbwBuACAAMQAuADAAAAAQAGkAYwBvAG4AZgBvAG4AdAAAAAAAAAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzI9JUk9AAABfAAAAFZjbWFw59e3twAAAdwAAAFwZ2x5ZjuR1XQAAANUAAABCGhlYWQXkug7AAAA4AAAADZoaGVhCPUEugAAALwAAAAkaG10eAk3AAAAAAHUAAAACGxvY2EAhAAAAAADTAAAAAZtYXhwAREAYAAAARgAAAAgbmFtZT5U/n0AAARcAAACbXBvc3Tm7Ml9AAAGzAAAADEAAQAAA4D/gABcBTcAAAAABRcAAQAAAAAAAAAAAAAAAAAAAAIAAQAAAAEAAJn9t3tfDzz1AAsEAAAAAADZrlIfAAAAANmuUh8AAP+RBRcDbwAAAAgAAgAAAAAAAAABAAAAAgBUAAUAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQScAZAABQAIAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5q/mrwOA/4AAXAOAAIAAAAABAAAAAAAABAAAAAU3AAAAAAAFAAAAAwAAACwAAAAEAAABVAABAAAAAABOAAMAAQAAACwAAwAKAAABVAAEACIAAAAEAAQAAQAA5q///wAA5q///wAAAAEABAAAAAEAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAABwAAAAAAAAAAQAA5q8AAOavAAAAAQAAAAAAhAAAAAUAAP+RBRcDbwAXAC8AOwBHAFMAAAEjJyYjISIPASMOAQcRHgEXIT4BNxEuAQMUBiMhIiYnET4BOwEyPwEhFxY7ATIWFQUOAQceARc+ATcuAQMuASc+ATceARcOAQEjDgEUFjsBMjY0JgSmoFYKDv4JDgpYnzA/AgI/MAQUMD8BAT8DGhP77BQZAQEZFK4OClcB2lcKDq4TGv3JZIMDA4RjY4QDA4RjR14CAl5HR14CAl4BfUMOExMOQw4TEwMKWgoKWgFAMf1rMEABAUAwApUwQfz6FBoaFAKVFBsKWloKGxRbAoRkY4QCAoRjZIT+cgFfRkdfAQFfR0ZfAbwBEh0TEx0SAAAAAAAAEgDeAAEAAAAAAAAAFQAAAAEAAAAAAAEACAAVAAEAAAAAAAIABwAdAAEAAAAAAAMACAAkAAEAAAAAAAQACAAsAAEAAAAAAAUACwA0AAEAAAAAAAYACAA/AAEAAAAAAAoAKwBHAAEAAAAAAAsAEwByAAMAAQQJAAAAKgCFAAMAAQQJAAEAEACvAAMAAQQJAAIADgC/AAMAAQQJAAMAEADNAAMAAQQJAAQAEADdAAMAAQQJAAUAFgDtAAMAAQQJAAYAEAEDAAMAAQQJAAoAVgETAAMAAQQJAAsAJgFpCkNyZWF0ZWQgYnkgaWNvbmZvbnQKaWNvbmZvbnRSZWd1bGFyaWNvbmZvbnRpY29uZm9udFZlcnNpb24gMS4waWNvbmZvbnRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQAKAEMAcgBlAGEAdABlAGQAIABiAHkAIABpAGMAbwBuAGYAbwBuAHQACgBpAGMAbwBuAGYAbwBuAHQAUgBlAGcAdQBsAGEAcgBpAGMAbwBuAGYAbwBuAHQAaQBjAG8AbgBmAG8AbgB0AFYAZQByAHMAaQBvAG4AIAAxAC4AMABpAGMAbwBuAGYAbwBuAHQARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgECAQMAB3BpY3R1cmUAAAAAAA=="},"2SHD":function(e,t,i){e.exports=i("qI9I")},"2ZN/":function(e,t,i){(function(t){var r=i("YHLM"),n=i("kyRq");function o(e){var t,i=e.modulus.byteLength();do{t=new r(n(i))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,i){var n=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(i),a=i.modulus.byteLength(),s=new r(e).mul(n.blinder).umod(i.modulus),u=s.toRed(r.mont(i.prime1)),l=s.toRed(r.mont(i.prime2)),c=i.coefficient,h=i.prime1,d=i.prime2,f=u.redPow(i.exponent1).fromRed(),p=l.redPow(i.exponent2).fromRed(),A=f.isub(p).imul(c).umod(h).imul(d);return p.iadd(A).imul(n.unblinder).umod(i.modulus).toArrayLike(t,"be",a)}a.getr=o,e.exports=a}).call(t,i("NfRg").Buffer)},"2gOs":function(e,t,i){"use strict";var r=i("tSXQ"),n=i("mwrz"),o=i("riO0"),a=i("UZZ8");function s(e){a.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}n(s,a),e.exports=s,s.create=function(e){return new s(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var i=o.readUInt32BE(t,0),n=o.readUInt32BE(t,4);o.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=u[a>>>1];i=o.r28shl(i,s),n=o.r28shl(n,s),o.pc2(i,n,e.keys,a)}},s.prototype._update=function(e,t,i,r){var n=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,n.tmp,0),a=n.tmp[0],s=n.tmp[1],"encrypt"===this.type?this._encrypt(n,a,s,n.tmp,0):this._decrypt(n,a,s,n.tmp,0),a=n.tmp[0],s=n.tmp[1],o.writeUInt32BE(i,a,r),o.writeUInt32BE(i,s,r+4)},s.prototype._pad=function(e,t){for(var i=e.length-t,r=t;r<e.length;r++)e[r]=i;return!0},s.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)r.equal(e[i],t);return e.slice(0,e.length-t)},s.prototype._encrypt=function(e,t,i,r,n){for(var a=t,s=i,u=0;u<e.keys.length;u+=2){var l=e.keys[u],c=e.keys[u+1];o.expand(s,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=o.substitute(l,c),d=s;s=(a^o.permute(h))>>>0,a=d}o.rip(s,a,r,n)},s.prototype._decrypt=function(e,t,i,r,n){for(var a=i,s=t,u=e.keys.length-2;u>=0;u-=2){var l=e.keys[u],c=e.keys[u+1];o.expand(a,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=o.substitute(l,c),d=a;a=(s^o.permute(h))>>>0,s=d}o.rip(a,s,r,n)}},"2z0l":function(e,t,i){"use strict";(function(t){var r;function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i("h8TZ"),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var i=e[d].read();null!==i&&(e[c]=null,e[a]=null,e[s]=null,t(f(i,!1)))}}var A=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((n(r={get stream(){return this[d]},next:function(){var e=this,i=this[u];if(null!==i)return Promise.reject(i);if(this[l])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise(function(i,r){t.nextTick(function(){e[u]?r(e[u]):i(f(void 0,!0))})});var r,n=this[c];if(n)r=new Promise(function(e,t){return function(i,r){e.then(function(){t[l]?i(f(void 0,!0)):t[h](i,r)},r)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[h])}return this[c]=r,r}},Symbol.asyncIterator,function(){return this}),n(r,"return",function(){var e=this;return new Promise(function(t,i){e[d].destroy(null,function(e){e?i(e):t(f(void 0,!0))})})}),r),A);e.exports=function(e){var i,r=Object.create(g,(n(i={},d,{value:e,writable:!0}),n(i,a,{value:null,writable:!0}),n(i,s,{value:null,writable:!0}),n(i,u,{value:null,writable:!0}),n(i,l,{value:e._readableState.endEmitted,writable:!0}),n(i,h,{value:function(e,t){var i=r[d].read();i?(r[c]=null,r[a]=null,r[s]=null,e(f(i,!1))):(r[a]=e,r[s]=t)},writable:!0}),i));return r[c]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[c]=null,r[a]=null,r[s]=null,t(e)),void(r[u]=e)}var i=r[a];null!==i&&(r[c]=null,r[a]=null,r[s]=null,i(f(void 0,!0))),r[l]=!0}),e.on("readable",function(e){t.nextTick(p,e)}.bind(null,r)),r}}).call(t,i("V0EG"))},3:function(e,t){},"37+g":function(e,t,i){e.exports=i("y7x+")},"3Ngr":function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},"3TgZ":function(e,t,i){var r=i("DLTi").Buffer;function n(e,t,i){for(var r,n,a,s=-1,u=0;++s<8;)r=e._cipher.encryptBlock(e._prev),n=t&1<<7-s?128:0,u+=(128&(a=r[0]^n))>>s%8,e._prev=o(e._prev,i?n:a);return u}function o(e,t){var i=e.length,n=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++n<i;)o[n]=e[n]<<1|e[n+1]>>7;return o}t.encrypt=function(e,t,i){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=n(e,t[s],i);return a}},"3XBS":function(e,t,i){"use strict";const r=t;r.bignum=i("u/Wk"),r.define=i("WBsi").define,r.base=i("iXrg"),r.constants=i("Zanr"),r.decoders=i("IhCH"),r.encoders=i("J1E3")},"3Zew":function(e,t,i){"use strict";t.utils=i("riO0"),t.Cipher=i("UZZ8"),t.DES=i("2gOs"),t.CBC=i("w4dA"),t.EDE=i("3c8D")},"3c8D":function(e,t,i){"use strict";var r=i("tSXQ"),n=i("mwrz"),o=i("UZZ8"),a=i("2gOs");function s(e){o.call(this,e);var t=new function(e,t){r.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),n=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i})]}(this.type,this.options.key);this._edeState=t}n(s,o),e.exports=s,s.create=function(e){return new s(e)},s.prototype._update=function(e,t,i,r){var n=this._edeState;n.ciphers[0]._update(e,t,i,r),n.ciphers[1]._update(i,r,i,r),n.ciphers[2]._update(i,r,i,r)},s.prototype._pad=a.prototype._pad,s.prototype._unpad=a.prototype._unpad},4:function(e,t){},"4/lZ":function(e,t,i){"use strict";var r=i("u/Wk"),n=i("UXd7").assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,i){return t instanceof o?t:new o(e,{pub:t,pubEnc:i})},o.fromPrivate=function(e,t,i){return t instanceof o?t:new o(e,{priv:t,privEnc:i})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},"46Yf":function(e,t){e.exports=function(e,t,i,r,n,o){var a,s=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(a=e,s=e.default);var l,c="function"==typeof s?s.options:s;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId=n),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=r),l){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=l,c.render=function(e,t){return l.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:s,options:c}}},"4P1X":function(e,t,i){var r={ECB:i("99pL"),CBC:i("YQM0"),CFB:i("BuFl"),CFB8:i("jBRl"),CFB1:i("3TgZ"),OFB:i("evnR"),CTR:i("V61e"),GCM:i("V61e")},n=i("gCvn");for(var o in n)n[o].module=r[n[o].mode];e.exports=n},"4mOe":function(e,t,i){"use strict";e.exports=l;var r=i("DzCi").codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=i("4zZu");function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(null===r)return this.emit("error",new o);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,i){h(e,t,i)})}function h(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}i("mwrz")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,i){i(new n("_transform()"))},l.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},"4zZu":function(e,t,i){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=l;var n=i("y+MR"),o=i("BMRL");i("mwrz")(l,n);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);n.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||t.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(t,i("V0EG"))},5:function(e,t){},"5RIO":function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},"5p4y":function(e,t){e.exports=function(e,t){for(var i=[],r={},n=0;n<t.length;n++){var o=t[n],a=o[0],s={id:e+":"+n,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):i.push(r[a]={id:a,parts:[s]})}return i}},"5zLF":function(e,t){e.exports=function(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}},6:function(e,t){},"6BOp":function(e,t,i){"use strict";const r=i("WXsb").Reporter,n=i("cKvS").EncoderBuffer,o=i("cKvS").DecoderBuffer,a=i("tSXQ"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(e,t,i){const r={};this._baseState=r,r.name=i,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=l;const c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const e=this._baseState,t={};c.forEach(function(i){t[i]=e[i]});const i=new this.constructor(t.parent);return i._baseState=t,i},l.prototype._wrap=function(){const e=this._baseState;u.forEach(function(t){this[t]=function(){const i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}},this)},l.prototype._init=function(e){const t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){const t=this._baseState,i=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==i.length&&(a(null===t.children),t.children=i,i.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach(function(i){i==(0|i)&&(i|=0);const r=e[i];t[r]=i}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){l.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){l.prototype[e]=function(){const t=this._baseState,i=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(i),this}}),l.prototype.use=function(e){a(e);const t=this._baseState;return a(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){const t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){const t=this._baseState;return a(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){const t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},l.prototype.contains=function(e){const t=this._baseState;return a(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){const i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));let r,n=i.default,a=!0,s=null;if(null!==i.key&&(s=e.enterKey(i.key)),i.optional){let r=null;if(null!==i.explicit?r=i.explicit:null!==i.implicit?r=i.implicit:null!==i.tag&&(r=i.tag),null!==r||i.any){if(a=this._peekTag(e,r,i.any),e.isError(a))return a}else{const r=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(r)}}if(i.obj&&a&&(r=e.enterObject()),a){if(null!==i.explicit){const t=this._decodeTag(e,i.explicit);if(e.isError(t))return t;e=t}const r=e.offset;if(null===i.use&&null===i.choice){let t;i.any&&(t=e.save());const r=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(r))return r;i.any?n=e.raw(t):e=r}if(t&&t.track&&null!==i.tag&&t.track(e.path(),r,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),i.any||(n=null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t)),e.isError(n))return n;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(i){i._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){const r=new o(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(r,t)}}return i.obj&&a&&(n=e.leaveObject(r)),null===i.key||null===n&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,i.key,n),n},l.prototype._decodeGeneric=function(e,t,i){const r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],i):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){const i=this._baseState;return i.useDecoder=this._use(e,t),a(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},l.prototype._decodeChoice=function(e,t){const i=this._baseState;let r=null,n=!1;return Object.keys(i.choice).some(function(o){const a=e.save(),s=i.choice[o];try{const i=s._decode(e,t);if(e.isError(i))return!1;r={type:o,value:i},n=!0}catch(t){return e.restore(a),!1}return!0},this),n?r:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},l.prototype._encode=function(e,t,i){const r=this._baseState;if(null!==r.default&&r.default===e)return;const n=this._encodeValue(e,t,i);return void 0===n||this._skipDefault(n,t,i)?void 0:n},l.prototype._encodeValue=function(e,t,i){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new r);let o=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n.default)return;e=n.default}let a=null,s=!1;if(n.any)o=this._createEncoderBuffer(e);else if(n.choice)o=this._encodeChoice(e,t);else if(n.contains)a=this._getUse(n.contains,i)._encode(e,t),s=!0;else if(n.children)a=n.children.map(function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");const r=t.enterKey(i._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const n=i._encode(e[i._baseState.key],t,e);return t.leaveKey(r),n},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const i=this.clone();i._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(i){const r=this._baseState;return this._getUse(r.args[0],e)._encode(i,t)},i))}else null!==n.use?o=this._getUse(n.use,i)._encode(e,t):(a=this._encodePrimitive(n.tag,e),s=!0);if(!n.any&&null===n.choice){const e=null!==n.implicit?n.implicit:n.tag,i=null===n.implicit?"universal":"context";null===e?null===n.use&&t.error("Tag could be omitted only for .use()"):null===n.use&&(o=this._encodeComposite(e,s,i,a))}return null!==n.explicit&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){const i=this._baseState,r=i.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),r._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){const i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},"6Dfl":function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},7:function(e,t){},"7FEM":function(e,t,i){"use strict";var r=i("maJs"),n=i("P1/4"),o=i("UOWd"),a=i("tSXQ"),s=r.sum32,u=r.sum32_4,l=r.sum32_5,c=o.ch32,h=o.maj32,d=o.s0_256,f=o.s1_256,p=o.g0_256,A=o.g1_256,g=n.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}r.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=u(A(i[r-2]),i[r-7],p(i[r-15]),i[r-16]);var n=this.h[0],o=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],E=this.h[6],w=this.h[7];for(a(this.k.length===i.length),r=0;r<i.length;r++){var b=l(w,f(y),c(y,v,E),this.k[r],i[r]),C=s(d(n),h(n,o,g));w=E,E=v,v=y,y=s(m,b),m=g,g=o,o=n,n=s(b,C)}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],m),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],E),this.h[7]=s(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},"7Gjy":function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n={methods:{setHLSListener:function(){var e=this;this.isStreamH265||this.videoUrl.includes(".m3u8")&&this.easyPlayer.tech_.hls&&(this.easyPlayer.tech_.hls.on(Hls.Events.ERROR,function(t,i){var r=i.type,n=i.reason,o=i.response;switch(r){case"networkError":404===o.code&&(e._recording?(e.recordDownload(),e._recording=!1,setTimeout(function(){return e.initPlayer()},1500)):e.initPlayer());break;case"mediaError":if("Unsupported HEVC stream type found 0x24"!==n)return;e.isStreamH265||e.initH265Player(12),e.isStreamH265=!0}}),this.easyPlayer.tech_.hls.on(Hls.Events.FRAG_BUFFERED,function(t,i){var n=r(i.frag.tagList.filter(function(e){return-1!==e.indexOf("INF")})[0],2),o=(n[0],n[1]);e.createKbps(Math.round(i.stats.total/(i.stats.buffering.end-i.stats.loading.first))/o)}),this.easyPlayer.tech_.hls.on(Hls.Events.RECORDING,function(t,i){var r=i.data;void 0===e._recording&&(e._recording=!1),void 0===e._cacheArrayBuffer&&(e._cacheArrayBuffer=[]),void 0===e._recordArrayBuffer&&(e._recordArrayBuffer=[]),void 0===e._recordOffset&&(e._recordOffset=0),void 0===e._recordFileName&&(e._recordFileName=e.dateFormat(new Date,"YYYYMMDDhhmmss")+".mp4"),e._recording?(0===e._recordArrayBuffer.length&&(e._recordArrayBuffer=new Uint8Array(1024*e.recordMaxFileSize*1024)),0!==e._cacheArrayBuffer.length&&e._cacheArrayBuffer.forEach(function(t){e._recordArrayBuffer.set(new Int8Array(t),e._recordOffset),e._recordOffset+=t.byteLength}),e._cacheArrayBuffer=[],e._recordArrayBuffer.set(new Int8Array(r),e._recordOffset),e._recordOffset+=r.byteLength):(2===e._cacheArrayBuffer.length&&e._cacheArrayBuffer.shift(),e._cacheArrayBuffer.push(r),e.recordDownload())}))}}}},"7P+W":function(e,t,i){"use strict";var r=i("cGIK"),n=i.n(r),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments[1],r=arguments[2],o=arguments[3],a=arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="WebRtcPlayer",this._emitter=new n.a,t.includes("webrtcs://")?this._videoSrc=t.replace("webrtcs:","https:"):t.includes("webrtc://")&&(this._videoSrc=t.replace("webrtc://","http://")),this._videoEle=null,this._videoId=a,this._videoJsPlayer=null,this._isFristPlaying=!0,this._localSessionDesc="",this._videoParentEle=i,this._luXiangEle=null,this._rtcPC=new RTCPeerConnection({iceServers:s}),this._playing=!0,this._autoplay=r,this._loadingEle=o,this._fullScreenBtnEle=null,this._playBtnEle=null,this._mute=!0,this._isFullScreen=!1,this._videoTools=null,this._mobile=this._isMobile(),this._webrtcRecordedBlobs=[],this._webrtcMediaRecorder=null,this._webrtcMimeType={mimeType:"video/webm;codecs=vp9,opus"},this._webrtcRecording=!1,this._isAndroid=navigator.userAgent.toLocaleLowerCase().includes("android"),this._setOntrack(),this.initRTC(),this._videoParentEle.appendChild(this._loadingEle)}return o(e,[{key:"_setOntrack",value:function(){var e=this;this._rtcPC.ontrack=function(t){e._autoplay?e._playing=!0:e._playing=!1,e._loadingEle.style.opacity=e._playing?1:0,e._videoEle=document.createElement(t.track.kind),e._videoEle.srcObject=t.streams[0],e._videoEle.style="width:100%;height: 100%;object-fit: fill;aspect-ratio: 2/1;",e._videoEle.setAttribute("id",e._videoId),e._videoEle.setAttribute("loop",!0),e._videoEle.setAttribute("preload",!0),e._videoEle.setAttribute("controls",!1),e._videoEle.setAttribute("webkit-playsinline",!0),e._videoEle.setAttribute("playsinline","playsinline"),e._videoEle.setAttribute("x5-playsinline","x5-playsinline"),e._videoEle.setAttribute("x-webkit-airplay","allow"),e._videoEle.setAttribute("x5-video-player-type","h5"),e._videoEle.setAttribute("x5-video-player-fullscreen","true"),e._videoEle.setAttribute("x5-video-orientation","portrait"),e._videoEle.setAttribute("x5-video-ignore-metadata",!0),e._videoEle.setAttribute("x5-video-orientation","landscape"),e._videoEle.setAttribute("crossOrigin","Anonymous"),e._videoEle.muted=!0,e._videoEle.controls=!1,e._videoEle.autoplay=e._autoplay,e._renderVideoTools(),e._videoParentEle.appendChild(e._videoEle),e._setVideoEleEventListener(),e._autoplay&&e._videoEle.play(),window.stream=t.streams[0]}}},{key:"_setVideoEleEventListener",value:function(){var e=this;this._videoEle.addEventListener("waiting",function(t){return e._emitter.emit("waiting",t)}),this._videoEle.addEventListener("playing",function(t){e._emitter.emit("playing",t),e._playing=!0}),this._videoEle.addEventListener("canplay",function(t){e._autoplay&&e._videoEle.play()}),this._videoEle.addEventListener("dblclick",function(t){e._onTouchFullScreen()}),this._videoEle.addEventListener("click",function(t){if(e._emitter.emit("click",t),!e._mobile)return t.preventDefault();e._videoEle&&e._videoEle.play()}),this._videoEle.addEventListener("webkitendfullscreen",function(){e._isFullScreen=!1,e._fullScreenBtnEle.classList="iconfont "+(e._isFullScreen?"icon-xiaoping":"icon-quanping1")}),this._isMobile()&&this._videoParentEle.addEventListener("touchstart",function(t){e._emitter.emit("touchstart",t)})}},{key:"_renderVideoTools",value:function(){var e=this,t=document.createElement("span");t.style="width:100%;height:30px;position:absolute;bottom:0;left:0;background-color:rgba(43, 51, 63, 0.7);;z-index: 10;opacity:1;display: flex;flex-direction: row;justify-content: space-between;",t.classList="video-tools";var i=document.createElement("div");i.style="display: flex;flex-direction: row;",this._playBtnEle=document.createElement("span"),this._playBtnEle.style="font-size:14px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center",this._playBtnEle.classList="iconfont "+(this._playing?"icon-zanting":"icon-bofang");var r=document.createElement("span");r.style="font-size:14px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center",r.classList="iconfont "+(this._mute?"icon-jingyin":"icon-shengyin1"),this._playBtnEle.onclick=function(){e._playing=!e._playing,e._playing?e._videoEle.play():e._videoEle.pause(),e._playBtnEle.title=e._playing?"暂停":"播放",e._playBtnEle.classList="iconfont "+(e._playing?"icon-zanting":"icon-bofang")},r.onclick=function(){e._mute=!e._mute,r.title=e._mute?"取消静音":"静音",r.classList="iconfont "+(e._mute?"icon-jingyin":"icon-shengyin1")};var n=document.createElement("div");n.style="display: flex;flex-direction: row;",this.kbpsEle=document.createElement("div"),this.kbpsEle.style="font-size:12px;min-width:60px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;padding-right: 10px;";var o=document.createElement("span");o.title="快照",o.style="font-size:16px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;",o.classList="iconfont icon-xiangji",o.onclick=function(){return e._saveLocalSnapshot()},this._luXiangEle=document.createElement("span"),this._luXiangEle.title="录像",this._luXiangEle.style="font-size:16px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center;",this._luXiangEle.classList="iconfont  icon-luxiang2",this._luXiangEle.onclick=function(){e._webrtcRecording=!e._webrtcRecording,e._luXiangEle.style.color=e._webrtcRecording?"red":"#FFF",e._luXiangEle.title=e._webrtcRecording?"停止录像":"录像",e._webrtcRecording?e.startRecording():e.stopRecording()},this._fullScreenBtnEle=document.createElement("span"),this._fullScreenBtnEle.title="全屏",this._fullScreenBtnEle.style="font-size:14px;width:40px;height: 30px;color:#FFF;text-align:center;display:flex;flex-direction: row;justify-content: center;align-items: center",this._fullScreenBtnEle.classList="iconfont "+(this._isFullScreen?"icon-xiaoping":"icon-quanping1"),this._mobile?this._fullScreenBtnEle.addEventListener("touchstart",function(){return e._onTouchFullScreen()}):this._fullScreenBtnEle.onclick=function(){return e._onTouchFullScreen()},this._videoParentEle.onmousemove=function(){e.videoToolsTimer&&clearTimeout(e.videoToolsTimer),e._videoTools.style.opacity="1",e.videoToolsTimer=setTimeout(function(){e._videoTools.style.opacity="0"},1e4)},this._videoParentEle.onmouseout=function(){e._videoTools.style.opacity="0",e.videoToolsTimer&&clearTimeout(e.videoToolsTimer),e.videoToolsTimer=null},i.appendChild(this._playBtnEle),i.appendChild(r),n.appendChild(this.kbpsEle),n.appendChild(this._luXiangEle),n.appendChild(o),n.appendChild(this._fullScreenBtnEle),t.appendChild(i),t.appendChild(n),this._creatBigPlayBtn(),this._videoTools=t,this._videoParentEle.appendChild(t),window.onresize=function(){!document.fullscreenElement&&e._isFullScreen&&(e._isFullScreen=!1,e._fullScreenBtnEle.classList="iconfont "+(e._isFullScreen?"icon-xiaoping":"icon-quanping1"))}}},{key:"_onTouchFullScreen",value:function(){this._isFullScreen=!this._isFullScreen,this._fullScreenBtnEle.title=this._isFullScreen?"退出全屏":"全屏",this._fullScreenBtnEle.classList="iconfont "+(this._isFullScreen?"icon-xiaoping":"icon-quanping1"),this._isFullScreen?this._videoParentEle.requestFullScreen?this._videoParentEle.requestFullScreen():this._videoEle.webkitEnterFullScreen?this._mobile?this._isAndroid?this._videoParentEle.webkitRequestFullScreen&&this._videoParentEle.webkitRequestFullScreen():this._videoEle.webkitEnterFullScreen&&this._videoEle.webkitEnterFullScreen():this._videoParentEle.webkitRequestFullScreen&&this._videoParentEle.webkitRequestFullScreen():this._videoParentEle.webkitRequestFullScreen?this._videoParentEle.webkitRequestFullScreen():this._videoParentEle.mozRequestFullScreen?this._videoParentEle.mozRequestFullScreen():this._videoParentEle.msRequestFullscreen&&this._videoParentEle.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"_creatBigPlayBtn",value:function(){var e=this;if(!this._autoplay){var t=document.createElement("div"),i=document.createElement("span");t.style="color:#FFF;font-size: 2em;text-align: center;line-height: 1.5em;height: 1.5em;width: 3em;display: block;position: absolute;top:50%;left: 50%;padding: 0;cursor: pointer;opacity: 1;border: 0.06666em solid #fff;background-color: #2B333F;background-color: rgba(43, 51, 63, 0.7);border-radius: 0.3em;transition: all 0.4s;display:flex;flex-direction: row;justify-content:centet;align-items: center;z-index:50;justify-content:center;margin-left: -1.5em;margin-top: -1em;",i.classList="iconfont icon-bofang easy-play-btn-bofang",t.appendChild(i),this._videoParentEle.appendChild(t),this._mobile?t.addEventListener("touchstart",function(){return e._onTouchBigPlayerBtn(t)}):t.onclick=function(){return e._onTouchBigPlayerBtn(t)}}}},{key:"_onTouchBigPlayerBtn",value:function(e){this._playing=!0,this._videoEle.play(),this._loadingEle.style.opacity=this._playing?1:0,this._playBtnEle.classList="iconfont "+(this._playing?"icon-zanting":"icon-bofang"),this._videoParentEle.removeChild(e)}},{key:"_isMobile",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}},{key:"initRTC",value:function(){var e=this;this._rtcPC.oniceconnectionstatechange=function(t){return e._emitter.emit("oniceconnectionstatechange",t)},this._rtcPC.onicecandidate=function(t){null===t.candidate&&(e._localSessionDesc=btoa(e._rtcPC.localDescription.sdp),setTimeout(function(){return e.play()},200))},this._rtcPC.addTransceiver("video",{direction:"sendrecv"}),this._rtcPC.createOffer().then(function(t){return e._rtcPC.setLocalDescription(t)}).catch(function(e){return console.log(e)})}},{key:"play",value:function(){var e=this;if(""===this._videoSrc)return console.error("播放地址不能为空");if(""===this._localSessionDesc){if(!this._isFristPlaying)return;return this._isFristPlaying&&(this._isFristPlaying=!1),setTimeout(function(){return e.play()},200)}var t=new XMLHttpRequest;t.open("POST",this._videoSrc,!0),t.setRequestHeader("Content-type","text/plain; charset=utf-8"),t.onload=function(){var i=atob(t.response);try{e._rtcPC.setRemoteDescription(new RTCSessionDescription({sdp:i,type:"answer"}))}catch(t){e._emitter.emit("error",t)}},t.send(this._localSessionDesc)}},{key:"startRecording",value:function(){var e=this;try{this._webrtcMediaRecorder=new MediaRecorder(window.stream,this._webrtcMimeType),this._webrtcMediaRecorder.ondataavailable=function(t){t.data&&t.data.size>0&&(e._webrtcRecordedBlobs.push(t.data),e.downRecording())},this._webrtcMediaRecorder.start()}catch(e){console.error("Exception while creating MediaRecorder:",e)}}},{key:"downRecording",value:function(){var e=this,t=new Blob(this._webrtcRecordedBlobs,{type:"video/mp4"}),i=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=i,r.download=this.dateFormat(new Date,"YYYYMMDDhhmmss")+".mp4",document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r),window.URL.revokeObjectURL(i),e._webrtcRecordedBlobs=[]},100)}},{key:"dateFormat",value:function(e,t){var i=void 0,r={"Y+":e.getFullYear().toString(),"M+":(e.getMonth()+1).toString(),"D+":e.getDate().toString(),"h+":e.getHours().toString(),"m+":e.getMinutes().toString(),"s+":e.getSeconds().toString()};for(var n in r)(i=new RegExp("("+n+")").exec(t))&&(t=t.replace(i[1],1===i[1].length?r[n]:r[n].padStart(i[1].length,"0")));return t}},{key:"stopRecording",value:function(){this._webrtcMediaRecorder.stop()}},{key:"_saveLocalSnapshot",value:function(){var e=this.dateFormat(new Date,"YYYYMMDDhhmmss")+".png",t=void 0,i=void 0;this._videoEle&&this._videoEle.tagName.toUpperCase()==="object".toUpperCase()?t=this._videoEle.vjs_snap():((i=window.canvas=document.createElement("canvas")).width=this._videoEle.videoWidth,i.height=this._videoEle.videoHeight,i.getContext("2d").drawImage(this._videoEle,0,0,i.width,i.height),t=i.toDataURL("image/png"));for(var r=t.split(","),n=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var u=new Blob([s],{type:n}),l=window.URL.createObjectURL(u),c=document.createElement("a");c.style.display="none",c.href=l,c.download=e,c.click(),document.body.appendChild(c),setTimeout(function(){document.body.removeChild(c),window.URL.revokeObjectURL(l)},1e3)}},{key:"destroy",value:function(){this._videoEle&&this._videoEle.srcObject&&(this._videoEle.srcObject.getTracks().forEach(function(e){return e.stop()}),this._videoEle.srcObject=null,this._videoEle.removeAttribute("src"),this._videoEle.removeAttribute("srcObject"),this._videoEle.removeAttribute("autoplay"),this._videoParentEle&&this._videoParentEle.removeChild(this._videoEle),this._videoParentEle&&this._videoParentEle.removeChild(this._videoTools),this._videoEle&&(this._videoEle=null),this._videoTools&&(this._videoTools=null),this._videoParentEle.onmouseout=null,this._videoParentEle.onmousemove=null),this._rtcPC&&this._rtcPC.close(),this._videoJsPlayer&&this._videoJsPlayer.dispose()}}]),e}();t.a=a},"7YgM":function(e,t){e.exports={name:"@easydarwin/easyplayer",description:"hls, flv and websocket player",version:"5.0.5",author:"easydarwin",license:"MIT",private:!1,scripts:{start:"cross-env NODE_ENV=development webpack-dev-server --host 0.0.0.0 --useLocalIp --open --open-page element/index.html",server:"cross-env NODE_ENV=development webpack-dev-server --host 0.0.0.0 --useLocalIp --open --open-page element/index.html",build:"cross-env NODE_ENV=production webpack --progress --hide-modules",publish:"npm publish --access=public"},files:["dist/","README.md"],main:"dist/component/EasyPlayer-component.min.js",devDependencies:{"@videojs/generator-helpers":"~1.2.0","@videojs/vhs-utils":"^1.1.0",axios:"0.17.1","babel-core":"6.26.0","babel-loader":"^7.1.5","babel-plugin-component":"1.0.0","babel-polyfill":"6.26.0","babel-preset-env":"1.6.0","babel-preset-stage-3":"6.24.1","clean-webpack-plugin":"0.1.17","copy-webpack-plugin":"4.1.1","cross-env":"5.0.5","css-loader":"0.28.7","document-register-element":"1.7.0","element-resize-detector":"^1.2.3","es6-promise":"^4.2.8","exports-loader":"0.6.4","expose-loader":"0.7.4","extract-text-webpack-plugin":"3.0.1","file-loader":"1.1.5","file-saver":"2.0.0","font-awesome":"4.7.0","html-webpack-plugin":"2.30.1",less:"3.0.0-alpha.3","less-loader":"4.0.5",moment:"2.18.1","optimize-css-assets-webpack-plugin":"3.2.0","style-loader":"0.19.0","uglify-js":"2.8.29","uglifyjs-webpack-plugin":"^1.3.0","url-loader":"0.6.2",vue:"2.5.13","vue-fullscreen":"^2.1.6","vue-custom-element":"^3.2.6","vue-loader":"13.3.0","vue-router":"3.0.1","vue-template-compiler":"2.5.13",vuex:"2.4.1","wasm-loader":"^1.3.0",webpack:"3.6.0","webpack-concat-plugin":"2.4.2","webpack-dev-server":"2.7.1","webworkify-webpack":"^2.1.5","wrapper-webpack-plugin":"1.0.0"},keywords:["easy-player","hls","rtmp","flv"],pack:[{name:"EasyPlayer.js",format:"zip",pattern:"{dist/element/**,dist/component/**,README.pdf}",options:{dot:!0,ignore:[]}}],dependencies:{}}},"7ZNp":function(e,t,i){"use strict";function r(e){const t={};return Object.keys(e).forEach(function(i){(0|i)==i&&(i|=0);const r=e[i];t[r]=i}),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},"7tYQ":function(e,t,i){"use strict";var r=i("JSLd"),n=i("+wZ5"),o=i("UXd7"),a=o.assert,s=o.parseBytes,u=i("yg5J"),l=i("H/6M");function c(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(e,t){e=s(e);var i=this.keyFromSecret(t),r=this.hashInt(i.messagePrefix(),e),n=this.g.mul(r),o=this.encodePoint(n),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:u,Rencoded:o})},c.prototype.verify=function(e,t,i){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),n=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(n)).eq(o)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),n=o.intFromLE(i);return this.curve.pointFromY(n,r)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return o.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},"8KD+":function(e,t,i){(function(t){var r=i("qve+"),n=i("u/Wk");e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,i,r){Array.isArray(e)||(e=e.toArray());var n=new t(e);if(r&&n.length<r){var o=new t(r-n.length);o.fill(0),n=t.concat([o,n])}return i?n.toString(i):n}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,i,r){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),s(i,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,i){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var r=new n(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(t,i("NfRg").Buffer)},"8ZH7":function(e,t,i){(function(t){e.exports=t.EPlayer=i("rdaQ")}).call(t,i("mFPK"))},"8liJ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("P01y"),n=i.n(r),o=i("duxV"),a=(i.n(o),i("HB8Z")),s=i("ytBe");n.a.use(a.a),n.a.customElement(s.a.name,s.a)},"96zr":function(e,t,i){(t=e.exports=function(e){e=e.toLowerCase();var i=t[e];if(!i)throw new Error(e+" is not supported (we accept pull requests)");return new i}).sha=i("SqhN"),t.sha1=i("rrHa"),t.sha224=i("nkM1"),t.sha256=i("sdPl"),t.sha384=i("nLML"),t.sha512=i("pZ5O")},"97nf":function(e,t,i){"use strict";var r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"easyH5Player",staticClass:"easy-player",class:[{"easy-player-fill-container":e.stretch},{"hide-paused":e.loading},{"is-first-paused":e.isFirstPaused}]},[e.showRightMenu?i("div",{ref:"versionRef",staticClass:"easy-player-right-menu",style:e.versionStyle,attrs:{oncontextmenu:"return false"}},[i("div",{staticClass:"menu-item"},[i("a",{attrs:{href:e.appEnterprise?e.appEnterprise.aboutUS:"",target:"_blank"}},[e._v("关于我们")])]),e._v(" "),i("div",{staticClass:"menu-item"},[i("a",{attrs:{href:"javascript:void(0);"}},[e._v("版本信息 "+e._s(e.appVersion||""))])]),e._v(" "),i("div",{staticClass:"menu-item"},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:e.onTouchCopyVideoSrc}},[e._v("复制视频地址("+e._s(e.isStreamH265?"H265":"H264")+")")])]),e._v(" "),i("div",{staticClass:"menu-item copy-right"},[i("a",{attrs:{href:e.appEnterprise?e.appEnterprise.tsingsee:"",target:"_blank"}},[e._v(e._s(e.appEnterprise?e.appEnterprise.copyright:""))])]),e._v(" ")]):e._e(),e._v(" "),e.showViewMessage?i("div",{staticClass:"message-view"},[i("div",{staticClass:"title"},[i("span",[e._v("调试信息")]),e._v(" "),i("span",{staticStyle:{position:"absolute",right:"10px",cursor:"pointer"},on:{click:function(t){e.showViewMessage=!1}}},[e._v("X")])]),e._v(" "),i("div",{staticClass:"content"},[e._l(e.playerMessage,function(t,r){return[i("div",{key:r,staticClass:"message",style:{bottom:r===e.playerMessage.length-1?"2px":20*(e.playerMessage.length-1-r)+"px"}},[i("span",[e._v(e._s(t.msg))]),i("span",[e._v(e._s(t.status))])])]})],2)]):e._e(),e._v(" "),i("div",{ref:"videoInner",staticClass:"easy-video-player-inner"}),e._v(" "),e.restartSnapshot?i("div",{staticStyle:{position:"absolute",left:"0",top:"0",right:"0",bottom:"0","z-index":"888"}},[i("img",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"},attrs:{src:e.restartSnapshot}})]):e._e(),e._v(" "),i("div",{ref:"loadingTextInfo",staticClass:"easy-player-loading-text",style:{opacity:!e.isCacheCleanUp&&e.showMessage?1:0}},[e._l(e.playerMessage,function(t,r){return[i("div",{key:r},[i("span",[e._v(e._s(t.msg))]),i("span",[e._v(e._s(t.status))])])]})],2),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.videoTitle&&!!e.videoUrl,expression:"videoTitle && !!videoUrl"}],staticClass:"video-title",attrs:{title:e.videoTitle}},[e._v(e._s(e.videoTitle))])])},staticRenderFns:[]};t.a=r},"99pL":function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},"AKP/":function(e,t,i){var r=i("u/Wk"),n=i("DLTi").Buffer;e.exports=function(e,t){return n.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},AYvJ:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var r,n,o,a,s,u=1,l={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(n=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return l[u]=n,r(u),u++},d.clearImmediate=f}function f(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i("mFPK"),i("V0EG"))},BMRL:function(e,t,i){"use strict";(function(t,r){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;e.entry=null;for(;r;){var n=r.callback;t.pendingcb--,n(i),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=I;var a={deprecate:i("wjIV")},s=i("IwBp"),u=i("NfRg").Buffer,l=t.Uint8Array||function(){};var c,h=i("Lxgc"),d=i("zBhI").getHighWaterMark,f=i("DzCi").codes,p=f.ERR_INVALID_ARG_TYPE,A=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,E=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,b=h.errorOrDestroy;function C(){}function I(e,t,a){o=o||i("4zZu"),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,o=i.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,o){--t.pendingcb,i?(r.nextTick(o,n),r.nextTick(R,e,t),e._writableState.errorEmitted=!0,b(e,n)):(o(n),e._writableState.errorEmitted=!0,b(e,n),R(e,t))}(e,i,n,t,o);else{var a=D(i)||e.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||T(e,i),n?r.nextTick(k,e,i,a,o):k(e,i,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(o=o||i("4zZu"));if(!t&&!c.call(S,this))return new S(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function M(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function k(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function T(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=i;for(var s=0,u=!0;i;)o[s]=i,i.isBuf||(u=!1),i=i.next,s+=1;o.allBuffers=u,M(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,c=i.encoding,h=i.callback;if(M(e,t,!1,t.objectMode?1:l.length,l,c,h),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function B(e,t){e._final(function(i){t.pendingcb--,i&&b(e,i),t.prefinished=!0,e.emit("prefinish"),R(e,t)})}function R(e,t){var i=D(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(B,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}i("mwrz")(S,s),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===S&&(e&&e._writableState instanceof I)}})):c=function(e){return e instanceof this},S.prototype.pipe=function(){b(this,new m)},S.prototype.write=function(e,t,i){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof l);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof i&&(i=C),o.ending?function(e,t){var i=new E;b(e,i),r.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var o;return null===i?o=new v:"string"==typeof i||t.objectMode||(o=new p("chunk",["string","Buffer"],i)),!o||(b(e,o),r.nextTick(n,o),!1)}(this,o,e,i))&&(o.pendingcb++,a=function(e,t,i,r,n,o){if(!i){var a=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,i));return t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,r,n,o);return l}(this,o,s,e,t,i)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,i){i(new A("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,R(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(t,i("mFPK"),i("V0EG"))},BVJ2:function(e,t,i){"use strict";const r=i("mwrz"),n=i("FxzF").Buffer,o=i("Nre6");function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){const i=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,u=-1;for(let e=0;e<i.length;e++){const t=i[e].match(a);if(null!==t&&t[2]===r){if(-1!==s){if("END"!==t[1])break;u=e;break}if("BEGIN"!==t[1])break;s=e}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);const l=i.slice(s+1,u).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const c=n.from(l,"base64");return o.prototype.decode.call(this,c,t)}},BkJT:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var n=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[i].concat(o).concat([n]).join("\n")}var a;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(r[o]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&r[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},BuFl:function(e,t,i){var r=i("DLTi").Buffer,n=i("EUFM");function o(e,t,i){var o=t.length,a=n(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,i?t:a]),a}t.encrypt=function(e,t,i){for(var n,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,i)]);break}n=e._cache.length,a=r.concat([a,o(e,t.slice(0,n),i)]),t=t.slice(n)}return a}},BvRH:function(e,t,i){"use strict";var r=i("u/Wk"),n=i("ShjI"),o=i("UXd7"),a=i("+wZ5"),s=i("fCcy"),u=o.assert,l=i("4/lZ"),c=i("nX6w");function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(i));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,i,o){"object"==typeof i&&(o=i,i=null),o||(o={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),l=new n({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new r(1)),d=0;;d++){var f=o.k?o.k(d):new r(l.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var A=p.getX(),g=A.umod(this.n);if(0!==g.cmpn(0)){var m=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==A.cmp(g)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new c({r:g,s:m,recoveryParam:y})}}}}}},h.prototype.verify=function(e,t,i,n){e=this._truncateToN(new r(e,16)),i=this.keyFromPublic(i,n);var o=(t=new c(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),l=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,i.getPublic(),h)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,i.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(e,t,i,n){u((3&i)===i,"The recovery param is more than two bits"),t=new c(t,n);var o=this.n,a=new r(e),s=t.r,l=t.s,h=1&i,d=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var f=t.r.invm(o),p=o.sub(a).mul(f).umod(o),A=l.mul(f).umod(o);return this.g.mulAdd(p,s,A)},h.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new c(t,r)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch(e){continue}if(o.eq(i))return n}throw new Error("Unable to find valid recovery factor")}},D380:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},DHvs:function(e,t,i){"use strict";t.a=function(e,t){var i;if(!t)return;var n="";n="object"===(void 0===e?"undefined":r(e))?e.$options.name:e;for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console).log.apply(i,["%c "+n+" %c "+function(e,t){var i=void 0,r={"Y+":e.getFullYear().toString(),"M+":(e.getMonth()+1).toString(),"D+":e.getDate().toString(),"h+":e.getHours().toString(),"m+":e.getMinutes().toString(),"s+":e.getSeconds().toString()};for(var n in r)(i=new RegExp("("+n+")").exec(t))&&(t=t.replace(i[1],1===i[1].length?r[n]:r[n].padStart(i[1].length,"0")));return t}(new Date," YYYY-MM-DD hh:mm:ss")+" %c","background:#2d8cf0; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;margin:5px 0","background:#19be6b; padding: 1px; border-radius: 0 3px 3px 0; color: #fff;margin-right: 10px","background:transparent"].concat(a))};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},DJz8:function(e,t,i){"use strict";var r=i("NfRg").Buffer,n=i("mwrz"),o=i("0I3d"),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function A(e,t,i,r,n,o,a,s){return p(e+(t^i^r)+o+a|0,s)+n|0}function g(e,t,i,r,n,o,a,s){return p(e+(t&i|~t&r)+o+a|0,s)+n|0}function m(e,t,i,r,n,o,a,s){return p(e+((t|~i)^r)+o+a|0,s)+n|0}function y(e,t,i,r,n,o,a,s){return p(e+(t&r|i&~r)+o+a|0,s)+n|0}function v(e,t,i,r,n,o,a,s){return p(e+(t^(i|~r))+o+a|0,s)+n|0}n(f,o),f.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,r=0|this._b,n=0|this._c,o=0|this._d,f=0|this._e,E=0|this._a,w=0|this._b,b=0|this._c,C=0|this._d,I=0|this._e,S=0;S<80;S+=1){var M,k;S<16?(M=A(i,r,n,o,f,e[s[S]],h[0],l[S]),k=v(E,w,b,C,I,e[u[S]],d[0],c[S])):S<32?(M=g(i,r,n,o,f,e[s[S]],h[1],l[S]),k=y(E,w,b,C,I,e[u[S]],d[1],c[S])):S<48?(M=m(i,r,n,o,f,e[s[S]],h[2],l[S]),k=m(E,w,b,C,I,e[u[S]],d[2],c[S])):S<64?(M=y(i,r,n,o,f,e[s[S]],h[3],l[S]),k=g(E,w,b,C,I,e[u[S]],d[3],c[S])):(M=v(i,r,n,o,f,e[s[S]],h[4],l[S]),k=A(E,w,b,C,I,e[u[S]],d[4],c[S])),i=f,f=o,o=p(n,10),n=r,r=M,E=I,I=C,C=p(b,10),b=w,w=k}var T=this._b+n+C|0;this._b=this._c+o+I|0,this._c=this._d+f+E|0,this._d=this._e+i+w|0,this._e=this._a+r+b|0,this._a=T},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=f},DLTi:function(e,t,i){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=i("NfRg"),n=r.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return n(e,t,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(n.prototype),o(n,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=n(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},DnPA:function(e,t,i){"use strict";var r=i("mwrz"),n=i("0I3d"),o=i("DLTi").Buffer,a=new Array(16);function s(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function l(e,t,i,r,n,o,a){return u(e+(t&i|~t&r)+n+o|0,a)+t|0}function c(e,t,i,r,n,o,a){return u(e+(t&r|i&~r)+n+o|0,a)+t|0}function h(e,t,i,r,n,o,a){return u(e+(t^i^r)+n+o|0,a)+t|0}function d(e,t,i,r,n,o,a){return u(e+(i^(t|~r))+n+o|0,a)+t|0}r(s,n),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,n=this._c,o=this._d;r=d(r=d(r=d(r=d(r=h(r=h(r=h(r=h(r=c(r=c(r=c(r=c(r=l(r=l(r=l(r=l(r,n=l(n,o=l(o,i=l(i,r,n,o,e[0],3614090360,7),r,n,e[1],3905402710,12),i,r,e[2],606105819,17),o,i,e[3],3250441966,22),n=l(n,o=l(o,i=l(i,r,n,o,e[4],4118548399,7),r,n,e[5],1200080426,12),i,r,e[6],2821735955,17),o,i,e[7],4249261313,22),n=l(n,o=l(o,i=l(i,r,n,o,e[8],1770035416,7),r,n,e[9],2336552879,12),i,r,e[10],4294925233,17),o,i,e[11],2304563134,22),n=l(n,o=l(o,i=l(i,r,n,o,e[12],1804603682,7),r,n,e[13],4254626195,12),i,r,e[14],2792965006,17),o,i,e[15],1236535329,22),n=c(n,o=c(o,i=c(i,r,n,o,e[1],4129170786,5),r,n,e[6],3225465664,9),i,r,e[11],643717713,14),o,i,e[0],3921069994,20),n=c(n,o=c(o,i=c(i,r,n,o,e[5],3593408605,5),r,n,e[10],38016083,9),i,r,e[15],3634488961,14),o,i,e[4],3889429448,20),n=c(n,o=c(o,i=c(i,r,n,o,e[9],568446438,5),r,n,e[14],3275163606,9),i,r,e[3],4107603335,14),o,i,e[8],1163531501,20),n=c(n,o=c(o,i=c(i,r,n,o,e[13],2850285829,5),r,n,e[2],4243563512,9),i,r,e[7],1735328473,14),o,i,e[12],2368359562,20),n=h(n,o=h(o,i=h(i,r,n,o,e[5],4294588738,4),r,n,e[8],2272392833,11),i,r,e[11],1839030562,16),o,i,e[14],4259657740,23),n=h(n,o=h(o,i=h(i,r,n,o,e[1],2763975236,4),r,n,e[4],1272893353,11),i,r,e[7],4139469664,16),o,i,e[10],3200236656,23),n=h(n,o=h(o,i=h(i,r,n,o,e[13],681279174,4),r,n,e[0],3936430074,11),i,r,e[3],3572445317,16),o,i,e[6],76029189,23),n=h(n,o=h(o,i=h(i,r,n,o,e[9],3654602809,4),r,n,e[12],3873151461,11),i,r,e[15],530742520,16),o,i,e[2],3299628645,23),n=d(n,o=d(o,i=d(i,r,n,o,e[0],4096336452,6),r,n,e[7],1126891415,10),i,r,e[14],2878612391,15),o,i,e[5],4237533241,21),n=d(n,o=d(o,i=d(i,r,n,o,e[12],1700485571,6),r,n,e[3],2399980690,10),i,r,e[10],4293915773,15),o,i,e[1],2240044497,21),n=d(n,o=d(o,i=d(i,r,n,o,e[8],1873313359,6),r,n,e[15],4264355552,10),i,r,e[6],2734768916,15),o,i,e[13],1309151649,21),n=d(n,o=d(o,i=d(i,r,n,o,e[4],4149444226,6),r,n,e[11],3174756917,10),i,r,e[2],718787259,15),o,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+r|0,this._c=this._c+n|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},DzCi:function(e,t,i){"use strict";var r={};function n(e,t,i){i||(i=Error);var n=function(e){var i,r;function n(i,r,n){return e.call(this,function(e,i,r){return"string"==typeof t?t:t(e,i,r)}(i,r,n))||this}return r=e,(i=n).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r,n}(i);n.prototype.name=i.name,n.prototype.code=e,r[e]=n}function o(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map(function(e){return String(e)}),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,i){var r,n,a,s;if("string"==typeof t&&(n="not ",t.substr(!a||a<0?0:+a,n.length)===n)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var u=function(e,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>e.length)&&-1!==e.indexOf(t,i)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof i)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},EUFM:function(e,t,i){(function(t){e.exports=function(e,i){for(var r=Math.min(e.length,i.length),n=new t(r),o=0;o<r;++o)n[o]=e[o]^i[o];return n}}).call(t,i("NfRg").Buffer)},FIqI:function(e,t,i){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n=i("5p4y"),o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,l=!1,c=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var i=e[t],r=o[i.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](i.parts[n]);for(;n<i.parts.length;n++)r.parts.push(g(i.parts[n]));r.parts.length>i.parts.length&&(r.parts.length=i.parts.length)}else{var a=[];for(n=0;n<i.parts.length;n++)a.push(g(i.parts[n]));o[i.id]={id:i.id,refs:1,parts:a}}}}function A(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,i,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(l)return c;r.parentNode.removeChild(r)}if(f){var n=u++;r=s||(s=A()),t=v.bind(null,r,n,!1),i=v.bind(null,r,n,!0)}else r=A(),t=function(e,t){var i=t.css,r=t.media,n=t.sourceMap;r&&e.setAttribute("media",r);h.ssrId&&e.setAttribute(d,t.id);n&&(i+="\n/*# sourceURL="+n.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,r),i=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else i()}}e.exports=function(e,t,i,r){l=i,h=r||{};var a=n(e,t);return p(a),function(t){for(var i=[],r=0;r<a.length;r++){var s=a[r];(u=o[s.id]).refs--,i.push(u)}t?p(a=n(e,t)):a=[];for(r=0;r<i.length;r++){var u;if(0===(u=i[r]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete o[u.id]}}}};var m,y=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function v(e,t,i,r){var n=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},FhoZ:function(e,t,i){"use strict";var r=i("7YgM");i.n(r);t.a={production:!0,appVersion:r.version,showProgressBar:!0,appEnterprise:{email:"contact@tsingsee.com",aboutUS:"https://showplusplus.cn/about.html",tsingsee:"https://showplusplus.cn/",copyright:"杭州美畅物联技术有限公司"},iceServers:[{urls:"turn:81.68.130.94:19302?transport=udp",username:"tsingsee",credential:"6df2668750e68cd69d9135ccd25b703c370fe88f20adb3138dcd482cc652b187"}]}},FjWA:function(e,t,i){"use strict";var r=i("UXd7"),n=i("u/Wk"),o=i("mwrz"),a=i("qW1i"),s=r.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function l(e,t,i,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(i,16),this.z=r?new n(r,16):this.curve.one,this.t=o&&new n(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},u.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),o=this.one.redSub(this.c2.redMul(this.d).redMul(i)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.c2),o=i.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(n)},o(l,a.BasePoint),u.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},u.prototype.point=function(e,t,i,r){return new l(this,e,t,i,r)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(i),s=r.redSub(t),u=n.redMul(a),l=o.redMul(s),c=n.redMul(s),h=a.redMul(o);return this.curve.point(u,l,h,c)},l.prototype._projDbl=function(){var e,t,i,r,n,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(l.redSub(this.curve.two)),t=l.redMul(r.redSub(u)),i=l.redSqr().redSub(l).redSub(l)):(n=this.z.redSqr(),o=l.redSub(n).redISub(n),e=a.redSub(s).redISub(u).redMul(o),t=l.redMul(r.redSub(u)),i=l.redMul(o))}else r=s.redAdd(u),n=this.curve._mulC(this.z).redSqr(),o=r.redSub(n).redSub(n),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(s.redISub(u)),i=r.redMul(o);return this.curve.point(e,t,i)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),a=n.redSub(r),s=n.redAdd(r),u=i.redAdd(t),l=o.redMul(a),c=s.redMul(u),h=o.redMul(u),d=a.redMul(s);return this.curve.point(l,c,d,h)},l.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),n=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=n.redSub(s),l=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),h=r.redMul(u).redMul(c);return this.curve.twisted?(t=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),i=u.redMul(l)):(t=r.redMul(l).redMul(a.redSub(o)),i=this.curve._mulC(u).redMul(l)),this.curve.point(h,t,i)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},l.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},FxzF:function(e,t,i){"use strict";(function(t){var r,n=i("NfRg"),o=n.Buffer,a={};for(r in n)n.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=n[r]);var s=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(s[r]=o[r]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,i){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,i)}),s.alloc||(s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(t,i("V0EG"))},GL8g:function(e,t,i){var r=i("fS0F"),n=i("DLTi").Buffer,o=i("onRW");function a(e,t,i,a){o.call(this),this._cipher=new r.AES(t),this._prev=n.from(i),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=a,this._mode=e}i("mwrz")(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},GMoo:function(e,t,i){e.exports=n;var r=i("cGIK").EventEmitter;function n(){r.call(this)}i("mwrz")(n,r),n.Readable=i("LcQ3"),n.Writable=i("37+g"),n.Duplex=i("2SHD"),n.Transform=i("pb7G"),n.PassThrough=i("yeH7"),n.Stream=n,n.prototype.pipe=function(e,t){var i=this;function n(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(i.on("end",s),i.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){i.removeListener("data",n),e.removeListener("drain",o),i.removeListener("end",s),i.removeListener("close",u),i.removeListener("error",l),e.removeListener("error",l),i.removeListener("end",c),i.removeListener("close",c),e.removeListener("close",c)}return i.on("error",l),e.on("error",l),i.on("end",c),i.on("close",c),e.on("close",c),e.emit("pipe",i),e}},GpZv:function(e,t){var i=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>i||t!=t)throw new TypeError("Bad key length")}},"H/6M":function(e,t,i){"use strict";var r=i("u/Wk"),n=i("UXd7"),o=n.assert,a=n.cachedProperty,s=n.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},HB8Z:function(e,t,i){"use strict";
/**
  * vue-custom-element v3.3.0
  * (c) 2021 Karol Fabjańczuk
  * @license MIT
  */function r(e,t){return e.__proto__=t,e}Object.setPrototypeOf=Object.setPrototypeOf||r;r.bind(Object);var n="undefined"!=typeof Symbol&&"undefined"!=typeof Reflect&&"undefined"!=typeof Proxy&&!Object.isSealed(Proxy),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!=typeof customElements){if(n){var i=function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),r=e?HTMLElement.call(e):t;return u.call(r),a(t,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s),o(i,null,[{key:"observedAttributes",get:function(){return t.observedAttributes||[]}}]),i}();return i.prototype.connectedCallback=l,i.prototype.disconnectedCallback=c,i.prototype.attributeChangedCallback=h,d(e,i),i}var r=function(e){var t=e?HTMLElement.call(e):this;return u.call(t),t};return r.observedAttributes=t.observedAttributes||[],(r.prototype=Object.create(HTMLElement.prototype,{constructor:{configurable:!0,writable:!0,value:r}})).connectedCallback=l,r.prototype.disconnectedCallback=c,r.prototype.attributeChangedCallback=h,d(e,r),r}function u(){!0===t.shadow&&HTMLElement.prototype.attachShadow&&this.attachShadow({mode:"open"}),"function"==typeof t.constructorCallback&&t.constructorCallback.call(this)}function l(){"function"==typeof t.connectedCallback&&t.connectedCallback.call(this)}function c(){"function"==typeof t.disconnectedCallback&&t.disconnectedCallback.call(this)}function h(e,i,r){"function"==typeof t.attributeChangedCallback&&t.attributeChangedCallback.call(this,e,i,r)}function d(e,t){var i=customElements.get(e);return void 0!==i?i:customElements.define(e,t)}}Object.setPrototypeOf(s.prototype,HTMLElement.prototype),Object.setPrototypeOf(s,HTMLElement);var l=/-(\w)/g,c=function(e){return e.replace(l,function(e,t){return t?t.toUpperCase():""})},h=/([^-])([A-Z])/g,d=function(e){return e.replace(h,"$1-$2").replace(h,"$1-$2").toLowerCase()};function f(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.length-t,r=new Array(i);i--;)r[i]=e[i+t];return r}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function A(e,t){if(null===e||void 0===e)return t!==Boolean&&void 0;var i=e,r=["true","false"].indexOf(e)>-1,n=parseFloat(i,10),o=!isNaN(n)&&isFinite(i)&&"string"==typeof i&&!i.match(/^0+[^.]\d*$/g);return t&&t!==Boolean&&(void 0===i?"undefined":p(i))!==t?i=t(e):r||t===Boolean?i=""===i||("true"===i||!0===i):o&&(i=n),i}function g(e,t){if(e&&e.length)e.forEach(function(e){var i=c(e);-1===t.camelCase.indexOf(i)&&t.camelCase.push(i)});else if(e&&"object"===(void 0===e?"undefined":p(e)))for(var i in e){var r=c(i);-1===t.camelCase.indexOf(r)&&t.camelCase.push(r),e[r]&&e[r].type&&(t.types[i]=[].concat(e[r].type)[0])}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={camelCase:[],hyphenate:[],types:{}};(e.mixins&&e.mixins.forEach(function(e){g(e.props,t)}),e.extends&&e.extends.props)&&g(e.extends.props,t);return g(e.props,t),t.camelCase.forEach(function(e){t.hyphenate.push(d(e))}),t}function y(e){var t={};return f(e.attributes).forEach(function(e){t["vue-slot"===e.nodeName?"slot":e.nodeName]=e.nodeValue}),t}function v(e,t,i){var r=f(function(e){if(e.childNodes.length)return e.childNodes;if(e.content&&e.content.childNodes&&e.content.childNodes.length)return e.content.childNodes;var t=document.createElement("div");return t.innerHTML=e.innerHTML,t.childNodes}(t)).map(function(t){return"#text"===t.nodeName?t.nodeValue:e(t.tagName,{attrs:y(t),domProps:{innerHTML:t.innerHTML}})});return i.slot=t.id,e("template",i,r)}function E(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];var o=function(e,t){var i={bubbles:!1,cancelable:!1,detail:t},r=void 0;return"function"==typeof window.CustomEvent?r=new CustomEvent(e,i):(r=document.createEvent("CustomEvent")).initCustomEvent(e,i.bubbles,i.cancelable,i.detail),r}(t,[].concat(r));e.dispatchEvent(o)}function w(e,t,i,r,n){if(e.__vue_custom_element__)return Promise.resolve(e);var o=t.util.extend({},i),a=function(e,t,i){var r=t.propsData||{};return i.hyphenate.forEach(function(t,n){var o=i.camelCase[n],a=e.attributes[t]||e[o],s=null;i.types[o]&&(s=i.types[o]),a instanceof Attr?r[o]=A(a.value,s):void 0!==a&&(r[o]=a)}),r}(e,o,r),s=t.version&&parseInt(t.version.split(".")[0],10)||0;if(o.beforeCreate=[].concat(o.beforeCreate||[],function(){this.$emit=function(){for(var t,i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];E.apply(void 0,[e].concat(r)),this.__proto__&&(t=this.__proto__.$emit).call.apply(t,[this].concat(r))}}),o._compiled){var u={},l=o._Ctor;l&&(u=Object.keys(l).map(function(e){return l[e]})[0].options),u.beforeCreate=o.beforeCreate}var c=void 0;if(s>=2){var h=e.cloneNode(!0).childNodes;c={propsData:a,props:r.camelCase,computed:{reactiveProps:function(){var e=this,t={};return r.camelCase.forEach(function(i){void 0!==e[i]&&(t[i]=e[i])}),t}},render:function(e){var t={props:this.reactiveProps};return e(o,t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=[];return f(e).forEach(function(e){if("#text"===e.nodeName)e.nodeValue.trim()&&i.push(t("span",e.nodeValue));else if("#comment"!==e.nodeName){var r=y(e),n={attrs:r,domProps:{innerHTML:""===e.innerHTML?e.innerText:e.innerHTML}};r.slot&&(n.slot=r.slot,r.slot=void 0);var o="TEMPLATE"===e.tagName?v(t,e,n):t(e.tagName,n);i.push(o)}}),i}(h,e))}}}else if(1===s)(c=o).propsData=a;else{c=o;var d={};Object.keys(a).forEach(function(e){d[e]={default:a[e]}}),c.props=d}var g=s>=2?"<div></div>":("<div>"+e.innerHTML+"</div>").replace(/vue-slot=/g,"slot=");if(n.shadow&&e.shadowRoot?(e.shadowRoot.innerHTML=g,c.el=e.shadowRoot.children[0]):(e.innerHTML=g,c.el=e.children[0]),n.shadow&&n.shadowCss&&e.shadowRoot){var m=document.createElement("style");m.type="text/css",m.appendChild(document.createTextNode(n.shadowCss)),e.shadowRoot.appendChild(m)}return function(e,t){t.camelCase.forEach(function(i,r){Object.defineProperty(e,i,{get:function(){return this.__vue_custom_element__[i]},set:function(e){if("object"!==(void 0===e?"undefined":p(e))&&"function"!=typeof e||!this.__vue_custom_element__){var i=t.types[t.camelCase[r]];this.setAttribute(t.hyphenate[r],A(e,i))}else{var n=t.camelCase[r];this.__vue_custom_element__[n]=e}}})})}(e,r),"function"==typeof n.beforeCreateVueInstance&&(c=n.beforeCreateVueInstance(c)||c),Promise.resolve(c).then(function(i){return e.__vue_custom_element__=new t(i),e.__vue_custom_element_props__=r,e.getVueInstance=function(){var t=e.__vue_custom_element__;return t.$children.length?t.$children[0]:t},e.removeAttribute("vce-cloak"),e.setAttribute("vce-ready",""),E(e,"vce-ready"),e})}function b(e){e.customElement=function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="function"==typeof i,o=n&&{props:r.props||[]},a=m(n?o:i);return u(t,{constructorCallback:function(){"function"==typeof r.constructorCallback&&r.constructorCallback.call(this)},connectedCallback:function(){var o=this,s=n&&i(),u=s&&s.then&&"function"==typeof s.then;if("function"==typeof r.connectedCallback&&r.connectedCallback.call(this),n&&!u)throw new Error("Async component "+t+" do not returns Promise");this.__detached__||(u?s.then(function(t){var i=m(t);w(o,e,t,i,r).then(function(){"function"==typeof r.vueInstanceCreatedCallback&&r.vueInstanceCreatedCallback.call(o)})}):w(this,e,i,a,r).then(function(){"function"==typeof r.vueInstanceCreatedCallback&&r.vueInstanceCreatedCallback.call(o)})),this.__detached__=!1},disconnectedCallback:function(){var e=this;this.__detached__=!0,"function"==typeof r.disconnectedCallback&&r.disconnectedCallback.call(this),null!==r.destroyTimeout&&setTimeout(function(){e.__detached__&&e.__vue_custom_element__&&(e.__detached__=!1,e.__vue_custom_element__.$destroy(!0),delete e.__vue_custom_element__,delete e.__vue_custom_element_props__)},r.destroyTimeout||3e3)},attributeChangedCallback:function(e,t,i){if(this.__vue_custom_element__&&void 0!==i){var n=c(e);"function"==typeof r.attributeChangedCallback&&r.attributeChangedCallback.call(this,e,t,i);var o=this.__vue_custom_element_props__.types[n];this.__vue_custom_element__[n]=A(i,o)}},observedAttributes:a.hyphenate,shadow:!!r.shadow&&!!HTMLElement.prototype.attachShadow})}}"undefined"!=typeof window&&window.Vue&&(window.Vue.use(b),b.installed&&(b.installed=!1)),t.a=b},"I+d/":function(e,t,i){var r=i("SZdI");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("FIqI")("bdcdf212",r,!0,{})},IhCH:function(e,t,i){"use strict";const r=t;r.der=i("Nre6"),r.pem=i("BVJ2")},IkND:function(e,t,i){var r=i("kFjB"),n=i("DLTi").Buffer;function o(e){var t=n.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var i,a=n.alloc(0),s=0;a.length<t;)i=o(s++),a=n.concat([a,r("sha1").update(e).update(i).digest()]);return a.slice(0,t)}},IwBp:function(e,t,i){e.exports=i("cGIK").EventEmitter},J1E3:function(e,t,i){"use strict";const r=t;r.der=i("bzP+"),r.pem=i("NIaN")},JSLd:function(e,t,i){var r=t;r.utils=i("maJs"),r.common=i("P1/4"),r.sha=i("JWgJ"),r.ripemd=i("Zdi/"),r.hmac=i("rfI5"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},JWgJ:function(e,t,i){"use strict";t.sha1=i("lULs"),t.sha224=i("KHyZ"),t.sha256=i("7FEM"),t.sha384=i("ae4y"),t.sha512=i("eQun")},Ja68:function(e,t,i){var r=i("UjI3"),n=i("kyRq"),o=i("kFjB"),a=i("IkND"),s=i("PeeF"),u=i("u/Wk"),l=i("AKP/"),c=i("2ZN/"),h=i("DLTi").Buffer;e.exports=function(e,t,i){var d;d=e.padding?e.padding:i?1:4;var f,p=r(e);if(4===d)f=function(e,t){var i=e.modulus.byteLength(),r=t.length,l=o("sha1").update(h.alloc(0)).digest(),c=l.length,d=2*c;if(r>i-d-2)throw new Error("message too long");var f=h.alloc(i-r-d-2),p=i-c-1,A=n(c),g=s(h.concat([l,f,h.alloc(1,1),t],p),a(A,p)),m=s(A,a(g,c));return new u(h.concat([h.alloc(1),m,g],i))}(p,t);else if(1===d)f=function(e,t,i){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=i?h.alloc(a-o-3,255):function(e){var t,i=h.allocUnsafe(e),r=0,o=n(2*e),a=0;for(;r<e;)a===o.length&&(o=n(2*e),a=0),(t=o[a++])&&(i[r++]=t);return i}(a-o-3);return new u(h.concat([h.from([0,i?1:2]),r,h.alloc(1),t],a))}(p,t,i);else{if(3!==d)throw new Error("unknown padding");if((f=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return i?c(f,p):l(f,p)}},JgjT:function(e,t,i){"use strict";(function(e,r,n,o){i.d(t,"a",function(){return h});i("MsX9");var a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=location.origin+"/",l=void 0!==l?l:{};function c(){var t,c={};for(t in l)l.hasOwnProperty(t)&&(c[t]=l[t]);var h,d,f,p=[],A="./this.program",g=function(e,t){throw t},m=!1,y=!1;if(m="object"===("undefined"==typeof window?"undefined":s(window)),y="function"==typeof importScripts,d="object"===(void 0===e?"undefined":s(e))&&"object"===s(e.versions)&&"string"==typeof e.versions.node,h=d&&!m&&!y,f=!m&&!h&&!y,l.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var v,E,w,b,C="";if(h)C=r+"/",v=function(e,t){var r;return w||(w=i("0Nqt")),b||(b=i("hBSA")),e=b.normalize(e),r=w.readFileSync(e),t?r:r.toString()},E=function(e){var t=v(e,!0);return t.buffer||(t=new Uint8Array(t)),O(t.buffer),t},e.argv.length>1&&(A=e.argv[1].replace(/\\/g,"/")),p=e.argv.slice(2),n.exports=l,e.on("uncaughtException",function(e){if(!(e instanceof ci))throw e}),e.on("unhandledRejection",me),g=function(t){e.exit(t)},l.inspect=function(){return"[Emscripten Module object]"};else if(f)"undefined"!=typeof read&&(v=function(e){return read(e)}),E=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(O("object"===(void 0===(t=read(e,"binary"))?"undefined":s(t))),t)},"undefined"!=typeof scriptArgs?p=scriptArgs:void 0!==arguments&&(p=arguments),"function"==typeof quit&&(g=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!m&&!y)throw new Error("environment detection error");y?C=self.location.href:document.currentScript&&(C=document.currentScript.src),C=0!==C.indexOf("blob:")?C.substr(0,C.lastIndexOf("/")+1):"",v=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(E=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):i()},r.onerror=i,r.send(null)},function(e){document.title=e}}var I=l.print||console.log.bind(console),S=l.printErr||console.warn.bind(console);for(t in c)c.hasOwnProperty(t)&&(l[t]=c[t]);function M(e){M.shown||(M.shown={}),M.shown[e]||(M.shown[e]=1,S(e))}function k(e,t){var i=R,r=i.length;try{i.grow(1)}catch(e){if(!e instanceof RangeError)throw e;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{i.set(r,e)}catch(o){if(!o instanceof TypeError)throw o;O(void 0!==t,"Missing signature argument to addFunction");var n=function(e,t){var i=[1,0,1,96],r=t.slice(0,1),n=t.slice(1),o={i:127,j:126,f:125,d:124};i.push(n.length);for(var a=0;a<n.length;++a)i.push(o[n[a]]);"v"==r?i.push(0):i=i.concat([1,o[r]]),i[1]=i.length-2;var s=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),u=new WebAssembly.Module(s);return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,t);i.set(r,n)}return r}c=null,l.arguments&&(p=l.arguments),Object.getOwnPropertyDescriptor(l,"arguments")||Object.defineProperty(l,"arguments",{configurable:!0,get:function(){me("Module.arguments has been replaced with plain arguments_")}}),l.thisProgram&&(A=l.thisProgram),Object.getOwnPropertyDescriptor(l,"thisProgram")||Object.defineProperty(l,"thisProgram",{configurable:!0,get:function(){me("Module.thisProgram has been replaced with plain thisProgram")}}),l.quit&&(g=l.quit),Object.getOwnPropertyDescriptor(l,"quit")||Object.defineProperty(l,"quit",{configurable:!0,get:function(){me("Module.quit has been replaced with plain quit_")}}),O(void 0===l.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),O(void 0===l.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),O(void 0===l.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),O(void 0===l.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),O(void 0===l.read,"Module.read option was removed (modify read_ in JS)"),O(void 0===l.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),O(void 0===l.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),O(void 0===l.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Object.getOwnPropertyDescriptor(l,"read")||Object.defineProperty(l,"read",{configurable:!0,get:function(){me("Module.read has been replaced with plain read_")}}),Object.getOwnPropertyDescriptor(l,"readAsync")||Object.defineProperty(l,"readAsync",{configurable:!0,get:function(){me("Module.readAsync has been replaced with plain readAsync")}}),Object.getOwnPropertyDescriptor(l,"readBinary")||Object.defineProperty(l,"readBinary",{configurable:!0,get:function(){me("Module.readBinary has been replaced with plain readBinary")}}),si=li=ui=function(){me("cannot use the stack before compiled code is ready to run, and has provided stack access")};var T,D,B=function(e){e};l.wasmBinary&&(T=l.wasmBinary),Object.getOwnPropertyDescriptor(l,"wasmBinary")||Object.defineProperty(l,"wasmBinary",{configurable:!0,get:function(){me("Module.wasmBinary has been replaced with plain wasmBinary")}}),l.noExitRuntime&&(a=l.noExitRuntime),Object.getOwnPropertyDescriptor(l,"noExitRuntime")||Object.defineProperty(l,"noExitRuntime",{configurable:!0,get:function(){me("Module.noExitRuntime has been replaced with plain noExitRuntime")}}),"object"!==("undefined"==typeof WebAssembly?"undefined":s(WebAssembly))&&me("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead.");var R=new WebAssembly.Table({initial:2542,maximum:2552,element:"anyfunc"}),Q=!1;function O(e,t){e||me("Assertion failed: "+t)}function L(e,t,i,r,n){var o={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var i=1+(e.length<<2);F(e,t=ui(i),i)}return t},array:function(e){var t=ui(e.length);return function(e,t){O(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),J.set(e,t)}(e,t),t}};var a=function(e){var t=l["_"+e];return O(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),s=[],u=0;if(O("array"!==t,'Return type should not be "array".'),r)for(var c=0;c<r.length;c++){var h=o[i[c]];h?(0===u&&(u=si()),s[c]=h(r[c])):s[c]=r[c]}var d=a.apply(null,s);return d=function(e){return"string"===t?K(e):"boolean"===t?Boolean(e):e}(d),0!==u&&li(u),d}var x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function q(e,t,i){for(var r=t+i,n=t;e[n]&&!(n>=r);)++n;if(n-t>16&&e.subarray&&x)return x.decode(e.subarray(t,n));for(var o="";t<n;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if(224==(240&a)?a=(15&a)<<12|s<<6|u:(240!=(248&a)&&M("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),a=(7&a)<<18|s<<12|u<<6|63&e[t++]),a<65536)o+=String.fromCharCode(a);else{var l=a-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function K(e,t){return e?q(G,e,t):""}function U(e,t,i,r){if(!(r>0))return 0;for(var n=i,o=i+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(i>=o)break;t[i++]=s}else if(s<=2047){if(i+1>=o)break;t[i++]=192|s>>6,t[i++]=128|63&s}else if(s<=65535){if(i+2>=o)break;t[i++]=224|s>>12,t[i++]=128|s>>6&63,t[i++]=128|63&s}else{if(i+3>=o)break;s>=2097152&&M("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[i++]=240|s>>18,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}}return t[i]=0,i-n}function F(e,t,i){return O("number"==typeof i,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),U(e,G,t,i)}function j(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var N,J,G,Y,P,z;function Z(e,t){return e%t>0&&(e+=t-e%t),e}function W(e){N=e,l.HEAP8=J=new Int8Array(e),l.HEAP16=Y=new Int16Array(e),l.HEAP32=P=new Int32Array(e),l.HEAPU8=G=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=z=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=new Float64Array(e)}var V=1341328,H=1341168;O(!0,"stack must start aligned"),O(!0,"heap must start aligned");l.TOTAL_STACK&&O(5242880===l.TOTAL_STACK,"the stack size can no longer be determined at runtime");var X=l.TOTAL_MEMORY||67108864;function _(){O(0==(3&V)),z[1+(V>>2)]=34821223,z[2+(V>>2)]=2310721022,P[0]=1668509029}function $(){var e=z[1+(V>>2)],t=z[2+(V>>2)];34821223==e&&2310721022==t||me("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==P[0]&&me("Runtime error: The application has corrupted its heap memory area (address zero)!")}function ee(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?l.dynCall_v(i):l.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}Object.getOwnPropertyDescriptor(l,"TOTAL_MEMORY")||Object.defineProperty(l,"TOTAL_MEMORY",{configurable:!0,get:function(){me("Module.TOTAL_MEMORY has been replaced with plain INITIAL_TOTAL_MEMORY")}}),O(X>=5242880,"TOTAL_MEMORY should be larger than TOTAL_STACK, was "+X+"! (TOTAL_STACK=5242880)"),O("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(D=l.wasmMemory?l.wasmMemory:new WebAssembly.Memory({initial:X/65536}))&&(N=D.buffer),O((X=N.byteLength)%65536==0),W(N),P[H>>2]=6584208,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var te=[],ie=[],re=[],ne=[],oe=!1,ae=!1;O(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),O(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),O(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),O(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var se=Math.abs,ue=Math.ceil,le=Math.floor,ce=Math.min,he=0,de=null,fe=null,pe={};function Ae(e){he++,l.monitorRunDependencies&&l.monitorRunDependencies(he),e?(O(!pe[e]),pe[e]=1,null===de&&"undefined"!=typeof setInterval&&(de=setInterval(function(){if(Q)return clearInterval(de),void(de=null);var e=!1;for(var t in pe)e||(e=!0,S("still waiting on run dependencies:")),S("dependency: "+t);e&&S("(end of list)")},1e4))):S("warning: run dependency added without ID")}function ge(e){if(he--,l.monitorRunDependencies&&l.monitorRunDependencies(he),e?(O(pe[e]),delete pe[e]):S("warning: run dependency removed without ID"),0==he&&(null!==de&&(clearInterval(de),de=null),fe)){var t=fe;fe=null,t()}}function me(e){throw l.onAbort&&l.onAbort(e),I(e+=""),S(e),Q=!0,1,e="abort("+e+") at "+Me(),new WebAssembly.RuntimeError(e)}l.preloadedImages={},l.preloadedAudios={};var ye="data:application/octet-stream;base64,";function ve(e){return String.prototype.startsWith?e.startsWith(ye):0===e.indexOf(ye)}var Ee,we,be,Ce=u+"showVideo/showVideo.wasm";function Ie(){try{if(T)return new Uint8Array(T);if(E)return E(Ce);throw"both async and sync fetching of the wasm failed"}catch(e){me(e)}}function Se(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var t,i=(t=e,M("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===i?e:i+" ["+e+"]"})}function Me(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return l.extraStackTrace&&(e+="\n"+l.extraStackTrace()),Se(e)}ve(Ce)||(Ce=(Ee=Ce).startsWith("http")?Ee:l.locateFile?l.locateFile(Ee,C):C+Ee),ie.push({func:function(){ni()}});var ke={};function Te(e){return l.___errno_location?P[l.___errno_location()>>2]=e:S("failed to set errno from JS"),e}var De={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i;i--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);return(e=De.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=De.splitPath(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return De.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return De.normalize(e.join("/"))},join2:function(e,t){return De.normalize(e+"/"+t)}},Be={resolve:function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var r=i>=0?arguments[i]:xe.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=De.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=Be.resolve(e).substr(1),t=Be.resolve(t).substr(1);for(var r=i(e.split("/")),n=i(t.split("/")),o=Math.min(r.length,n.length),a=o,s=0;s<o;s++)if(r[s]!==n[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(n.slice(a))).join("/")}},Re={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Re.ttys[e]={input:[],output:[],ops:t},xe.registerDevice(e,Re.stream_ops)},stream_ops:{open:function(e){var t=Re.ttys[e.node.rdev];if(!t)throw new xe.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.get_char)throw new xe.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new xe.ErrnoError(29)}if(void 0===s&&0===o)throw new xe.ErrnoError(6);if(null===s||void 0===s)break;o++,t[i+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.put_char)throw new xe.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[i+o])}catch(e){throw new xe.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var i=null;if(h){var r=o.alloc?o.alloc(256):new o(256),n=0;try{n=w.readSync(e.stdin.fd,r,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;n=0}i=n>0?r.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(i=window.prompt("Input: "))&&(i+="\n"):"function"==typeof readline&&null!==(i=readline())&&(i+="\n");if(!i)return null;t.input=je(i,!0)}return t.input.shift()},put_char:function(e,t){null===t||10===t?(I(q(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(I(q(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(S(q(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(S(q(e.output,0)),e.output=[])}}},Qe={ops_table:null,mount:function(e){return Qe.createNode(null,"/",16895,0)},createNode:function(e,t,i,r){if(xe.isBlkdev(i)||xe.isFIFO(i))throw new xe.ErrnoError(63);Qe.ops_table||(Qe.ops_table={dir:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr,lookup:Qe.node_ops.lookup,mknod:Qe.node_ops.mknod,rename:Qe.node_ops.rename,unlink:Qe.node_ops.unlink,rmdir:Qe.node_ops.rmdir,readdir:Qe.node_ops.readdir,symlink:Qe.node_ops.symlink},stream:{llseek:Qe.stream_ops.llseek}},file:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr},stream:{llseek:Qe.stream_ops.llseek,read:Qe.stream_ops.read,write:Qe.stream_ops.write,allocate:Qe.stream_ops.allocate,mmap:Qe.stream_ops.mmap,msync:Qe.stream_ops.msync}},link:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr,readlink:Qe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr},stream:xe.chrdev_stream_ops}});var n=xe.createNode(e,t,i,r);return xe.isDir(n.mode)?(n.node_ops=Qe.ops_table.dir.node,n.stream_ops=Qe.ops_table.dir.stream,n.contents={}):xe.isFile(n.mode)?(n.node_ops=Qe.ops_table.file.node,n.stream_ops=Qe.ops_table.file.stream,n.usedBytes=0,n.contents=null):xe.isLink(n.mode)?(n.node_ops=Qe.ops_table.link.node,n.stream_ops=Qe.ops_table.link.stream):xe.isChrdev(n.mode)&&(n.node_ops=Qe.ops_table.chrdev.node,n.stream_ops=Qe.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],i=0;i<e.usedBytes;++i)t.push(e.contents[i]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){var i=e.contents?e.contents.length:0;if(!(i>=t)){t=Math.max(t,i*(i<1048576?2:1.125)|0),0!=i&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var i=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=xe.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,xe.isDir(e.mode)?t.size=4096:xe.isFile(e.mode)?t.size=e.usedBytes:xe.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Qe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw xe.genericErrors[44]},mknod:function(e,t,i,r){return Qe.createNode(e,t,i,r)},rename:function(e,t,i){if(xe.isDir(e.mode)){var r;try{r=xe.lookupNode(t,i)}catch(e){}if(r)for(var n in r.contents)throw new xe.ErrnoError(55)}delete e.parent.contents[e.name],e.name=i,t.contents[i]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var i=xe.lookupNode(e,t);for(var r in i.contents)throw new xe.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var i in e.contents)e.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(e,t,i){var r=Qe.createNode(e,t,41471,0);return r.link=i,r},readlink:function(e){if(!xe.isLink(e.mode))throw new xe.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,i,r,n){var o=e.node.contents;if(n>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-n,r);if(O(a>=0),a>8&&o.subarray)t.set(o.subarray(n,n+a),i);else for(var s=0;s<a;s++)t[i+s]=o[n+s];return a},write:function(e,t,i,r,n,o){if(o&&M("file packager has copied file data into memory, but in memory growth we are forced to copy it again (see --no-heap-copy)"),o=!1,!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return O(0===n,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(i,i+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===n)return a.contents=new Uint8Array(t.subarray(i,i+r)),a.usedBytes=r,r;if(n+r<=a.usedBytes)return a.contents.set(t.subarray(i,i+r),n),r}if(Qe.expandFileStorage(a,n+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(i,i+r),n);else for(var s=0;s<r;s++)a.contents[n+s]=t[i+s];return a.usedBytes=Math.max(a.usedBytes,n+r),r},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&xe.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new xe.ErrnoError(28);return r},allocate:function(e,t,i){Qe.expandFileStorage(e.node,t+i),e.node.usedBytes=Math.max(e.node.usedBytes,t+i)},mmap:function(e,t,i,r,n,o,a){if(!xe.isFile(e.node.mode))throw new xe.ErrnoError(43);var s,u,l=e.node.contents;if(2&a||l.buffer!==t&&l.buffer!==t.buffer){(n>0||n+r<e.node.usedBytes)&&(l=l.subarray?l.subarray(n,n+r):Array.prototype.slice.call(l,n,n+r)),u=!0;var c=t.buffer==J.buffer;if(!(s=oi(r)))throw new xe.ErrnoError(48);(c?J:t).set(l,s)}else u=!1,s=l.byteOffset;return{ptr:s,allocated:u}},msync:function(e,t,i,r,n){if(!xe.isFile(e.node.mode))throw new xe.ErrnoError(43);if(2&n)return 0;Qe.stream_ops.write(e,t,0,r,i,!1);return 0}}},Oe={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Le={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},xe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof xe.ErrnoError))throw e+" : "+Me();return Te(e.errno)},lookupPath:function(e,t){if(e=Be.resolve(xe.cwd(),e),t=t||{},!e)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var r in i)void 0===t[r]&&(t[r]=i[r]);if(t.recurse_count>8)throw new xe.ErrnoError(32);for(var n=De.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=xe.root,a="/",s=0;s<n.length;s++){var u=s===n.length-1;if(u&&t.parent)break;if(o=xe.lookupNode(o,n[s]),a=De.join2(a,n[s]),xe.isMountpoint(o)&&(!u||u&&t.follow_mount)&&(o=o.mounted.root),!u||t.follow)for(var l=0;xe.isLink(o.mode);){var c=xe.readlink(a);if(a=Be.resolve(De.dirname(a),c),o=xe.lookupPath(a,{recurse_count:t.recurse_count}).node,l++>40)throw new xe.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(xe.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?i+"/"+t:i+t:i}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(e+i>>>0)%xe.nameTable.length},hashAddNode:function(e){var t=xe.hashName(e.parent.id,e.name);e.name_next=xe.nameTable[t],xe.nameTable[t]=e},hashRemoveNode:function(e){var t=xe.hashName(e.parent.id,e.name);if(xe.nameTable[t]===e)xe.nameTable[t]=e.name_next;else for(var i=xe.nameTable[t];i;){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}},lookupNode:function(e,t){var i=xe.mayLookup(e);if(i)throw new xe.ErrnoError(i,e);for(var r=xe.hashName(e.id,t),n=xe.nameTable[r];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return xe.lookup(e,t)},createNode:function(e,t,i,r){if(!xe.FSNode){xe.FSNode=function(e,t,i,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=xe.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r},xe.FSNode.prototype={};Object.defineProperties(xe.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return xe.isDir(this.mode)}},isDevice:{get:function(){return xe.isChrdev(this.mode)}}})}var n=new xe.FSNode(e,t,i,r);return xe.hashAddNode(n),n},destroyNode:function(e){xe.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=xe.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return xe.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=xe.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{xe.lookupNode(e,t);return 20}catch(e){}return xe.nodePermissions(e,"wx")},mayDelete:function(e,t,i){var r;try{r=xe.lookupNode(e,t)}catch(e){return e.errno}var n=xe.nodePermissions(e,"wx");if(n)return n;if(i){if(!xe.isDir(r.mode))return 54;if(xe.isRoot(r)||xe.getPath(r)===xe.cwd())return 10}else if(xe.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?xe.isLink(e.mode)?32:xe.isDir(e.mode)&&("r"!==xe.flagsToPermissionString(t)||512&t)?31:xe.nodePermissions(e,xe.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||xe.MAX_OPEN_FDS;for(var i=e;i<=t;i++)if(!xe.streams[i])return i;throw new xe.ErrnoError(33)},getStream:function(e){return xe.streams[e]},createStream:function(e,t,i){xe.FSStream||(xe.FSStream=function(){},xe.FSStream.prototype={},Object.defineProperties(xe.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new xe.FSStream;for(var n in e)r[n]=e[n];e=r;var o=xe.nextfd(t,i);return e.fd=o,xe.streams[o]=e,e},closeStream:function(e){xe.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=xe.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new xe.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){xe.devices[e]={stream_ops:t}},getDevice:function(e){return xe.devices[e]},getMounts:function(e){for(var t=[],i=[e];i.length;){var r=i.pop();t.push(r),i.push.apply(i,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),xe.syncFSRequests++,xe.syncFSRequests>1&&console.log("warning: "+xe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=xe.getMounts(xe.root.mount),r=0;function n(e){return O(xe.syncFSRequests>0),xe.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,n(e));++r>=i.length&&n(null)}i.forEach(function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)})},mount:function(e,t,i){if("string"==typeof e)throw e;var r,n="/"===i,o=!i;if(n&&xe.root)throw new xe.ErrnoError(10);if(!n&&!o){var a=xe.lookupPath(i,{follow_mount:!1});if(i=a.path,r=a.node,xe.isMountpoint(r))throw new xe.ErrnoError(10);if(!xe.isDir(r.mode))throw new xe.ErrnoError(54)}var s={type:e,opts:t,mountpoint:i,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,n?xe.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=xe.lookupPath(e,{follow_mount:!1});if(!xe.isMountpoint(t.node))throw new xe.ErrnoError(28);var i=t.node,r=i.mounted,n=xe.getMounts(r);Object.keys(xe.nameTable).forEach(function(e){for(var t=xe.nameTable[e];t;){var i=t.name_next;-1!==n.indexOf(t.mount)&&xe.destroyNode(t),t=i}}),i.mounted=null;var o=i.mount.mounts.indexOf(r);O(-1!==o),i.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,i){var r=xe.lookupPath(e,{parent:!0}).node,n=De.basename(e);if(!n||"."===n||".."===n)throw new xe.ErrnoError(28);var o=xe.mayCreate(r,n);if(o)throw new xe.ErrnoError(o);if(!r.node_ops.mknod)throw new xe.ErrnoError(63);return r.node_ops.mknod(r,n,t,i)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,xe.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,xe.mknod(e,t,0)},mkdirTree:function(e,t){for(var i=e.split("/"),r="",n=0;n<i.length;++n)if(i[n]){r+="/"+i[n];try{xe.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,i){return void 0===i&&(i=t,t=438),t|=8192,xe.mknod(e,t,i)},symlink:function(e,t){if(!Be.resolve(e))throw new xe.ErrnoError(44);var i=xe.lookupPath(t,{parent:!0}).node;if(!i)throw new xe.ErrnoError(44);var r=De.basename(t),n=xe.mayCreate(i,r);if(n)throw new xe.ErrnoError(n);if(!i.node_ops.symlink)throw new xe.ErrnoError(63);return i.node_ops.symlink(i,r,e)},rename:function(e,t){var i,r,n=De.dirname(e),o=De.dirname(t),a=De.basename(e),s=De.basename(t);try{i=xe.lookupPath(e,{parent:!0}).node,r=xe.lookupPath(t,{parent:!0}).node}catch(e){throw new xe.ErrnoError(10)}if(!i||!r)throw new xe.ErrnoError(44);if(i.mount!==r.mount)throw new xe.ErrnoError(75);var u,l=xe.lookupNode(i,a),c=Be.relative(e,o);if("."!==c.charAt(0))throw new xe.ErrnoError(28);if("."!==(c=Be.relative(t,n)).charAt(0))throw new xe.ErrnoError(55);try{u=xe.lookupNode(r,s)}catch(e){}if(l!==u){var h=xe.isDir(l.mode),d=xe.mayDelete(i,a,h);if(d)throw new xe.ErrnoError(d);if(d=u?xe.mayDelete(r,s,h):xe.mayCreate(r,s))throw new xe.ErrnoError(d);if(!i.node_ops.rename)throw new xe.ErrnoError(63);if(xe.isMountpoint(l)||u&&xe.isMountpoint(u))throw new xe.ErrnoError(10);if(r!==i&&(d=xe.nodePermissions(i,"w")))throw new xe.ErrnoError(d);try{xe.trackingDelegate.willMovePath&&xe.trackingDelegate.willMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}xe.hashRemoveNode(l);try{i.node_ops.rename(l,r,s)}catch(e){throw e}finally{xe.hashAddNode(l)}try{xe.trackingDelegate.onMovePath&&xe.trackingDelegate.onMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}}},rmdir:function(e){var t=xe.lookupPath(e,{parent:!0}).node,i=De.basename(e),r=xe.lookupNode(t,i),n=xe.mayDelete(t,i,!0);if(n)throw new xe.ErrnoError(n);if(!t.node_ops.rmdir)throw new xe.ErrnoError(63);if(xe.isMountpoint(r))throw new xe.ErrnoError(10);try{xe.trackingDelegate.willDeletePath&&xe.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,i),xe.destroyNode(r);try{xe.trackingDelegate.onDeletePath&&xe.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=xe.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new xe.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=xe.lookupPath(e,{parent:!0}).node,i=De.basename(e),r=xe.lookupNode(t,i),n=xe.mayDelete(t,i,!1);if(n)throw new xe.ErrnoError(n);if(!t.node_ops.unlink)throw new xe.ErrnoError(63);if(xe.isMountpoint(r))throw new xe.ErrnoError(10);try{xe.trackingDelegate.willDeletePath&&xe.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,i),xe.destroyNode(r);try{xe.trackingDelegate.onDeletePath&&xe.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=xe.lookupPath(e).node;if(!t)throw new xe.ErrnoError(44);if(!t.node_ops.readlink)throw new xe.ErrnoError(28);return Be.resolve(xe.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var i=xe.lookupPath(e,{follow:!t}).node;if(!i)throw new xe.ErrnoError(44);if(!i.node_ops.getattr)throw new xe.ErrnoError(63);return i.node_ops.getattr(i)},lstat:function(e){return xe.stat(e,!0)},chmod:function(e,t,i){var r;"string"==typeof e?r=xe.lookupPath(e,{follow:!i}).node:r=e;if(!r.node_ops.setattr)throw new xe.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){xe.chmod(e,t,!0)},fchmod:function(e,t){var i=xe.getStream(e);if(!i)throw new xe.ErrnoError(8);xe.chmod(i.node,t)},chown:function(e,t,i,r){var n;"string"==typeof e?n=xe.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new xe.ErrnoError(63);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,t,i){xe.chown(e,t,i,!0)},fchown:function(e,t,i){var r=xe.getStream(e);if(!r)throw new xe.ErrnoError(8);xe.chown(r.node,t,i)},truncate:function(e,t){if(t<0)throw new xe.ErrnoError(28);var i;"string"==typeof e?i=xe.lookupPath(e,{follow:!0}).node:i=e;if(!i.node_ops.setattr)throw new xe.ErrnoError(63);if(xe.isDir(i.mode))throw new xe.ErrnoError(31);if(!xe.isFile(i.mode))throw new xe.ErrnoError(28);var r=xe.nodePermissions(i,"w");if(r)throw new xe.ErrnoError(r);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var i=xe.getStream(e);if(!i)throw new xe.ErrnoError(8);if(0==(2097155&i.flags))throw new xe.ErrnoError(28);xe.truncate(i.node,t)},utime:function(e,t,i){var r=xe.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,i)})},open:function(e,t,i,r,n){if(""===e)throw new xe.ErrnoError(44);var o;if(t="string"==typeof t?xe.modeStringToFlags(t):t,i=void 0===i?438:i,i=64&t?4095&i|32768:0,"object"===(void 0===e?"undefined":s(e)))o=e;else{e=De.normalize(e);try{o=xe.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(o){if(128&t)throw new xe.ErrnoError(20)}else o=xe.mknod(e,i,0),a=!0;if(!o)throw new xe.ErrnoError(44);if(xe.isChrdev(o.mode)&&(t&=-513),65536&t&&!xe.isDir(o.mode))throw new xe.ErrnoError(54);if(!a){var u=xe.mayOpen(o,t);if(u)throw new xe.ErrnoError(u)}512&t&&xe.truncate(o,0),t&=-641;var c=xe.createStream({node:o,path:xe.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},r,n);c.stream_ops.open&&c.stream_ops.open(c),!l.logReadFiles||1&t||(xe.readFiles||(xe.readFiles={}),e in xe.readFiles||(xe.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(xe.trackingDelegate.onOpenFile){var h=0;1!=(2097155&t)&&(h|=xe.tracking.openFlags.READ),0!=(2097155&t)&&(h|=xe.tracking.openFlags.WRITE),xe.trackingDelegate.onOpenFile(e,h)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return c},close:function(e){if(xe.isClosed(e))throw new xe.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{xe.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,i){if(xe.isClosed(e))throw new xe.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new xe.ErrnoError(70);if(0!=i&&1!=i&&2!=i)throw new xe.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read:function(e,t,i,r,n){if(r<0||n<0)throw new xe.ErrnoError(28);if(xe.isClosed(e))throw new xe.ErrnoError(8);if(1==(2097155&e.flags))throw new xe.ErrnoError(8);if(xe.isDir(e.node.mode))throw new xe.ErrnoError(31);if(!e.stream_ops.read)throw new xe.ErrnoError(28);var o=void 0!==n;if(o){if(!e.seekable)throw new xe.ErrnoError(70)}else n=e.position;var a=e.stream_ops.read(e,t,i,r,n);return o||(e.position+=a),a},write:function(e,t,i,r,n,o){if(r<0||n<0)throw new xe.ErrnoError(28);if(xe.isClosed(e))throw new xe.ErrnoError(8);if(0==(2097155&e.flags))throw new xe.ErrnoError(8);if(xe.isDir(e.node.mode))throw new xe.ErrnoError(31);if(!e.stream_ops.write)throw new xe.ErrnoError(28);1024&e.flags&&xe.llseek(e,0,2);var a=void 0!==n;if(a){if(!e.seekable)throw new xe.ErrnoError(70)}else n=e.position;var s=e.stream_ops.write(e,t,i,r,n,o);a||(e.position+=s);try{e.path&&xe.trackingDelegate.onWriteToFile&&xe.trackingDelegate.onWriteToFile(e.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,i){if(xe.isClosed(e))throw new xe.ErrnoError(8);if(t<0||i<=0)throw new xe.ErrnoError(28);if(0==(2097155&e.flags))throw new xe.ErrnoError(8);if(!xe.isFile(e.node.mode)&&!xe.isDir(e.node.mode))throw new xe.ErrnoError(43);if(!e.stream_ops.allocate)throw new xe.ErrnoError(138);e.stream_ops.allocate(e,t,i)},mmap:function(e,t,i,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new xe.ErrnoError(2);if(1==(2097155&e.flags))throw new xe.ErrnoError(2);if(!e.stream_ops.mmap)throw new xe.ErrnoError(43);return e.stream_ops.mmap(e,t,i,r,n,o,a)},msync:function(e,t,i,r,n){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,i,r,n):0},munmap:function(e){return 0},ioctl:function(e,t,i){if(!e.stream_ops.ioctl)throw new xe.ErrnoError(59);return e.stream_ops.ioctl(e,t,i)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i,r=xe.open(e,t.flags),n=xe.stat(e).size,o=new Uint8Array(n);return xe.read(r,o,0,n,0),"utf8"===t.encoding?i=q(o,0):"binary"===t.encoding&&(i=o),xe.close(r),i},writeFile:function(e,t,i){(i=i||{}).flags=i.flags||"w";var r=xe.open(e,i.flags,i.mode);if("string"==typeof t){var n=new Uint8Array(j(t)+1),o=U(t,n,0,n.length);xe.write(r,n,0,o,void 0,i.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");xe.write(r,t,0,t.byteLength,void 0,i.canOwn)}xe.close(r)},cwd:function(){return xe.currentPath},chdir:function(e){var t=xe.lookupPath(e,{follow:!0});if(null===t.node)throw new xe.ErrnoError(44);if(!xe.isDir(t.node.mode))throw new xe.ErrnoError(54);var i=xe.nodePermissions(t.node,"x");if(i)throw new xe.ErrnoError(i);xe.currentPath=t.path},createDefaultDirectories:function(){xe.mkdir("/tmp"),xe.mkdir("/home"),xe.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(xe.mkdir("/dev"),xe.registerDevice(xe.makedev(1,3),{read:function(){return 0},write:function(e,t,i,r,n){return r}}),xe.mkdev("/dev/null",xe.makedev(1,3)),Re.register(xe.makedev(5,0),Re.default_tty_ops),Re.register(xe.makedev(6,0),Re.default_tty1_ops),xe.mkdev("/dev/tty",xe.makedev(5,0)),xe.mkdev("/dev/tty1",xe.makedev(6,0)),"object"===("undefined"==typeof crypto?"undefined":s(crypto))&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(h)try{var r=i("ZpE2");e=function(){return r.randomBytes(1)[0]}}catch(e){}e||(e=function(){me("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),xe.createDevice("/dev","random",e),xe.createDevice("/dev","urandom",e),xe.mkdir("/dev/shm"),xe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){xe.mkdir("/proc"),xe.mkdir("/proc/self"),xe.mkdir("/proc/self/fd"),xe.mount({mount:function(){var e=xe.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var i=+t,r=xe.getStream(i);if(!r)throw new xe.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){l.stdin?xe.createDevice("/dev","stdin",l.stdin):xe.symlink("/dev/tty","/dev/stdin"),l.stdout?xe.createDevice("/dev","stdout",null,l.stdout):xe.symlink("/dev/tty","/dev/stdout"),l.stderr?xe.createDevice("/dev","stderr",null,l.stderr):xe.symlink("/dev/tty1","/dev/stderr");var e=xe.open("/dev/stdin","r"),t=xe.open("/dev/stdout","w"),i=xe.open("/dev/stderr","w");O(0===e.fd,"invalid handle for stdin ("+e.fd+")"),O(1===t.fd,"invalid handle for stdout ("+t.fd+")"),O(2===i.fd,"invalid handle for stderr ("+i.fd+")")},ensureErrnoError:function(){xe.ErrnoError||(xe.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,Le)if(Le[t]===e){this.code=t;break}},this.setErrno(e),this.message=Oe[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=Se(this.stack))},xe.ErrnoError.prototype=new Error,xe.ErrnoError.prototype.constructor=xe.ErrnoError,[44].forEach(function(e){xe.genericErrors[e]=new xe.ErrnoError(e),xe.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){xe.ensureErrnoError(),xe.nameTable=new Array(4096),xe.mount(Qe,{},"/"),xe.createDefaultDirectories(),xe.createDefaultDevices(),xe.createSpecialDirectories(),xe.filesystems={MEMFS:Qe}},init:function(e,t,i){O(!xe.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),xe.init.initialized=!0,xe.ensureErrnoError(),l.stdin=e||l.stdin,l.stdout=t||l.stdout,l.stderr=i||l.stderr,xe.createStandardStreams()},quit:function(){xe.init.initialized=!1;var e=l._fflush;e&&e(0);for(var t=0;t<xe.streams.length;t++){var i=xe.streams[t];i&&xe.close(i)}},getMode:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},joinPath:function(e,t){var i=De.join.apply(null,e);return t&&"/"==i[0]&&(i=i.substr(1)),i},absolutePath:function(e,t){return Be.resolve(t,e)},standardizePath:function(e){return De.normalize(e)},findObject:function(e,t){var i=xe.analyzePath(e,t);return i.exists?i.object:(Te(i.error),null)},analyzePath:function(e,t){try{e=(r=xe.lookupPath(e,{follow:!t})).path}catch(e){}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=xe.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=r.path,i.parentObject=r.node,i.name=De.basename(e),r=xe.lookupPath(e,{follow:!t}),i.exists=!0,i.path=r.path,i.object=r.node,i.name=r.node.name,i.isRoot="/"===r.path}catch(e){i.error=e.errno}return i},createFolder:function(e,t,i,r){var n=De.join2("string"==typeof e?e:xe.getPath(e),t),o=xe.getMode(i,r);return xe.mkdir(n,o)},createPath:function(e,t,i,r){e="string"==typeof e?e:xe.getPath(e);for(var n=t.split("/").reverse();n.length;){var o=n.pop();if(o){var a=De.join2(e,o);try{xe.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,i,r,n){var o=De.join2("string"==typeof e?e:xe.getPath(e),t),a=xe.getMode(r,n);return xe.create(o,a)},createDataFile:function(e,t,i,r,n,o){var a=t?De.join2("string"==typeof e?e:xe.getPath(e),t):e,s=xe.getMode(r,n),u=xe.create(a,s);if(i){if("string"==typeof i){for(var l=new Array(i.length),c=0,h=i.length;c<h;++c)l[c]=i.charCodeAt(c);i=l}xe.chmod(u,146|s);var d=xe.open(u,"w");xe.write(d,i,0,i.length,0,o),xe.close(d),xe.chmod(u,s)}return u},createDevice:function(e,t,i,r){var n=De.join2("string"==typeof e?e:xe.getPath(e),t),o=xe.getMode(!!i,!!r);xe.createDevice.major||(xe.createDevice.major=64);var a=xe.makedev(xe.createDevice.major++,0);return xe.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,n,o){for(var a=0,s=0;s<n;s++){var u;try{u=i()}catch(e){throw new xe.ErrnoError(29)}if(void 0===u&&0===a)throw new xe.ErrnoError(6);if(null===u||void 0===u)break;a++,t[r+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,i,n,o){for(var a=0;a<n;a++)try{r(t[i+a])}catch(e){throw new xe.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),xe.mkdev(n,o,a)},createLink:function(e,t,i,r,n){var o=De.join2("string"==typeof e?e:xe.getPath(e),t);return xe.symlink(i,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!v)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=je(v(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||Te(29),t},createLazyFile:function(e,t,i,r,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;n||(a=r);var s=this;s.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",i,!1),r!==a&&n.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+i+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):je(n.responseText||"",!0)}(t,n)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:i};var u=xe.createFile(e,t,s,r,n);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(u.stream_ops).forEach(function(e){var t=u.stream_ops[e];l[e]=function(){if(!xe.forceLoadFile(u))throw new xe.ErrnoError(29);return t.apply(null,arguments)}}),l.read=function(e,t,i,r,n){if(!xe.forceLoadFile(u))throw new xe.ErrnoError(29);var o=e.node.contents;if(n>=o.length)return 0;var a=Math.min(o.length-n,r);if(O(a>=0),o.slice)for(var s=0;s<a;s++)t[i+s]=o[n+s];else for(s=0;s<a;s++)t[i+s]=o.get(n+s);return a},u.stream_ops=l,u},createPreloadedFile:function(e,t,i,r,n,o,a,s,u,c){Browser.init();var h=t?Be.resolve(De.join2(e,t)):e,d=function(e){for(var t=e;;){if(!pe[e])return e;e=t+Math.random()}return e}("cp "+h);function f(i){function f(i){c&&c(),s||xe.createDataFile(e,t,i,r,n,u),o&&o(),ge(d)}var p=!1;l.preloadPlugins.forEach(function(e){p||e.canHandle(h)&&(e.handle(i,h,f,function(){a&&a(),ge(d)}),p=!0)}),p||f(i)}Ae(d),"string"==typeof i?Browser.asyncLoad(i,function(e){f(e)},a):f(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=xe.indexedDB();try{var n=r.open(xe.DB_NAME(),xe.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=function(){console.log("creating db"),n.result.createObjectStore(xe.DB_STORE_NAME)},n.onsuccess=function(){var r=n.result.transaction([xe.DB_STORE_NAME],"readwrite"),o=r.objectStore(xe.DB_STORE_NAME),a=0,s=0,u=e.length;function l(){0==s?t():i()}e.forEach(function(e){var t=o.put(xe.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==u&&l()},t.onerror=function(){a+ ++s==u&&l()}}),r.onerror=i},n.onerror=i},loadFilesFromDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=xe.indexedDB();try{var n=r.open(xe.DB_NAME(),xe.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=i,n.onsuccess=function(){var r=n.result;try{var o=r.transaction([xe.DB_STORE_NAME],"readonly")}catch(e){return void i(e)}var a=o.objectStore(xe.DB_STORE_NAME),s=0,u=0,l=e.length;function c(){0==u?t():i()}e.forEach(function(e){var t=a.get(e);t.onsuccess=function(){xe.analyzePath(e).exists&&xe.unlink(e),xe.createDataFile(De.dirname(e),De.basename(e),t.result,!0,!0,!0),++s+u==l&&c()},t.onerror=function(){s+ ++u==l&&c()}}),o.onerror=i},n.onerror=i}},qe={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var i;if(-100===e)i=xe.cwd();else{var r=xe.getStream(e);if(!r)throw new xe.ErrnoError(8);i=r.path}t=De.join2(i,t)}return t},doStat:function(e,t,i){try{var r=e(t)}catch(e){if(e&&e.node&&De.normalize(t)!==De.normalize(xe.getPath(e.node)))return-54;throw e}return P[i>>2]=r.dev,P[i+4>>2]=0,P[i+8>>2]=r.ino,P[i+12>>2]=r.mode,P[i+16>>2]=r.nlink,P[i+20>>2]=r.uid,P[i+24>>2]=r.gid,P[i+28>>2]=r.rdev,P[i+32>>2]=0,be=[r.size>>>0,(we=r.size,+se(we)>=1?we>0?(0|ce(+le(we/4294967296),4294967295))>>>0:~~+ue((we-+(~~we>>>0))/4294967296)>>>0:0)],P[i+40>>2]=be[0],P[i+44>>2]=be[1],P[i+48>>2]=4096,P[i+52>>2]=r.blocks,P[i+56>>2]=r.atime.getTime()/1e3|0,P[i+60>>2]=0,P[i+64>>2]=r.mtime.getTime()/1e3|0,P[i+68>>2]=0,P[i+72>>2]=r.ctime.getTime()/1e3|0,P[i+76>>2]=0,be=[r.ino>>>0,(we=r.ino,+se(we)>=1?we>0?(0|ce(+le(we/4294967296),4294967295))>>>0:~~+ue((we-+(~~we>>>0))/4294967296)>>>0:0)],P[i+80>>2]=be[0],P[i+84>>2]=be[1],0},doMsync:function(e,t,i,r){var n=new Uint8Array(G.subarray(e,e+i));xe.msync(t,n,0,i,r)},doMkdir:function(e,t){return"/"===(e=De.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),xe.mkdir(e,t,0),0},doMknod:function(e,t,i){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return xe.mknod(e,t,i),0},doReadlink:function(e,t,i){if(i<=0)return-28;var r=xe.readlink(e),n=Math.min(i,j(r)),o=J[t+n];return F(r,t,i+1),J[t+n]=o,n},doAccess:function(e,t){if(-8&t)return-28;var i;if(!(i=xe.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&xe.nodePermissions(i,r)?-2:0},doDup:function(e,t,i){var r=xe.getStream(i);return r&&xe.close(r),xe.open(e,t,0,i,i).fd},doReadv:function(e,t,i,r){for(var n=0,o=0;o<i;o++){var a=P[t+8*o>>2],s=P[t+(8*o+4)>>2],u=xe.read(e,J,a,s,r);if(u<0)return-1;if(n+=u,u<s)break}return n},doWritev:function(e,t,i,r){for(var n=0,o=0;o<i;o++){var a=P[t+8*o>>2],s=P[t+(8*o+4)>>2],u=xe.write(e,J,a,s,r);if(u<0)return-1;n+=u}return n},varargs:0,get:function(e){return qe.varargs+=4,P[qe.varargs-4>>2]},getStr:function(){return K(qe.get())},getStreamFromFD:function(e){void 0===e&&(e=qe.get());var t=xe.getStream(e);if(!t)throw new xe.ErrnoError(8);return t},get64:function(){var e=qe.get(),t=qe.get();return O(e>=0?0===t:-1===t),e},getZero:function(){O(0===qe.get())}};function Ke(){return J.length}var Ue={};function Fe(){if(!Fe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===("undefined"==typeof navigator?"undefined":s(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A};for(var t in Ue)e[t]=Ue[t];var i=[];for(var t in e)i.push(t+"="+e[t]);Fe.strings=i}return Fe.strings}F("GMT",1341232,4);function je(e,t,i){var r=i>0?i:j(e)+1,n=new Array(r),o=U(e,n,0,n.length);return t&&(n.length=o),n}xe.staticInit();var Ne={__cxa_allocate_exception:function(e){return oi(e)},__cxa_throw:function(e,t,i){throw ke[e]={ptr:e,adjusted:[e],type:t,destructor:i,refcount:0,caught:!1,rethrown:!1},e,"uncaught_exception"in ai?ai.uncaught_exceptions++:ai.uncaught_exceptions=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},__lock:function(){},__syscall221:function(e,t){qe.varargs=t;try{var i=qe.getStreamFromFD();switch(qe.get()){case 0:return(r=qe.get())<0?-28:xe.open(i.path,i.flags,0,r).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var r=qe.get();return i.flags|=r,0;case 12:return r=qe.get(),Y[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Te(28),-1;default:return-28}}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),-e.errno}},__syscall3:function(e,t){qe.varargs=t;try{var i=qe.getStreamFromFD(),r=qe.get(),n=qe.get();return xe.read(i,J,r,n)}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),-e.errno}},__syscall5:function(e,t){qe.varargs=t;try{var i=qe.getStr(),r=qe.get(),n=qe.get();return xe.open(i,r,n).fd}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),-e.errno}},__unlock:function(){},abort:function(){me()},clock:function e(){return void 0===e.start&&(e.start=Date.now()),1e3*(Date.now()-e.start)|0},emscripten_memcpy_big:function(e,t,i){G.set(G.subarray(t,t+i),e)},emscripten_resize_heap:function(e){var t=Ke();if(O(e>t),e>2147418112)return S("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is 2147418112 bytes!"),!1;for(var i=Math.max(t,16777216);i<e;)(i=i<=536870912?Z(2*i,65536):Math.min(Z((3*i+2147483648)/4,65536),2147418112))===t&&M("Cannot ask for more memory since we reached the practical limit in browsers (which is just below 2GB), so the request would have failed. Requesting only "+J.length);return!!function(e){try{return D.grow(e-N.byteLength+65535>>16),W(D.buffer),1}catch(t){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+N.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}(i)||(S("Failed to grow the heap from "+t+" bytes to "+i+" bytes, not enough memory!"),!1)},environ_get:function(e,t){var i=0;return Fe().forEach(function(r,n){var o=t+i;P[e+4*n>>2]=o,function(e,t,i){for(var r=0;r<e.length;++r)O(e.charCodeAt(r)==e.charCodeAt(r)&255),J[t++>>0]=e.charCodeAt(r);i||(J[t>>0]=0)}(r,o),i+=r.length+1}),0},environ_sizes_get:function(e,t){var i=Fe();P[e>>2]=i.length;var r=0;return i.forEach(function(e){r+=e.length+1}),P[t>>2]=r,0},fd_close:function(e){try{var t=qe.getStreamFromFD(e);return xe.close(t),0}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),e.errno}},fd_fdstat_get:function(e,t){try{var i=qe.getStreamFromFD(e),r=i.tty?2:xe.isDir(i.mode)?3:xe.isLink(i.mode)?7:4;return J[t>>0]=r,0}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),e.errno}},fd_seek:function(e,t,i,r,n){try{var o=qe.getStreamFromFD(e),a=4294967296*i+(t>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(xe.llseek(o,a,r),be=[o.position>>>0,(we=o.position,+se(we)>=1?we>0?(0|ce(+le(we/4294967296),4294967295))>>>0:~~+ue((we-+(~~we>>>0))/4294967296)>>>0:0)],P[n>>2]=be[0],P[n+4>>2]=be[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0)}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),e.errno}},fd_write:function(e,t,i,r){try{var n=qe.getStreamFromFD(e),o=qe.doWritev(n,t,i);return P[r>>2]=o,0}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||me(e),e.errno}},gettimeofday:function(e){var t=Date.now();return P[e>>2]=t/1e3|0,P[e+4>>2]=t%1e3*1e3|0,0},memory:D,round:function(e){return(e=+e)>=0?+le(e+.5):+ue(e-.5)},setTempRet0:function(e){B(0|e)},table:R,time:function(e){var t=Date.now()/1e3|0;return e&&(P[e>>2]=t),t}},Je=function(){var e={env:Ne,wasi_unstable:Ne};function t(e,t){var i=e.exports;l.asm=i,ge("wasm-instantiate")}Ae("wasm-instantiate");var i=l;function r(e){O(l===i,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),i=null,t(e.instance)}function n(t){return(T||!m&&!y||"function"!=typeof fetch?new Promise(function(e,t){e(Ie())}):fetch(Ce,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Ce+"'";return e.arrayBuffer()}).catch(function(){return Ie()})).then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){S("failed to asynchronously prepare wasm: "+e),me(e)})}if(l.instantiateWasm)try{return l.instantiateWasm(e,t)}catch(e){return S("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(T||"function"!=typeof WebAssembly.instantiateStreaming||ve(Ce)||"function"!=typeof fetch)return n(r);fetch(Ce,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){S("wasm streaming compile failed: "+e),S("falling back to ArrayBuffer instantiation"),n(r)})})}(),{}}(),Ge=Je.__wasm_call_ctors;Je.__wasm_call_ctors=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ge.apply(null,arguments)};var Ye=Je.WasmDecoder_Check;Je.WasmDecoder_Check=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ye.apply(null,arguments)};var Pe=Je.WasmDecoder_Init;Je.WasmDecoder_Init=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Pe.apply(null,arguments)};var ze=Je.WasmDecoder_Deinit;Je.WasmDecoder_Deinit=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ze.apply(null,arguments)};var Ze=Je.WasmDecoder_OpenChannel;Je.WasmDecoder_OpenChannel=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ze.apply(null,arguments)};var We=Je.WasmDecoder_InputFlvStream;Je.WasmDecoder_InputFlvStream=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),We.apply(null,arguments)};var Ve=Je.WasmDecoder_GetFlvDecodeData;Je.WasmDecoder_GetFlvDecodeData=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ve.apply(null,arguments)};var He=Je.WasmDecoder_InputFlvStreamAndDecode;Je.WasmDecoder_InputFlvStreamAndDecode=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),He.apply(null,arguments)};var Xe=Je.WasmDecoder_OpenVideoDecoder;Je.WasmDecoder_OpenVideoDecoder=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xe.apply(null,arguments)};var _e=Je.WasmDecoder_OpenAudioDecoder;Je.WasmDecoder_OpenAudioDecoder=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_e.apply(null,arguments)};var $e=Je.WasmDecoder_DecodeVideoFrame;Je.WasmDecoder_DecodeVideoFrame=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$e.apply(null,arguments)};var et=Je.WasmDecoder_DecodeAudioFrame;Je.WasmDecoder_DecodeAudioFrame=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),et.apply(null,arguments)};var tt=Je.WasmDecoder_CloseChannel;Je.WasmDecoder_CloseChannel=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),tt.apply(null,arguments)};var it=Je.WasmDecoder_ConvertFrame2Image;Je.WasmDecoder_ConvertFrame2Image=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),it.apply(null,arguments)};var rt=Je.WasmDecoder_ReleaseImageData;Je.WasmDecoder_ReleaseImageData=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),rt.apply(null,arguments)};var nt=Je.WasmDecoder_CreateMP4File;Je.WasmDecoder_CreateMP4File=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),nt.apply(null,arguments)};var ot=Je.WasmDecoder_WriteData;Je.WasmDecoder_WriteData=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ot.apply(null,arguments)};var at=Je.WasmDecoder_ReleaseMP4File;Je.WasmDecoder_ReleaseMP4File=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),at.apply(null,arguments)};var st=Je.main;Je.main=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),st.apply(null,arguments)};var ut=Je.free;Je.free=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ut.apply(null,arguments)};var lt=Je.malloc;Je.malloc=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),lt.apply(null,arguments)};var ct=Je.__errno_location;Je.__errno_location=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ct.apply(null,arguments)};var ht=Je.fflush;Je.fflush=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ht.apply(null,arguments)};var dt=Je._get_tzname;Je._get_tzname=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),dt.apply(null,arguments)};var ft=Je._get_daylight;Je._get_daylight=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ft.apply(null,arguments)};var pt=Je._get_timezone;Je._get_timezone=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),pt.apply(null,arguments)};var At=Je.setThrew;Je.setThrew=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),At.apply(null,arguments)};var gt=Je._ZSt18uncaught_exceptionv;Je._ZSt18uncaught_exceptionv=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),gt.apply(null,arguments)};var mt=Je.stackSave;Je.stackSave=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),mt.apply(null,arguments)};var yt=Je.stackAlloc;Je.stackAlloc=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),yt.apply(null,arguments)};var vt=Je.stackRestore;Je.stackRestore=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),vt.apply(null,arguments)};var Et=Je.__growWasmMemory;Je.__growWasmMemory=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Et.apply(null,arguments)};var wt=Je.dynCall_ii;Je.dynCall_ii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),wt.apply(null,arguments)};var bt=Je.dynCall_viiiii;Je.dynCall_viiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),bt.apply(null,arguments)};var Ct=Je.dynCall_viiiiiifi;Je.dynCall_viiiiiifi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ct.apply(null,arguments)};var It=Je.dynCall_viiii;Je.dynCall_viiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),It.apply(null,arguments)};var St=Je.dynCall_viii;Je.dynCall_viii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),St.apply(null,arguments)};var Mt=Je.dynCall_iiiiiii;Je.dynCall_iiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Mt.apply(null,arguments)};var kt=Je.dynCall_iiiiii;Je.dynCall_iiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),kt.apply(null,arguments)};var Tt=Je.dynCall_vii;Je.dynCall_vii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Tt.apply(null,arguments)};var Dt=Je.dynCall_iii;Je.dynCall_iii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Dt.apply(null,arguments)};var Bt=Je.dynCall_iiii;Je.dynCall_iiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Bt.apply(null,arguments)};var Rt=Je.dynCall_viiiiii;Je.dynCall_viiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Rt.apply(null,arguments)};var Qt=Je.dynCall_viiiiiiiii;Je.dynCall_viiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Qt.apply(null,arguments)};var Ot=Je.dynCall_viiiiiiii;Je.dynCall_viiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ot.apply(null,arguments)};var Lt=Je.dynCall_iiiii;Je.dynCall_iiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Lt.apply(null,arguments)};var xt=Je.dynCall_viiiiiiiiiiiiii;Je.dynCall_viiiiiiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),xt.apply(null,arguments)};var qt=Je.dynCall_viiiiiiiiiii;Je.dynCall_viiiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),qt.apply(null,arguments)};var Kt=Je.dynCall_viiiiiii;Je.dynCall_viiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Kt.apply(null,arguments)};var Ut=Je.dynCall_viiiiiiiiiiii;Je.dynCall_viiiiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ut.apply(null,arguments)};var Ft=Je.dynCall_vi;Je.dynCall_vi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ft.apply(null,arguments)};var jt=Je.dynCall_iiiiiiiii;Je.dynCall_iiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),jt.apply(null,arguments)};var Nt=Je.dynCall_viiiifii;Je.dynCall_viiiifii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Nt.apply(null,arguments)};var Jt=Je.dynCall_fii;Je.dynCall_fii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Jt.apply(null,arguments)};var Gt=Je.dynCall_viiiiiiiiii;Je.dynCall_viiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Gt.apply(null,arguments)};var Yt=Je.dynCall_dd;Je.dynCall_dd=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Yt.apply(null,arguments)};var Pt=Je.dynCall_viifi;Je.dynCall_viifi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Pt.apply(null,arguments)};var zt=Je.dynCall_fiii;Je.dynCall_fiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),zt.apply(null,arguments)};var Zt=Je.dynCall_viidi;Je.dynCall_viidi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Zt.apply(null,arguments)};var Wt=Je.dynCall_iiiiiiii;Je.dynCall_iiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Wt.apply(null,arguments)};var Vt=Je.dynCall_did;Je.dynCall_did=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Vt.apply(null,arguments)};var Ht=Je.dynCall_v;Je.dynCall_v=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ht.apply(null,arguments)};var Xt=Je.dynCall_viiijj;Je.dynCall_viiijj=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xt.apply(null,arguments)};var _t=Je.dynCall_iiiiiiidiiddii;Je.dynCall_iiiiiiidiiddii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_t.apply(null,arguments)};var $t=Je.dynCall_jij;Je.dynCall_jij=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$t.apply(null,arguments)};var ei=Je.dynCall_jii;Je.dynCall_jii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ei.apply(null,arguments)};var ti=Je.dynCall_jiji;Je.dynCall_jiji=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ti.apply(null,arguments)};var ii=Je.dynCall_iidiiii;Je.dynCall_iidiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ii.apply(null,arguments)},l.asm=Je;var ri,ni=l.___wasm_call_ctors=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.__wasm_call_ctors.apply(null,arguments)},oi=(l._WasmDecoder_Check=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_Check.apply(null,arguments)},l._WasmDecoder_Init=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_Init.apply(null,arguments)},l._WasmDecoder_Deinit=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_Deinit.apply(null,arguments)},l._WasmDecoder_OpenChannel=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_OpenChannel.apply(null,arguments)},l._WasmDecoder_InputFlvStream=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_InputFlvStream.apply(null,arguments)},l._WasmDecoder_GetFlvDecodeData=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_GetFlvDecodeData.apply(null,arguments)},l._WasmDecoder_InputFlvStreamAndDecode=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_InputFlvStreamAndDecode.apply(null,arguments)},l._WasmDecoder_OpenVideoDecoder=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_OpenVideoDecoder.apply(null,arguments)},l._WasmDecoder_OpenAudioDecoder=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_OpenAudioDecoder.apply(null,arguments)},l._WasmDecoder_DecodeVideoFrame=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_DecodeVideoFrame.apply(null,arguments)},l._WasmDecoder_DecodeAudioFrame=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_DecodeAudioFrame.apply(null,arguments)},l._WasmDecoder_CloseChannel=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_CloseChannel.apply(null,arguments)},l._WasmDecoder_ConvertFrame2Image=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_ConvertFrame2Image.apply(null,arguments)},l._WasmDecoder_ReleaseImageData=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_ReleaseImageData.apply(null,arguments)},l._WasmDecoder_CreateMP4File=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_CreateMP4File.apply(null,arguments)},l._WasmDecoder_WriteData=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_WriteData.apply(null,arguments)},l._WasmDecoder_ReleaseMP4File=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.WasmDecoder_ReleaseMP4File.apply(null,arguments)},l._main=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.main.apply(null,arguments)},l._free=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.free.apply(null,arguments)},l._malloc=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.malloc.apply(null,arguments)}),ai=(l.___errno_location=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.__errno_location.apply(null,arguments)},l._fflush=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.fflush.apply(null,arguments)},l.__get_tzname=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._get_tzname.apply(null,arguments)},l.__get_daylight=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._get_daylight.apply(null,arguments)},l.__get_timezone=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._get_timezone.apply(null,arguments)},l._setThrew=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.setThrew.apply(null,arguments)},l.__ZSt18uncaught_exceptionv=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),si=l.stackSave=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.stackSave.apply(null,arguments)},ui=l.stackAlloc=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.stackAlloc.apply(null,arguments)},li=l.stackRestore=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.stackRestore.apply(null,arguments)};l.__growWasmMemory=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.__growWasmMemory.apply(null,arguments)},l.dynCall_ii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_ii.apply(null,arguments)},l.dynCall_viiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiii.apply(null,arguments)},l.dynCall_viiiiiifi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiifi.apply(null,arguments)},l.dynCall_viiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiii.apply(null,arguments)},l.dynCall_viii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viii.apply(null,arguments)},l.dynCall_iiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiiiiii.apply(null,arguments)},l.dynCall_iiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiiiii.apply(null,arguments)},l.dynCall_vii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_vii.apply(null,arguments)},l.dynCall_iii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iii.apply(null,arguments)},l.dynCall_iiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiii.apply(null,arguments)},l.dynCall_viiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiii.apply(null,arguments)},l.dynCall_viiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiiiii.apply(null,arguments)},l.dynCall_viiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiiii.apply(null,arguments)},l.dynCall_iiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiiii.apply(null,arguments)},l.dynCall_viiiiiiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiiiiiiiiii.apply(null,arguments)},l.dynCall_viiiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},l.dynCall_viiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiii.apply(null,arguments)},l.dynCall_viiiiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiiiiiiii.apply(null,arguments)},l.dynCall_vi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_vi.apply(null,arguments)},l.dynCall_iiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiiiiiiii.apply(null,arguments)},l.dynCall_viiiifii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiifii.apply(null,arguments)},l.dynCall_fii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_fii.apply(null,arguments)},l.dynCall_viiiiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiiiiiiiii.apply(null,arguments)},l.dynCall_dd=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_dd.apply(null,arguments)},l.dynCall_viifi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viifi.apply(null,arguments)},l.dynCall_fiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_fiii.apply(null,arguments)},l.dynCall_viidi=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viidi.apply(null,arguments)},l.dynCall_iiiiiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiiiiiii.apply(null,arguments)},l.dynCall_did=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_did.apply(null,arguments)},l.dynCall_v=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_v.apply(null,arguments)},l.dynCall_viiijj=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_viiijj.apply(null,arguments)},l.dynCall_iiiiiiidiiddii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iiiiiiidiiddii.apply(null,arguments)},l.dynCall_jij=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_jij.apply(null,arguments)},l.dynCall_jii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_jii.apply(null,arguments)},l.dynCall_jiji=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_jiji.apply(null,arguments)},l.dynCall_iidiiii=function(){return O(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),O(!ae,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_iidiiii.apply(null,arguments)};function ci(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}l.asm=Je,Object.getOwnPropertyDescriptor(l,"intArrayFromString")||(l.intArrayFromString=function(){me("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"intArrayToString")||(l.intArrayToString=function(){me("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.ccall=L,l.cwrap=function(e,t,i,r){return function(){return L(e,t,i,arguments)}},Object.getOwnPropertyDescriptor(l,"setValue")||(l.setValue=function(){me("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getValue")||(l.getValue=function(){me("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"allocate")||(l.allocate=function(){me("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getMemory")||(l.getMemory=function(){me("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"AsciiToString")||(l.AsciiToString=function(){me("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stringToAscii")||(l.stringToAscii=function(){me("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"UTF8ArrayToString")||(l.UTF8ArrayToString=function(){me("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"UTF8ToString")||(l.UTF8ToString=function(){me("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stringToUTF8Array")||(l.stringToUTF8Array=function(){me("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stringToUTF8")||(l.stringToUTF8=function(){me("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"lengthBytesUTF8")||(l.lengthBytesUTF8=function(){me("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"UTF16ToString")||(l.UTF16ToString=function(){me("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stringToUTF16")||(l.stringToUTF16=function(){me("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"lengthBytesUTF16")||(l.lengthBytesUTF16=function(){me("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"UTF32ToString")||(l.UTF32ToString=function(){me("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stringToUTF32")||(l.stringToUTF32=function(){me("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"lengthBytesUTF32")||(l.lengthBytesUTF32=function(){me("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"allocateUTF8")||(l.allocateUTF8=function(){me("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stackTrace")||(l.stackTrace=function(){me("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"addOnPreRun")||(l.addOnPreRun=function(){me("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"addOnInit")||(l.addOnInit=function(){me("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"addOnPreMain")||(l.addOnPreMain=function(){me("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"addOnExit")||(l.addOnExit=function(){me("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"addOnPostRun")||(l.addOnPostRun=function(){me("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"writeStringToMemory")||(l.writeStringToMemory=function(){me("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"writeArrayToMemory")||(l.writeArrayToMemory=function(){me("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"writeAsciiToMemory")||(l.writeAsciiToMemory=function(){me("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"addRunDependency")||(l.addRunDependency=function(){me("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"removeRunDependency")||(l.removeRunDependency=function(){me("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"ENV")||(l.ENV=function(){me("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"FS")||(l.FS=function(){me("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"FS_createFolder")||(l.FS_createFolder=function(){me("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_createPath")||(l.FS_createPath=function(){me("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_createDataFile")||(l.FS_createDataFile=function(){me("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_createPreloadedFile")||(l.FS_createPreloadedFile=function(){me("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_createLazyFile")||(l.FS_createLazyFile=function(){me("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_createLink")||(l.FS_createLink=function(){me("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_createDevice")||(l.FS_createDevice=function(){me("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"FS_unlink")||(l.FS_unlink=function(){me("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(l,"GL")||(l.GL=function(){me("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"dynamicAlloc")||(l.dynamicAlloc=function(){me("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"loadDynamicLibrary")||(l.loadDynamicLibrary=function(){me("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"loadWebAssemblyModule")||(l.loadWebAssemblyModule=function(){me("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getLEB")||(l.getLEB=function(){me("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getFunctionTables")||(l.getFunctionTables=function(){me("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"alignFunctionTables")||(l.alignFunctionTables=function(){me("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"registerFunctions")||(l.registerFunctions=function(){me("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addFunction=function(e,t){return O(void 0!==e),k(e,t)},Object.getOwnPropertyDescriptor(l,"removeFunction")||(l.removeFunction=function(){me("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getFuncWrapper")||(l.getFuncWrapper=function(){me("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"prettyPrint")||(l.prettyPrint=function(){me("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"makeBigInt")||(l.makeBigInt=function(){me("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"dynCall")||(l.dynCall=function(){me("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getCompilerSetting")||(l.getCompilerSetting=function(){me("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stackSave")||(l.stackSave=function(){me("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stackRestore")||(l.stackRestore=function(){me("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"stackAlloc")||(l.stackAlloc=function(){me("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"establishStackSpace")||(l.establishStackSpace=function(){me("'establishStackSpace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"print")||(l.print=function(){me("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"printErr")||(l.printErr=function(){me("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"getTempRet0")||(l.getTempRet0=function(){me("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"setTempRet0")||(l.setTempRet0=function(){me("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.callMain=hi,Object.getOwnPropertyDescriptor(l,"abort")||(l.abort=function(){me("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"Pointer_stringify")||(l.Pointer_stringify=function(){me("'Pointer_stringify' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(l,"warnOnce")||(l.warnOnce=function(){me("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.writeStackCookie=_,l.checkStackCookie=$,l.abortStackOverflow=function(e){me("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(V-si()+e)+" bytes available!")},Object.getOwnPropertyDescriptor(l,"ALLOC_NORMAL")||Object.defineProperty(l,"ALLOC_NORMAL",{configurable:!0,get:function(){me("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(l,"ALLOC_STACK")||Object.defineProperty(l,"ALLOC_STACK",{configurable:!0,get:function(){me("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(l,"ALLOC_DYNAMIC")||Object.defineProperty(l,"ALLOC_DYNAMIC",{configurable:!0,get:function(){me("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(l,"ALLOC_NONE")||Object.defineProperty(l,"ALLOC_NONE",{configurable:!0,get:function(){me("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(l,"calledRun")||Object.defineProperty(l,"calledRun",{configurable:!0,get:function(){me("'calledRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}});function hi(e){O(0==he,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),O(0==te.length,"cannot call main when preRun functions remain to be called");var t=l._main;try{!function(e,t){if(function(){var e=I,t=S,i=!1;I=S=function(e){i=!0};try{var r=l._fflush;r&&r(0),["stdout","stderr"].forEach(function(e){var t=xe.analyzePath("/dev/"+e);if(t){var r=t.object,n=r.rdev,o=Re.ttys[n];o&&o.output&&o.output.length&&(i=!0)}})}catch(e){}I=e,S=t,i&&M("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}(),t&&a&&0===e)return;a?t||S("program exited (with status: "+e+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)"):(Q=!0,e,$(),ae=!0,l.onExit&&l.onExit(e));g(e,new ci(e))}(t(0,0),!0)}catch(e){if(e instanceof ci)return;if("SimulateInfiniteLoop"==e)return void(a=!0);var i=e;e&&"object"===(void 0===e?"undefined":s(e))&&e.stack&&(i=[e,e.stack]),S("exception thrown: "+i),g(1,e)}finally{!0}}function di(e){function t(){ri||(ri=!0,Q||($(),O(!oe),oe=!0,l.noFSInit||xe.init.initialized||xe.init(),Re.init(),ee(ie),$(),xe.ignorePermissions=!1,ee(re),l.onRuntimeInitialized&&l.onRuntimeInitialized(),fi&&hi(),function(){if($(),l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)e=l.postRun.shift(),ne.unshift(e);var e;ee(ne)}()))}e=e||p,he>0||(_(),function(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)e=l.preRun.shift(),te.unshift(e);var e;ee(te)}(),he>0||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),t()},1)):t(),$()))}if(fe=function e(){ri||di(),ri||(fe=e)},l.run=di,l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var fi=!0;l.noInitialRun&&(fi=!1),a=!0,di()}var h={loadWasmModule:c,module:l}}).call(t,i("V0EG"),"/",i("K61N")(e),i("NfRg").Buffer)},K61N:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},KHyZ:function(e,t,i){"use strict";var r=i("maJs"),n=i("7FEM");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,n),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},KSX3:function(e,t,i){e.exports=i("cGIK").EventEmitter},LEVF:function(e,t,i){var r=i("rpH0");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("FIqI")("de443996",r,!0,{})},LHnZ:function(e,t,i){"use strict";e.exports=n;var r=i("4mOe");function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}i("mwrz")(n,r),n.prototype._transform=function(e,t,i){i(null,e)}},LcQ3:function(e,t,i){(t=e.exports=i("TDlb")).Stream=t,t.Readable=t,t.Writable=i("y7x+"),t.Duplex=i("qI9I"),t.Transform=i("R09Z"),t.PassThrough=i("t2AN")},Lxgc:function(e,t,i){"use strict";(function(t){function i(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,e)):t.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(i,a,e)):t.nextTick(i,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,r=e._writableState;i&&i.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(t,i("V0EG"))},"M+L8":function(e,t,i){t.publicEncrypt=i("Ja68"),t.privateDecrypt=i("vq6N"),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},"M+LS":function(e,t,i){e.exports=i("n1Xs")},MsX9:function(e,t,i){"use strict";i.d(t,"n",function(){return r}),i.d(t,"l",function(){return n}),i.d(t,"m",function(){return o}),i.d(t,"g",function(){return a}),i.d(t,"c",function(){return s}),i.d(t,"e",function(){return u}),i.d(t,"f",function(){return l}),i.d(t,"b",function(){return c}),i.d(t,"k",function(){return h}),i.d(t,"h",function(){return d}),i.d(t,"i",function(){return f}),i.d(t,"j",function(){return p}),i.d(t,"d",function(){return A}),i.d(t,"a",function(){return g});var r=1,n=2,o=3,a=1,s=2,u=3,l=6,c=7,h=13,d=14,f=15,p=16,A=200,g=2},My4w:function(e,t,i){"use strict";var r=i("mwrz"),n=i("DLTi").Buffer,o=i("onRW"),a=n.alloc(128),s=64;function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=n.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=n.concat([t,a],s));for(var i=this._ipad=n.allocUnsafe(s),r=this._opad=n.allocUnsafe(s),u=0;u<s;u++)i[u]=54^t[u],r[u]=92^t[u];this._hash=[i]}r(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,e]))},e.exports=u},N85c:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPCEtLQoyMDEzLTktMzA6IENyZWF0ZWQuCi0tPgo8c3ZnPgo8bWV0YWRhdGE+CkNyZWF0ZWQgYnkgaWNvbmZvbnQKPC9tZXRhZGF0YT4KPGRlZnM+Cgo8Zm9udCBpZD0iaWNvbmZvbnQiIGhvcml6LWFkdi14PSIxMDI0IiA+CiAgPGZvbnQtZmFjZQogICAgZm9udC1mYW1pbHk9Imljb25mb250IgogICAgZm9udC13ZWlnaHQ9IjUwMCIKICAgIGZvbnQtc3RyZXRjaD0ibm9ybWFsIgogICAgdW5pdHMtcGVyLWVtPSIxMDI0IgogICAgYXNjZW50PSI4OTYiCiAgICBkZXNjZW50PSItMTI4IgogIC8+CiAgICA8bWlzc2luZy1nbHlwaCAvPgogICAgCiAgICA8Z2x5cGggZ2x5cGgtbmFtZT0icGljdHVyZSIgdW5pY29kZT0iJiM1OTA1NTsiIGQ9Ik0xMTkwLjAyMTU2NSA3NzcuNzk0NzgzaC0xNTkuNjEwNDM1TDk0My44MTYzNDggODY3Ljk1MTMwNGEzMy42MTM5MTMgMzMuNjEzOTEzIDAgMCAxLTI0LjA4NjI2MSAxMC4yNEg0MTYuNzIzNDc4YTMzLjQ4MDM0OCAzMy40ODAzNDggMCAwIDEtMjMuOTk3MjE3LTEwLjE5NTQ3OEwzMDUuMzc0NjA5IDc3Ny43OTQ3ODNoLTE1OS44MzMwNDRDODMuMzQ0Njk2IDc3Ny43OTQ3ODMgMzMuMzkxMzA0IDcyNi45NTA5NTcgMzMuMzkxMzA0IDY2NC4zNTMzOTF2LTY2MS4xNDc4MjZjMC02Mi4zMzA0MzUgNTAuMTc2LTExMy4zOTY4NyAxMTIuMjM5MzA1LTExMy4zOTY4NjlIMTE5MC4wNjYwODdjNjIuMDE4NzgzIDAgMTEyLjIzOTMwNCA1MC45MzI4NyAxMTIuMjM5MzA0IDExMy4zOTY4NjlWNjY0LjM1MzM5MWMtMC4wNDQ1MjIgNjIuMzc0OTU3LTUwLjIyMDUyMiAxMTMuNDQxMzkxLTExMi4yODM4MjYgMTEzLjQ0MTM5MnogbTQ1LjQ1NjY5Ni03NzQuNTg5MjE4YzAtMjUuODIyNjA5LTIwLjUyNDUyMi00Ni42MTQyNjEtNDUuNDU2Njk2LTQ2LjYxNDI2MUgxNDUuNjMwNjA5Yy0yNC44ODc2NTIgMC00NS40NTY2OTYgMjAuODgwNjk2LTQ1LjQ1NjY5NiA0Ni42MTQyNjFWNjY0LjM1MzM5MWMwIDI1Ljk1NjE3NCAyMC4zNDY0MzUgNDYuNjU4NzgzIDQ1LjM2NzY1MiA0Ni42NTg3ODNoMTczLjk5MDk1N2EzMy40ODAzNDggMzMuNDgwMzQ4IDAgMCAxIDIzLjk5NzIxNyAxMC4xOTU0NzhMNDMwLjg4MTM5MSA4MTEuNDA4Njk2aDQ3NC42MDE3MzlsODYuNjM5MzA1LTkwLjE1NjUyMmM2LjMyMjA4Ny02LjU0NDY5NiAxNS4wMDM4MjYtMTAuMjQgMjQuMDg2MjYxLTEwLjI0aDE3My44MTI4NjljMjQuOTMyMTc0IDAgNDUuNDU2Njk2LTIwLjkyNTIxNyA0NS40NTY2OTYtNDYuNjU4Nzgzdi02NjEuMTQ3ODI2ek02NjcuODI2MDg3IDU3My4yMTczOTFhMjMzLjczOTEzIDIzMy43MzkxMyAwIDEgMSAwLjA0NDUyMi00NjcuNTIyNzgyQTIzMy43MzkxMyAyMzMuNzM5MTMgMCAwIDEgNjY3LjgyNjA4NyA1NzMuMjE3MzkxeiBtMC00MDAuNjk1NjUyYTE2Ni45NTY1MjIgMTY2Ljk1NjUyMiAwIDEgMCAwIDMzMy45MTMwNDQgMTY2Ljk1NjUyMiAxNjYuOTU2NTIyIDAgMCAwIDAtMzMzLjkxMzA0NHpNMTExOS44OTk4MjYgNjE3LjczOTEzaC02Ni43ODI2MDlhMzMuMzkxMzA0IDMzLjM5MTMwNCAwIDAgMSAwLTY2Ljc4MjYwOGg2Ni43ODI2MDlhMzMuMzkxMzA0IDMzLjM5MTMwNCAwIDAgMSAwIDY2Ljc4MjYwOHoiICBob3Jpei1hZHYteD0iMTMzNSIgLz4KCiAgICAKCgogIDwvZm9udD4KPC9kZWZzPjwvc3ZnPgo="},NHQf:function(e,t,i){(e.exports=i("BkJT")(void 0)).push([e.i,"@font-face{font-family:iconfont;src:url("+i("2Ml6")+");src:url("+i("2Ml6")+'?#iefix) format("embedded-opentype"),url("data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAM0AAsAAAAABwAAAALlAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCCcAqCCIIEATYCJAMICwYABCAFhG0HMRsrBsgOJQlBwgDgAQVABA/3o+b92qr05kxcStsLoGsu8cMTaZDm4/1fnfZtF5UyqJ0B2ClNiIqcsPIUFRCOYCTcblgBaKbtpntZOJx2PcA7oFzuPxhg/DXA/7BPViCBecPYTQQO4TyBct1SSOtqUyv4yIBpgbgyG4fAJ6eQtaSHUqGoWZt9kPbBU2nyTH6EN/z78c98+JDIUyBr67LWABU/b8MoZd49r5cigDnfZZAjxSSQEXu1hg2KDExSlAcBD/1gX+nBz9tuN2Xs9o9HEAWQWgk6VcY9MTHrVosSkLn3/j3gflQUeWtrJXjmU9R+Evk9D2tFD55hjwvPc0M/vkz0vPhmfP4KCnl+Lcbz3HWd7kVkh3/bCT7vKtg+v2p9/brt7duON286Ea9d0LLUihgjOr4yf7V5/+sL1xoIutzWdSbgX8CZjq5Lf/8EnUj88zeM7xV4IrBsGbKLsLehYY3PlBPKZtgt1dbe9aG94x63Qs+G5Z0QaXFJJvLw0tKwBKnUJg/LJM3eUaHvQqqVVFWhgopTpdorph9WP0uK76+uDkju6lMB8HCQR6bsf//Gs/83fg4Elvwv1WXgx63mRM7qZwKld2UM/m5Fng/IW2w2CCQZWioDiT2ed11WrhwPoFnqfRkraXoVXSjNMS1IlOiCVKlBZIadhFyFRSiUWoJyE/SbKzTgFJGVYdyKAqHWbUhU+wSpWo+RGfYz5Jr9gkJtKFDuIEL3rDAcZlTN6ZCgBjw8gc2EOTSkFkikN1PjiG2IZ9kc3065y+zGmdOzxbCeOiifY4Fr1JglhIY1zuxYVS6jNhvDTs4slIg0kxDOovSZy7o3pRFmB2QNRw0RKANs2ATMjGAcNNpcQKXPN6OMRtgM4S11A8p2FOdiHhzLlCajB1IvcPSqu5drXEYZZREEDabhGDtMVXSUDQYYzFk/yoIihDSmET6nIulaI62vIG19kf3rtkA5IE0CDk2V3JmJGOEUAAAAAA==") format("woff2"),url('+i("sHTV")+') format("woff"),url('+i("+8RM")+') format("truetype"),url('+i("N85c")+'#iconfont) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-picture:before{content:"\\E6AF"}#loading-load{position:absolute;top:50%;margin-top:-4px;left:50%;margin-left:-4px;font-size:6px;width:8px;height:8px;border-radius:50%;text-indent:-9999em;-webkit-animation:loading-load 1.1s infinite ease;animation:loading-load 1.1s infinite ease}@keyframes loading-load{0%,to{box-shadow:0 -2.6em 0 0 #fff,1.8em -1.8em 0 0 hsla(0,0%,100%,.2),2.5em 0 0 0 hsla(0,0%,100%,.2),1.75em 1.75em 0 0 hsla(0,0%,100%,.2),0 2.5em 0 0 hsla(0,0%,100%,.2),-1.8em 1.8em 0 0 hsla(0,0%,100%,.2),-2.6em 0 0 0 hsla(0,0%,100%,.5),-1.8em -1.8em 0 0 hsla(0,0%,100%,.7)}12.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,100%,.7),1.8em -1.8em 0 0 #fff,2.5em 0 0 0 hsla(0,0%,100%,.2),1.75em 1.75em 0 0 hsla(0,0%,100%,.2),0 2.5em 0 0 hsla(0,0%,100%,.2),-1.8em 1.8em 0 0 hsla(0,0%,100%,.2),-2.6em 0 0 0 hsla(0,0%,100%,.2),-1.8em -1.8em 0 0 hsla(0,0%,100%,.5)}25%{box-shadow:0 -2.6em 0 0 hsla(0,0%,100%,.5),1.8em -1.8em 0 0 hsla(0,0%,100%,.7),2.5em 0 0 0 hsla(0,0%,100%,.5),1.75em 1.75em 0 0 hsla(0,0%,100%,.2),0 2.5em 0 0 hsla(0,0%,100%,.2),-1.8em 1.8em 0 0 hsla(0,0%,100%,.2),-2.6em 0 0 0 hsla(0,0%,100%,.2),-1.8em -1.8em 0 0 hsla(0,0%,100%,.2)}37.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,100%,.2),1.8em -1.8em 0 0 hsla(0,0%,100%,.5),2.5em 0 0 0 hsla(0,0%,100%,.7),1.75em 1.75em 0 0 rgba(255,v,255,.2),0 2.5em 0 0 hsla(0,0%,100%,.2),-1.8em 1.8em 0 0 hsla(0,0%,100%,.2),-2.6em 0 0 0 hsla(0,0%,100%,.2),-1.8em -1.8em 0 0 hsla(0,0%,100%,.2)}50%{box-shadow:0 -2.6em 0 0 rgba(255,v,255,.2),1.8em -1.8em 0 0 hsla(0,0%,100%,.2),2.5em 0 0 0 hsla(0,0%,100%,.5),1.75em 1.75em 0 0 hsla(0,0%,100%,.7),0 2.5em 0 0 #fff,-1.8em 1.8em 0 0 hsla(0,0%,100%,.2),-2.6em 0 0 0 hsla(0,0%,100%,.2),-1.8em -1.8em 0 0 hsla(0,0%,100%,.2)}62.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,100%,.2),1.8em -1.8em 0 0 hsla(0,0%,100%,.2),2.5em 0 0 0 hsla(0,0%,100%,.2),1.75em 1.75em 0 0 hsla(0,0%,100%,.5),0 2.5em 0 0 hsla(0,0%,100%,.7),-1.8em 1.8em 0 0 #fff,-2.6em 0 0 0 hsla(0,0%,100%,.2),-1.8em -1.8em 0 0 hsla(0,0%,100%,.2)}75%{box-shadow:0 -2.6em 0 0 hsla(0,0%,100%,.2),1.8em -1.8em 0 0 hsla(0,0%,100%,.2),2.5em 0 0 0 hsla(0,0%,100%,.2),1.75em 1.75em 0 0 hsla(0,0%,100%,.2),0 2.5em 0 0 hsla(0,0%,100%,.5),-1.8em 1.8em 0 0 hsla(0,0%,100%,.7),-2.6em 0 0 0 #fff,-1.8em -1.8em 0 0 hsla(0,0%,100%,.2)}87.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,100%,.2),1.8em -1.8em 0 0 hsla(0,0%,100%,.2),2.5em 0 0 0 hsla(0,0%,100%,.2),1.75em 1.75em 0 0 hsla(0,0%,100%,.2),0 2.5em 0 0 hsla(0,0%,100%,.2),-1.8em 1.8em 0 0 hsla(0,0%,100%,.5),-2.6em 0 0 0 hsla(0,0%,100%,.7),-1.8em -1.8em 0 0 #fff}}@keyframes load{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}',""])},NIaN:function(e,t,i){"use strict";const r=i("mwrz"),n=i("bzP+");function o(e){n.call(this,e),this.enc="pem"}r(o,n),e.exports=o,o.prototype.encode=function(e,t){const i=n.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"];for(let e=0;e<i.length;e+=64)r.push(i.slice(e,e+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},NfRg:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i("zGdw"),n=i("YlXM"),o=i("5RIO");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,i){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,i)}function l(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,i,r):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!u.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,i),n=(e=s(e,r)).write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(u.isBuffer(t)){var i=0|f(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function d(e,t){var i=t.length<0?0:0|f(t.length);e=s(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function A(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function g(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,i,r,n);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):m(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function m(e,t,i,r,n){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,i/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var c=-1;for(o=i;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(i+u>s&&(i=s-u),o=i;o>=0;o--){for(var h=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function v(e,t,i,r){return J(j(t,e.length-i),e,i,r)}function E(e,t,i,r){return J(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function w(e,t,i,r){return E(e,t,i,r)}function b(e,t,i,r){return J(N(t),e,i,r)}function C(e,t,i,r){return J(function(e,t){for(var i,r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}(t,e.length-i),e,i,r)}function I(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function S(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,a,s,u,l=e[n],c=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h<=i)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[n+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=h}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=M));return i}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,i){return l(null,e,t,i)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,i){return function(e,t,i,r){return c(t),t<=0?s(e,t):void 0!==i?"string"==typeof r?s(e,t).fill(i,r):s(e,t).fill(i):s(e,t)}(null,e,t,i)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,o=Math.min(i,r);n<o;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=u.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)A(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)A(this,t,t+3),A(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)A(this,t,t+7),A(this,t+1,t+6),A(this,t+2,t+5),A(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):function(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,i);case"utf8":case"utf-8":return S(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return T(this,t,i);case"base64":return I(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,i,r,n){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var o=n-r,a=i-t,s=Math.min(o,a),l=this.slice(r,n),c=e.slice(t,i),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},u.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},u.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},u.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return v(this,e,t,i);case"ascii":return E(this,e,t,i);case"latin1":case"binary":return w(this,e,t,i);case"base64":return b(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function k(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function T(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function D(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=F(e[o]);return n}function B(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function R(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function Q(e,t,i,r,n,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function O(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function L(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function x(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function q(e,t,i,r,o){return o||x(e,0,i,4),n.write(e,t,i,r,23,4),i+4}function K(e,t,i,r,o){return o||x(e,0,i,8),n.write(e,t,i,r,52,8),i+8}u.prototype.slice=function(e,t){var i,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=u.prototype;else{var n=t-e;i=new u(n,void 0);for(var o=0;o<n;++o)i[o]=this[o+e]}return i},u.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},u.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),n.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),n.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),n.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),n.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||Q(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},u.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||Q(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+i},u.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);Q(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},u.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);Q(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},u.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||Q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,i){return q(this,e,t,!0,i)},u.prototype.writeFloatBE=function(e,t,i){return q(this,e,t,!1,i)},u.prototype.writeDoubleLE=function(e,t,i){return K(this,e,t,!0,i)},u.prototype.writeDoubleBE=function(e,t,i){return K(this,e,t,!1,i)},u.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,o=r-i;if(this===e&&i<t&&t<r)for(n=o-1;n>=0;--n)e[n+t]=this[n+i];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},u.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=u.isBuffer(e)?e:j(new u(e,r).toString()),s=a.length;for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var i;t=t||1/0;for(var r=e.length,n=null,o=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function N(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(t,i("mFPK"))},Nre6:function(e,t,i){"use strict";const r=i("mwrz"),n=i("u/Wk"),o=i("cKvS").DecoderBuffer,a=i("6BOp"),s=i("7ZNp");function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){a.call(this,"der",e)}function c(e,t){let i=e.readUInt8(t);if(e.isError(i))return i;const r=s.tagClass[i>>6],n=0==(32&i);if(31==(31&i)){let r=i;for(i=0;128==(128&r);){if(r=e.readUInt8(t),e.isError(r))return r;i<<=7,i|=127&r}}else i&=31;return{cls:r,primitive:n,tag:i,tagStr:s.tag[i]}}function h(e,t,i){let r=e.readUInt8(i);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;const n=127&r;if(n>4)return e.error("length octect is too long");r=0;for(let t=0;t<n;t++){r<<=8;const t=e.readUInt8(i);if(e.isError(t))return t;r|=t}return r}e.exports=u,u.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},r(l,a),l.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;const r=e.save(),n=c(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(r),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||i)},l.prototype._decodeTag=function(e,t,i){const r=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;let n=h(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!i&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');const o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(n=e.offset-o.offset,e.restore(o),e.skip(n,'Failed to match body of: "'+t+'"'))},l.prototype._skipUntilEnd=function(e,t){for(;;){const i=c(e,t);if(e.isError(i))return i;const r=h(e,i.primitive,t);if(e.isError(r))return r;let n;if(n=i.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===i.tagStr)break}},l.prototype._decodeList=function(e,t,i,r){const n=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=i.decode(e,"der",r);if(e.isError(o)&&t)break;n.push(o)}return n},l.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let e=0;e<t.length/2;e++)i+=String.fromCharCode(t.readUInt16BE(2*e));return i}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},l.prototype._decodeObjid=function(e,t,i){let r;const n=[];let o=0,a=0;for(;!e.isEmpty();)o<<=7,o|=127&(a=e.readUInt8()),0==(128&a)&&(n.push(o),o=0);128&a&&n.push(o);const s=n[0]/40|0,u=n[0]%40;if(r=i?n:[s,u].concat(n.slice(1)),t){let e=t[r.join(" ")];void 0===e&&(e=t[r.join(".")]),void 0!==e&&(r=e)}return r},l.prototype._decodeTime=function(e,t){const i=e.raw().toString();let r,n,o,a,s,u;if("gentime"===t)r=0|i.slice(0,4),n=0|i.slice(4,6),o=0|i.slice(6,8),a=0|i.slice(8,10),s=0|i.slice(10,12),u=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|i.slice(0,2),n=0|i.slice(2,4),o=0|i.slice(4,6),a=0|i.slice(6,8),s=0|i.slice(8,10),u=0|i.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,o,a,s,u,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},l.prototype._decodeInt=function(e,t){const i=e.raw();let r=new n(i);return t&&(r=t[r.toString(10)]||r),r},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},OJ8B:function(e,t,i){"use strict";var r=t;r.base=i("qW1i"),r.short=i("n4Nz"),r.mont=i("oCEa"),r.edwards=i("FjWA")},OtjJ:function(e,t,i){"use strict";var r=i("mwrz"),n=i("My4w"),o=i("onRW"),a=i("DLTi").Buffer,s=i("yXLo"),u=i("DJz8"),l=i("96zr"),c=a.alloc(128);function h(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new u:l(e)).update(t).digest():t.length<i&&(t=a.concat([t,c],i));for(var r=this._ipad=a.allocUnsafe(i),n=this._opad=a.allocUnsafe(i),s=0;s<i;s++)r[s]=54^t[s],n[s]=92^t[s];this._hash="rmd160"===e?new u:l(e),this._hash.update(r)}r(h,o),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new n(s,t):new h(e,t)}},P01y:function(e,t,i){"use strict";(function(t,i){
/*!
 * Vue.js v2.5.13
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function n(e){return void 0===e||null===e}function o(e){return void 0!==e&&null!==e}function a(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function u(e){return null!==e&&"object"==typeof e}var l=Object.prototype.toString;function c(e){return"[object Object]"===l.call(e)}function h(e){return"[object RegExp]"===l.call(e)}function d(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function p(e){var t=parseFloat(e);return isNaN(t)?e:t}function A(e,t){for(var i=Object.create(null),r=e.split(","),n=0;n<r.length;n++)i[r[n]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}var g=A("slot,component",!0),m=A("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var v=Object.prototype.hasOwnProperty;function E(e,t){return v.call(e,t)}function w(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}var b=/-(\w)/g,C=w(function(e){return e.replace(b,function(e,t){return t?t.toUpperCase():""})}),I=w(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),S=/\B([A-Z])/g,M=w(function(e){return e.replace(S,"-$1").toLowerCase()});function k(e,t){function i(i){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function T(e,t){t=t||0;for(var i=e.length-t,r=new Array(i);i--;)r[i]=e[i+t];return r}function D(e,t){for(var i in t)e[i]=t[i];return e}function B(e){for(var t={},i=0;i<e.length;i++)e[i]&&D(t,e[i]);return t}function R(e,t,i){}var Q=function(e,t,i){return!1},O=function(e){return e};function L(e,t){if(e===t)return!0;var i=u(e),r=u(t);if(!i||!r)return!i&&!r&&String(e)===String(t);try{var n=Array.isArray(e),o=Array.isArray(t);if(n&&o)return e.length===t.length&&e.every(function(e,i){return L(e,t[i])});if(n||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(i){return L(e[i],t[i])})}catch(e){return!1}}function x(e,t){for(var i=0;i<e.length;i++)if(L(e[i],t))return i;return-1}function q(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var K="data-server-rendered",U=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Q,isReservedAttr:Q,isUnknownElement:Q,getTagNamespace:R,parsePlatformTagName:O,mustUseProp:Q,_lifecycleHooks:F};function N(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function J(e,t,i,r){Object.defineProperty(e,t,{value:i,enumerable:!!r,writable:!0,configurable:!0})}var G=/[^\w.$]/;var Y,P="__proto__"in{},z="undefined"!=typeof window,Z="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=Z&&WXEnvironment.platform.toLowerCase(),V=z&&window.navigator.userAgent.toLowerCase(),H=V&&/msie|trident/.test(V),X=V&&V.indexOf("msie 9.0")>0,_=V&&V.indexOf("edge/")>0,$=V&&V.indexOf("android")>0||"android"===W,ee=V&&/iphone|ipad|ipod|ios/.test(V)||"ios"===W,te=(V&&/chrome\/\d+/.test(V),{}.watch),ie=!1;if(z)try{var re={};Object.defineProperty(re,"passive",{get:function(){ie=!0}}),window.addEventListener("test-passive",null,re)}catch(e){}var ne=function(){return void 0===Y&&(Y=!z&&void 0!==t&&"server"===t.process.env.VUE_ENV),Y},oe=z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var se,ue="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);se="undefined"!=typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var le=R,ce=0,he=function(){this.id=ce++,this.subs=[]};he.prototype.addSub=function(e){this.subs.push(e)},he.prototype.removeSub=function(e){y(this.subs,e)},he.prototype.depend=function(){he.target&&he.target.addDep(this)},he.prototype.notify=function(){for(var e=this.subs.slice(),t=0,i=e.length;t<i;t++)e[t].update()},he.target=null;var de=[];var fe=function(e,t,i,r,n,o,a,s){this.tag=e,this.data=t,this.children=i,this.text=r,this.elm=n,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pe={child:{configurable:!0}};pe.child.get=function(){return this.componentInstance},Object.defineProperties(fe.prototype,pe);var Ae=function(e){void 0===e&&(e="");var t=new fe;return t.text=e,t.isComment=!0,t};function ge(e){return new fe(void 0,void 0,void 0,String(e))}function me(e,t){var i=e.componentOptions,r=new fe(e.tag,e.data,e.children,e.text,e.elm,e.context,i,e.asyncFactory);return r.ns=e.ns,r.isStatic=e.isStatic,r.key=e.key,r.isComment=e.isComment,r.fnContext=e.fnContext,r.fnOptions=e.fnOptions,r.fnScopeId=e.fnScopeId,r.isCloned=!0,t&&(e.children&&(r.children=ye(e.children,!0)),i&&i.children&&(i.children=ye(i.children,!0))),r}function ye(e,t){for(var i=e.length,r=new Array(i),n=0;n<i;n++)r[n]=me(e[n],t);return r}var ve=Array.prototype,Ee=Object.create(ve);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=ve[e];J(Ee,e,function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];var n,o=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":n=i;break;case"splice":n=i.slice(2)}return n&&a.observeArray(n),a.dep.notify(),o})});var we=Object.getOwnPropertyNames(Ee),be={shouldConvert:!0},Ce=function(e){(this.value=e,this.dep=new he,this.vmCount=0,J(e,"__ob__",this),Array.isArray(e))?((P?Ie:Se)(e,Ee,we),this.observeArray(e)):this.walk(e)};function Ie(e,t,i){e.__proto__=t}function Se(e,t,i){for(var r=0,n=i.length;r<n;r++){var o=i[r];J(e,o,t[o])}}function Me(e,t){var i;if(u(e)&&!(e instanceof fe))return E(e,"__ob__")&&e.__ob__ instanceof Ce?i=e.__ob__:be.shouldConvert&&!ne()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Ce(e)),t&&i&&i.vmCount++,i}function ke(e,t,i,r,n){var o=new he,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set,l=!n&&Me(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):i;return he.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(t)&&function e(t){for(var i=void 0,r=0,n=t.length;r<n;r++)(i=t[r])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&e(i)}(t))),t},set:function(t){var r=s?s.call(e):i;t===r||t!=t&&r!=r||(u?u.call(e,t):i=t,l=!n&&Me(t),o.notify())}})}}function Te(e,t,i){if(Array.isArray(e)&&d(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var r=e.__ob__;return e._isVue||r&&r.vmCount?i:r?(ke(r.value,t,i),r.dep.notify(),i):(e[t]=i,i)}function De(e,t){if(Array.isArray(e)&&d(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||E(e,t)&&(delete e[t],i&&i.dep.notify())}}Ce.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)ke(e,t[i],e[t[i]])},Ce.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Me(e[t])};var Be=j.optionMergeStrategies;function Re(e,t){if(!t)return e;for(var i,r,n,o=Object.keys(t),a=0;a<o.length;a++)r=e[i=o[a]],n=t[i],E(e,i)?c(r)&&c(n)&&Re(r,n):Te(e,i,n);return e}function Qe(e,t,i){return i?function(){var r="function"==typeof t?t.call(i,i):t,n="function"==typeof e?e.call(i,i):e;return r?Re(r,n):n}:t?e?function(){return Re("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Oe(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function Le(e,t,i,r){var n=Object.create(e||null);return t?D(n,t):n}Be.data=function(e,t,i){return i?Qe(e,t,i):t&&"function"!=typeof t?e:Qe(e,t)},F.forEach(function(e){Be[e]=Oe}),U.forEach(function(e){Be[e+"s"]=Le}),Be.watch=function(e,t,i,r){if(e===te&&(e=void 0),t===te&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var n={};for(var o in D(n,e),t){var a=n[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),n[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return n},Be.props=Be.methods=Be.inject=Be.computed=function(e,t,i,r){if(!e)return t;var n=Object.create(null);return D(n,e),t&&D(n,t),n},Be.provide=Qe;var xe=function(e,t){return void 0===t?e:t};function qe(e,t,i){"function"==typeof t&&(t=t.options),function(e,t){var i=e.props;if(i){var r,n,o={};if(Array.isArray(i))for(r=i.length;r--;)"string"==typeof(n=i[r])&&(o[C(n)]={type:null});else if(c(i))for(var a in i)n=i[a],o[C(a)]=c(n)?n:{type:n};e.props=o}}(t),function(e,t){var i=e.inject;if(i){var r=e.inject={};if(Array.isArray(i))for(var n=0;n<i.length;n++)r[i[n]]={from:i[n]};else if(c(i))for(var o in i){var a=i[o];r[o]=c(a)?D({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var i in t){var r=t[i];"function"==typeof r&&(t[i]={bind:r,update:r})}}(t);var r=t.extends;if(r&&(e=qe(e,r,i)),t.mixins)for(var n=0,o=t.mixins.length;n<o;n++)e=qe(e,t.mixins[n],i);var a,s={};for(a in e)u(a);for(a in t)E(e,a)||u(a);function u(r){var n=Be[r]||xe;s[r]=n(e[r],t[r],i,r)}return s}function Ke(e,t,i,r){if("string"==typeof i){var n=e[t];if(E(n,i))return n[i];var o=C(i);if(E(n,o))return n[o];var a=I(o);return E(n,a)?n[a]:n[i]||n[o]||n[a]}}function Ue(e,t,i,r){var n=t[e],o=!E(i,e),a=i[e];if(je(Boolean,n.type)&&(o&&!E(n,"default")?a=!1:je(String,n.type)||""!==a&&a!==M(e)||(a=!0)),void 0===a){a=function(e,t,i){if(!E(t,"default"))return;var r=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i])return e._props[i];return"function"==typeof r&&"Function"!==Fe(t.type)?r.call(e):r}(r,n,e);var s=be.shouldConvert;be.shouldConvert=!0,Me(a),be.shouldConvert=s}return a}function Fe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function je(e,t){if(!Array.isArray(t))return Fe(t)===Fe(e);for(var i=0,r=t.length;i<r;i++)if(Fe(t[i])===Fe(e))return!0;return!1}function Ne(e,t,i){if(t)for(var r=t;r=r.$parent;){var n=r.$options.errorCaptured;if(n)for(var o=0;o<n.length;o++)try{if(!1===n[o].call(r,e,t,i))return}catch(e){Je(e,r,"errorCaptured hook")}}Je(e,t,i)}function Je(e,t,i){if(j.errorHandler)try{return j.errorHandler.call(null,e,t,i)}catch(e){Ge(e,null,"config.errorHandler")}Ge(e,t,i)}function Ge(e,t,i){if(!z&&!Z||"undefined"==typeof console)throw e;console.error(e)}var Ye,Pe,ze=[],Ze=!1;function We(){Ze=!1;var e=ze.slice(0);ze.length=0;for(var t=0;t<e.length;t++)e[t]()}var Ve=!1;if(void 0!==i&&ae(i))Pe=function(){i(We)};else if("undefined"==typeof MessageChannel||!ae(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Pe=function(){setTimeout(We,0)};else{var He=new MessageChannel,Xe=He.port2;He.port1.onmessage=We,Pe=function(){Xe.postMessage(1)}}if("undefined"!=typeof Promise&&ae(Promise)){var _e=Promise.resolve();Ye=function(){_e.then(We),ee&&setTimeout(R)}}else Ye=Pe;function $e(e,t){var i;if(ze.push(function(){if(e)try{e.call(t)}catch(e){Ne(e,t,"nextTick")}else i&&i(t)}),Ze||(Ze=!0,Ve?Pe():Ye()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}var et=new se;function tt(e){!function e(t,i){var r,n;var o=Array.isArray(t);if(!o&&!u(t)||Object.isFrozen(t))return;if(t.__ob__){var a=t.__ob__.dep.id;if(i.has(a))return;i.add(a)}if(o)for(r=t.length;r--;)e(t[r],i);else for(n=Object.keys(t),r=n.length;r--;)e(t[n[r]],i)}(e,et),et.clear()}var it,rt=w(function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=i?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:i,capture:r,passive:t}});function nt(e){function t(){var e=arguments,i=t.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var r=i.slice(),n=0;n<r.length;n++)r[n].apply(null,e)}return t.fns=e,t}function ot(e,t,i,r,o){var a,s,u,l;for(a in e)s=e[a],u=t[a],l=rt(a),n(s)||(n(u)?(n(s.fns)&&(s=e[a]=nt(s)),i(l.name,s,l.once,l.capture,l.passive,l.params)):s!==u&&(u.fns=s,e[a]=u));for(a in t)n(e[a])&&r((l=rt(a)).name,t[a],l.capture)}function at(e,t,i){var r;e instanceof fe&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function u(){i.apply(this,arguments),y(r.fns,u)}n(s)?r=nt([u]):o(s.fns)&&a(s.merged)?(r=s).fns.push(u):r=nt([s,u]),r.merged=!0,e[t]=r}function st(e,t,i,r,n){if(o(t)){if(E(t,i))return e[i]=t[i],n||delete t[i],!0;if(E(t,r))return e[i]=t[r],n||delete t[r],!0}return!1}function ut(e){return s(e)?[ge(e)]:Array.isArray(e)?function e(t,i){var r=[];var u,l,c,h;for(u=0;u<t.length;u++)n(l=t[u])||"boolean"==typeof l||(c=r.length-1,h=r[c],Array.isArray(l)?l.length>0&&(lt((l=e(l,(i||"")+"_"+u))[0])&&lt(h)&&(r[c]=ge(h.text+l[0].text),l.shift()),r.push.apply(r,l)):s(l)?lt(h)?r[c]=ge(h.text+l):""!==l&&r.push(ge(l)):lt(l)&&lt(h)?r[c]=ge(h.text+l.text):(a(t._isVList)&&o(l.tag)&&n(l.key)&&o(i)&&(l.key="__vlist"+i+"_"+u+"__"),r.push(l)));return r}(e):void 0}function lt(e){return o(e)&&o(e.text)&&!1===e.isComment}function ct(e,t){return(e.__esModule||ue&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function ht(e){return e.isComment&&e.asyncFactory}function dt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(o(i)&&(o(i.componentOptions)||ht(i)))return i}}function ft(e,t,i){i?it.$once(e,t):it.$on(e,t)}function pt(e,t){it.$off(e,t)}function At(e,t,i){it=e,ot(t,i||{},ft,pt),it=void 0}function gt(e,t){var i={};if(!e)return i;for(var r=0,n=e.length;r<n;r++){var o=e[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(i.default||(i.default=[])).push(o);else{var s=a.slot,u=i[s]||(i[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var l in i)i[l].every(mt)&&delete i[l];return i}function mt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function yt(e,t){t=t||{};for(var i=0;i<e.length;i++)Array.isArray(e[i])?yt(e[i],t):t[e[i].key]=e[i].fn;return t}var vt=null;function Et(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function wt(e,t){if(t){if(e._directInactive=!1,Et(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)wt(e.$children[i]);bt(e,"activated")}}function bt(e,t){var i=e.$options[t];if(i)for(var r=0,n=i.length;r<n;r++)try{i[r].call(e)}catch(i){Ne(i,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}var Ct=[],It=[],St={},Mt=!1,kt=!1,Tt=0;function Dt(){var e,t;for(kt=!0,Ct.sort(function(e,t){return e.id-t.id}),Tt=0;Tt<Ct.length;Tt++)t=(e=Ct[Tt]).id,St[t]=null,e.run();var i=It.slice(),r=Ct.slice();Tt=Ct.length=It.length=0,St={},Mt=kt=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,wt(e[t],!0)}(i),function(e){var t=e.length;for(;t--;){var i=e[t],r=i.vm;r._watcher===i&&r._isMounted&&bt(r,"updated")}}(r),oe&&j.devtools&&oe.emit("flush")}var Bt=0,Rt=function(e,t,i,r,n){this.vm=e,n&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Bt,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new se,this.newDepIds=new se,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!G.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Rt.prototype.get=function(){var e,t;e=this,he.target&&de.push(he.target),he.target=e;var i=this.vm;try{t=this.getter.call(i,i)}catch(e){if(!this.user)throw e;Ne(e,i,'getter for watcher "'+this.expression+'"')}finally{this.deep&&tt(t),he.target=de.pop(),this.cleanupDeps()}return t},Rt.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Rt.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Rt.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==St[t]){if(St[t]=!0,kt){for(var i=Ct.length-1;i>Tt&&Ct[i].id>e.id;)i--;Ct.splice(i+1,0,e)}else Ct.push(e);Mt||(Mt=!0,$e(Dt))}}(this)},Rt.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){Ne(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Rt.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Rt.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Rt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Qt={enumerable:!0,configurable:!0,get:R,set:R};function Ot(e,t,i){Qt.get=function(){return this[t][i]},Qt.set=function(e){this[t][i]=e},Object.defineProperty(e,i,Qt)}function Lt(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var i=e.$options.propsData||{},r=e._props={},n=e.$options._propKeys=[],o=!e.$parent;be.shouldConvert=o;var a=function(o){n.push(o);var a=Ue(o,t,i,e);ke(r,o,a),o in e||Ot(e,"_props",o)};for(var s in t)a(s);be.shouldConvert=!0}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var i in t)e[i]=null==t[i]?R:k(t[i],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;c(t=e._data="function"==typeof t?function(e,t){try{return e.call(t,t)}catch(e){return Ne(e,t,"data()"),{}}}(t,e):t||{})||(t={});var i=Object.keys(t),r=e.$options.props,n=(e.$options.methods,i.length);for(;n--;){var o=i[n];0,r&&E(r,o)||N(o)||Ot(e,"_data",o)}Me(t,!0)}(e):Me(e._data={},!0),t.computed&&function(e,t){var i=e._computedWatchers=Object.create(null),r=ne();for(var n in t){var o=t[n],a="function"==typeof o?o:o.get;0,r||(i[n]=new Rt(e,a||R,R,xt)),n in e||qt(e,n,o)}}(e,t.computed),t.watch&&t.watch!==te&&function(e,t){for(var i in t){var r=t[i];if(Array.isArray(r))for(var n=0;n<r.length;n++)Ut(e,i,r[n]);else Ut(e,i,r)}}(e,t.watch)}var xt={lazy:!0};function qt(e,t,i){var r=!ne();"function"==typeof i?(Qt.get=r?Kt(t):i,Qt.set=R):(Qt.get=i.get?r&&!1!==i.cache?Kt(t):i.get:R,Qt.set=i.set?i.set:R),Object.defineProperty(e,t,Qt)}function Kt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),he.target&&t.depend(),t.value}}function Ut(e,t,i,r){return c(i)&&(r=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,r)}function Ft(e,t){if(e){for(var i=Object.create(null),r=ue?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),n=0;n<r.length;n++){for(var o=r[n],a=e[o].from,s=t;s;){if(s._provided&&a in s._provided){i[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var u=e[o].default;i[o]="function"==typeof u?u.call(t):u}else 0}return i}}function jt(e,t){var i,r,n,a,s;if(Array.isArray(e)||"string"==typeof e)for(i=new Array(e.length),r=0,n=e.length;r<n;r++)i[r]=t(e[r],r);else if("number"==typeof e)for(i=new Array(e),r=0;r<e;r++)i[r]=t(r+1,r);else if(u(e))for(a=Object.keys(e),i=new Array(a.length),r=0,n=a.length;r<n;r++)s=a[r],i[r]=t(e[s],s,r);return o(i)&&(i._isVList=!0),i}function Nt(e,t,i,r){var n,o=this.$scopedSlots[e];if(o)i=i||{},r&&(i=D(D({},r),i)),n=o(i)||t;else{var a=this.$slots[e];a&&(a._rendered=!0),n=a||t}var s=i&&i.slot;return s?this.$createElement("template",{slot:s},n):n}function Jt(e){return Ke(this.$options,"filters",e)||O}function Gt(e,t,i,r){var n=j.keyCodes[t]||i;return n?Array.isArray(n)?-1===n.indexOf(e):n!==e:r?M(r)!==t:void 0}function Yt(e,t,i,r,n){if(i)if(u(i)){var o;Array.isArray(i)&&(i=B(i));var a=function(a){if("class"===a||"style"===a||m(a))o=e;else{var s=e.attrs&&e.attrs.type;o=r||j.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}a in o||(o[a]=i[a],n&&((e.on||(e.on={}))["update:"+a]=function(e){i[a]=e}))};for(var s in i)a(s)}else;return e}function Pt(e,t){var i=this._staticTrees||(this._staticTrees=[]),r=i[e];return r&&!t?Array.isArray(r)?ye(r):me(r):(Zt(r=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r)}function zt(e,t,i){return Zt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Zt(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Wt(e[r],t+"_"+r,i);else Wt(e,t,i)}function Wt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function Vt(e,t){if(t)if(c(t)){var i=e.on=e.on?D({},e.on):{};for(var r in t){var n=i[r],o=t[r];i[r]=n?[].concat(n,o):o}}else;return e}function Ht(e){e._o=zt,e._n=p,e._s=f,e._l=jt,e._t=Nt,e._q=L,e._i=x,e._m=Pt,e._f=Jt,e._k=Gt,e._b=Yt,e._v=ge,e._e=Ae,e._u=yt,e._g=Vt}function Xt(e,t,i,n,o){var s=o.options;this.data=e,this.props=t,this.children=i,this.parent=n,this.listeners=e.on||r,this.injections=Ft(s.inject,n),this.slots=function(){return gt(i,n)};var u=Object.create(n),l=a(s._compiled),c=!l;l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=e.scopedSlots||r),s._scopeId?this._c=function(e,t,i,r){var o=oi(u,e,t,i,r,c);return o&&(o.fnScopeId=s._scopeId,o.fnContext=n),o}:this._c=function(e,t,i,r){return oi(u,e,t,i,r,c)}}function _t(e,t){for(var i in t)e[C(i)]=t[i]}Ht(Xt.prototype);var $t={init:function(e,t,i,r){if(!e.componentInstance||e.componentInstance._isDestroyed)(e.componentInstance=function(e,t,i,r){var n={_isComponent:!0,parent:t,_parentVnode:e,_parentElm:i||null,_refElm:r||null},a=e.data.inlineTemplate;o(a)&&(n.render=a.render,n.staticRenderFns=a.staticRenderFns);return new e.componentOptions.Ctor(n)}(e,vt,i,r)).$mount(t?e.elm:void 0,t);else if(e.data.keepAlive){var n=e;$t.prepatch(n,n)}},prepatch:function(e,t){var i=t.componentOptions;!function(e,t,i,n,o){var a=!!(o||e.$options._renderChildren||n.data.scopedSlots||e.$scopedSlots!==r);if(e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=o,e.$attrs=n.data&&n.data.attrs||r,e.$listeners=i||r,t&&e.$options.props){be.shouldConvert=!1;for(var s=e._props,u=e.$options._propKeys||[],l=0;l<u.length;l++){var c=u[l];s[c]=Ue(c,e.$options.props,t,e)}be.shouldConvert=!0,e.$options.propsData=t}if(i){var h=e.$options._parentListeners;e.$options._parentListeners=i,At(e,i,h)}a&&(e.$slots=gt(o,n.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){var t,i=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,bt(r,"mounted")),e.data.keepAlive&&(i._isMounted?((t=r)._inactive=!1,It.push(t)):wt(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(!(i&&(t._directInactive=!0,Et(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);bt(t,"deactivated")}}(t,!0):t.$destroy())}},ei=Object.keys($t);function ti(e,t,i,s,l){if(!n(e)){var c=i.$options._base;if(u(e)&&(e=c.extend(e)),"function"==typeof e){var h;if(n(e.cid)&&void 0===(e=function(e,t,i){if(a(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;if(a(e.loading)&&o(e.loadingComp))return e.loadingComp;if(!o(e.contexts)){var r=e.contexts=[i],s=!0,l=function(){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate()},c=q(function(i){e.resolved=ct(i,t),s||l()}),h=q(function(t){o(e.errorComp)&&(e.error=!0,l())}),d=e(c,h);return u(d)&&("function"==typeof d.then?n(e.resolved)&&d.then(c,h):o(d.component)&&"function"==typeof d.component.then&&(d.component.then(c,h),o(d.error)&&(e.errorComp=ct(d.error,t)),o(d.loading)&&(e.loadingComp=ct(d.loading,t),0===d.delay?e.loading=!0:setTimeout(function(){n(e.resolved)&&n(e.error)&&(e.loading=!0,l())},d.delay||200)),o(d.timeout)&&setTimeout(function(){n(e.resolved)&&h(null)},d.timeout))),s=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(i)}(h=e,c,i)))return function(e,t,i,r,n){var o=Ae();return o.asyncFactory=e,o.asyncMeta={data:t,context:i,children:r,tag:n},o}(h,t,i,s,l);t=t||{},si(e),o(t.model)&&function(e,t){var i=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.props||(t.props={}))[i]=t.model.value;var n=t.on||(t.on={});o(n[r])?n[r]=[t.model.callback].concat(n[r]):n[r]=t.model.callback}(e.options,t);var d=function(e,t,i){var r=t.options.props;if(!n(r)){var a={},s=e.attrs,u=e.props;if(o(s)||o(u))for(var l in r){var c=M(l);st(a,u,l,c,!0)||st(a,s,l,c,!1)}return a}}(t,e);if(a(e.options.functional))return function(e,t,i,n,a){var s=e.options,u={},l=s.props;if(o(l))for(var c in l)u[c]=Ue(c,l,t||r);else o(i.attrs)&&_t(u,i.attrs),o(i.props)&&_t(u,i.props);var h=new Xt(i,u,a,n,e),d=s.render.call(null,h._c,h);return d instanceof fe&&(d.fnContext=n,d.fnOptions=s,i.slot&&((d.data||(d.data={})).slot=i.slot)),d}(e,d,t,i,s);var f=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}!function(e){e.hook||(e.hook={});for(var t=0;t<ei.length;t++){var i=ei[t],r=e.hook[i],n=$t[i];e.hook[i]=r?ii(n,r):n}}(t);var A=e.options.name||l;return new fe("vue-component-"+e.cid+(A?"-"+A:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:d,listeners:f,tag:l,children:s},h)}}}function ii(e,t){return function(i,r,n,o){e(i,r,n,o),t(i,r,n,o)}}var ri=1,ni=2;function oi(e,t,i,r,u,l){return(Array.isArray(i)||s(i))&&(u=r,r=i,i=void 0),a(l)&&(u=ni),function(e,t,i,r,s){if(o(i)&&o(i.__ob__))return Ae();o(i)&&o(i.is)&&(t=i.is);if(!t)return Ae();0;Array.isArray(r)&&"function"==typeof r[0]&&((i=i||{}).scopedSlots={default:r[0]},r.length=0);s===ni?r=ut(r):s===ri&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r));var u,l;if("string"==typeof t){var c;l=e.$vnode&&e.$vnode.ns||j.getTagNamespace(t),u=j.isReservedTag(t)?new fe(j.parsePlatformTagName(t),i,r,void 0,void 0,e):o(c=Ke(e.$options,"components",t))?ti(c,i,e,r,t):new fe(t,i,r,void 0,void 0,e)}else u=ti(t,i,e,r);return o(u)?(l&&function e(t,i,r){t.ns=i;"foreignObject"===t.tag&&(i=void 0,r=!0);if(o(t.children))for(var s=0,u=t.children.length;s<u;s++){var l=t.children[s];o(l.tag)&&(n(l.ns)||a(r))&&e(l,i,r)}}(u,l),u):Ae()}(e,t,i,r,u)}var ai=0;function si(e){var t=e.options;if(e.super){var i=si(e.super);if(i!==e.superOptions){e.superOptions=i;var r=function(e){var t,i=e.options,r=e.extendOptions,n=e.sealedOptions;for(var o in i)i[o]!==n[o]&&(t||(t={}),t[o]=ui(i[o],r[o],n[o]));return t}(e);r&&D(e.extendOptions,r),(t=e.options=qe(i,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function ui(e,t,i){if(Array.isArray(e)){var r=[];i=Array.isArray(i)?i:[i],t=Array.isArray(t)?t:[t];for(var n=0;n<e.length;n++)(t.indexOf(e[n])>=0||i.indexOf(e[n])<0)&&r.push(e[n]);return r}return e}function li(e){this._init(e)}function ci(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,r=i.cid,n=e._Ctor||(e._Ctor={});if(n[r])return n[r];var o=e.name||i.options.name;var a=function(e){this._init(e)};return(a.prototype=Object.create(i.prototype)).constructor=a,a.cid=t++,a.options=qe(i.options,e),a.super=i,a.options.props&&function(e){var t=e.options.props;for(var i in t)Ot(e.prototype,"_props",i)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var i in t)qt(e.prototype,i,t[i])}(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,U.forEach(function(e){a[e]=i[e]}),o&&(a.options.components[o]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=D({},a.options),n[r]=a,a}}function hi(e){return e&&(e.Ctor.options.name||e.tag)}function di(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!h(e)&&e.test(t)}function fi(e,t){var i=e.cache,r=e.keys,n=e._vnode;for(var o in i){var a=i[o];if(a){var s=hi(a.componentOptions);s&&!t(s)&&pi(i,o,r,n)}}}function pi(e,t,i,r){var n=e[t];!n||r&&n.tag===r.tag||n.componentInstance.$destroy(),e[t]=null,y(i,t)}li.prototype._init=function(e){var t=this;t._uid=ai++,t._isVue=!0,e&&e._isComponent?function(e,t){var i=e.$options=Object.create(e.constructor.options),r=t._parentVnode;i.parent=t.parent,i._parentVnode=r,i._parentElm=t._parentElm,i._refElm=t._refElm;var n=r.componentOptions;i.propsData=n.propsData,i._parentListeners=n.listeners,i._renderChildren=n.children,i._componentTag=n.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=qe(si(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&At(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,i=e.$vnode=t._parentVnode,n=i&&i.context;e.$slots=gt(t._renderChildren,n),e.$scopedSlots=r,e._c=function(t,i,r,n){return oi(e,t,i,r,n,!1)},e.$createElement=function(t,i,r,n){return oi(e,t,i,r,n,!0)};var o=i&&i.data;ke(e,"$attrs",o&&o.attrs||r,0,!0),ke(e,"$listeners",t._parentListeners||r,0,!0)}(t),bt(t,"beforeCreate"),function(e){var t=Ft(e.$options.inject,e);t&&(be.shouldConvert=!1,Object.keys(t).forEach(function(i){ke(e,i,t[i])}),be.shouldConvert=!0)}(t),Lt(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),bt(t,"created"),t.$options.el&&t.$mount(t.$options.el)},function(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Te,e.prototype.$delete=De,e.prototype.$watch=function(e,t,i){if(c(t))return Ut(this,e,t,i);(i=i||{}).user=!0;var r=new Rt(this,e,t,i);return i.immediate&&t.call(this,r.value),function(){r.teardown()}}}(li),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.$on(e[r],i);else(this._events[e]||(this._events[e]=[])).push(i),t.test(e)&&(this._hasHookEvent=!0);return this},e.prototype.$once=function(e,t){var i=this;function r(){i.$off(e,r),t.apply(i,arguments)}return r.fn=t,i.$on(e,r),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)this.$off(e[r],t);return i}var o=i._events[e];if(!o)return i;if(!t)return i._events[e]=null,i;if(t)for(var a,s=o.length;s--;)if((a=o[s])===t||a.fn===t){o.splice(s,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?T(i):i;for(var r=T(arguments,1),n=0,o=i.length;n<o;n++)try{i[n].apply(t,r)}catch(i){Ne(i,t,'event handler for "'+e+'"')}}return t}}(li),function(e){e.prototype._update=function(e,t){var i=this;i._isMounted&&bt(i,"beforeUpdate");var r=i.$el,n=i._vnode,o=vt;vt=i,i._vnode=e,n?i.$el=i.__patch__(n,e):(i.$el=i.__patch__(i.$el,e,t,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),vt=o,r&&(r.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){bt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),bt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(li),function(e){Ht(e.prototype),e.prototype.$nextTick=function(e){return $e(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,n=i.render,o=i._parentVnode;if(t._isMounted)for(var a in t.$slots){var s=t.$slots[a];(s._rendered||s[0]&&s[0].elm)&&(t.$slots[a]=ye(s,!0))}t.$scopedSlots=o&&o.data.scopedSlots||r,t.$vnode=o;try{e=n.call(t._renderProxy,t.$createElement)}catch(i){Ne(i,t,"render"),e=t._vnode}return e instanceof fe||(e=Ae()),e.parent=o,e}}(li);var Ai=[String,RegExp,Array],gi={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ai,exclude:Ai,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)pi(this.cache,e,this.keys)},watch:{include:function(e){fi(this,function(t){return di(e,t)})},exclude:function(e){fi(this,function(t){return!di(e,t)})}},render:function(){var e=this.$slots.default,t=dt(e),i=t&&t.componentOptions;if(i){var r=hi(i),n=this.include,o=this.exclude;if(n&&(!r||!di(n,r))||o&&r&&di(o,r))return t;var a=this.cache,s=this.keys,u=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;a[u]?(t.componentInstance=a[u].componentInstance,y(s,u),s.push(u)):(a[u]=t,s.push(u),this.max&&s.length>parseInt(this.max)&&pi(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return j}};Object.defineProperty(e,"config",t),e.util={warn:le,extend:D,mergeOptions:qe,defineReactive:ke},e.set=Te,e.delete=De,e.nextTick=$e,e.options=Object.create(null),U.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,D(e.options.components,gi),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=T(arguments,1);return i.unshift(this),"function"==typeof e.install?e.install.apply(e,i):"function"==typeof e&&e.apply(null,i),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=qe(this.options,e),this}}(e),ci(e),function(e){U.forEach(function(t){e[t]=function(e,i){return i?("component"===t&&c(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"==typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})}(e)}(li),Object.defineProperty(li.prototype,"$isServer",{get:ne}),Object.defineProperty(li.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),li.version="2.5.13";var mi=A("style,class"),yi=A("input,textarea,option,select,progress"),vi=function(e,t,i){return"value"===i&&yi(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Ei=A("contenteditable,draggable,spellcheck"),wi=A("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),bi="http://www.w3.org/1999/xlink",Ci=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ii=function(e){return Ci(e)?e.slice(6,e.length):""},Si=function(e){return null==e||!1===e};function Mi(e){for(var t=e.data,i=e,r=e;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=ki(r.data,t));for(;o(i=i.parent);)i&&i.data&&(t=ki(t,i.data));return function(e,t){if(o(e)||o(t))return Ti(e,Di(t));return""}(t.staticClass,t.class)}function ki(e,t){return{staticClass:Ti(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function Ti(e,t){return e?t?e+" "+t:e:t||""}function Di(e){return Array.isArray(e)?function(e){for(var t,i="",r=0,n=e.length;r<n;r++)o(t=Di(e[r]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):u(e)?function(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}(e):"string"==typeof e?e:""}var Bi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ri=A("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Qi=A("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Oi=function(e){return Ri(e)||Qi(e)};function Li(e){return Qi(e)?"svg":"math"===e?"math":void 0}var xi=Object.create(null);var qi=A("text,number,password,search,email,tel,url");function Ki(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}var Ui=Object.freeze({createElement:function(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(e,t){return document.createElementNS(Bi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setAttribute:function(e,t,i){e.setAttribute(t,i)}}),Fi={create:function(e,t){ji(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ji(e,!0),ji(t))},destroy:function(e){ji(e,!0)}};function ji(e,t){var i=e.data.ref;if(i){var r=e.context,n=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[i])?y(o[i],n):o[i]===n&&(o[i]=void 0):e.data.refInFor?Array.isArray(o[i])?o[i].indexOf(n)<0&&o[i].push(n):o[i]=[n]:o[i]=n}}var Ni=new fe("",{},[]),Ji=["create","activate","update","remove","destroy"];function Gi(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&function(e,t){if("input"!==e.tag)return!0;var i,r=o(i=e.data)&&o(i=i.attrs)&&i.type,n=o(i=t.data)&&o(i=i.attrs)&&i.type;return r===n||qi(r)&&qi(n)}(e,t)||a(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function Yi(e,t,i){var r,n,a={};for(r=t;r<=i;++r)o(n=e[r].key)&&(a[n]=r);return a}var Pi={create:zi,update:zi,destroy:function(e){zi(e,Ni)}};function zi(e,t){(e.data.directives||t.data.directives)&&function(e,t){var i,r,n,o=e===Ni,a=t===Ni,s=Wi(e.data.directives,e.context),u=Wi(t.data.directives,t.context),l=[],c=[];for(i in u)r=s[i],n=u[i],r?(n.oldValue=r.value,Hi(n,"update",t,e),n.def&&n.def.componentUpdated&&c.push(n)):(Hi(n,"bind",t,e),n.def&&n.def.inserted&&l.push(n));if(l.length){var h=function(){for(var i=0;i<l.length;i++)Hi(l[i],"inserted",t,e)};o?at(t,"insert",h):h()}c.length&&at(t,"postpatch",function(){for(var i=0;i<c.length;i++)Hi(c[i],"componentUpdated",t,e)});if(!o)for(i in s)u[i]||Hi(s[i],"unbind",e,e,a)}(e,t)}var Zi=Object.create(null);function Wi(e,t){var i,r,n=Object.create(null);if(!e)return n;for(i=0;i<e.length;i++)(r=e[i]).modifiers||(r.modifiers=Zi),n[Vi(r)]=r,r.def=Ke(t.$options,"directives",r.name);return n}function Vi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Hi(e,t,i,r,n){var o=e.def&&e.def[t];if(o)try{o(i.elm,e,i,r,n)}catch(r){Ne(r,i.context,"directive "+e.name+" "+t+" hook")}}var Xi=[Fi,Pi];function _i(e,t){var i=t.componentOptions;if(!(o(i)&&!1===i.Ctor.options.inheritAttrs||n(e.data.attrs)&&n(t.data.attrs))){var r,a,s=t.elm,u=e.data.attrs||{},l=t.data.attrs||{};for(r in o(l.__ob__)&&(l=t.data.attrs=D({},l)),l)a=l[r],u[r]!==a&&$i(s,r,a);for(r in(H||_)&&l.value!==u.value&&$i(s,"value",l.value),u)n(l[r])&&(Ci(r)?s.removeAttributeNS(bi,Ii(r)):Ei(r)||s.removeAttribute(r))}}function $i(e,t,i){if(wi(t))Si(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i));else if(Ei(t))e.setAttribute(t,Si(i)||"false"===i?"false":"true");else if(Ci(t))Si(i)?e.removeAttributeNS(bi,Ii(t)):e.setAttributeNS(bi,t,i);else if(Si(i))e.removeAttribute(t);else{if(H&&!X&&"TEXTAREA"===e.tagName&&"placeholder"===t&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,i)}}var er={create:_i,update:_i};function tr(e,t){var i=t.elm,r=t.data,a=e.data;if(!(n(r.staticClass)&&n(r.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=Mi(t),u=i._transitionClasses;o(u)&&(s=Ti(s,Di(u))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}var ir,rr,nr,or,ar,sr,ur={create:tr,update:tr},lr=/[\w).+\-_$\]]/;function cr(e){var t,i,r,n,o,a=!1,s=!1,u=!1,l=!1,c=0,h=0,d=0,f=0;for(r=0;r<e.length;r++)if(i=t,t=e.charCodeAt(r),a)39===t&&92!==i&&(a=!1);else if(s)34===t&&92!==i&&(s=!1);else if(u)96===t&&92!==i&&(u=!1);else if(l)47===t&&92!==i&&(l=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||c||h||d){switch(t){case 34:s=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:d++;break;case 41:d--;break;case 91:h++;break;case 93:h--;break;case 123:c++;break;case 125:c--}if(47===t){for(var p=r-1,A=void 0;p>=0&&" "===(A=e.charAt(p));p--);A&&lr.test(A)||(l=!0)}}else void 0===n?(f=r+1,n=e.slice(0,r).trim()):g();function g(){(o||(o=[])).push(e.slice(f,r).trim()),f=r+1}if(void 0===n?n=e.slice(0,r).trim():0!==f&&g(),o)for(r=0;r<o.length;r++)n=hr(n,o[r]);return n}function hr(e,t){var i=t.indexOf("(");return i<0?'_f("'+t+'")('+e+")":'_f("'+t.slice(0,i)+'")('+e+","+t.slice(i+1)}function dr(e){console.error("[Vue compiler]: "+e)}function fr(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function pr(e,t,i){(e.props||(e.props=[])).push({name:t,value:i}),e.plain=!1}function Ar(e,t,i){(e.attrs||(e.attrs=[])).push({name:t,value:i}),e.plain=!1}function gr(e,t,i){e.attrsMap[t]=i,e.attrsList.push({name:t,value:i})}function mr(e,t,i,r,n,o){(e.directives||(e.directives=[])).push({name:t,rawName:i,value:r,arg:n,modifiers:o}),e.plain=!1}function yr(e,t,i,n,o,a){var s;(n=n||r).capture&&(delete n.capture,t="!"+t),n.once&&(delete n.once,t="~"+t),n.passive&&(delete n.passive,t="&"+t),"click"===t&&(n.right?(t="contextmenu",delete n.right):n.middle&&(t="mouseup")),n.native?(delete n.native,s=e.nativeEvents||(e.nativeEvents={})):s=e.events||(e.events={});var u={value:i};n!==r&&(u.modifiers=n);var l=s[t];Array.isArray(l)?o?l.unshift(u):l.push(u):s[t]=l?o?[u,l]:[l,u]:u,e.plain=!1}function vr(e,t,i){var r=Er(e,":"+t)||Er(e,"v-bind:"+t);if(null!=r)return cr(r);if(!1!==i){var n=Er(e,t);if(null!=n)return JSON.stringify(n)}}function Er(e,t,i){var r;if(null!=(r=e.attrsMap[t]))for(var n=e.attrsList,o=0,a=n.length;o<a;o++)if(n[o].name===t){n.splice(o,1);break}return i&&delete e.attrsMap[t],r}function wr(e,t,i){var r=i||{},n=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),n&&(o="_n("+o+")");var a=br(t,o);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+a+"}"}}function br(e,t){var i=function(e){if(ir=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<ir-1)return(or=e.lastIndexOf("."))>-1?{exp:e.slice(0,or),key:'"'+e.slice(or+1)+'"'}:{exp:e,key:null};rr=e,or=ar=sr=0;for(;!Ir();)Sr(nr=Cr())?kr(nr):91===nr&&Mr(nr);return{exp:e.slice(0,ar),key:e.slice(ar+1,sr)}}(e);return null===i.key?e+"="+t:"$set("+i.exp+", "+i.key+", "+t+")"}function Cr(){return rr.charCodeAt(++or)}function Ir(){return or>=ir}function Sr(e){return 34===e||39===e}function Mr(e){var t=1;for(ar=or;!Ir();)if(Sr(e=Cr()))kr(e);else if(91===e&&t++,93===e&&t--,0===t){sr=or;break}}function kr(e){for(var t=e;!Ir()&&(e=Cr())!==t;);}var Tr,Dr="__r",Br="__c";function Rr(e,t,i,r,n){var o;t=(o=t)._withTask||(o._withTask=function(){Ve=!0;var e=o.apply(null,arguments);return Ve=!1,e}),i&&(t=function(e,t,i){var r=Tr;return function n(){null!==e.apply(null,arguments)&&Qr(t,n,i,r)}}(t,e,r)),Tr.addEventListener(e,t,ie?{capture:r,passive:n}:r)}function Qr(e,t,i,r){(r||Tr).removeEventListener(e,t._withTask||t,i)}function Or(e,t){if(!n(e.data.on)||!n(t.data.on)){var i=t.data.on||{},r=e.data.on||{};Tr=t.elm,function(e){if(o(e[Dr])){var t=H?"change":"input";e[t]=[].concat(e[Dr],e[t]||[]),delete e[Dr]}o(e[Br])&&(e.change=[].concat(e[Br],e.change||[]),delete e[Br])}(i),ot(i,r,Rr,Qr,t.context),Tr=void 0}}var Lr={create:Or,update:Or};function xr(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var i,r,a=t.elm,s=e.data.domProps||{},u=t.data.domProps||{};for(i in o(u.__ob__)&&(u=t.data.domProps=D({},u)),s)n(u[i])&&(a[i]="");for(i in u){if(r=u[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),r===s[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i){a._value=r;var l=n(r)?"":String(r);qr(a,l)&&(a.value=l)}else a[i]=r}}}function qr(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}(e,t)||function(e,t){var i=e.value,r=e._vModifiers;if(o(r)){if(r.lazy)return!1;if(r.number)return p(i)!==p(t);if(r.trim)return i.trim()!==t.trim()}return i!==t}(e,t))}var Kr={create:xr,update:xr},Ur=w(function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var r=e.split(i);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t});function Fr(e){var t=jr(e.style);return e.staticStyle?D(e.staticStyle,t):t}function jr(e){return Array.isArray(e)?B(e):"string"==typeof e?Ur(e):e}var Nr,Jr=/^--/,Gr=/\s*!important$/,Yr=function(e,t,i){if(Jr.test(t))e.style.setProperty(t,i);else if(Gr.test(i))e.style.setProperty(t,i.replace(Gr,""),"important");else{var r=zr(t);if(Array.isArray(i))for(var n=0,o=i.length;n<o;n++)e.style[r]=i[n];else e.style[r]=i}},Pr=["Webkit","Moz","ms"],zr=w(function(e){if(Nr=Nr||document.createElement("div").style,"filter"!==(e=C(e))&&e in Nr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<Pr.length;i++){var r=Pr[i]+t;if(r in Nr)return r}});function Zr(e,t){var i=t.data,r=e.data;if(!(n(i.staticStyle)&&n(i.style)&&n(r.staticStyle)&&n(r.style))){var a,s,u=t.elm,l=r.staticStyle,c=r.normalizedStyle||r.style||{},h=l||c,d=jr(t.data.style)||{};t.data.normalizedStyle=o(d.__ob__)?D({},d):d;var f=function(e,t){var i,r={};if(t)for(var n=e;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(i=Fr(n.data))&&D(r,i);(i=Fr(e.data))&&D(r,i);for(var o=e;o=o.parent;)o.data&&(i=Fr(o.data))&&D(r,i);return r}(t,!0);for(s in h)n(f[s])&&Yr(u,s,"");for(s in f)(a=f[s])!==h[s]&&Yr(u,s,null==a?"":a)}}var Wr={create:Zr,update:Zr};function Vr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function Hr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var i=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";i.indexOf(r)>=0;)i=i.replace(r," ");(i=i.trim())?e.setAttribute("class",i):e.removeAttribute("class")}}function Xr(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&D(t,_r(e.name||"v")),D(t,e),t}return"string"==typeof e?_r(e):void 0}}var _r=w(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),$r=z&&!X,en="transition",tn="animation",rn="transition",nn="transitionend",on="animation",an="animationend";$r&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(rn="WebkitTransition",nn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(on="WebkitAnimation",an="webkitAnimationEnd"));var sn=z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function un(e){sn(function(){sn(e)})}function ln(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),Vr(e,t))}function cn(e,t){e._transitionClasses&&y(e._transitionClasses,t),Hr(e,t)}function hn(e,t,i){var r=fn(e,t),n=r.type,o=r.timeout,a=r.propCount;if(!n)return i();var s=n===en?nn:an,u=0,l=function(){e.removeEventListener(s,c),i()},c=function(t){t.target===e&&++u>=a&&l()};setTimeout(function(){u<a&&l()},o+1),e.addEventListener(s,c)}var dn=/\b(transform|all)(,|$)/;function fn(e,t){var i,r=window.getComputedStyle(e),n=r[rn+"Delay"].split(", "),o=r[rn+"Duration"].split(", "),a=pn(n,o),s=r[on+"Delay"].split(", "),u=r[on+"Duration"].split(", "),l=pn(s,u),c=0,h=0;return t===en?a>0&&(i=en,c=a,h=o.length):t===tn?l>0&&(i=tn,c=l,h=u.length):h=(i=(c=Math.max(a,l))>0?a>l?en:tn:null)?i===en?o.length:u.length:0,{type:i,timeout:c,propCount:h,hasTransform:i===en&&dn.test(r[rn+"Property"])}}function pn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,i){return An(t)+An(e[i])}))}function An(e){return 1e3*Number(e.slice(0,-1))}function gn(e,t){var i=e.elm;o(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var r=Xr(e.data.transition);if(!n(r)&&!o(i._enterCb)&&1===i.nodeType){for(var a=r.css,s=r.type,l=r.enterClass,c=r.enterToClass,h=r.enterActiveClass,d=r.appearClass,f=r.appearToClass,A=r.appearActiveClass,g=r.beforeEnter,m=r.enter,y=r.afterEnter,v=r.enterCancelled,E=r.beforeAppear,w=r.appear,b=r.afterAppear,C=r.appearCancelled,I=r.duration,S=vt,M=vt.$vnode;M&&M.parent;)S=(M=M.parent).context;var k=!S._isMounted||!e.isRootInsert;if(!k||w||""===w){var T=k&&d?d:l,D=k&&A?A:h,B=k&&f?f:c,R=k&&E||g,Q=k&&"function"==typeof w?w:m,O=k&&b||y,L=k&&C||v,x=p(u(I)?I.enter:I);0;var K=!1!==a&&!X,U=vn(Q),F=i._enterCb=q(function(){K&&(cn(i,B),cn(i,D)),F.cancelled?(K&&cn(i,T),L&&L(i)):O&&O(i),i._enterCb=null});e.data.show||at(e,"insert",function(){var t=i.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),Q&&Q(i,F)}),R&&R(i),K&&(ln(i,T),ln(i,D),un(function(){ln(i,B),cn(i,T),F.cancelled||U||(yn(x)?setTimeout(F,x):hn(i,s,F))})),e.data.show&&(t&&t(),Q&&Q(i,F)),K||U||F()}}}function mn(e,t){var i=e.elm;o(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var r=Xr(e.data.transition);if(n(r)||1!==i.nodeType)return t();if(!o(i._leaveCb)){var a=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,h=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,A=r.afterLeave,g=r.leaveCancelled,m=r.delayLeave,y=r.duration,v=!1!==a&&!X,E=vn(f),w=p(u(y)?y.leave:y);0;var b=i._leaveCb=q(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),v&&(cn(i,c),cn(i,h)),b.cancelled?(v&&cn(i,l),g&&g(i)):(t(),A&&A(i)),i._leaveCb=null});m?m(C):C()}function C(){b.cancelled||(e.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),d&&d(i),v&&(ln(i,l),ln(i,h),un(function(){ln(i,c),cn(i,l),b.cancelled||E||(yn(w)?setTimeout(b,w):hn(i,s,b))})),f&&f(i,b),v||E||b())}}function yn(e){return"number"==typeof e&&!isNaN(e)}function vn(e){if(n(e))return!1;var t=e.fns;return o(t)?vn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function En(e,t){!0!==t.data.show&&gn(t)}var wn=function(e){var t,i,r={},u=e.modules,l=e.nodeOps;for(t=0;t<Ji.length;++t)for(r[Ji[t]]=[],i=0;i<u.length;++i)o(u[i][Ji[t]])&&r[Ji[t]].push(u[i][Ji[t]]);function c(e){var t=l.parentNode(e);o(t)&&l.removeChild(t,e)}function h(e,t,i,n,s){if(e.isRootInsert=!s,!function(e,t,i,n){var s=e.data;if(o(s)){var u=o(e.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(e,!1,i,n),o(e.componentInstance))return d(e,t),a(u)&&function(e,t,i,n){for(var a,s=e;s.componentInstance;)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Ni,s);t.push(s);break}f(i,e.elm,n)}(e,t,i,n),!0}}(e,t,i,n)){var u=e.data,c=e.children,h=e.tag;o(h)?(e.elm=e.ns?l.createElementNS(e.ns,h):l.createElement(h,e),y(e),p(e,c,t),o(u)&&m(e,t),f(i,e.elm,n)):a(e.isComment)?(e.elm=l.createComment(e.text),f(i,e.elm,n)):(e.elm=l.createTextNode(e.text),f(i,e.elm,n))}}function d(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(m(e,t),y(e)):(ji(e),t.push(e))}function f(e,t,i){o(e)&&(o(i)?i.parentNode===e&&l.insertBefore(e,t,i):l.appendChild(e,t))}function p(e,t,i){if(Array.isArray(t))for(var r=0;r<t.length;++r)h(t[r],i,e.elm,null,!0);else s(e.text)&&l.appendChild(e.elm,l.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return o(e.tag)}function m(e,i){for(var n=0;n<r.create.length;++n)r.create[n](Ni,e);o(t=e.data.hook)&&(o(t.create)&&t.create(Ni,e),o(t.insert)&&i.push(e))}function y(e){var t;if(o(t=e.fnScopeId))l.setAttribute(e.elm,t,"");else for(var i=e;i;)o(t=i.context)&&o(t=t.$options._scopeId)&&l.setAttribute(e.elm,t,""),i=i.parent;o(t=vt)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&l.setAttribute(e.elm,t,"")}function v(e,t,i,r,n,o){for(;r<=n;++r)h(i[r],o,e,t)}function E(e){var t,i,n=e.data;if(o(n))for(o(t=n.hook)&&o(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(o(t=e.children))for(i=0;i<e.children.length;++i)E(e.children[i])}function w(e,t,i,r){for(;i<=r;++i){var n=t[i];o(n)&&(o(n.tag)?(b(n),E(n)):c(n.elm))}}function b(e,t){if(o(t)||o(e.data)){var i,n=r.remove.length+1;for(o(t)?t.listeners+=n:t=function(e,t){function i(){0==--i.listeners&&c(e)}return i.listeners=t,i}(e.elm,n),o(i=e.componentInstance)&&o(i=i._vnode)&&o(i.data)&&b(i,t),i=0;i<r.remove.length;++i)r.remove[i](e,t);o(i=e.data.hook)&&o(i=i.remove)?i(e,t):t()}else c(e.elm)}function C(e,t,i,r){for(var n=i;n<r;n++){var a=t[n];if(o(a)&&Gi(e,a))return n}}function I(e,t,i,s){if(e!==t){var u=t.elm=e.elm;if(a(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?k(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var c,d=t.data;o(d)&&o(c=d.hook)&&o(c=c.prepatch)&&c(e,t);var f=e.children,p=t.children;if(o(d)&&g(t)){for(c=0;c<r.update.length;++c)r.update[c](e,t);o(c=d.hook)&&o(c=c.update)&&c(e,t)}n(t.text)?o(f)&&o(p)?f!==p&&function(e,t,i,r,a){for(var s,u,c,d=0,f=0,p=t.length-1,A=t[0],g=t[p],m=i.length-1,y=i[0],E=i[m],b=!a;d<=p&&f<=m;)n(A)?A=t[++d]:n(g)?g=t[--p]:Gi(A,y)?(I(A,y,r),A=t[++d],y=i[++f]):Gi(g,E)?(I(g,E,r),g=t[--p],E=i[--m]):Gi(A,E)?(I(A,E,r),b&&l.insertBefore(e,A.elm,l.nextSibling(g.elm)),A=t[++d],E=i[--m]):Gi(g,y)?(I(g,y,r),b&&l.insertBefore(e,g.elm,A.elm),g=t[--p],y=i[++f]):(n(s)&&(s=Yi(t,d,p)),n(u=o(y.key)?s[y.key]:C(y,t,d,p))?h(y,r,e,A.elm):Gi(c=t[u],y)?(I(c,y,r),t[u]=void 0,b&&l.insertBefore(e,c.elm,A.elm)):h(y,r,e,A.elm),y=i[++f]);d>p?v(e,n(i[m+1])?null:i[m+1].elm,i,f,m,r):f>m&&w(0,t,d,p)}(u,f,p,i,s):o(p)?(o(e.text)&&l.setTextContent(u,""),v(u,null,p,0,p.length-1,i)):o(f)?w(0,f,0,f.length-1):o(e.text)&&l.setTextContent(u,""):e.text!==t.text&&l.setTextContent(u,t.text),o(d)&&o(c=d.hook)&&o(c=c.postpatch)&&c(e,t)}}}function S(e,t,i){if(a(i)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var M=A("attrs,class,staticClass,staticStyle,key");function k(e,t,i,r){var n,s=t.tag,u=t.data,l=t.children;if(r=r||u&&u.pre,t.elm=e,a(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(n=u.hook)&&o(n=n.init)&&n(t,!0),o(n=t.componentInstance)))return d(t,i),!0;if(o(s)){if(o(l))if(e.hasChildNodes())if(o(n=u)&&o(n=n.domProps)&&o(n=n.innerHTML)){if(n!==e.innerHTML)return!1}else{for(var c=!0,h=e.firstChild,f=0;f<l.length;f++){if(!h||!k(h,l[f],i,r)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else p(t,l,i);if(o(u)){var A=!1;for(var g in u)if(!M(g)){A=!0,m(t,i);break}!A&&u.class&&tt(u.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,s,u,c){if(!n(t)){var d,f=!1,p=[];if(n(e))f=!0,h(t,p,u,c);else{var A=o(e.nodeType);if(!A&&Gi(e,t))I(e,t,p,s);else{if(A){if(1===e.nodeType&&e.hasAttribute(K)&&(e.removeAttribute(K),i=!0),a(i)&&k(e,t,p))return S(t,p,!0),e;d=e,e=new fe(l.tagName(d).toLowerCase(),{},[],void 0,d)}var m=e.elm,y=l.parentNode(m);if(h(t,p,m._leaveCb?null:y,l.nextSibling(m)),o(t.parent))for(var v=t.parent,b=g(t);v;){for(var C=0;C<r.destroy.length;++C)r.destroy[C](v);if(v.elm=t.elm,b){for(var M=0;M<r.create.length;++M)r.create[M](Ni,v);var T=v.data.hook.insert;if(T.merged)for(var D=1;D<T.fns.length;D++)T.fns[D]()}else ji(v);v=v.parent}o(y)?w(0,[e],0,0):o(e.tag)&&E(e)}}return S(t,p,f),t.elm}o(e)&&E(e)}}({nodeOps:Ui,modules:[er,ur,Lr,Kr,Wr,z?{create:En,activate:En,remove:function(e,t){!0!==e.data.show?mn(e,t):t()}}:{}].concat(Xi)});X&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Dn(e,"input")});var bn={inserted:function(e,t,i,r){"select"===i.tag?(r.elm&&!r.elm._vOptions?at(i,"postpatch",function(){bn.componentUpdated(e,t,i)}):Cn(e,t,i.context),e._vOptions=[].map.call(e.options,Mn)):("textarea"===i.tag||qi(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",Tn),$||(e.addEventListener("compositionstart",kn),e.addEventListener("compositionend",Tn)),X&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Cn(e,t,i.context);var r=e._vOptions,n=e._vOptions=[].map.call(e.options,Mn);if(n.some(function(e,t){return!L(e,r[t])}))(e.multiple?t.value.some(function(e){return Sn(e,n)}):t.value!==t.oldValue&&Sn(t.value,n))&&Dn(e,"change")}}};function Cn(e,t,i){In(e,t,i),(H||_)&&setTimeout(function(){In(e,t,i)},0)}function In(e,t,i){var r=t.value,n=e.multiple;if(!n||Array.isArray(r)){for(var o,a,s=0,u=e.options.length;s<u;s++)if(a=e.options[s],n)o=x(r,Mn(a))>-1,a.selected!==o&&(a.selected=o);else if(L(Mn(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));n||(e.selectedIndex=-1)}}function Sn(e,t){return t.every(function(t){return!L(t,e)})}function Mn(e){return"_value"in e?e._value:e.value}function kn(e){e.target.composing=!0}function Tn(e){e.target.composing&&(e.target.composing=!1,Dn(e.target,"input"))}function Dn(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function Bn(e){return!e.componentInstance||e.data&&e.data.transition?e:Bn(e.componentInstance._vnode)}var Rn={model:bn,show:{bind:function(e,t,i){var r=t.value,n=(i=Bn(i)).data&&i.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&n?(i.data.show=!0,gn(i,function(){e.style.display=o})):e.style.display=r?o:"none"},update:function(e,t,i){var r=t.value;r!==t.oldValue&&((i=Bn(i)).data&&i.data.transition?(i.data.show=!0,r?gn(i,function(){e.style.display=e.__vOriginalDisplay}):mn(i,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,r,n){n||(e.style.display=e.__vOriginalDisplay)}}},Qn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function On(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?On(dt(t.children)):e}function Ln(e){var t={},i=e.$options;for(var r in i.propsData)t[r]=e[r];var n=i._parentListeners;for(var o in n)t[C(o)]=n[o];return t}function xn(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var qn={name:"transition",props:Qn,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(function(e){return e.tag||ht(e)})).length){0;var r=this.mode;0;var n=i[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return n;var o=On(n);if(!o)return n;if(this._leaving)return xn(e,n);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=Ln(this),l=this._vnode,c=On(l);if(o.data.directives&&o.data.directives.some(function(e){return"show"===e.name})&&(o.data.show=!0),c&&c.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,c)&&!ht(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=D({},u);if("out-in"===r)return this._leaving=!0,at(h,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),xn(e,n);if("in-out"===r){if(ht(o))return l;var d,f=function(){d()};at(u,"afterEnter",f),at(u,"enterCancelled",f),at(h,"delayLeave",function(e){d=e})}}return n}}},Kn=D({tag:String,moveClass:String},Qn);function Un(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Fn(e){e.data.newPos=e.elm.getBoundingClientRect()}function jn(e){var t=e.data.pos,i=e.data.newPos,r=t.left-i.left,n=t.top-i.top;if(r||n){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+n+"px)",o.transitionDuration="0s"}}delete Kn.mode;var Nn={Transition:qn,TransitionGroup:{props:Kn,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),r=this.prevChildren=this.children,n=this.$slots.default||[],o=this.children=[],a=Ln(this),s=0;s<n.length;s++){var u=n[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),i[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var l=[],c=[],h=0;h<r.length;h++){var d=r[h];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?l.push(d):c.push(d)}this.kept=e(t,null,l),this.removed=c}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Un),e.forEach(Fn),e.forEach(jn),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var i=e.elm,r=i.style;ln(i,t),r.transform=r.WebkitTransform=r.transitionDuration="",i.addEventListener(nn,i._moveCb=function e(r){r&&!/transform$/.test(r.propertyName)||(i.removeEventListener(nn,e),i._moveCb=null,cn(i,t))})}}))},methods:{hasMove:function(e,t){if(!$r)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Hr(i,e)}),Vr(i,t),i.style.display="none",this.$el.appendChild(i);var r=fn(i);return this.$el.removeChild(i),this._hasMove=r.hasTransform}}}};li.config.mustUseProp=vi,li.config.isReservedTag=Oi,li.config.isReservedAttr=mi,li.config.getTagNamespace=Li,li.config.isUnknownElement=function(e){if(!z)return!0;if(Oi(e))return!1;if(e=e.toLowerCase(),null!=xi[e])return xi[e];var t=document.createElement(e);return e.indexOf("-")>-1?xi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:xi[e]=/HTMLUnknownElement/.test(t.toString())},D(li.options.directives,Rn),D(li.options.components,Nn),li.prototype.__patch__=z?wn:R,li.prototype.$mount=function(e,t){return function(e,t,i){return e.$el=t,e.$options.render||(e.$options.render=Ae),bt(e,"beforeMount"),new Rt(e,function(){e._update(e._render(),i)},R,null,!0),i=!1,null==e.$vnode&&(e._isMounted=!0,bt(e,"mounted")),e}(this,e=e&&z?Ki(e):void 0,t)},li.nextTick(function(){j.devtools&&oe&&oe.emit("init",li)},0);var Jn=/\{\{((?:.|\n)+?)\}\}/g,Gn=/[-.*+?^${}()|[\]\/\\]/g,Yn=w(function(e){var t=e[0].replace(Gn,"\\$&"),i=e[1].replace(Gn,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+i,"g")});function Pn(e,t){var i=t?Yn(t):Jn;if(i.test(e)){for(var r,n,o,a=[],s=[],u=i.lastIndex=0;r=i.exec(e);){(n=r.index)>u&&(s.push(o=e.slice(u,n)),a.push(JSON.stringify(o)));var l=cr(r[1].trim());a.push("_s("+l+")"),s.push({"@binding":l}),u=n+r[0].length}return u<e.length&&(s.push(o=e.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var zn={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var i=Er(e,"class");i&&(e.staticClass=JSON.stringify(i));var r=vr(e,"class",!1);r&&(e.classBinding=r)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}};var Zn,Wn={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var i=Er(e,"style");i&&(e.staticStyle=JSON.stringify(Ur(i)));var r=vr(e,"style",!1);r&&(e.styleBinding=r)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},Vn=function(e){return(Zn=Zn||document.createElement("div")).innerHTML=e,Zn.textContent},Hn=A("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Xn=A("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),_n=A("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),$n=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,eo="[a-zA-Z_][\\w\\-\\.]*",to="((?:"+eo+"\\:)?"+eo+")",io=new RegExp("^<"+to),ro=/^\s*(\/?)>/,no=new RegExp("^<\\/"+to+"[^>]*>"),oo=/^<!DOCTYPE [^>]+>/i,ao=/^<!--/,so=/^<!\[/,uo=!1;"x".replace(/x(.)?/g,function(e,t){uo=""===t});var lo=A("script,style,textarea",!0),co={},ho={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},fo=/&(?:lt|gt|quot|amp);/g,po=/&(?:lt|gt|quot|amp|#10|#9);/g,Ao=A("pre,textarea",!0),go=function(e,t){return e&&Ao(e)&&"\n"===t[0]};function mo(e,t){var i=t?po:fo;return e.replace(i,function(e){return ho[e]})}var yo,vo,Eo,wo,bo,Co,Io,So,Mo=/^@|^v-on:/,ko=/^v-|^@|^:/,To=/(.*?)\s+(?:in|of)\s+(.*)/,Do=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Bo=/^\(|\)$/g,Ro=/:(.*)$/,Qo=/^:|^v-bind:/,Oo=/\.[^.]+/g,Lo=w(Vn);function xo(e,t,i){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},i=0,r=e.length;i<r;i++)t[e[i].name]=e[i].value;return t}(t),parent:i,children:[]}}function qo(e,t){yo=t.warn||dr,Co=t.isPreTag||Q,Io=t.mustUseProp||Q,So=t.getTagNamespace||Q,Eo=fr(t.modules,"transformNode"),wo=fr(t.modules,"preTransformNode"),bo=fr(t.modules,"postTransformNode"),vo=t.delimiters;var i,r,n=[],o=!1!==t.preserveWhitespace,a=!1,s=!1;function u(e){e.pre&&(a=!1),Co(e.tag)&&(s=!1);for(var i=0;i<bo.length;i++)bo[i](e,t)}return function(e,t){for(var i,r,n=[],o=t.expectHTML,a=t.isUnaryTag||Q,s=t.canBeLeftOpenTag||Q,u=0;e;){if(i=e,r&&lo(r)){var l=0,c=r.toLowerCase(),h=co[c]||(co[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),d=e.replace(h,function(e,i,r){return l=r.length,lo(c)||"noscript"===c||(i=i.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),go(c,i)&&(i=i.slice(1)),t.chars&&t.chars(i),""});u+=e.length-d.length,e=d,M(c,u-l,u)}else{var f=e.indexOf("<");if(0===f){if(ao.test(e)){var p=e.indexOf("--\x3e");if(p>=0){t.shouldKeepComment&&t.comment(e.substring(4,p)),C(p+3);continue}}if(so.test(e)){var A=e.indexOf("]>");if(A>=0){C(A+2);continue}}var g=e.match(oo);if(g){C(g[0].length);continue}var m=e.match(no);if(m){var y=u;C(m[0].length),M(m[1],y,u);continue}var v=I();if(v){S(v),go(r,e)&&C(1);continue}}var E=void 0,w=void 0,b=void 0;if(f>=0){for(w=e.slice(f);!(no.test(w)||io.test(w)||ao.test(w)||so.test(w)||(b=w.indexOf("<",1))<0);)f+=b,w=e.slice(f);E=e.substring(0,f),C(f)}f<0&&(E=e,e=""),t.chars&&E&&t.chars(E)}if(e===i){t.chars&&t.chars(e);break}}function C(t){u+=t,e=e.substring(t)}function I(){var t=e.match(io);if(t){var i,r,n={tagName:t[1],attrs:[],start:u};for(C(t[0].length);!(i=e.match(ro))&&(r=e.match($n));)C(r[0].length),n.attrs.push(r);if(i)return n.unarySlash=i[1],C(i[0].length),n.end=u,n}}function S(e){var i=e.tagName,u=e.unarySlash;o&&("p"===r&&_n(i)&&M(r),s(i)&&r===i&&M(i));for(var l=a(i)||!!u,c=e.attrs.length,h=new Array(c),d=0;d<c;d++){var f=e.attrs[d];uo&&-1===f[0].indexOf('""')&&(""===f[3]&&delete f[3],""===f[4]&&delete f[4],""===f[5]&&delete f[5]);var p=f[3]||f[4]||f[5]||"",A="a"===i&&"href"===f[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;h[d]={name:f[1],value:mo(p,A)}}l||(n.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:h}),r=i),t.start&&t.start(i,h,l,e.start,e.end)}function M(e,i,o){var a,s;if(null==i&&(i=u),null==o&&(o=u),e&&(s=e.toLowerCase()),e)for(a=n.length-1;a>=0&&n[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var l=n.length-1;l>=a;l--)t.end&&t.end(n[l].tag,i,o);n.length=a,r=a&&n[a-1].tag}else"br"===s?t.start&&t.start(e,[],!0,i,o):"p"===s&&(t.start&&t.start(e,[],!1,i,o),t.end&&t.end(e,i,o))}M()}(e,{warn:yo,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,start:function(e,o,l){var c=r&&r.ns||So(e);H&&"svg"===c&&(o=function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];No.test(r.name)||(r.name=r.name.replace(Jo,""),t.push(r))}return t}(o));var h,d=xo(e,o,r);c&&(d.ns=c),"style"!==(h=d).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||ne()||(d.forbidden=!0);for(var f=0;f<wo.length;f++)d=wo[f](d,t)||d;function p(e){0}if(a||(!function(e){null!=Er(e,"v-pre")&&(e.pre=!0)}(d),d.pre&&(a=!0)),Co(d.tag)&&(s=!0),a?function(e){var t=e.attrsList.length;if(t)for(var i=e.attrs=new Array(t),r=0;r<t;r++)i[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}(d):d.processed||(Uo(d),function(e){var t=Er(e,"v-if");if(t)e.if=t,Fo(e,{exp:t,block:e});else{null!=Er(e,"v-else")&&(e.else=!0);var i=Er(e,"v-else-if");i&&(e.elseif=i)}}(d),function(e){null!=Er(e,"v-once")&&(e.once=!0)}(d),Ko(d,t)),i?n.length||i.if&&(d.elseif||d.else)&&(p(),Fo(i,{exp:d.elseif,block:d})):(i=d,p()),r&&!d.forbidden)if(d.elseif||d.else)!function(e,t){var i=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(t.children);i&&i.if&&Fo(i,{exp:e.elseif,block:e})}(d,r);else if(d.slotScope){r.plain=!1;var A=d.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[A]=d}else r.children.push(d),d.parent=r;l?u(d):(r=d,n.push(d))},end:function(){var e=n[n.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!s&&e.children.pop(),n.length-=1,r=n[n.length-1],u(e)},chars:function(e){if(r&&(!H||"textarea"!==r.tag||r.attrsMap.placeholder!==e)){var t,i,n=r.children;if(e=s||e.trim()?"script"===(t=r).tag||"style"===t.tag?e:Lo(e):o&&n.length?" ":"")!a&&" "!==e&&(i=Pn(e,vo))?n.push({type:2,expression:i.expression,tokens:i.tokens,text:e}):" "===e&&n.length&&" "===n[n.length-1].text||n.push({type:3,text:e})}},comment:function(e){r.children.push({type:3,text:e,isComment:!0})}}),i}function Ko(e,t){var i,r;(r=vr(i=e,"key"))&&(i.key=r),e.plain=!e.key&&!e.attrsList.length,function(e){var t=vr(e,"ref");t&&(e.ref=t,e.refInFor=function(e){var t=e;for(;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){if("slot"===e.tag)e.slotName=vr(e,"name");else{var t;"template"===e.tag?(t=Er(e,"scope"),e.slotScope=t||Er(e,"slot-scope")):(t=Er(e,"slot-scope"))&&(e.slotScope=t);var i=vr(e,"slot");i&&(e.slotTarget='""'===i?'"default"':i,"template"===e.tag||e.slotScope||Ar(e,"slot",i))}}(e),function(e){var t;(t=vr(e,"is"))&&(e.component=t);null!=Er(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var n=0;n<Eo.length;n++)e=Eo[n](e,t)||e;!function(e){var t,i,r,n,o,a,s,u=e.attrsList;for(t=0,i=u.length;t<i;t++){if(r=n=u[t].name,o=u[t].value,ko.test(r))if(e.hasBindings=!0,(a=jo(r))&&(r=r.replace(Oo,"")),Qo.test(r))r=r.replace(Qo,""),o=cr(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(r=C(r))&&(r="innerHTML")),a.camel&&(r=C(r)),a.sync&&yr(e,"update:"+C(r),br(o,"$event"))),s||!e.component&&Io(e.tag,e.attrsMap.type,r)?pr(e,r,o):Ar(e,r,o);else if(Mo.test(r))r=r.replace(Mo,""),yr(e,r,o,a,!1);else{var l=(r=r.replace(ko,"")).match(Ro),c=l&&l[1];c&&(r=r.slice(0,-(c.length+1))),mr(e,r,n,o,c,a)}else Ar(e,r,JSON.stringify(o)),!e.component&&"muted"===r&&Io(e.tag,e.attrsMap.type,r)&&pr(e,r,"true")}}(e)}function Uo(e){var t;if(t=Er(e,"v-for")){var i=function(e){var t=e.match(To);if(!t)return;var i={};i.for=t[2].trim();var r=t[1].trim().replace(Bo,""),n=r.match(Do);n?(i.alias=r.replace(Do,""),i.iterator1=n[1].trim(),n[2]&&(i.iterator2=n[2].trim())):i.alias=r;return i}(t);i&&D(e,i)}}function Fo(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function jo(e){var t=e.match(Oo);if(t){var i={};return t.forEach(function(e){i[e.slice(1)]=!0}),i}}var No=/^xmlns:NS\d+/,Jo=/^NS\d+:/;function Go(e){return xo(e.tag,e.attrsList.slice(),e.parent)}var Yo=[zn,Wn,{preTransformNode:function(e,t){if("input"===e.tag){var i=e.attrsMap;if(i["v-model"]&&(i["v-bind:type"]||i[":type"])){var r=vr(e,"type"),n=Er(e,"v-if",!0),o=n?"&&("+n+")":"",a=null!=Er(e,"v-else",!0),s=Er(e,"v-else-if",!0),u=Go(e);Uo(u),gr(u,"type","checkbox"),Ko(u,t),u.processed=!0,u.if="("+r+")==='checkbox'"+o,Fo(u,{exp:u.if,block:u});var l=Go(e);Er(l,"v-for",!0),gr(l,"type","radio"),Ko(l,t),Fo(u,{exp:"("+r+")==='radio'"+o,block:l});var c=Go(e);return Er(c,"v-for",!0),gr(c,":type",r),Ko(c,t),Fo(u,{exp:n,block:c}),a?u.else=!0:s&&(u.elseif=s),u}}}}];var Po,zo,Zo={expectHTML:!0,modules:Yo,directives:{model:function(e,t,i){i;var r=t.value,n=t.modifiers,o=e.tag,a=e.attrsMap.type;if(e.component)return wr(e,r,n),!1;if("select"===o)!function(e,t,i){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i&&i.number?"_n(val)":"val")+"});";r=r+" "+br(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),yr(e,"change",r,null,!0)}(e,r,n);else if("input"===o&&"checkbox"===a)!function(e,t,i){var r=i&&i.number,n=vr(e,"value")||"null",o=vr(e,"true-value")||"true",a=vr(e,"false-value")||"false";pr(e,"checked","Array.isArray("+t+")?_i("+t+","+n+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),yr(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+n+")":n)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+t+"=$$a.concat([$$v]))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+br(t,"$$c")+"}",null,!0)}(e,r,n);else if("input"===o&&"radio"===a)!function(e,t,i){var r=i&&i.number,n=vr(e,"value")||"null";pr(e,"checked","_q("+t+","+(n=r?"_n("+n+")":n)+")"),yr(e,"change",br(t,n),null,!0)}(e,r,n);else if("input"===o||"textarea"===o)!function(e,t,i){var r=e.attrsMap.type,n=i||{},o=n.lazy,a=n.number,s=n.trim,u=!o&&"range"!==r,l=o?"change":"range"===r?Dr:"input",c="$event.target.value";s&&(c="$event.target.value.trim()"),a&&(c="_n("+c+")");var h=br(t,c);u&&(h="if($event.target.composing)return;"+h),pr(e,"value","("+t+")"),yr(e,l,h,null,!0),(s||a)&&yr(e,"blur","$forceUpdate()")}(e,r,n);else if(!j.isReservedTag(o))return wr(e,r,n),!1;return!0},text:function(e,t){t.value&&pr(e,"textContent","_s("+t.value+")")},html:function(e,t){t.value&&pr(e,"innerHTML","_s("+t.value+")")}},isPreTag:function(e){return"pre"===e},isUnaryTag:Hn,mustUseProp:vi,canBeLeftOpenTag:Xn,isReservedTag:Oi,getTagNamespace:Li,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(Yo)},Wo=w(function(e){return A("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))});function Vo(e,t){e&&(Po=Wo(t.staticKeys||""),zo=t.isReservedTag||Q,function e(t){t.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||g(e.tag)||!zo(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Po)))}(t);if(1===t.type){if(!zo(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var i=0,r=t.children.length;i<r;i++){var n=t.children[i];e(n),n.static||(t.static=!1)}if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++){var s=t.ifConditions[o].block;e(s),s.static||(t.static=!1)}}}(e),function e(t,i){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=i),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,n=t.children.length;r<n;r++)e(t.children[r],i||!!t.for);if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++)e(t.ifConditions[o].block,i)}}(e,!1))}var Ho=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Xo=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,_o={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},$o=function(e){return"if("+e+")return null;"},ea={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:$o("$event.target !== $event.currentTarget"),ctrl:$o("!$event.ctrlKey"),shift:$o("!$event.shiftKey"),alt:$o("!$event.altKey"),meta:$o("!$event.metaKey"),left:$o("'button' in $event && $event.button !== 0"),middle:$o("'button' in $event && $event.button !== 1"),right:$o("'button' in $event && $event.button !== 2")};function ta(e,t,i){var r=t?"nativeOn:{":"on:{";for(var n in e)r+='"'+n+'":'+ia(n,e[n])+",";return r.slice(0,-1)+"}"}function ia(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return ia(e,t)}).join(",")+"]";var i=Xo.test(t.value),r=Ho.test(t.value);if(t.modifiers){var n="",o="",a=[];for(var s in t.modifiers)if(ea[s])o+=ea[s],_o[s]&&a.push(s);else if("exact"===s){var u=t.modifiers;o+=$o(["ctrl","shift","alt","meta"].filter(function(e){return!u[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(s);return a.length&&(n+=function(e){return"if(!('button' in $event)&&"+e.map(ra).join("&&")+")return null;"}(a)),o&&(n+=o),"function($event){"+n+(i?t.value+"($event)":r?"("+t.value+")($event)":t.value)+"}"}return i||r?t.value:"function($event){"+t.value+"}"}function ra(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var i=_o[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(i)+",$event.key)"}var na={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(i){return"_b("+i+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:R},oa=function(e){this.options=e,this.warn=e.warn||dr,this.transforms=fr(e.modules,"transformCode"),this.dataGenFns=fr(e.modules,"genData"),this.directives=D(D({},na),e.directives);var t=e.isReservedTag||Q;this.maybeComponent=function(e){return!t(e.tag)},this.onceId=0,this.staticRenderFns=[]};function aa(e,t){var i=new oa(t);return{render:"with(this){return "+(e?sa(e,i):'_c("div")')+"}",staticRenderFns:i.staticRenderFns}}function sa(e,t){if(e.staticRoot&&!e.staticProcessed)return ua(e,t);if(e.once&&!e.onceProcessed)return la(e,t);if(e.for&&!e.forProcessed)return function(e,t,i,r){var n=e.for,o=e.alias,a=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";0;return e.forProcessed=!0,(r||"_l")+"(("+n+"),function("+o+a+s+"){return "+(i||sa)(e,t)+"})"}(e,t);if(e.if&&!e.ifProcessed)return ca(e,t);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return function(e,t){var i=e.slotName||'"default"',r=fa(e,t),n="_t("+i+(r?","+r:""),o=e.attrs&&"{"+e.attrs.map(function(e){return C(e.name)+":"+e.value}).join(",")+"}",a=e.attrsMap["v-bind"];!o&&!a||r||(n+=",null");o&&(n+=","+o);a&&(n+=(o?"":",null")+","+a);return n+")"}(e,t);var i;if(e.component)i=function(e,t,i){var r=t.inlineTemplate?null:fa(t,i,!0);return"_c("+e+","+ha(t,i)+(r?","+r:"")+")"}(e.component,e,t);else{var r=e.plain?void 0:ha(e,t),n=e.inlineTemplate?null:fa(e,t,!0);i="_c('"+e.tag+"'"+(r?","+r:"")+(n?","+n:"")+")"}for(var o=0;o<t.transforms.length;o++)i=t.transforms[o](e,i);return i}return fa(e,t)||"void 0"}function ua(e,t){return e.staticProcessed=!0,t.staticRenderFns.push("with(this){return "+sa(e,t)+"}"),"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function la(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return ca(e,t);if(e.staticInFor){for(var i="",r=e.parent;r;){if(r.for){i=r.key;break}r=r.parent}return i?"_o("+sa(e,t)+","+t.onceId+++","+i+")":sa(e,t)}return ua(e,t)}function ca(e,t,i,r){return e.ifProcessed=!0,function e(t,i,r,n){if(!t.length)return n||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+e(t,i,r,n):""+a(o.block);function a(e){return r?r(e,i):e.once?la(e,i):sa(e,i)}}(e.ifConditions.slice(),t,i,r)}function ha(e,t){var i="{",r=function(e,t){var i=e.directives;if(!i)return;var r,n,o,a,s="directives:[",u=!1;for(r=0,n=i.length;r<n;r++){o=i[r],a=!0;var l=t.directives[o.name];l&&(a=!!l(e,o,t.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(e,t);r&&(i+=r+","),e.key&&(i+="key:"+e.key+","),e.ref&&(i+="ref:"+e.ref+","),e.refInFor&&(i+="refInFor:true,"),e.pre&&(i+="pre:true,"),e.component&&(i+='tag:"'+e.tag+'",');for(var n=0;n<t.dataGenFns.length;n++)i+=t.dataGenFns[n](e);if(e.attrs&&(i+="attrs:{"+ga(e.attrs)+"},"),e.props&&(i+="domProps:{"+ga(e.props)+"},"),e.events&&(i+=ta(e.events,!1,t.warn)+","),e.nativeEvents&&(i+=ta(e.nativeEvents,!0,t.warn)+","),e.slotTarget&&!e.slotScope&&(i+="slot:"+e.slotTarget+","),e.scopedSlots&&(i+=function(e,t){return"scopedSlots:_u(["+Object.keys(e).map(function(i){return da(i,e[i],t)}).join(",")+"])"}(e.scopedSlots,t)+","),e.model&&(i+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=function(e,t){var i=e.children[0];0;if(1===i.type){var r=aa(i,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);o&&(i+=o+",")}return i=i.replace(/,$/,"")+"}",e.wrapData&&(i=e.wrapData(i)),e.wrapListeners&&(i=e.wrapListeners(i)),i}function da(e,t,i){return t.for&&!t.forProcessed?function(e,t,i){var r=t.for,n=t.alias,o=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,"_l(("+r+"),function("+n+o+a+"){return "+da(e,t,i)+"})"}(e,t,i):"{key:"+e+",fn:"+("function("+String(t.slotScope)+"){return "+("template"===t.tag?t.if?t.if+"?"+(fa(t,i)||"undefined")+":undefined":fa(t,i)||"undefined":sa(t,i))+"}")+"}"}function fa(e,t,i,r,n){var o=e.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(r||sa)(a,t);var s=i?function(e,t){for(var i=0,r=0;r<e.length;r++){var n=e[r];if(1===n.type){if(pa(n)||n.ifConditions&&n.ifConditions.some(function(e){return pa(e.block)})){i=2;break}(t(n)||n.ifConditions&&n.ifConditions.some(function(e){return t(e.block)}))&&(i=1)}}return i}(o,t.maybeComponent):0,u=n||Aa;return"["+o.map(function(e){return u(e,t)}).join(",")+"]"+(s?","+s:"")}}function pa(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Aa(e,t){return 1===e.type?sa(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(i=e).type?i.expression:ma(JSON.stringify(i.text)))+")";var i,r}function ga(e){for(var t="",i=0;i<e.length;i++){var r=e[i];t+='"'+r.name+'":'+ma(r.value)+","}return t.slice(0,-1)}function ma(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function ya(e,t){try{return new Function(e)}catch(i){return t.push({err:i,code:e}),R}}var va,Ea,wa=(va=function(e,t){var i=qo(e.trim(),t);!1!==t.optimize&&Vo(i,t);var r=aa(i,t);return{ast:i,render:r.render,staticRenderFns:r.staticRenderFns}},function(e){function t(t,i){var r=Object.create(e),n=[],o=[];if(r.warn=function(e,t){(t?o:n).push(e)},i)for(var a in i.modules&&(r.modules=(e.modules||[]).concat(i.modules)),i.directives&&(r.directives=D(Object.create(e.directives||null),i.directives)),i)"modules"!==a&&"directives"!==a&&(r[a]=i[a]);var s=va(t,r);return s.errors=n,s.tips=o,s}return{compile:t,compileToFunctions:function(e){var t=Object.create(null);return function(i,r,n){(r=D({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+i:i;if(t[o])return t[o];var a=e(i,r),s={},u=[];return s.render=ya(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(e){return ya(e,u)}),t[o]=s}}(t)}})(Zo).compileToFunctions;function ba(e){return(Ea=Ea||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Ea.innerHTML.indexOf("&#10;")>0}var Ca=!!z&&ba(!1),Ia=!!z&&ba(!0),Sa=w(function(e){var t=Ki(e);return t&&t.innerHTML}),Ma=li.prototype.$mount;li.prototype.$mount=function(e,t){if((e=e&&Ki(e))===document.body||e===document.documentElement)return this;var i=this.$options;if(!i.render){var r=i.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Sa(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){0;var n=wa(r,{shouldDecodeNewlines:Ca,shouldDecodeNewlinesForHref:Ia,delimiters:i.delimiters,comments:i.comments},this),o=n.render,a=n.staticRenderFns;i.render=o,i.staticRenderFns=a}}return Ma.call(this,e,t)},li.compile=wa,e.exports=li}).call(t,i("mFPK"),i("PKNu").setImmediate)},"P1/4":function(e,t,i){"use strict";var r=i("maJs"),n=i("tSXQ");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var i=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,r=new Array(i+this.padLength);r[0]=128;for(var n=1;n<i;n++)r[n]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e}else for(r[n++]=255&e,r[n++]=e>>>8&255,r[n++]=e>>>16&255,r[n++]=e>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,o=8;o<this.padLength;o++)r[n++]=0;return r}},PKNu:function(e,t,i){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i("AYvJ"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,i("mFPK"))},PeeF:function(e,t){e.exports=function(e,t){for(var i=e.length,r=-1;++r<i;)e[r]^=t[r];return e}},PjeN:function(e,t,i){var r=i("DLTi").Buffer,n=i("kFjB"),o=i("WTPY"),a=i("mwrz"),s=i("SEjb"),u=i("183T"),l=i("n1Xs");function c(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new c(e)}function f(e){return new h(e)}Object.keys(l).forEach(function(e){l[e].id=r.from(l[e].id,"hex"),l[e.toLowerCase()]=l[e]}),a(c,o.Writable),c.prototype._write=function(e,t,i){this._hash.update(e),i()},c.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=s(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(h,o.Writable),h.prototype._write=function(e,t,i){this._hash.update(e),i()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},h.prototype.verify=function(e,t,i){"string"==typeof t&&(t=r.from(t,i)),this.end();var n=this._hash.digest();return u(t,n,e,this._signType,this._tag)},e.exports={Sign:d,Verify:f,createSign:d,createVerify:f}},QMyh:function(e,t,i){var r=i("NfRg"),n=r.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return n(e,t,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(n,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=n(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},QYQw:function(e,t,i){var r=i("DLTi").Buffer;function n(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var i=this._block,n=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%n,l=Math.min(o-s,n-u),c=0;c<l;c++)i[u+c]=e[s+c];s+=l,(a+=l)%n==0&&this._update(i)}return this._len+=o,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(4294967295&i)>>>0,n=(i-r)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=n},R09Z:function(e,t,i){"use strict";e.exports=o;var r=i("qI9I"),n=Object.create(i("rcOv"));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}n.inherits=i("mwrz"),n.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;r.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},"Re/X":function(e,t,i){"use strict";var r=i("3XBS"),n=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=r.define("RelativeDistinguishedName",function(){this.setof(o)}),l=r.define("RDNSequence",function(){this.seqof(u)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),h=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},S1A0:function(e,t,i){(function(e){var r=i("YHfo"),n=i("UgYt"),o=i("iFzV");var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var i=new e(n[t].prime,"hex"),r=new e(n[t].gen,"hex");return new o(i,r)},t.createDiffieHellman=t.DiffieHellman=function t(i,n,s,u){return e.isBuffer(n)||void 0===a[n]?t(i,"binary",n,s):(n=n||"binary",u=u||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),"number"==typeof i?new o(r(i,s),s,!0):(e.isBuffer(i)||(i=new e(i,n)),new o(i,s,!0)))}}).call(t,i("NfRg").Buffer)},SEjb:function(e,t,i){var r=i("DLTi").Buffer,n=i("OtjJ"),o=i("2ZN/"),a=i("qve+").ec,s=i("YHLM"),u=i("UjI3"),l=i("D380");function c(e,t,i,o){if((e=r.from(e.toArray())).length<t.byteLength()){var a=r.alloc(t.byteLength()-e.length);e=r.concat([a,e])}var s=i.length,u=function(e,t){e=(e=h(e,t)).mod(t);var i=r.from(e.toArray());if(i.length<t.byteLength()){var n=r.alloc(t.byteLength()-i.length);i=r.concat([n,i])}return i}(i,t),l=r.alloc(s);l.fill(1);var c=r.alloc(s);return c=n(o,c).update(l).update(r.from([0])).update(e).update(u).digest(),l=n(o,c).update(l).digest(),{k:c=n(o,c).update(l).update(r.from([1])).update(e).update(u).digest(),v:l=n(o,c).update(l).digest()}}function h(e,t){var i=new s(e),r=(e.length<<3)-t.bitLength();return r>0&&i.ishrn(r),i}function d(e,t,i){var o,a;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=n(i,t.k).update(t.v).digest(),o=r.concat([o,t.v]);a=h(o,e),t.k=n(i,t.k).update(t.v).update(r.from([0])).digest(),t.v=n(i,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function f(e,t,i,r){return e.toRed(s.mont(i)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,i,n,p){var A=u(t);if(A.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return function(e,t){var i=l[t.curve.join(".")];if(!i)throw new Error("unknown curve "+t.curve.join("."));var n=new a(i).keyFromPrivate(t.privateKey).sign(e);return r.from(n.toDER())}(e,A)}if("dsa"===A.type){if("dsa"!==n)throw new Error("wrong private key type");return function(e,t,i){for(var n,o=t.params.priv_key,a=t.params.p,u=t.params.q,l=t.params.g,p=new s(0),A=h(e,u).mod(u),g=!1,m=c(o,u,e,i);!1===g;)n=d(u,m,i),p=f(l,n,a,u),0===(g=n.invm(u).imul(A.add(o.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var i=[48,e.length+t.length+4,2,e.length];return i=i.concat(e,[2,t.length],t),r.from(i)}(p,g)}(e,A,i)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");e=r.concat([p,e]);for(var g=A.modulus.byteLength(),m=[0,1];e.length+m.length+1<g;)m.push(255);m.push(0);for(var y=-1;++y<e.length;)m.push(e[y]);return o(m,A)},e.exports.getKey=c,e.exports.makeKey=d},SZdI:function(e,t,i){(t=e.exports=i("BkJT")(void 0)).i(i("jkwA"),""),t.push([e.i,".easy-player[data-v-7512d01a]{position:relative;width:100%;height:100%;background-color:#000}.easy-video-player-inner[data-v-7512d01a]{-ms-flex:1;flex:1;width:100%;height:100%}.wrapper[data-v-7512d01a]{height:100%}.block[data-v-7512d01a],.wrapper[data-v-7512d01a]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.block[data-v-7512d01a]{width:120px;height:120px;background-color:#fff;-ms-flex-direction:column;flex-direction:column}.easy-player-right-menu[data-v-7512d01a]{width:200px;border:none;font-size:12px;background:rgba(28,28,28,.9);transition:opacity .1s cubic-bezier(0,0,.2,1);font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif}.easy-player-right-menu .menu-item[data-v-7512d01a]{height:38px;line-height:38px;font-weight:700;border-bottom:1px solid hsla(0,0%,100%,.12);display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.easy-player-right-menu .menu-item a[data-v-7512d01a]{color:#eee;text-decoration:none}.message-view[data-v-7512d01a]{position:absolute;top:10px;left:10px;z-index:9999;background:rgba(33,33,33,.9);border-radius:4px;color:#fff;font-family:Noto Sans CJK SC DemiLight,Roboto,Segoe UI,Tahoma,Arial,Helvetica,sans-serif;-webkit-font-smoothing:antialiased;font-size:14px}.message-view .title[data-v-7512d01a]{line-height:30px;border-bottom:1px solid hsla(0,0%,100%,.12);width:240px;text-align:center}.message-view .content[data-v-7512d01a]{height:200px;width:240px;overflow:hidden;font-size:12px;padding:5px;background:rgba(33,33,33,.9);position:absolute}.message-view .content .message[data-v-7512d01a]{position:absolute;left:5px}.copy-right[data-v-7512d01a]{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.easy-player-loading-text[data-v-7512d01a]{text-align:left;position:absolute;left:12px;bottom:36px;color:hsla(0,0%,100%,.6);font-size:12px;pointer-events:none;opacity:1;transition:opacity 1s cubic-bezier(0,0,.2,1);max-height:200px;overflow:hidden}.video-title[data-v-7512d01a]{position:absolute;top:5px;right:5px;color:#fff;background-color:hsla(0,0%,50%,.5);border-radius:2px;padding:2px 5px;max-width:120px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.vjs-menu-button-popup .vjs-menu[data-v-7512d01a]{width:4em}.vjs-resolution-button .vjs-resolution-button-staticlabel[data-v-7512d01a]:before{font-family:iconfont!important;font-size:1.8em;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.vjs-resolution-button .vjs-resolution-button-label[data-v-7512d01a]{font-size:1em;line-height:3em;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;box-sizing:inherit;font-family:Arial,Helvetica,sans-serif}.vjs-resolution-button ul.vjs-menu-content[data-v-7512d01a]{width:4em!important}.vjs-resolution-button .vjs-menu[data-v-7512d01a]{left:0}.vjs-resolution-button .vjs-menu li[data-v-7512d01a]{text-transform:none;font-size:1em;font-family:Arial,Helvetica,sans-serif}",""])},ShjI:function(e,t,i){"use strict";var r=i("JSLd"),n=i("jgf2"),o=i("tSXQ");function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),i=n.toArray(e.nonce,e.nonceEnc||"hex"),r=n.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,r)}e.exports=a,a.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,i,r){"string"!=typeof t&&(r=i,i=t,t=null),e=n.toArray(e,t),i=n.toArray(i,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},a.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=i,i=t,t=null),i&&(i=n.toArray(i,r||"hex"),this._update(i));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(i),this._reseed++,n.encode(a,t)}},SqhN:function(e,t,i){var r=i("mwrz"),n=i("QYQw"),o=i("DLTi").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,n.call(this,64,56)}function l(e){return e<<30|e>>>2}function c(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}r(u,n),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,n=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,h=0;h<16;++h)i[h]=e.readInt32BE(4*h);for(;h<80;++h)i[h]=i[h-3]^i[h-8]^i[h-14]^i[h-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((t=r)<<5|t>>>27)+c(f,n,o,s)+u+i[d]+a[f];u=s,s=o,o=l(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},T1Xl:function(e,t,i){var r=i("onRW"),n=i("3Zew"),o=i("mwrz"),a=i("DLTi").Buffer,s={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function u(e){r.call(this);var t,i=e.mode.toLowerCase(),n=s[i];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==i&&"des-ede-cbc"!==i||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=n.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,o(u,r),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}},TDlb:function(e,t,i){"use strict";(function(t,r){var n=i("z2li");e.exports=v;var o,a=i("5RIO");v.ReadableState=y;i("cGIK").EventEmitter;var s=function(e,t){return e.listeners(t).length},u=i("KSX3"),l=i("QMyh").Buffer,c=t.Uint8Array||function(){};var h=Object.create(i("rcOv"));h.inherits=i("mwrz");var d=i(3),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,A=i("Yt9d"),g=i("/sSn");h.inherits(v,u);var m=["error","close","destroy","pause","resume"];function y(e,t){o=o||i("qI9I"),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=i("boXJ").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(o=o||i("qI9I"),!(this instanceof v))return new v(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function E(e,t,i,r,n){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,I(e)}(e,a)):(n||(o=function(e,t){var i;r=t,l.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));var r;return i}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):M(e,a)):w(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&I(e)),M(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),i=!0),E(this,e,t,!1,i)},v.prototype.unshift=function(e){return E(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=i("boXJ").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var b=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(S,e):S(e))}function S(e){f("emit readable"),e.emit("readable"),B(e)}function M(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(k,e,t))}function k(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function T(e){f("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,r=1,n=i.data;e-=n.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?n+=o:n+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t):function(e,t){var i=l.allocUnsafe(e),r=t.head,n=1;r.data.copy(i),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t);return r}(e,t.buffer,t.decoder),i);var i}function Q(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}v.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):I(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&Q(this),null;var r,n=t.needReadable;return f("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",n=!0),t.ended||t.reading?f("reading or ended",n=!1):n&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(i,t))),null===(r=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&Q(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:v;function l(t,r){f("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",l),i.removeListener("end",c),i.removeListener("end",v),i.removeListener("data",A),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){f("onend"),e.end()}o.endEmitted?n.nextTick(u):i.once("end",u),e.on("unpipe",l);var h=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,B(e))}}(i);e.on("drain",h);var d=!1;var p=!1;function A(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!d&&(f("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){f("onerror",t),v(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",y),v()}function y(){f("onfinish"),e.removeListener("close",m),v()}function v(){f("unpipe"),i.unpipe(e)}return i.on("data",A),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",g),e.once("close",m),e.once("finish",y),e.emit("pipe",i),o.flowing||(f("pipe resume"),i.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,i);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},v.prototype.on=function(e,t){var i=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&I(this):n.nextTick(T,this))}return i},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),this},v.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",function(){if(f("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){(f("wrapped data"),i.decoder&&(n=i.decoder.write(n)),!i.objectMode||null!==n&&void 0!==n)&&((i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause())))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=R}).call(t,i("mFPK"),i("V0EG"))},U8Ka:function(e,t,i){"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i("NfRg").Buffer,s=i(2).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,i,l;return t=e,(i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,i,r,n=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,i=n,r=s,a.prototype.copy.call(t,i,r),s+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,r=t.data;for(e-=r.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?r+=n:r+=n.slice(0,e),0===(e-=o)){o===n.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++i}return this.length-=i,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),i=this.head,r=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var n=i.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0===(e-=o)){o===n.length?(++r,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=n.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,i),l&&o(t,l),e}()},UOWd:function(e,t,i){"use strict";var r=i("maJs").rotr32;function n(e,t,i){return e&t^~e&i}function o(e,t,i){return e&t^e&i^t&i}function a(e,t,i){return e^t^i}t.ft_1=function(e,t,i,r){return 0===e?n(t,i,r):1===e||3===e?a(t,i,r):2===e?o(t,i,r):void 0},t.ch32=n,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},UTjk:function(e,t,i){"use strict";var r=i("FhoZ"),n=i("/TTR"),o=(i.n(n),i("kGlO")),a=(i.n(o),i("d4gF")),s=(i.n(a),i("+olj")),u=i("7Gjy"),l=i("qHGM"),c=i("pOqu"),h=i("7P+W"),d=i("JgjT"),f=i("8ZH7"),p=(i.n(f),function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}());var A=d.a.loadWasmModule,g=(e=d.a.module,r.a.appEnterprise),m=r.a.appVersion;t.a={name:"easy-player",model:{prop:"videoUrl",event:"change"},props:{alt:{type:String,default:"无信号"},aspect:{type:String,default:""},autoplay:{type:Boolean,default:function(){return!0}},currentTime:{type:Number,default:0},decodeType:{type:String,default:"auto"},debug:{type:Boolean,default:function(){return!1}},easyStretch:{type:Boolean,default:function(){return!0}},isH265:{type:Boolean,default:function(){return!1}},live:{type:Boolean,default:function(){return!0}},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:function(){return!0}},playerStyle:{type:String,default:""},poster:{type:String,default:function(){return""}},reconnection:{type:Boolean,default:function(){return!1}},restartTime:{type:Number,default:7200},resolution:{type:String,default:""},resolutionDefault:{type:String,default:"hd"},showEnterprise:{type:Boolean,default:!0},iceServers:{type:Array,default:function(){return[]}},videoUrl:{type:String,default:""},videoTitle:{type:String,default:""},isTransCoding:{type:Boolean,default:function(){return!1}},hasAudio:{type:Boolean,default:function(){return!0}},recordMaxFileSize:{type:Number,default:200}},mixins:[s.a,u.a,l.a,c.a],data:function(){return{TAG:"EasyPlayer",appVersion:m,pause:!1,_playerPlaying:!1,appEnterprise:g,stretch:!1,loading:!1,isFirstPaused:!0,fullscreenIndex:0,initLoading:!1,wasmPlayer:null,playerOption:{},playerMessage:[],easyPlayer:null,waitingTimer:null,isStreamH265:!1,endLoadingTimer:null,startWaitingTime:null,easyWebrtcPlayer:null,showPlayerMessage:!1,resolutionDict:{sd:"标清",hd:"高清",fhd:"超清",yh:"原画"},versionStyle:{top:0,left:0,zIndex:9999,position:"absolute",pointerEvents:"auto"},videoStyle:{},playerPlugins:{videoJsResolutionSwitcher:{default:this.resolutionDefault,dynamicLabel:!0}},eventTimer:null,restartPlayerTimer:null,restartSnapshot:null,isCacheCleanUp:!1,showMessage:!1,showMessageTimer:!1,errorTimeStamp:0,isFirstM3u8:!0,showRightMenu:!1,showViewMessage:!1,playLive:!0,playerMuted:!0,videoEle:null,noSingleEle:null,easyPlayerLoadingEle:null,easyVideoPlayerInnerEle:null,_videoId:null,_luXiangEle:null,_recording:!1,_recordOffset:0,_recordArrayBuffer:[],_recordFileName:"",_cacheArrayBuffer:[]}},computed:{defaultPlayerOption:function(){return{loop:this.loop,controls:!0,language:"zh-CN",type:"video/mp4",autoplay:this.autoplay,controlBar:{volumePanel:{inline:!1}}}}},watch:{muted:{handler:function(e){this.playerMuted=e},immediate:!0},snapshot:{handler:function(e){var t=this;e&&setTimeout(function(){return t.snapshot=!1},3e4)}},playerMessage:{handler:function(e){var t=this;e&&(this.$nextTick(function(){var e=t.$el.querySelector(".easy-player-loading-text");e.scrollTop=e.scrollTop+20}),this.showMessage=!0,this.showMessageTimer&&clearTimeout(this.showMessageTimer),this.showMessageTimer=setTimeout(function(){t.showMessage=!1},1e4))},immediate:!0},easyStretch:{handler:function(e){this.stretch=e},immediate:!0},isH265:{handler:function(e){this.isStreamH265=e},immediate:!0},isStreamH265:{handler:function(e){if(!e){var t=this.$el.querySelector(".vjs-poster");t&&(this.$el.querySelector(".vjs-poster").classList=t.getAttribute("class")+" vjs-poster-animation");var i=this.$el.querySelector(".easy-player-loading");i&&(i.style.opacity=0)}}},easyPlayer:{handler:function(e){var t=this;this.loading=!0,setTimeout(function(){return t.setPlayerEventListener(e)},200),this.currentTime&&this.seek(this.currentTime)},immediate:!0},videoUrl:{handler:function(e){var t=this;this.$nextTick(function(){if(t.noSingleEle=t.$el.querySelector(".no-single"),t.easyVideoPlayerInnerEle||(t.easyVideoPlayerInnerEle=t.$el.querySelector(".easy-video-player-inner")),e)t.playerMessage=[],t.isFirstM3u8=!0,t.isStreamH265=!1,t.handlerVideOption(e),t.initPlayer();else{if(t.noSingleEle)return;t.noSingleEle=document.createElement("div"),t.noSingleEle.classList="no-single",t.noSingleEle.setAttribute("oncontextmenu","return false"),t.noSingleEle.style="display: flex;flex: 1;justify-content: center;align-items: center;color: white;background: black;width: 100%;height: 100%",t.noSingleEle.innerHTML=t.alt,t.easyVideoPlayerInnerEle.appendChild(t.noSingleEle),t.destroyPlayer()}})},immediate:!0},loading:{handler:function(e){var t=this;this.$nextTick(function(){setTimeout(function(){t.showPlayerMessage&&(t.showPlayerMessage=!1),t.initLoading&&(t.initLoading=!1)},5e3);var i=t.$el.querySelector(".easy-player-loading");i&&(i.style.opacity=e?1:0)})},immediate:!1},currentTime:{handler:function(e){e&&this.seek(e)},immediate:!0}},created:function(){this.initVideoJs(),this.isTransCoding&&this.loadWasmKit()},destroyed:function(){this.destroyPlayer()},methods:{snapshot:function(){this.isStreamH265?this.easyPlayer&&this.easyPlayer.tech_.flvPlayer._saveLocalSnapshot():this.saveLocalSnapshot()},seek:function(e){var t=this;setTimeout(function(){t.isStreamH265?t.easyPlayer&&t.easyPlayer.currentTime(e):t.easyPlayer&&t.easyPlayer.tech_&&t.easyPlayer.tech_.flvPlayer&&t.easyPlayer.tech_.flvPlayer.seekToPercent(e)},200)},switchRecording:function(){this.isStreamH265?this.easyPlayer&&this.easyPlayer.tech_&&this.easyPlayer.tech_.flvPlayer&&this.easyPlayer.tech_.flvPlayer._recordSwitch():this._recordingUIChange()},changeStretch:function(){this.stretch=!this.stretch,this.$el.querySelector(".vjs-stretch-control").innerText=this.stretch?"拉伸":"标准"},exitFullscreen:function(){Hls.isSupported()?this.isStreamH265?a.api.toggle(this.$el.querySelector(".easy-video-player-inner"),{teleport:!1}):this.easyPlayer.exitFullscreen():a.api.toggle(this.$el.querySelector(".easy-video-player-inner"),{teleport:!1})},fullscreen:function(){Hls.isSupported()?this.isStreamH265?a.api.toggle(this.$el.querySelector(".easy-video-player-inner"),{teleport:!1}):this.easyPlayer.requestFullscreen():a.api.toggle(this.$el.querySelector(".easy-video-player-inner"),{teleport:!1})},switchVideo:function(){this.isStreamH265?this.easyPlayer&&this.easyPlayer.tech_&&this.easyPlayer.tech_.flvPlayer&&this.easyPlayer.tech_.flvPlayer._pause():this.$el.querySelector(".vjs-play-control").click()},switchAudio:function(){this.isStreamH265?this.easyPlayer&&this.easyPlayer.tech_&&this.easyPlayer.tech_.flvPlayer&&this.easyPlayer.tech_.flvPlayer._switchWasmAudio():this.$el.querySelector(".vjs-mute-control").click()},handlerVideOption:function(e){this.playerOption=null;var t={language:"zh-CN"};e.includes(".mp4")?t.type="video/mp4":e.includes(".ogv")?t.type="video/ogg":e.includes(".flv")?t={type:"video/flv",techOrder:["html5","flvjs"],flvjs:{mediaDataSource:{muted:this.muted,isLive:this.live,cors:!0,hasAudio:this.hasAudio,withCredentials:!1,recordMaxFileSize:this.recordMaxFileSize},config:{decodeType:this.decodeType,enableStashBuffer:!1,lazyLoadMaxDuration:1,lazyLoadRecoverDuration:1,autoCleanupMaxBackwardDuration:60,autoCleanupMinBackwardDuration:30}}}:e.includes(".m3u8")&&(t=Object.assign(t,{type:"application/x-mpegURL",techOrder:["html5","flvjs"],html5:{hls:{withCredentials:!0}}}));var i=this.aspect||this.$refs.videoInner.offsetWidth+":"+this.$refs.videoInner.offsetHeight;e.includes(".m3u8")&&this.resolution&&(t=Object.assign(t,{plugins:this.playerPlugins})),this.playerOption=Object.assign(this.defaultPlayerOption,t,{aspectRatio:i,playbackRates:this.live?[]:[.75,1,1.25,1.5,2]})},initPlayer:function(){var e=this;if(this.easyPlayer&&this.destroyPlayer(),this.easyWebrtcPlayer&&this.destroyPlayer(),this.initVideoEle(),this.isStreamH265)return this.initH265Player(12);this.$nextTick(function(){if(e.showVersion(),e.videoUrl.startsWith("webrtc"))return e.$nextTick(function(){return e.initWebRTCPlayer()});if(flvjs.isSupported()){var t=e.$el.querySelector("video");e.easyPlayer=videojs(t,Object.assign(e.playerOption,{url:e.videoUrl,live:e.live,muted:e.playerMuted,resizeManager:!1,language:"zh-CN"}),function(){e._createVideoLoadingEle(),e._createVideoPlayBtnEle(),e.videoUrl.includes(".m3u8")?fetch(e.videoUrl).then(function(t){var i=t.status;200===i?e._autoPlay():404===i&&(e.autoplay||document.getElementById(e._videoId).parentNode.removeChild(document.querySelector(".easy-big-play-button")),setTimeout(function(){return e.initPlayer()},2500))}):e._autoPlay(),e.loadDefinitionStreams(e.easyPlayer),setTimeout(function(){return e.setHLSListener()},200)}),e.createPlayerMenusBtn()}else e.initH265Player(12)})},getUUID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_autoPlay:function(){if(!this.autoplay)return this.loading=!1;var e=this.playerOption.type;this.easyPlayer.src({src:this.videoUrl,type:e}),this.easyPlayer.load(),this.easyPlayer.play()},initWebRTCPlayer:function(){var e=this;null===this.easyWebrtcPlayer&&(this.easyWebrtcPlayer=new h.a(this.videoUrl,this.easyVideoPlayerInnerEle,this.autoplay,this.easyPlayerLoadingEle,this._videoId,this.iceServers),this.loading=!0),this.easyWebrtcPlayer._emitter.on("canplay",function(t){e.loading=!1}),this.easyWebrtcPlayer._emitter.on("waiting",function(t){e.loading=!0}),this.easyWebrtcPlayer._emitter.on("playing",function(t){e.loading=!1}),this.easyWebrtcPlayer._emitter.on("touchstart",function(t){e.showRightMenu&&(e.showRightMenu=!1)})},play:function(){this.easyPlayer.play()},replay:function(){this.isStreamH265||(this.easyPlayer.load(),this.easyPlayer.muted=this.playerMuted,this.autoplay&&this.easyPlayer.play())},restartPlayer:function(){this.loading=!0,this.isCacheCleanUp=!0,this.isStreamH265?this.restartSnapshot=this.wasmPlayer.snapshot:this.saveLocalSnapshot(),this.initPlayer()},easyPlayerPushMsg:function(e){this.playerMessage.push(e)},easyPlayerCleanMsg:function(){this.playerMessage=[]},loadWasmKit:function(){A(),window.easyPlayerWasmModule=e;var t=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initModule=null,this.deinitModule=null,this.yuvData=null,this.convertFrame2Image=null,this._self=t}return p(e,[{key:"loadWebAssembly",value:function(){var e=this;window.easyPlayerWasmModule.onRuntimeInitialized=function(){e.initModule=window.easyPlayerWasmModule.cwrap("WasmDecoder_Init","number"),e.deinitModule=window.easyPlayerWasmModule.cwrap("WasmDecoder_Deinit","number"),e.convertFrame2Image=window.easyPlayerWasmModule.cwrap("WasmDecoder_ConvertFrame2Image","number",["number","number","number","number","number"]),e.applyMemory(),e.initModule(),console.debug("WASM initialized done!"),e._self.$emit("wasmIsReady",!0)}}},{key:"applyMemory",value:function(){this.yuvData=window.easyPlayerWasmModule._malloc(32e6)}},{key:"freeMemory",value:function(){window.easyPlayerWasmModule._free(this.yuvData)}}]),e}())(this);t.loadWebAssembly(),window.easyPlayerWasmKits=t},dateFormat:function(e,t){var i=void 0,r={"Y+":e.getFullYear().toString(),"M+":(e.getMonth()+1).toString(),"D+":e.getDate().toString(),"h+":e.getHours().toString(),"m+":e.getMinutes().toString(),"s+":e.getSeconds().toString()};for(var n in r)(i=new RegExp("("+n+")").exec(t))&&(t=t.replace(i[1],1===i[1].length?r[n]:r[n].padStart(i[1].length,"0")));return t},changeStream:function(e){var t="video/mp4";e&&(t="video/mp4"),e&&(t="video/ogg"),e&&(t="video/x-flv"),e&&(t="application/x-mpegURL"),this.easyPlayer&&this.easyPlayer.src({src:e,type:t})},destroyPlayer:function(){var e=this.$el.querySelector(".easy-player-loading");e&&e.parentNode.removeChild(e),this.initLoading=!0,this.isFirstPaused=!0,this._playerPlaying=!1,this.loading&&(this.loading=!1),this.easyPlayer&&this.easyPlayer.dispose&&this.easyPlayer.dispose(),this.easyPlayer&&this.easyPlayer.destroy&&this.easyPlayer.destroy(),this.easyWebrtcPlayer&&this.easyWebrtcPlayer.destroy(),this.wasmPlayer&&this.wasmPlayer.destroy(),this.videoEle=this.$el.querySelector("video"),this.videoEle&&this.videoEle.parentNode&&this.videoEle.parentNode.removeChild(this.videoEle),this.eventTimer&&clearTimeout(this.eventTimer),this.showMessageTimer&&clearTimeout(this.showMessageTimer),this.restartPlayerTimer&&clearTimeout(this.restartPlayerTimer),this.wasmPlayer=null,this.easyPlayer=null,this.eventTimer=null,this.videoEle=null,this.easyWebrtcPlayer=null,this.showMessageTimer=null,this.restartPlayerTimer=null,this.isStreamH265&&(this.isStreamH265=!1,this.isTransCoding&&(window.easyPlayerWasmModule=null,window.easyPlayerWasmKits=null))}}}},UXd7:function(e,t,i){"use strict";var r=t,n=i("u/Wk"),o=i("tSXQ"),a=i("jgf2");r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,i){var r=new Array(Math.max(e.bitLength(),i)+1);r.fill(0);for(var n=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,u=o.andln(n-1);o.isOdd()?(s=u>(n>>1)-1?(n>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r,n=0,o=0;e.cmpn(-n)>0||t.cmpn(-o)>0;){var a,s,u=e.andln(3)+n&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0==(1&u)?0:3!=(r=e.andln(7)+n&7)&&5!==r||2!==l?u:-u,i[0].push(a),s=0==(1&l)?0:3!=(r=t.andln(7)+o&7)&&5!==r||2!==u?l:-l,i[1].push(s),2*n===a+1&&(n=1-n),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new n(e,"hex","le")}},UZZ8:function(e,t,i){"use strict";var r=i("tSXQ");function n(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=n,n.prototype._init=function(){},n.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},n.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=i,i},n.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(e){var t=0,i=0,r=(this.bufferOff+e.length)/this.blockSize|0,n=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,n,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return n},n.prototype._updateDecrypt=function(e){for(var t=0,i=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,n=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),i+=this._flushBuffer(n,i);return t+=this._buffer(e,t),n},n.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},n.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},n.prototype._unpad=function(e){return e},n.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},UgYt:function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},UjI3:function(e,t,i){var r=i("uWRE"),n=i("ZUGU"),o=i("aX9k"),a=i("pmUU"),s=i("uCaM"),u=i("DLTi").Buffer;function l(e){var t;"object"!=typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=u.from(e));var i,l,c=o(e,t),h=c.tag,d=c.data;switch(h){case"CERTIFICATE":l=r.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=r.PublicKey.decode(d,"der")),i=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=r.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=n[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,h=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(t,i,r,h,"sha1"),f=a.createDecipheriv(o,d,l),p=[];return p.push(f.update(c)),p.push(f.final()),u.concat(p)}(d=r.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(i=(l=r.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:r.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=r.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=r.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+h)}}e.exports=l,l.signature=r.signature},Upxq:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},V0EG:function(e,t){var i,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,h=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function A(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=A,n.addListener=A,n.once=A,n.off=A,n.removeListener=A,n.removeAllListeners=A,n.emit=A,n.prependListener=A,n.prependOnceListener=A,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},V61e:function(e,t,i){var r=i("EUFM"),n=i("DLTi").Buffer,o=i("5zLF");function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var i=Math.ceil(t.length/16),o=e._cache.length;e._cache=n.concat([e._cache,n.allocUnsafe(16*i)]);for(var s=0;s<i;s++){var u=a(e),l=o+16*s;e._cache.writeUInt32BE(u[0],l+0),e._cache.writeUInt32BE(u[1],l+4),e._cache.writeUInt32BE(u[2],l+8),e._cache.writeUInt32BE(u[3],l+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,c)}},WBsi:function(e,t,i){"use strict";const r=i("J1E3"),n=i("IhCH"),o=i("mwrz");function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){const t=this.name;function i(e){this._initNamed(e,t)}return o(i,e),i.prototype._initNamed=function(t,i){e.call(this,t,i)},new i(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n[e])),this.decoders[e]},a.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},a.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},WTPY:function(e,t,i){(t=e.exports=i("y+MR")).Stream=t,t.Readable=t,t.Writable=i("BMRL"),t.Duplex=i("4zZu"),t.Transform=i("4mOe"),t.PassThrough=i("LHnZ"),t.finished=i("h8TZ"),t.pipeline=i("Wfcu")},WXsb:function(e,t,i){"use strict";const r=i("mwrz");function n(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=n,n.prototype.isError=function(e){return e instanceof o},n.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},n.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},n.prototype.enterKey=function(e){return this._reporterState.path.push(e)},n.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},n.prototype.leaveKey=function(e,t,i){const r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=i)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},n.prototype.leaveObject=function(e){const t=this._reporterState,i=t.obj;return t.obj=e,i},n.prototype.error=function(e){let t;const i=this._reporterState,r=e instanceof o;if(t=r?e:new o(i.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw t;return r||i.errors.push(t),t},n.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},Wfcu:function(e,t,i){"use strict";var r;var n=i("DzCi").codes,o=n.ERR_MISSING_ARGS,a=n.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c,h=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var d=t.map(function(e,n){var o=n<t.length-1;return function(e,t,n,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",function(){s=!0}),void 0===r&&(r=i("h8TZ")),r(e,{readable:t,writable:n},function(e){if(e)return o(e);s=!0,o()});var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,n>0,function(e){c||(c=e),e&&d.forEach(u),o||(d.forEach(u),h(c))})});return t.reduce(l)}},Y6fm:function(e,t,i){"use strict";(function(e,r){function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=i("DLTi"),a=i("kyRq"),s=o.Buffer,u=o.kMaxLength,l=e.crypto||e.msCrypto,c=Math.pow(2,32)-1;function h(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>c||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function d(e,t,i){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>c||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>u)throw new RangeError("buffer too small")}function f(e,t,i,n){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,i);return l.getRandomValues(s),n?void r.nextTick(function(){n(null,e)}):e}if(!n)return a(i).copy(e,t),e;a(i,function(i,r){if(i)return n(i);r.copy(e,t),n(null,e)})}l&&l.getRandomValues||!r.browser?(t.randomFill=function(t,i,r,n){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof i)n=i,i=0,r=t.length;else if("function"==typeof r)n=r,r=t.length-i;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return h(i,t.length),d(r,i,t.length),f(t,i,r,n)},t.randomFillSync=function(t,i,r){void 0===i&&(i=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(i,t.length),void 0===r&&(r=t.length-i);return d(r,i,t.length),f(t,i,r)}):(t.randomFill=n,t.randomFillSync=n)}).call(t,i("mFPK"),i("V0EG"))},YHLM:function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(7).Buffer}catch(e){}function s(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+e)}function u(e,t,i){var r=s(e,i);return i-1>=t&&(r|=s(e,i-1)<<4),r}function l(e,t,i,n){for(var o=0,a=0,s=Math.min(e.length,i),u=t;u<s;u++){var l=e.charCodeAt(u)-48;o*=n,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<n,"Invalid character"),o+=a}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,i):(this._parseBase(e,t,n),"le"===i&&this._initArray(this.toArray(),t,i)))},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,a=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)n=u(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)n=u(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,s=Math.min(o,o-a)+i,u=0,c=i;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var i;if(e=e||10,t=0|t||1,16===e||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<n|o)).toString(16);o=s>>>24-n&16777215,(n+=2)>=26&&(n-=26,a--),i=0!==o||a!==this.length-1?d[6-u.length]+u+i:u+i}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],c=p[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var A=h.modrn(c).toString(e);i=(h=h.idivn(c)).isZero()?A+i:d[l-A.length]+A+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function A(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,u=a/67108864|0;i.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;c+=(a=(n=0|e.words[p])*(o=0|t.words[f])+h)/67108864|0,h=67108863&a}i.words[l]=0|h,u=0|c}return 0!==u?i.words[l]=0|u:i.length--,i._strip()}o.prototype.toArrayLike=function(e,t,i){this._strip();var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,n),a},o.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,n=0,o=0;n<this.length;n++){var a=this.words[n]<<o|r;e[i++]=255&a,i<e.length&&(e[i++]=a>>8&255),i<e.length&&(e[i++]=a>>16&255),6===o?(i<e.length&&(e[i++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(i<e.length)for(e[i++]=r;i<e.length;)e[i++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,n=0,o=0;n<this.length;n++){var a=this.words[n]<<o|r;e[i--]=255&a,i>=0&&(e[i--]=a>>8&255),i>=0&&(e[i--]=a>>16&255),6===o?(i>=0&&(e[i--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(i>=0)for(e[i--]=r;i>=0;)e[i--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},o.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=e):(i=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|i.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<i.length;a++)o=(t=(0|i.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,i){var r,n,o,a=e.words,s=t.words,u=i.words,l=0,c=0|a[0],h=8191&c,d=c>>>13,f=0|a[1],p=8191&f,A=f>>>13,g=0|a[2],m=8191&g,y=g>>>13,v=0|a[3],E=8191&v,w=v>>>13,b=0|a[4],C=8191&b,I=b>>>13,S=0|a[5],M=8191&S,k=S>>>13,T=0|a[6],D=8191&T,B=T>>>13,R=0|a[7],Q=8191&R,O=R>>>13,L=0|a[8],x=8191&L,q=L>>>13,K=0|a[9],U=8191&K,F=K>>>13,j=0|s[0],N=8191&j,J=j>>>13,G=0|s[1],Y=8191&G,P=G>>>13,z=0|s[2],Z=8191&z,W=z>>>13,V=0|s[3],H=8191&V,X=V>>>13,_=0|s[4],$=8191&_,ee=_>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,de=ce>>>13,fe=0|s[9],pe=8191&fe,Ae=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(l+(r=Math.imul(h,N))|0)+((8191&(n=(n=Math.imul(h,J))+Math.imul(d,N)|0))<<13)|0;l=((o=Math.imul(d,J))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,N),n=(n=Math.imul(p,J))+Math.imul(A,N)|0,o=Math.imul(A,J);var me=(l+(r=r+Math.imul(h,Y)|0)|0)+((8191&(n=(n=n+Math.imul(h,P)|0)+Math.imul(d,Y)|0))<<13)|0;l=((o=o+Math.imul(d,P)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,N),n=(n=Math.imul(m,J))+Math.imul(y,N)|0,o=Math.imul(y,J),r=r+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,P)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,P)|0;var ye=(l+(r=r+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,W)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,W)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(E,N),n=(n=Math.imul(E,J))+Math.imul(w,N)|0,o=Math.imul(w,J),r=r+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,P)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,P)|0,r=r+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,W)|0;var ve=(l+(r=r+Math.imul(h,H)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,H)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(C,N),n=(n=Math.imul(C,J))+Math.imul(I,N)|0,o=Math.imul(I,J),r=r+Math.imul(E,Y)|0,n=(n=n+Math.imul(E,P)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,P)|0,r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,H)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,X)|0;var Ee=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,$)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,N),n=(n=Math.imul(M,J))+Math.imul(k,N)|0,o=Math.imul(k,J),r=r+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,P)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,P)|0,r=r+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0;var we=(l+(r=r+Math.imul(h,ie)|0)|0)+((8191&(n=(n=n+Math.imul(h,re)|0)+Math.imul(d,ie)|0))<<13)|0;l=((o=o+Math.imul(d,re)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,N),n=(n=Math.imul(D,J))+Math.imul(B,N)|0,o=Math.imul(B,J),r=r+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,P)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,P)|0,r=r+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(E,H)|0,n=(n=n+Math.imul(E,X)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(m,$)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ie)|0,n=(n=n+Math.imul(p,re)|0)+Math.imul(A,ie)|0,o=o+Math.imul(A,re)|0;var be=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(Q,N),n=(n=Math.imul(Q,J))+Math.imul(O,N)|0,o=Math.imul(O,J),r=r+Math.imul(D,Y)|0,n=(n=n+Math.imul(D,P)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,P)|0,r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(C,H)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(E,$)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ie)|0,n=(n=n+Math.imul(m,re)|0)+Math.imul(y,ie)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0;var Ce=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ue)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(x,N),n=(n=Math.imul(x,J))+Math.imul(q,N)|0,o=Math.imul(q,J),r=r+Math.imul(Q,Y)|0,n=(n=n+Math.imul(Q,P)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,P)|0,r=r+Math.imul(D,Z)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(C,$)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(E,ie)|0,n=(n=n+Math.imul(E,re)|0)+Math.imul(w,ie)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0;var Ie=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,N),n=(n=Math.imul(U,J))+Math.imul(F,N)|0,o=Math.imul(F,J),r=r+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,P)|0)+Math.imul(q,Y)|0,o=o+Math.imul(q,P)|0,r=r+Math.imul(Q,Z)|0,n=(n=n+Math.imul(Q,W)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(D,H)|0,n=(n=n+Math.imul(D,X)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,X)|0,r=r+Math.imul(M,$)|0,n=(n=n+Math.imul(M,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,re)|0)+Math.imul(I,ie)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,de)|0;var Se=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,Ae)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(U,Y),n=(n=Math.imul(U,P))+Math.imul(F,Y)|0,o=Math.imul(F,P),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,W)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,W)|0,r=r+Math.imul(Q,H)|0,n=(n=n+Math.imul(Q,X)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,X)|0,r=r+Math.imul(D,$)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(M,ie)|0,n=(n=n+Math.imul(M,re)|0)+Math.imul(k,ie)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(C,oe)|0,n=(n=n+Math.imul(C,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(E,ue)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var Me=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,Z),n=(n=Math.imul(U,W))+Math.imul(F,Z)|0,o=Math.imul(F,W),r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(q,H)|0,o=o+Math.imul(q,X)|0,r=r+Math.imul(Q,$)|0,n=(n=n+Math.imul(Q,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(D,ie)|0,n=(n=n+Math.imul(D,re)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(M,oe)|0,n=(n=n+Math.imul(M,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(E,he)|0,n=(n=n+Math.imul(E,de)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,de)|0;var ke=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,H),n=(n=Math.imul(U,X))+Math.imul(F,H)|0,o=Math.imul(F,X),r=r+Math.imul(x,$)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(q,$)|0,o=o+Math.imul(q,ee)|0,r=r+Math.imul(Q,ie)|0,n=(n=n+Math.imul(Q,re)|0)+Math.imul(O,ie)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(M,ue)|0,n=(n=n+Math.imul(M,le)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,le)|0,r=r+Math.imul(C,he)|0,n=(n=n+Math.imul(C,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Te=(l+(r=r+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,Ae)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,$),n=(n=Math.imul(U,ee))+Math.imul(F,$)|0,o=Math.imul(F,ee),r=r+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,re)|0)+Math.imul(q,ie)|0,o=o+Math.imul(q,re)|0,r=r+Math.imul(Q,oe)|0,n=(n=n+Math.imul(Q,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(D,ue)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,r=r+Math.imul(M,he)|0,n=(n=n+Math.imul(M,de)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,de)|0;var De=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(n=(n=n+Math.imul(C,Ae)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(U,ie),n=(n=Math.imul(U,re))+Math.imul(F,ie)|0,o=Math.imul(F,re),r=r+Math.imul(x,oe)|0,n=(n=n+Math.imul(x,ae)|0)+Math.imul(q,oe)|0,o=o+Math.imul(q,ae)|0,r=r+Math.imul(Q,ue)|0,n=(n=n+Math.imul(Q,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(D,he)|0,n=(n=n+Math.imul(D,de)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,de)|0;var Be=(l+(r=r+Math.imul(M,pe)|0)|0)+((8191&(n=(n=n+Math.imul(M,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;l=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(U,oe),n=(n=Math.imul(U,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(q,ue)|0,o=o+Math.imul(q,le)|0,r=r+Math.imul(Q,he)|0,n=(n=n+Math.imul(Q,de)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,de)|0;var Re=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,Ae)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(F,ue)|0,o=Math.imul(F,le),r=r+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(q,he)|0,o=o+Math.imul(q,de)|0;var Qe=(l+(r=r+Math.imul(Q,pe)|0)|0)+((8191&(n=(n=n+Math.imul(Q,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,r=Math.imul(U,he),n=(n=Math.imul(U,de))+Math.imul(F,he)|0,o=Math.imul(F,de);var Oe=(l+(r=r+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,Ae)|0)+Math.imul(q,pe)|0))<<13)|0;l=((o=o+Math.imul(q,Ae)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Le=(l+(r=Math.imul(U,pe))|0)+((8191&(n=(n=Math.imul(U,Ae))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,Ae))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=ve,u[4]=Ee,u[5]=we,u[6]=be,u[7]=Ce,u[8]=Ie,u[9]=Se,u[10]=Me,u[11]=ke,u[12]=Te,u[13]=De,u[14]=Be,u[15]=Re,u[16]=Qe,u[17]=Oe,u[18]=Le,0!==l&&(u[19]=l,i.length++),i};function m(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),d=67108863&h;s=67108863&(d=d+s|0),n+=(a=(a=a+(h/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i._strip()}function y(e,t,i){return m(e,t,i)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=A),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):i<63?A(this,e,t):i<1024?m(this,e,t):y(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},v.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},v.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},v.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<n;c+=s)for(var h=u,d=l,f=0;f<a;f++){var p=i[c+f],A=r[c+f],g=i[c+f+a],m=r[c+f+a],y=h*g-d*m;m=h*m+d*g,g=y,i[c+f]=p+g,r[c+f]=A+m,i[c+f+a]=p-g,r[c+f+a]=A-m,f!==s&&(y=u*h-l*d,d=u*d+l*h,h=y)}},v.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},v.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},v.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},v.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},v.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=i.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,n),this.transform(l,o,c,h,r,n);for(var f=0;f<r;f++){var p=s[f]*c[f]-u[f]*h[f];u[f]=s[f]*h[f]+u[f]*c[f],s[f]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,n),this.conjugate(d,o,r),this.normalize13b(d,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var i=0,n=0;n<this.length;n++){var o=(0|this.words[n])*e,a=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=a>>>26,this.words[n]=67108863&a}return 0!==i&&(this.words[n]=i,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=e.words[r]>>>n&1}return t}(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var n;r("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(n-=a,n=Math.max(0,n),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=n);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i)&&!!(this.words[i]&n)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o,a=e.length+i;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+i])+s;var u=(0|e.words[n])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)s=(o=(0|this.words[n+i])+s)>>26,this.words[n+i]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),n=e,a=0|n.words[n.length-1];0!==(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,u=r.length-n.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(n,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[n.length+h])+(0|r.words[n.length+h-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(n,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(n,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=d)}return s&&s._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,n=0,o=this.length-1;o>=0;o--)n=(i*n+(0|this.words[o]))%e;return t?-n:n},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*i;this.words[n]=o/e|0,i=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++l;for(var c=i.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(c),a.isub(h)),n.iushrn(1),a.iushrn(1);for(var p=0,A=1;0==(i.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(u)):(i.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:i.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,a=new o(1),s=new o(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,d=1;0==(i.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(n=0===t.cmpn(1)?a:s).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new M(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},n(b,w),b.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(C,w),n(I,w),n(S,w),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(E[e])return E[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new C;else if("p192"===e)t=new I;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return E[e]=t,t},M.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},M.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var A=f,g=0;0!==A.cmp(s);g++)A=A.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=g}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;n!==i[0]&&(n=this.sqr(n)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}u=26}return n},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},n(k,M),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,i("y5YM")(e))},YHfo:function(e,t,i){var r=i("kyRq");e.exports=y,y.simpleSieve=g,y.fermatTest=m;var n=i("u/Wk"),o=new n(24),a=new(i("xXUF")),s=new n(1),u=new n(2),l=new n(5),c=(new n(16),new n(8),new n(10)),h=new n(3),d=(new n(7),new n(11)),f=new n(4),p=(new n(12),null);function A(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var r=Math.ceil(Math.sqrt(i)),n=0;n<t&&e[n]<=r&&i%e[n]!=0;n++);t!==n&&e[n]<=r||(e[t++]=i)}return p=e,e}function g(e){for(var t=A(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function m(e){var t=n.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new n(2===t||5===t?[140,123]:[140,39]);var i,p;for(t=new n(t);;){for(i=new n(r(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(s),i.testn(1)||i.iadd(u),t.cmp(u)){if(!t.cmp(l))for(;i.mod(c).cmp(h);)i.iadd(f)}else for(;i.mod(o).cmp(d);)i.iadd(f);if(g(p=i.shrn(1))&&g(i)&&m(p)&&m(i)&&a.test(p)&&a.test(i))return i}}},YQM0:function(e,t,i){var r=i("EUFM");t.encrypt=function(e,t){var i=r(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return r(n,i)}},YlXM:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=i?n-1:0,d=i?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,u,l=8*o-n-1,c=(1<<l)-1,h=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,n),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;e[i+f]=255&s,f+=p,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;e[i+f]=255&a,f+=p,a/=256,l-=8);e[i+f-p]|=128*A}},Yt9d:function(e,t,i){"use strict";var r=i("QMyh").Buffer,n=i(4);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,i,n,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,i=o,n=s,t.copy(i,n),s+=a.data.length,a=a.next;return o},e}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},ZUGU:function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},Zanr:function(e,t,i){"use strict";const r=t;r._reverse=function(e){const t={};return Object.keys(e).forEach(function(i){(0|i)==i&&(i|=0);const r=e[i];t[r]=i}),t},r.der=i("7ZNp")},"Zdi/":function(e,t,i){"use strict";var r=i("maJs"),n=i("P1/4"),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,l=n.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,i,r){return e<=15?t^i^r:e<=31?t&i|~t&r:e<=47?(t|~i)^r:e<=63?t&r|i&~r:t^(i|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(c,l),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var i=this.h[0],r=this.h[1],n=this.h[2],l=this.h[3],c=this.h[4],y=i,v=r,E=n,w=l,b=c,C=0;C<80;C++){var I=a(o(u(i,h(C,r,n,l),e[p[C]+t],d(C)),g[C]),c);i=c,c=l,l=o(n,10),n=r,r=I,I=a(o(u(y,h(79-C,v,E,w),e[A[C]+t],f(C)),m[C]),b),y=b,b=w,w=o(E,10),E=v,v=I}I=s(this.h[1],n,w),this.h[1]=s(this.h[2],l,b),this.h[2]=s(this.h[3],c,y),this.h[3]=s(this.h[4],i,v),this.h[4]=s(this.h[0],r,E),this.h[0]=I},c.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},ZpE2:function(e,t,i){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i("kyRq"),t.createHash=t.Hash=i("kFjB"),t.createHmac=t.Hmac=i("OtjJ");var r=i("M+LS"),n=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);t.getHashes=function(){return o};var a=i("uCaM");t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=i("g8jk");t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=i("S1A0");t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var l=i("PjeN");t.createSign=l.createSign,t.Sign=l.Sign,t.createVerify=l.createVerify,t.Verify=l.Verify,t.createECDH=i("8KD+");var c=i("M+L8");t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var h=i("Y6fm");t.randomFill=h.randomFill,t.randomFillSync=h.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},aX9k:function(e,t,i){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=i("gHHA"),s=i("pmUU"),u=i("DLTi").Buffer;e.exports=function(e,t){var i,l=e.toString(),c=l.match(r);if(c){var h="aes"+c[1],d=u.from(c[2],"hex"),f=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(c[1],10)).key,A=[],g=s.createDecipheriv(h,p,d);A.push(g.update(f)),A.push(g.final()),i=u.concat(A)}else{var m=l.match(o);i=u.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(n)[1],data:i}}},ae4y:function(e,t,i){"use strict";var r=i("maJs"),n=i("eQun");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,n),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},boXJ:function(e,t,i){"use strict";var r=i("DLTi").Buffer,n=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function c(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var i=function(e,t,i){var r=t.length-1;if(r<i)return 0;var n=a(t[r]);if(n>=0)return n>0&&(e.lastNeed=n-1),n;if(--r<i||-2===n)return 0;if((n=a(t[r]))>=0)return n>0&&(e.lastNeed=n-2),n;if(--r<i||-2===n)return 0;if((n=a(t[r]))>=0)return n>0&&(2===n?n=0:e.lastNeed=n-3),n;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"bzP+":function(e,t,i){"use strict";const r=i("mwrz"),n=i("FxzF").Buffer,o=i("6BOp"),a=i("7ZNp");function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,o),u.prototype._encodeComposite=function(e,t,i,r){const o=function(e,t,i,r){let n;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))n=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);n=e}if(n>=31)return r.error("Multi-octet tag encoding unsupported");t||(n|=32);return n|=a.tagClassByName[i||"universal"]<<6}(e,t,i,this.reporter);if(r.length<128){const e=n.alloc(2);return e[0]=o,e[1]=r.length,this._createEncoderBuffer([e,r])}let s=1;for(let e=r.length;e>=256;e>>=8)s++;const u=n.alloc(2+s);u[0]=o,u[1]=128|s;for(let e=1+s,t=r.length;t>0;e--,t>>=8)u[e]=255&t;return this._createEncoderBuffer([u,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=n.alloc(2*e.length);for(let i=0;i<e.length;i++)t.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,i){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let r=0;for(let t=0;t<e.length;t++){let i=e[t];for(r++;i>=128;i>>=7)r++}const o=n.alloc(r);let a=o.length-1;for(let t=e.length-1;t>=0;t--){let i=e[t];for(o[a--]=127&i;(i>>=7)>0;)o[a--]=128|127&i}return this._createEncoderBuffer(o)},u.prototype._encodeTime=function(e,t){let i;const r=new Date(e);return"gentime"===t?i=[l(r.getUTCFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[l(r.getUTCFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!n.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=n.from(t)}if(n.isBuffer(e)){let t=e.length;0===e.length&&t++;const i=n.alloc(t);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let t=e;t>=256;t>>=8)i++;const r=new Array(i);for(let t=r.length-1;t>=0;t--)r[t]=255&e,e>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(n.from(r))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,i){const r=this._baseState;let n;if(null===r.default)return!1;const o=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,i).join()),o.length!==r.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==r.defaultBuffer[n])return!1;return!0}},cGIK:function(e,t,i){"use strict";var r,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(i,r){function n(i){e.removeListener(t,o),r(i)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",n),i([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,i){"function"==typeof e.on&&g(e,"error",t,i)}(e,n,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,i,r){var n,o,a,s;if(l(i),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),o=e._events),a=o[t]),void 0===a)a=o[t]=i,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[i,a]:[a,i]:r?a.unshift(i):a.push(i),(n=c(e))>0&&a.length>n&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return n.listener=i,r.wrapFn=n,n}function f(e,t,i){var r=e._events;if(void 0===r)return[];var n=r[t];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(n):A(n,n.length)}function p(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function A(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function g(e,t,i,r){if("function"==typeof e.on)r.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function n(o){r.once&&e.removeEventListener(t,n),i(o)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=n[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=A(u,l);for(i=0;i<l;++i)o(c[i],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var i,r,n,o,a;if(l(t),void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(n=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,n=o;break}if(n<0)return this;0===n?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,n),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var n,o=Object.keys(i);for(r=0;r<o.length;++r)"removeListener"!==(n=o[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},cKvS:function(e,t,i){"use strict";const r=i("mwrz"),n=i("WXsb").Reporter,o=i("FxzF").Buffer;function a(e,t){n.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,n),t.DecoderBuffer=a,a.isDecoderBuffer=function(e){if(e instanceof a)return!0;return"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},a.prototype.restore=function(e){const t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,n.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const i=new a(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.isEncoderBuffer=function(e){if(e instanceof s)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},s.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,t),t+=i.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},d4gF:function(e,t,i){var r;r=function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,i){"use strict";t.a=function e(){var t={},i=!1,r=0,n=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],r++);r<n;r++)!function(r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i&&"[object Object]"===Object.prototype.toString.call(r[n])?t[n]=e(!0,t[n],r[n]):t[n]=r[n])}(arguments[r]);return t}},function(e,t){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=void 0!==e&&e.exports,r=function(){for(var e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,n=i.length,o={};r<n;r++)if((e=i[r])&&e[1]in t){for(r=0;r<e.length;r++)o[i[0][r]]=e[r];return o}return!1}(),n={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e,i){return new Promise(function(n,o){var a=function(){this.off("change",a),n()}.bind(this);this.on("change",a);var s=(e=e||t.documentElement)[r.requestFullscreen](i);s instanceof Promise&&s.then(a).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,i){if(this.isFullscreen){var n=function(){this.off("change",n),e()}.bind(this);this.on("change",n);var o=t[r.exitFullscreen]();o instanceof Promise&&o.then(n).catch(i)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,i){var r=n[e];r&&t.addEventListener(r,i,!1)},off:function(e,i){var r=n[e];r&&t.removeEventListener(r,i,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),i?e.exports=o:window.screenfull=o):i?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(e,t,i){"use strict";function r(e,t){e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.width=t.width,e.style.height=t.height}function n(e){var t=e.element;t&&(t.classList.remove(e.options.fullscreenClass),(e.options.teleport||e.options.pageOnly)&&(e.options.teleport&&c&&(c.insertBefore(t,l),c.removeChild(l)),t.__styleCache&&r(t,t.__styleCache)))}var o=i(1),a=i.n(o),s=i(0),u={callback:function(){},fullscreenClass:"fullscreen",pageOnly:!1,teleport:!1},l=void 0,c=void 0,h={options:null,element:null,isFullscreen:!1,isEnabled:a.a.isEnabled,toggle:function(e,t,i){return void 0===i?this.isFullscreen?this.exit():this.request(e,t):i?this.request(e,t):this.exit()},request:function(e,t){var o=this;if(this.isFullscreen)return Promise.resolve();if(e||(e=document.body),this.options=i.i(s.a)({},u,t),e===document.body&&(this.options.teleport=!1),a.a.isEnabled||(this.options.pageOnly=!0),e.classList.add(this.options.fullscreenClass),this.options.teleport||this.options.pageOnly){var h=e.style,d=h.position,f=h.left,p=h.top,A=h.width,g=h.height;e.__styleCache={position:d,left:f,top:p,width:A,height:g},r(e,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})}if(this.options.teleport&&(c=e.parentNode)&&(l=document.createComment("fullscreen-token"),c.insertBefore(l,e),document.body.appendChild(e)),this.options.pageOnly){var m=function e(t){"Escape"===t.key&&(document.removeEventListener("keyup",e),o.exit())};return this.isFullscreen=!0,this.element=e,document.removeEventListener("keyup",m),document.addEventListener("keyup",m),this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()}return a.a.on("change",function t(){a.a.isFullscreen||(a.a.off("change",t),n(o)),o.isFullscreen=a.a.isFullscreen,o.options.teleport?o.element=e||null:o.element=a.a.element,o.options.callback&&o.options.callback(a.a.isFullscreen)}),a.a.request(this.options.teleport?document.body:e)},exit:function(){return this.isFullscreen?this.options.pageOnly?(n(this),this.isFullscreen=!1,this.element=null,this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()):a.a.exit():Promise.resolve()}};h.support=h.isEnabled,h.getState=function(){return h.isFullscreen},h.enter=h.request,t.a=h},function(e,t,i){"use strict";var r=i(2),n=i(0);t.a=function(e,t){var o=function(){var e=void 0,o={teleport:t.modifiers.teleport,pageOnly:t.modifiers.pageOnly};if(t.value)if("string"==typeof t.value)e=t.value;else{var a=t.value,s=a.target,u=function(e,t){var i={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}(a,["target"]);e=s,o=i.i(n.a)(o,u)}"string"==typeof e&&(e=document.querySelector(e)),r.a.toggle(e,o)};e._onClickFullScreen&&e.removeEventListener("click",e._onClickFullScreen),e.addEventListener("click",o),e._onClickFullScreen=o}},function(e,t,i){var r=i(7)(i(6),i(8),null,null);e.exports=r.exports},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),n=i.n(r),o=i(2),a=i(3),s=i(1),u=i.n(s),l=i(0);i.d(t,"screenfull",function(){return u.a}),i.d(t,"api",function(){return o.a}),i.d(t,"directive",function(){return a.a}),i.d(t,"component",function(){return n.a}),t.default={install:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name||"fullscreen";e.component(t,i.i(l.a)(n.a,{name:t})),e.prototype["$"+t]=o.a,e.directive(t,a.a)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),n=i.n(r);t.default={props:{value:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:"fullscreen"},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1}},data:function(){return{isFullscreen:!1,isEnabled:!1}},computed:{support:function(){return this.isEnabled},isPageOnly:function(){return this.pageOnly||!n.a.isEnabled},wrapperStyle:function(){return(this.isPageOnly||this.teleport)&&this.isFullscreen?{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}:void 0}},methods:{toggle:function(e){void 0===e?this.isFullscreen?this.exit():this.request():e?this.request():this.exit()},request:function(){if(this.isPageOnly?(this.isFullscreen=!0,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback),document.addEventListener("keyup",this.keypressCallback)):(n.a.off("change",this.fullScreenCallback),n.a.on("change",this.fullScreenCallback),n.a.request(this.teleport?document.body:this.$el)),this.teleport){if(this.$el.parentNode===document.body)return;this.__parentNode=this.$el.parentNode,this.__token=document.createComment("fullscreen-token"),this.__parentNode.insertBefore(this.__token,this.$el),document.body.appendChild(this.$el)}},exit:function(){this.isFullscreen&&(this.isPageOnly?(this.isFullscreen=!1,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback)):n.a.exit())},shadeClick:function(e){e.target===this.$el&&this.exitOnClickWrapper&&this.exit()},fullScreenCallback:function(){n.a.isFullscreen||n.a.off("change",this.fullScreenCallback),this.isFullscreen=n.a.isFullscreen,this.onChangeFullScreen()},keypressCallback:function(e){"Escape"===e.key&&this.exit()},onChangeFullScreen:function(){this.isFullscreen||this.teleport&&this.__parentNode&&(this.__parentNode.insertBefore(this.$el,this.__token),this.__parentNode.removeChild(this.__token)),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen),this.$emit("input",this.isFullscreen)},enter:function(){this.request()},getState:function(){return this.isFullscreen}},watch:{value:function(e){e!==this.isFullscreen&&(e?this.request():this.exit())},fullscreen:function(e){e!==this.isFullscreen&&(e?this.request():this.exit())}},created:function(){this.isEnabled=n.a.isEnabled}}},function(e,t){e.exports=function(e,t,i,r){var n,o=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(n=e,o=e.default);var s="function"==typeof o?o.options:o;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),i&&(s._scopeId=i),r){var u=Object.create(s.computed||null);Object.keys(r).forEach(function(e){var t=r[e];u[e]=function(){return t}}),s.computed=u}return{esModule:n,exports:o,options:s}}},function(e,t){e.exports={render:function(){var e,t=this,i=t.$createElement;return(t._self._c||i)("div",t._b({ref:"wrapper",class:(e={},e[t.fullscreenClass]=t.isFullscreen,e),style:t.wrapperStyle,on:{click:function(e){return t.shadeClick(e)}}},"div",t.$attrs,!1),[t._t("default")],2)},staticRenderFns:[]}}])},e.exports=r()},duxV:function(e,t){
/*! (C) Andrea Giammarchi - @WebReflection - Mit Style License */
!function(e,t){"use strict";function i(){var e=I.splice(0,I.length);for(ze=0;e.length;)e.shift().call(null,e.shift())}function r(e,t){for(var i=0,r=e.length;i<r;i++)f(e[i],t)}function n(e){return function(t){Oe(t)&&(f(t,e),re.length&&r(t.querySelectorAll(re),e))}}function o(e){var t=Ue.call(e,"is"),i=e.nodeName.toUpperCase(),r=oe.call(te,t?_+t.toUpperCase():X+i);return t&&-1<r&&!a(i,t)?-1:r}function a(e,t){return-1<re.indexOf(e+'[is="'+t+'"]')}function s(e){var t=e.currentTarget,i=e.attrChange,r=e.attrName,n=e.target,o=e[P]||2,a=e[Z]||3;_e&&(!n||n===t)&&t[F]&&"style"!==r&&(e.prevValue!==e.newValue||""===e.newValue&&(i===o||i===a))&&t[F](r,i===o?null:e.prevValue,i===a?null:e.newValue)}function u(e){var t=n(e);return function(e){I.push(t,e.target),ze&&clearTimeout(ze),ze=setTimeout(i,1)}}function l(e){Xe&&(Xe=!1,e.currentTarget.removeEventListener(V,l)),re.length&&r((e.target||w).querySelectorAll(re),e.detail===K?K:x),Re&&function(){for(var e,t=0,i=Le.length;t<i;t++)e=Le[t],ne.contains(e)||(i--,Le.splice(t--,1),f(e,K))}()}function c(e,t){var i=this;Ne.call(i,e,t),S.call(i,{target:i})}function h(e,t){Te(e,t),T?T.observe(e,Ye):(He&&(e.setAttribute=c,e[O]=k(e),e[L](H,S)),e[L](W,s)),e[G]&&_e&&(e.created=!0,e[G](),e.created=!1)}function d(e){throw new Error("A "+e+" type is already registered")}function f(e,t){var i,r,n=o(e);-1<n&&(B(e,ie[n]),n=0,t!==x||e[x]?t===K&&!e[K]&&(e[x]=!1,e[K]=!0,r="disconnected",n=1):(e[K]=!1,e[x]=!0,r="connected",n=1,Re&&oe.call(Le,e)<0&&Le.push(e)),n&&(i=e[t+q]||e[r+q])&&i.call(e))}function p(){}function A(e,t,i){var r=i&&i[U]||"",n=t.prototype,o=ke(n),a=t.observedAttributes||ce,s={prototype:o};Qe(o,G,{value:function(){if(be)be=!1;else if(!this[ge]){this[ge]=!0,new t(this),n[G]&&n[G].call(this);var e=Ce[Se.get(t)];(!ye||e.create.length>1)&&y(this)}}}),Qe(o,F,{value:function(e){-1<oe.call(a,e)&&n[F].apply(this,arguments)}}),n[N]&&Qe(o,j,{value:n[N]}),n[J]&&Qe(o,Y,{value:n[J]}),r&&(s[U]=r),e=e.toUpperCase(),Ce[e]={constructor:t,create:r?[r,Me(e)]:[e]},Se.set(t,e),w[Q](e.toLowerCase(),s),v(e),Ie[e].r()}function g(e){var t=Ce[e.toUpperCase()];return t&&t.constructor}function m(e){return"string"==typeof e?e:e&&e.is||""}function y(e){for(var t,i=e[F],r=i?e.attributes:ce,n=r.length;n--;)t=r[n],i.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function v(e){return(e=e.toUpperCase())in Ie||(Ie[e]={},Ie[e].p=new we(function(t){Ie[e].r=t})),Ie[e].p}function E(){me&&delete e.customElements,le(e,"customElements",{configurable:!0,value:new p}),le(e,"CustomElementRegistry",{configurable:!0,value:p});for(var t=function(t){var i=e[t];if(i){e[t]=function(e){var t,r;return e||(e=this),e[ge]||(be=!0,t=Ce[Se.get(e.constructor)],(e=(r=ye&&1===t.create.length)?Reflect.construct(i,ce,t.constructor):w.createElement.apply(w,t.create))[ge]=!0,be=!1,r||y(e)),e},e[t].prototype=i.prototype;try{i.prototype.constructor=e[t]}catch(r){!0,le(i,ge,{value:e[t]})}}},i=C.get(/^HTML[A-Z]*[a-z]/),r=i.length;r--;t(i[r]));w.createElement=function(e,t){var i=m(t);return i?Ge.call(this,e,Me(i)):Ge.call(this,e)},Ze||(Ve=!0,w[Q](""))}var w=e.document,b=e.Object,C=function(e){var t,i,r,n,o=/^[A-Z]+[a-z]/,a=function(e,t){(t=t.toLowerCase())in s||(s[e]=(s[e]||[]).concat(t),s[t]=s[t.toUpperCase()]=e)},s=(b.create||b)(null),u={};for(i in e)for(n in e[i])for(r=e[i][n],s[n]=r,t=0;t<r.length;t++)s[r[t].toLowerCase()]=s[r[t].toUpperCase()]=n;return u.get=function(e){return"string"==typeof e?s[e]||(o.test(e)?[]:""):function(e){var t,i=[];for(t in s)e.test(t)&&i.push(t);return i}(e)},u.set=function(e,t){return o.test(e)?a(e,t):a(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var I,S,M,k,T,D,B,R,Q="registerElement",O="__"+Q+(1e5*e.Math.random()>>0),L="addEventListener",x="attached",q="Callback",K="detached",U="extends",F="attributeChanged"+q,j=x+q,N="connected"+q,J="disconnected"+q,G="created"+q,Y=K+q,P="ADDITION",z="MODIFICATION",Z="REMOVAL",W="DOMAttrModified",V="DOMContentLoaded",H="DOMSubtreeModified",X="<",_="=",$=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,ee=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],te=[],ie=[],re="",ne=w.documentElement,oe=te.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ae=b.prototype,se=ae.hasOwnProperty,ue=ae.isPrototypeOf,le=b.defineProperty,ce=[],he=b.getOwnPropertyDescriptor,de=b.getOwnPropertyNames,fe=b.getPrototypeOf,pe=b.setPrototypeOf,Ae=!!b.__proto__,ge="__dreCEv1",me=e.customElements,ye=!/^force/.test(t.type)&&!!(me&&me.define&&me.get&&me.whenDefined),ve=b.create||b,Ee=e.Map||function(){var e,t=[],i=[];return{get:function(e){return i[oe.call(t,e)]},set:function(r,n){(e=oe.call(t,r))<0?i[t.push(r)-1]=n:i[e]=n}}},we=e.Promise||function(e){function t(e){for(r=!0;i.length;)i.shift()(e)}var i=[],r=!1,n={catch:function(){return n},then:function(e){return i.push(e),r&&setTimeout(t,1),n}};return e(t),n},be=!1,Ce=ve(null),Ie=ve(null),Se=new Ee,Me=function(e){return e.toLowerCase()},ke=b.create||function e(t){return t?(e.prototype=t,new e):this},Te=pe||(Ae?function(e,t){return e.__proto__=t,e}:de&&he?function(){function e(e,t){for(var i,r=de(t),n=0,o=r.length;n<o;n++)i=r[n],se.call(e,i)||le(e,i,he(t,i))}return function(t,i){do{e(t,i)}while((i=fe(i))&&!ue.call(i,t));return t}}():function(e,t){for(var i in t)e[i]=t[i];return e}),De=e.MutationObserver||e.WebKitMutationObserver,Be=(e.HTMLElement||e.Element||e.Node).prototype,Re=!ue.call(Be,ne),Qe=Re?function(e,t,i){return e[t]=i.value,e}:le,Oe=Re?function(e){return 1===e.nodeType}:function(e){return ue.call(Be,e)},Le=Re&&[],xe=Be.attachShadow,qe=Be.cloneNode,Ke=Be.dispatchEvent,Ue=Be.getAttribute,Fe=Be.hasAttribute,je=Be.removeAttribute,Ne=Be.setAttribute,Je=w.createElement,Ge=Je,Ye=De&&{attributes:!0,characterData:!0,attributeOldValue:!0},Pe=De||function(e){He=!1,ne.removeEventListener(W,Pe)},ze=0,Ze=Q in w&&!/^force-all/.test(t.type),We=!0,Ve=!1,He=!0,Xe=!0,_e=!0;if(Ze||(pe||Ae?(B=function(e,t){ue.call(t,e)||h(e,t)},R=h):R=B=function(e,t){e[O]||(e[O]=b(!0),h(e,t))},Re?(He=!1,function(){var e=he(Be,L),t=e.value,i=function(e){var t=new CustomEvent(W,{bubbles:!0});t.attrName=e,t.prevValue=Ue.call(this,e),t.newValue=null,t[Z]=t.attrChange=2,je.call(this,e),Ke.call(this,t)},r=function(e,t){var i=Fe.call(this,e),r=i&&Ue.call(this,e),n=new CustomEvent(W,{bubbles:!0});Ne.call(this,e,t),n.attrName=e,n.prevValue=i?r:null,n.newValue=t,i?n[z]=n.attrChange=1:n[P]=n.attrChange=0,Ke.call(this,n)},n=function(e){var t,i=e.currentTarget,r=i[O],n=e.propertyName;r.hasOwnProperty(n)&&(r=r[n],(t=new CustomEvent(W,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=i[n]||null,null==t.prevValue?t[P]=t.attrChange=0:t[z]=t.attrChange=1,Ke.call(i,t))};e.value=function(e,o,a){e===W&&this[F]&&this.setAttribute!==r&&(this[O]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=i,t.call(this,"propertychange",n)),t.call(this,e,o,a)},le(Be,L,e)}()):De||(ne[L](W,Pe),ne.setAttribute(O,1),ne.removeAttribute(O),He&&(S=function(e){var t,i,r,n=this;if(n===e.target){for(r in t=n[O],n[O]=i=k(n),i){if(!(r in t))return M(0,n,r,t[r],i[r],P);if(i[r]!==t[r])return M(1,n,r,t[r],i[r],z)}for(r in t)if(!(r in i))return M(2,n,r,t[r],i[r],Z)}},M=function(e,t,i,r,n,o){var a={attrChange:e,currentTarget:t,attrName:i,prevValue:r,newValue:n};a[o]=e,s(a)},k=function(e){for(var t,i,r={},n=e.attributes,o=0,a=n.length;o<a;o++)"setAttribute"!==(i=(t=n[o]).name)&&(r[i]=t.value);return r})),w[Q]=function(e,t){if(i=e.toUpperCase(),We&&(We=!1,De?(T=function(e,t){function i(e,t){for(var i=0,r=e.length;i<r;t(e[i++]));}return new De(function(r){for(var n,o,a,s=0,u=r.length;s<u;s++)"childList"===(n=r[s]).type?(i(n.addedNodes,e),i(n.removedNodes,t)):(o=n.target,_e&&o[F]&&"style"!==n.attributeName&&((a=Ue.call(o,n.attributeName))!==n.oldValue&&o[F](n.attributeName,n.oldValue,a)))})}(n(x),n(K)),(D=function(e){return T.observe(e,{childList:!0,subtree:!0}),e})(w),xe&&(Be.attachShadow=function(){return D(xe.apply(this,arguments))})):(I=[],w[L]("DOMNodeInserted",u(x)),w[L]("DOMNodeRemoved",u(K))),w[L](V,l),w[L]("readystatechange",l),Be.cloneNode=function(e){var t=qe.call(this,!!e),i=o(t);return-1<i&&R(t,ie[i]),e&&re.length&&function(e){for(var t,i=0,r=e.length;i<r;i++)t=e[i],R(t,ie[o(t)])}(t.querySelectorAll(re)),t}),Ve)return Ve=!1;if(-2<oe.call(te,_+i)+oe.call(te,X+i)&&d(e),!$.test(i)||-1<oe.call(ee,i))throw new Error("The type "+e+" is invalid");var i,a,s=function(){return h?w.createElement(f,i):w.createElement(f)},c=t||ae,h=se.call(c,U),f=h?t[U].toUpperCase():i;return h&&-1<oe.call(te,X+f)&&d(f),a=te.push((h?_:X)+i)-1,re=re.concat(re.length?",":"",h?f+'[is="'+e.toLowerCase()+'"]':f),s.prototype=ie[a]=se.call(c,"prototype")?c.prototype:ke(Be),re.length&&r(w.querySelectorAll(re),x),s},w.createElement=Ge=function(e,t){var i=m(t),r=i?Je.call(w,e,Me(i)):Je.call(w,e),n=""+e,o=oe.call(te,(i?_:X)+(i||n).toUpperCase()),s=-1<o;return i&&(r.setAttribute("is",i=i.toLowerCase()),s&&(s=a(n.toUpperCase(),i))),_e=!w.createElement.innerHTMLHelper,s&&R(r,ie[o]),r}),p.prototype={constructor:p,define:ye?function(e,t,i){if(i)A(e,t,i);else{var r=e.toUpperCase();Ce[r]={constructor:t,create:[r]},Se.set(t,r),me.define(e,t)}}:A,get:ye?function(e){return me.get(e)||g(e)}:g,whenDefined:ye?function(e){return we.race([me.whenDefined(e),v(e)])}:v},!me||/^force/.test(t.type))E();else if(!t.noBuiltIn)try{!function(t,i,r){if(i[U]="a",(t.prototype=ke(HTMLAnchorElement.prototype)).constructor=t,e.customElements.define(r,t,i),Ue.call(w.createElement("a",{is:r}),"is")!==r||ye&&Ue.call(new t,"is")!==r)throw i}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){E()}if(!t.noBuiltIn)try{Je.call(w,"a","a")}catch(e){Me=function(e){return{is:e.toLowerCase()}}}}(window)},e7RC:function(e,t){e.exports="data:font/woff;base64,d09GRgABAAAAAAu8AAsAAAAAEOAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAARAAAAGA8QUzCY21hcAAAAYgAAACxAAACPClWH55nbHlmAAACPAAABzUAAAloxhXGamhlYWQAAAl0AAAALwAAADYgyzh9aGhlYQAACaQAAAAcAAAAJAfeA41obXR4AAAJwAAAAA8AAAAwMAAAAGxvY2EAAAnQAAAAGgAAABoQiA60bWF4cAAACewAAAAfAAAAIAEjAONuYW1lAAAKDAAAAUAAAAJnEKM8sHBvc3QAAAtMAAAAbQAAAJwZ7sqZeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGFhYJzAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHnum8/MTc8L+BgYH5DgOQZGBEUcQEAINZDYF4nOWRSw6CQBBEa+TjBxcuDPEQhOPJRTyBKxPCBWABl2FotlwAq6ddaPQG9uRN0pVM96QKQAIgIgWJAfeAg9adqgt6hEPQY1zZn3GiEvvCl36cKqmlkU6GeVlX4ENtpTf1qxynvJ8cl7DdcfIGGfftscMWqf7OpT8m/Fsdw317dZk6bWhmvjQ0Lz8amulUGfQUUhv6VhpDc5XWoOOQzqD3kN5gCpDBYB6YFwPJE/6/RgEAAAB4nH0WbWwU1/HNe3e7e7f3wd7H7u2aO3O7vl2bs+/wfewajD/4ONwEYhtsAhiHJES0SlWgNBhSA5JTfkVYalO1UqUKJSL9SEkqVSWtquAkppUqkaShREqqplIqVVXlorYiSP3HrTvvjlIURb3bN2/2zbx5M/PmY0mA4I8tM0JEEidrSTchoFWVvFL1gnnRQsQSKzlIxcAsQW0YNDMGqRxUK27Npm9vWb67sDwKD/n/Gr1I37t4vTxRLk8c4qCsOio+Zn8/IwvNBbqwMLPg1+A96x4dwYzq9Dpqf2MDV6GtxypdJSapEJeMoB62EId6rQRWHg9NK/zYfGUYhkDLwTDUlZrNUgISbURdJKnppFP3CqiuYNo1l32yxowfMjdZzd9Ym0yc6RDOh+Jmp6L4XXrzz3pXl07zetdvT55sekYB7HqhQM+HILxpwBw08fFpex7YFAYlp8D3lJyf0C1Lh79w6B8c+2RsQwF31Qtc/SAhqx8GCCuSTtJHNpExMolWVDpptaJ2UiWF5qCyZUBtR6DquSNUE2NgOdzJfP3zHI32ogcKFTXVsoleXKcGSldVUwDo1KW7CxkrwJGrpWhWkqL1YDqyzB5dlpOC960dc43G3CIHO0oTpdLELAeQ6CgU3EKBFbPi7FpVFJuXtS4UYYj0UY7M6hKFvU/LUWh+SNeHQ0cXGnMXTjUapy7MNfaWJg5O9pXGHxsvFbmv6jYhMtp8g73NPBIhOnHIAGmQPeQp8k3yC/IO+Qjtb5vTNo09aJRo2kOclIM4pAQP+bxhDCy01DIFUQj+n42fYU22Y2CYx0cO0qLrudWKpmoqBo0oWP1Vswy2o22o9acEMAVcVZHTrTu1Fl8n3ogj4FUgLwryarYVbOnmDgI/o4h7slxFi19Bew2CfTt7e3ce4KA3V83lqpsruVzlS0GJhsIioKiAyFjEVoOSFIwboQD8sPf+hr4c593Md80EJIpsaUGShFiHFBjzM45rFDOwklmvw/hQak0yFmY0FMlAJBPYV6f15p24riZgZY0aiEdE3TktAwvO7IpKwUg8oMV9LShlk8cFURSOi3Hx/SjHoqgF3O7duZ+fjgASqG81m0WQOysFWSAs0FBQDErdQTmYSEmyFIsIb30+//QDLM18uQv26eW1Rq8e68mHouE1obj//UxEEWnJUDFu4Y85xf9JPJ6Ij8prIslhBk+JAaD9jhBQIgOK/rIkbE0VpLCUDm8VpOOI4IO5hGP1RfYRO0JUkiXrSY0Mke1knOzjdcHBP167KKj8kvG2Pbdec/Km6OWA3c8gDAVW0ZggOkgPJjlv3naT+YonliBoOknX01BGgXF5eVVgPyvNznzt5F+ndpvWhl0Pf/nYPw8/4Q3s98935RePvPxGd2Oy0d0C341EllLChc3T+/27S9GUKPl/t9R1cK7FBxP3qRBoUUGzVOode/gLmrZj757jJ24dPNDXp23bcuTp048/Gb2jzPt/674nubsB58F/Y5396UM966/5V3UM38ff9V/lXC8A7LhHgEab0K6bqzfZCiuTDOklW8k29E8rO7QcTfGILoGLb3XXsUWblxVMJzTadvi6W+OuaiXhIHhujhfZGJTBoq8noqLsJCZPb9lyejLhqJHk4eOBjd5L8awTL1er5VhRDoliaHvzmtHX0dFnTN1SuvSOQuzWFL0RthMJOdz93KWfX3quOyx3dYmlK8e+Onvg2+GetVS2j379qB0LxAOqJg7+yL9tFI0lHFcizEg3v5I0AvKVe/1g9dfsTTaMVVUmCtEI8appbExgpa10PlmtV+v5ZB0bVH3bzWf8Jdj+zO9h2535d/yl+XnYvngdGrR+41Tz3etn4Ys3/KU5lCmgzEvsDptCiQYpkTrZjBFFgoBZXdGAl1hQ0ylRcx0XYwIrjodBI+LCcKsPtYJOTcawYo0A4ytxamFhyvLSNAiaynsT+87dH0cNM8pmooblf9yg4xpArRzvzk4c9jayvjHb2fLs7oSD+SMrsuokkrf1gjLxvmWUDHym/xGzO3bjZtOIoiDLoEcHp2PRR2obh47ZMmR7flWeeezE4amxjecbMz/4RrccSSTs5k6xYMnhMB14PdVB5aFnjV7jLUzJX8qBjuRLLV9ewxo98oAvueMsxr3YA2nuWIZeVaw3z0Dh8pkzl/0/0ZlX5udfAXN+xf/4LPzhtXPnXoOeJjkLNomivJ+y59keQglDr4okjHJjre+HLOlBv7qEJJUQVHF4ODQWAud++ebNHCtqSuUOq9fs/+IUO/2LtNy8Waal5gdP0Grzd5TSDc0PXtCLlaLeAnTRcV0H66PXfNX2PDtTNEAvGvTfTQ1OwlwbjjczcAJOX2y/Tej39uLsr7iP1Cnovbrj+oveLhdwd7WoE7SErC6zJ9koWtGJOWS12wQWe5d/aOQ/8w7OdDqXS3MAn95H2Whn+u5KurMzzTIc/g//D3HDy8cAAAB4nGNgZGBgAOI5bJ1a8fw2Xxm4WRhA4N7VX3YI+v98FgbmVCCXg4EJJAoALh4K8AB4nGNgZGBgbvjfwBDDwgACQJKRARXwAABHEgJ1eJxjYWBgYCEBAwAFEAAxAAAAAAAARACmASACTALgA0wDdgPyBBoEhAS0AAB4nGNgZGBg4GG4zsDLAAJMQMwFhAwM/8F8BgAfuAIHAHichZE9bsJAEIWfwZAElChKpDRpVikoEsn8lEipUKCnoAez5ke211ovSNQ5TY6QE+QI6Whzikh52EMDRbza2W/evpkdyQDusIeH8rvnLtnDJbOSK7jAo3CV+pOwT34WrqGJnnCd+qtwAy94E26yY8YOnn/FrIV3YQ+3+BCu4AafwlXqX8I++Vu4hgf8CNep/wo3MPGuhZtoeeHA6qnTczXbqVVo0sik7niO9WITT+2pPNE2X5lUdYPOURrpVNtjm3y76DkXqciaRA15q+PYqMyatQ5dsHQu67fbkehBaBIMYKExhWOcQ2GGHeMKIQxSREV0Z/mY7gU2iFlp/3VP6LbIqR9yhS4CdM5cI7rSwnk6TY4tX+tRdXQrbsuahDSUWs1JYrLiDzzcramE1AMsi6oMfbS5ohN/UMyQ/AHYk29XeJxti0sOgzAQQ8dQmAToYdIbBYmGQdWEKiBRTs932beyn2zK6KKi/zTIkOOBAiUYBhYVajR4Ei/iNQxiPvOZXuYWjm9jkvox9XGyqe80/ETdsYmjaOBBTmO/s9dDuLKN7/3Eq9dp70Qb9Y0jUwAAAA=="},eQun:function(e,t,i){"use strict";var r=i("maJs"),n=i("P1/4"),o=i("tSXQ"),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,l=r.shr64_lo,c=r.sum64,h=r.sum64_hi,d=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,A=r.sum64_5_hi,g=r.sum64_5_lo,m=n.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function E(e,t,i,r,n){var o=e&i^~e&n;return o<0&&(o+=4294967296),o}function w(e,t,i,r,n,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function b(e,t,i,r,n){var o=e&i^e&n^i&n;return o<0&&(o+=4294967296),o}function C(e,t,i,r,n,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function I(e,t){var i=a(e,t,28)^a(t,e,2)^a(t,e,7);return i<0&&(i+=4294967296),i}function S(e,t){var i=s(e,t,28)^s(t,e,2)^s(t,e,7);return i<0&&(i+=4294967296),i}function M(e,t){var i=a(e,t,14)^a(e,t,18)^a(t,e,9);return i<0&&(i+=4294967296),i}function k(e,t){var i=s(e,t,14)^s(e,t,18)^s(t,e,9);return i<0&&(i+=4294967296),i}function T(e,t){var i=a(e,t,1)^a(e,t,8)^u(e,t,7);return i<0&&(i+=4294967296),i}function D(e,t){var i=s(e,t,1)^s(e,t,8)^l(e,t,7);return i<0&&(i+=4294967296),i}function B(e,t){var i=a(e,t,19)^a(t,e,29)^u(e,t,6);return i<0&&(i+=4294967296),i}function R(e,t){var i=s(e,t,19)^s(t,e,29)^l(e,t,6);return i<0&&(i+=4294967296),i}r.inherits(v,m),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var i=this.W,r=0;r<32;r++)i[r]=e[t+r];for(;r<i.length;r+=2){var n=B(i[r-4],i[r-3]),o=R(i[r-4],i[r-3]),a=i[r-14],s=i[r-13],u=T(i[r-30],i[r-29]),l=D(i[r-30],i[r-29]),c=i[r-32],h=i[r-31];i[r]=f(n,o,a,s,u,l,c,h),i[r+1]=p(n,o,a,s,u,l,c,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,r=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],f=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],v=this.h[10],T=this.h[11],D=this.h[12],B=this.h[13],R=this.h[14],Q=this.h[15];o(this.k.length===i.length);for(var O=0;O<i.length;O+=2){var L=R,x=Q,q=M(m,y),K=k(m,y),U=E(m,y,v,T,D),F=w(m,y,v,T,D,B),j=this.k[O],N=this.k[O+1],J=i[O],G=i[O+1],Y=A(L,x,q,K,U,F,j,N,J,G),P=g(L,x,q,K,U,F,j,N,J,G);L=I(r,n),x=S(r,n),q=b(r,n,a,s,u),K=C(r,n,a,s,u,l);var z=h(L,x,q,K),Z=d(L,x,q,K);R=D,Q=B,D=v,B=T,v=m,T=y,m=h(f,p,Y,P),y=d(p,p,Y,P),f=u,p=l,u=a,l=s,a=r,s=n,r=h(Y,P,z,Z),n=d(Y,P,z,Z)}c(this.h,0,r,n),c(this.h,2,a,s),c(this.h,4,u,l),c(this.h,6,f,p),c(this.h,8,m,y),c(this.h,10,v,T),c(this.h,12,D,B),c(this.h,14,R,Q)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},evnR:function(e,t,i){(function(e){var r=i("EUFM");function n(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,i){for(;t._cache.length<i.length;)t._cache=e.concat([t._cache,n(t)]);var o=t._cache.slice(0,i.length);return t._cache=t._cache.slice(i.length),r(i,o)}}).call(t,i("NfRg").Buffer)},fCcy:function(e,t,i){var r;function n(e){this.rand=e}if(e.exports=function(e){return r||(r=new n(null)),r.generate(e)},e.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},n.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=i(6);if("function"!=typeof o.randomBytes)throw new Error("Not supported");n.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},fS0F:function(e,t,i){var r=i("DLTi").Buffer;function n(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,i=new Array(t),n=0;n<t;n++)i[n]=e.readUInt32BE(4*n);return i}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,i,r,n){for(var o,a,s,u,l=i[0],c=i[1],h=i[2],d=i[3],f=e[0]^t[0],p=e[1]^t[1],A=e[2]^t[2],g=e[3]^t[3],m=4,y=1;y<n;y++)o=l[f>>>24]^c[p>>>16&255]^h[A>>>8&255]^d[255&g]^t[m++],a=l[p>>>24]^c[A>>>16&255]^h[g>>>8&255]^d[255&f]^t[m++],s=l[A>>>24]^c[g>>>16&255]^h[f>>>8&255]^d[255&p]^t[m++],u=l[g>>>24]^c[f>>>16&255]^h[p>>>8&255]^d[255&A]^t[m++],f=o,p=a,A=s,g=u;return o=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[A>>>8&255]<<8|r[255&g])^t[m++],a=(r[p>>>24]<<24|r[A>>>16&255]<<16|r[g>>>8&255]<<8|r[255&f])^t[m++],s=(r[A>>>24]<<24|r[g>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[m++],u=(r[g>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&A])^t[m++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],r=[],n=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,i[a]=l,r[l]=a;var c=e[a],h=e[c],d=e[h],f=257*e[l]^16843008*l;n[0][a]=f<<24|f>>>8,n[1][a]=f<<16|f>>>16,n[2][a]=f<<8|f>>>24,n[3][a]=f,f=16843009*d^65537*h^257*c^16843008*a,o[0][l]=f<<24|f>>>8,o[1][l]=f<<16|f>>>16,o[2][l]=f<<8|f>>>24,o[3][l]=f,0===a?a=s=1:(a=c^e[e[e[d^c]]],s^=e[e[s]])}return{SBOX:i,INV_SBOX:r,SUB_MIX:n,INV_SUB_MIX:o}}();function l(e){this._key=n(e),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,r=4*(i+1),n=[],o=0;o<t;o++)n[o]=e[o];for(o=t;o<r;o++){var a=n[o-1];o%t==0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),n[o]=n[o-t]^a}for(var l=[],c=0;c<r;c++){var h=r-c,d=n[h-(c%4?0:4)];l[c]=c<4||h<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=i,this._keySchedule=n,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(e){return a(e=n(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},l.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=r.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},l.prototype.decryptBlock=function(e){var t=(e=n(e))[1];e[1]=e[3],e[3]=t;var i=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(i[0],0),o.writeUInt32BE(i[3],4),o.writeUInt32BE(i[2],8),o.writeUInt32BE(i[1],12),o},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=l},g38Z:function(e,t,i){(e.exports=i("BkJT")(void 0)).push([e.i,'.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABBIAAsAAAAAGoQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3RY21hcAAAAYQAAADQAAADIjn098ZnbHlmAAACVAAACv4AABEIAwnSw2hlYWQAAA1UAAAAKgAAADYUHzoRaGhlYQAADYAAAAAbAAAAJA4DByFobXR4AAANnAAAAA8AAACE4AAAAGxvY2EAAA2sAAAARAAAAEQ9NEHGbWF4cAAADfAAAAAfAAAAIAEyAIFuYW1lAAAOEAAAASUAAAIK1cf1oHBvc3QAAA84AAABDwAAAZ5AAl/0eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGQ7xTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGBHcRdyA4RZgQRAC4HCwEAAHic7dFprsIgAEXhg8U61XmeWcBb1FuQP4w7ZQXK5boMm3yclFDSANAHmuKviBBeBPQ8ymyo8w3jOh/5r2ui5nN6v8sYNJb3WMdeWRvLji0DhozKdxM6psyYs2DJijUbtuzYc+DIiTMXrty4k8oGLb+n0xCe37ekM7Z66j1DbUy3l6PpHnLfdLO5NdSBoQ4NdWSoY9ON54mhdqa/y1NDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUJORPqkhTd54nJ1YDXBU1RV+576/JBs2bPYPkrDZt5vsJrv53V/I5mclhGDCTwgGBQQSTEji4hCkYIAGd4TGIWFAhV0RQTpWmQp1xv6hA4OTOlNr2zFANbHUYbq2OtNCpViRqsk+e+7bTQAhzti8vPfuPffcc88959zznbcMMPjHD/KDDGEY0ABpYX384NhlomIYlo4JISGEY9mMh2FSidYiqkEUphtNYDSY/dXg9023l4DdxlqUl0chuZRhncJKrsCQHIwcGuwfnhMIzBnuH4Sym+1D2zaGjheXlhYfD238z80mKYMmvJ5XeOTzd8z9eujbMxJNhu4C9xPE/bCMiDuSNIWgkTQwBE55hLSAE7ZwhrHLnAHZOGV/kmBGTiNjZxzI77Hb7Hqjz68TjT6vh+5JT/cCIkqS0D6CqPf5jX4Qjdx5j6vlDfZM4aZFdbVXIxtOlJaP/WottMnH6CJQ3bTiue3PrY23HjnChtuamxwvvzFjxkPrNj3z0tG9T561HDYf6OgmRWvlY3JQHoQb8ltV2Yet7YfWctEjR1AtxS/cSX6U4alf6NJEBQ7YKg9wrXQKd0IeZCb2ux75Uhh1Un+Nz+9LTOE7PK777nN5xqdTneTBhCbx446mZrhnUkrCz2YhA9dSMxaG0SYmT8hi9ZPu1E94PJYQSH6LRmhxec7Q7ZeXntgQuVpbh+a4qWNsckVyTdn0P7o7DpgPW84+uRcq0BITflBikGdUjAZ9wYBVI3mtrNvr9kpg1UsaK6t3690aoorC1lg0GpMH2HAMtkZjsSi5Ig9ESVosOh7GQfLjKNLvKpMKkLSKNFAka710GdgSi8oDMSoNhqjkKBXTgn3swtaxyzGkUzIzae9RtLdWkSlZ1KDX6EzgllzV4NV4SoDFSOGD4+HCeQUF8wrZ5Hs8zIb5EaVxy8DYFTbMCJPnLIWZxugZE2NlivC0gc1qEQUR8jEKgZcAXeH18BiCgl5nlHh0CrjB4Hb5fX4gb0J7c9PuHVsfgkx2n/vTY/JV8kn8PGxf7faOZ8qX8JVByuIf4whk9sqXli2hvPJV9hrp0hY7l8r2x37ydaVsb4xvXv/47v2NjfCl8m5oRDJclFMoE1yk0Uh1Te4/m8lFXe9qBZD0EkheicebXvzI2PLCuoKCukLuhPIeKwaHPEouxw3kMqaIUXDQ1p0mip+MyCORSCQaoUsnY1VZ38nUTrG21WvVo4f1OsEJFhvSfAFwGfT8VHRMeAVUpwLOoLzjT/REIj3O3FhuURE+nERF+0pTId5Fyxv5sfwGyg4O+my4vZv0sZm7oeQlFZORiB+tG0MweVNraeitl7yxiPIHTk4/diVxs94o5lEYishB2iAtkchEnsActoEpx44Fo8XnsQMaA22BlqC20RmhBKzYojZyYaxg+JggMc4HHY2m+L9EkWSYljirOisrO7d3VorxzyZ6Vc4lJqITAu1b2wOBdrLElAP+bFc2eGaZFVbkmJktv5uT6Jlz5D/MnBFor6ig/JPnRViBsV3LNKGGqB1ChJ0tgQywlVLFJIuQgTFttwkiKxhyQdAZMdMYtSaoAewqfvXVYPAbDT6/1mez85YS8FSDywQ6NfAnef6FNEGMilnppyvn5rB6tTyq1pOceRWnp2WJEZFXHeX5oyoem1nTTgdqc4heDY7bOeKz63vnz+/dRx+s31Ht2JGanQ5seirfWJL9tjozU/12TnEjn5oux9OzU3ckGbBzBwNOyk69JykKH0n/0LM9A72tuwM3zQpIRu4AxiToseEpgPOmbROyFe9/X2yeUvoUsCyEvjcgs7fpWP3/aKlFN0+6HFUe6D9HFz/XPwBlN9tTqNyZjFJ8UO2RUT5/h4CptCctEyeisnOyXjALEp7dXKaQKf6O7IMnGjNNACRMLxqdYJX8eMLvmmd68D+ayBLyKKYZwYxDt/GNhzETDJ05Qxlyi3pi3/Z93ndYVSumgj0V/KkIFlO6+1K3fF2+3g0q+YtuSIf0bvmLqV09nnobI6hwcjIP8aPCKayjsF5JBY3LaKAeRLSyYB1h81oTwe9SlPMkXB7G0mfL9q71gaqqwPqu67QRKS1+ObTx+sbQy9QV2OQHEScGkdFBeT7v7qisqqrs6N52i78/R+6S0qQONVj26agOVoswCyQWIV5D86vH53bxNUeXV0K+XZaHv/nm/KsHhOvylwsWnJX/HE8l/4WCv5x+l5n08z6UU8bUMa3MBpSmM7F63AxntdC9eBCKEZW9Hr+ABNqtxgAQrSbMtmrW7lKQuoSgBhSrTazWVU2QAKWY8wiiuhqFmQgWJBgoXiuWIm42N7hqZbBsgXz52O5P5uSvaNgFGnOuvsRw8I8Laha91wMvDuxqWFheN7/8GVtTltdS83DQsXRmqc5ZtcJXEVrlV2doTWk5+Yunm71dG5f55m/qY0MjI93vv9/NfpxXV9sUXrxy2fbNy1or65cOlDRnOoKFeeXcbw42H/bNDT5Qs3flgs31gWC1lD1nfUV/X7NdCnSUdHY2e8afzfKsqZ5ZljfDqjLOmk3UebNXB+aHArPYDRs+/HDDxeT5DiP+sFg7OpRaVQMGBV89PpeBdj22hCE0Uub0UqwLrNWsG0cuyadgLXTeR5rbO4+3c/vl15cur2nRq+TXCQDcS3SO+s6ak+e5/eMS+1dw3btu3YG2tvFL8XdIZvdjdW6TO/4B7IdrZWVPmctm5/59AgsPItTSbCiIBr2OqIGzmu20SMKAS7yqwGBUfGfgjDYlLLDeF0SfcLB2LSx8flT+08/kzz6yOj96rft4rpTjdPQcmLd47uKibbDq7ZSz/XtbH2nN717Nd62rU+c8Icevvv7I09wA6WvjVcafb+FsbNG+ZQ80Rn6ZZsvrP7teP2dzTdoETvNhjCmsr8FID2sJ69VYvdUcxk4AzYRlKcaE38eXNRlfW9H1as9i6acLHp1XpuNB5K7DIvkX08y1ZYvh3KfWaiCzH+ztrSDmD7LuX73x/mJelB8Yj39t8nhNQJJ2CAthpoFGLsGgtSOCJooCGoaJAMTjSWHVZ08YAa1Fg9lPI5U6DOsGVjDasJeZZ+YyhfCwfOzCxlBA69M9XLXtza7H/rav+9Tjq5xNi0wpKQIRNO4Lrzz7yp5QVYM6Jd/oc1Uvn/mQhhuWh6ENXoS2YTZ8QT42bF5d/559zp5r0Uff2VnR2tdf2/WCOd2cO0Mw6qpWPnvxpV0nrt5fZd2yItc199GWe8vlNfNDq+CH/7yAAnB9hn7T4QO4c1g9ScxsZgmzntnE/IDGndtHMw69lFwoCnYsMGx+rBp8JSBqdLzBr9QRPq/PbhWMWFtQZp1xguy/haw3TEHm3TWAnxFWQQWgt7M5OV0lCz1VRYucpWliy7z6Zd4urwPIyeZQqli2Lgg7szJV09PysATbOQtYIrB2YzbkJYkGgJ0m4AjPUap1pvYu1K9qr97z0Yl3p332b2LYB78ncYIlRkau/8GObSsOlZancACE5d5ily+c2+7h5Yj4lqhVmXXB+iXLfvdqSgqfKtQvfHDV0OnvQR1qhw42XS/vkvsh/hXcrDFP0a+SJNIomEfD1nsrYGO+1bgTOJhM8Hv6ek+7vVglxuSRwoKn17S937bm6YJCeSSG0Op1n+7tE37tcZ/p7dsTv4EUrGpDbWueKigsLHhqTVsoEj+JU0kaSjnj9tz8/gryQWwJ9BcJXBC/7smO+I/IFURJetFPrdt5WcoL6DbEJaygI8CTHfQTjf40ofD+DwalTqIAAHicY2BkYGAA4uByr8R4fpuvDNzsDCBw7f/3LmSanREszsHABKIAKi0J7gAAeJxjYGRgYGcAARD5/z87IwMjAypQBAAtgwI4AHicY2BgYGAfYAwAOkQA4QAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhHicY2BkYGBQZChlYGcAASYg5gJCBob/YD4DABfTAbQAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2PyXLCMBBE3YCNDWEL2ffk7o8S8oCnkCVHC5C/jzBQlUP6IHVPzYyekl5y0iL5X5/ooY8BUmQYIkeBEca4wgRTzDDHAtdY4ga3uMM9HvCIJzzjBa94wzs+8ImvZNAq8TM+HqVkKxWlrQiOxjujQkNlEzyNzl6Z/cU2XF06at7U83VQyklLpEvSnuzsb+HAPnPfQVgaupa1Jlu4sPLsFblcitaz0dHU0ZF1qatjZ1+aTXYCmp6u0gSvWNPyHLtFZ+ZeXWVSaEkqs3T8S74WklbGbNNNq4LL4+CWKtZDv2cfX8l8aFbKFhEnJnJ+IULFpqwoQnNHlHaVQtPBl+ypmbSWdmyC61KS/AKZC3Y+AA==) format("woff");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\F101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\F102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\F103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\F104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\F105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\F106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\F107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\F108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\F109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\F10A"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\F10B"}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\F10C"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\F10D"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\F10E"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\F10F"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\F110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before{content:"\\F111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\F112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\F113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\F114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\F115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\F116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\F117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\F118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\F119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\F11A"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\F11B"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\F11C"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\F11D"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\F11E"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\F11F"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\F120"}.video-js{overflow:hidden;display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:normal}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-4-3,.video-js.vjs-16-9,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill,.video-js .vjs-tech{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{display:none}.video-js .easy-big-play-button,.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.5em;width:3em;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.video-js .easy-big-play-button{display:block}.vjs-big-play-centered .easy-big-play-button,.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.75em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),hsla(0,0%,100%,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.easy-icon-placeholder,.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.333333333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:hsla(0,0%,100%,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel .vjs-volume-control:hover,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel:hover .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:9em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3.5em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:100% 100%;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}.vjs-poster-animation{animation-name:magic;animation-duration:2s;animation-fill-mode:forwards}@keyframes magic{0%{opacity:1;z-index:1}to{opacity:0;z-index:-1}}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-no-flex .vjs-current-time,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control .vjs-icon-placeholder{cursor:pointer;flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{-webkit-transform:translateY(-3em);transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{-webkit-transform:translateY(-1.5em);transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:0s linear .3s forwards vjs-spinner-show;animation:0s linear .3s forwards vjs-spinner-show}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes vjs-spinner-spin{to{-webkit-transform:rotate(1turn)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\F10D";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\F11D";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer{flex:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto}.vjs-text-track-settings .vjs-track-settings-colors{display:block;grid-column:1;grid-row:1}.vjs-text-track-settings .vjs-track-settings-font{grid-column:2;grid-row:1}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:2;grid-row:2}}.vjs-track-setting>select{margin-right:5px}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;visibility:hidden}',""])},g8jk:function(e,t,i){var r=i("T1Xl"),n=i("pmUU"),o=i("4P1X"),a=i("Upxq"),s=i("gHHA");function u(e,t,i){if(e=e.toLowerCase(),o[e])return n.createCipheriv(e,t,i);if(a[e])return new r({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function l(e,t,i){if(e=e.toLowerCase(),o[e])return n.createDecipheriv(e,t,i);if(a[e])return new r({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var i,r;if(e=e.toLowerCase(),o[e])i=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");i=8*a[e].key,r=a[e].iv}var n=s(t,!1,i,r);return u(e,n.key,n.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var i,r;if(e=e.toLowerCase(),o[e])i=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");i=8*a[e].key,r=a[e].iv}var n=s(t,!1,i,r);return l(e,n.key,n.iv)},t.createDecipheriv=t.Decipheriv=l,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(n.getCiphers())}},gCvn:function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},gHHA:function(e,t,i){var r=i("DLTi").Buffer,n=i("DnPA");e.exports=function(e,t,i,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=i/8,s=r.alloc(a),u=r.alloc(o||0),l=r.alloc(0);a>0||o>0;){var c=new n;c.update(l),c.update(e),t&&c.update(t),l=c.digest();var h=0;if(a>0){var d=s.length-a;h=Math.min(a,l.length),l.copy(s,d,0,h),a-=h}if(h<l.length&&o>0){var f=u.length-o,p=Math.min(o,l.length-h);l.copy(u,f,h,h+p),o-=p}}return l.fill(0),{key:s,iv:u}}},h8TZ:function(e,t,i){"use strict";var r=i("DzCi").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.apply(this,r)}}}(o||n);var a=i.readable||!1!==i.readable&&t.readable,s=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){s=!1,l=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,h=!0,s||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},A=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?A():t.on("request",A)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",c),!1!==i.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},hBSA:function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=i(r(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===n(e,-1);return(e=i(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=r(e.split("/")),o=r(i.split("/")),a=Math.min(n.length,o.length),s=a,u=0;u<a;u++)if(n[u]!==o[u]){s=u;break}var l=[];for(u=s;u<n.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,n=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!n){r=o;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,r=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){i=t+1;break}}else-1===r&&(n=!1,r=t+1);return-1===r?"":e.slice(i,r)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,r=-1,n=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(n=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!n){i=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===i+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(t,i("V0EG"))},iFzV:function(e,t,i){(function(t){var r=i("u/Wk"),n=new(i("xXUF")),o=new r(24),a=new r(11),s=new r(10),u=new r(3),l=new r(7),c=i("YHfo"),h=i("kyRq");function d(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._pub=new r(e),this}function f(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._priv=new r(e),this}e.exports=A;var p={};function A(e,t,i){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=d,this.setPrivateKey=f):this._primeCode=8}function g(e,i){var r=new t(e.toArray());return i?r.toString(i):r}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var i=t.toString("hex"),r=[i,e.toString(16)].join("_");if(r in p)return p[r];var h,d=0;if(e.isEven()||!c.simpleSieve||!c.fermatTest(e)||!n.test(e))return d+=1,d+="02"===i||"05"===i?8:4,p[r]=d,d;switch(n.test(e.shrn(1))||(d+=2),i){case"02":e.mod(o).cmp(a)&&(d+=8);break;case"05":(h=e.mod(s)).cmp(u)&&h.cmp(l)&&(d+=8);break;default:d+=4}return p[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new r(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(e){var i=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new t(i.toArray()),o=this.getPrime();if(n.length<o.length){var a=new t(o.length-n.length);a.fill(0),n=t.concat([a,n])}return n},A.prototype.getPublicKey=function(e){return g(this._pub,e)},A.prototype.getPrivateKey=function(e){return g(this._priv,e)},A.prototype.getPrime=function(e){return g(this.__prime,e)},A.prototype.getGenerator=function(e){return g(this._gen,e)},A.prototype.setGenerator=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.__gen=e,this._gen=new r(e),this}}).call(t,i("NfRg").Buffer)},iXrg:function(e,t,i){"use strict";const r=t;r.Reporter=i("WXsb").Reporter,r.DecoderBuffer=i("cKvS").DecoderBuffer,r.EncoderBuffer=i("cKvS").EncoderBuffer,r.Node=i("6BOp")},jBRl:function(e,t,i){var r=i("DLTi").Buffer;function n(e,t,i){var n=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([i?t:n])]),n}t.encrypt=function(e,t,i){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=n(e,t[s],i);return a}},jgf2:function(e,t,i){"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",i=0;i<e.length;i++)t+=n(e[i].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var n=e.charCodeAt(r),o=n>>8,a=255&n;o?i.push(o,a):i.push(a)}return i},r.zero2=n,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},jkwA:function(e,t,i){(e.exports=i("BkJT")(void 0)).push([e.i,"@font-face{font-family:iconfont;src:url("+i("zLEk")+') format("woff2"),url('+i("e7RC")+') format("woff"),url('+i("nj8S")+') format("truetype")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-xiangji:before{content:"\\E62E"}.icon-luxiang2:before{content:"\\E777"}.icon-xiangji1:before{content:"\\E6E5"}.icon-luxiang:before{content:"\\E62C"}.icon-snapshot:before{content:"\\E9F2"}.icon-shengyin1:before{content:"\\E8C0"}.icon-xiaoping:before{content:"\\E8BF"}.icon-jingyin:before{content:"\\E8BB"}.icon-quanping1:before{content:"\\E8BA"}.icon-bofang:before{content:"\\E8AD"}.icon-zanting:before{content:"\\E8AB"}',""])},jxY5:function(e,t){e.exports={logoGif:"showVideo/loading.gif",loading:"showVideo/loading.gif"}},kFjB:function(e,t,i){"use strict";var r=i("mwrz"),n=i("DnPA"),o=i("DJz8"),a=i("96zr"),s=i("onRW");function u(e){s.call(this,"digest"),this._hash=e}r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},kGlO:function(e,t,i){var r=i("NHQf");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0};i("uOJK")(r,n);r.locals&&(e.exports=r.locals)},kyRq:function(e,t,i){"use strict";(function(t,r){var n=65536,o=4294967295;var a=i("DLTi").Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var i=a.allocUnsafe(e);if(e>0)if(e>n)for(var u=0;u<e;u+=n)s.getRandomValues(i.slice(u,u+n));else s.getRandomValues(i);if("function"==typeof t)return r.nextTick(function(){t(null,i)});return i}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(t,i("mFPK"),i("V0EG"))},lULs:function(e,t,i){"use strict";var r=i("maJs"),n=i("P1/4"),o=i("UOWd"),a=r.rotl32,s=r.sum32,u=r.sum32_5,l=o.ft_1,c=n.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,c),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=a(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var n=this.h[0],o=this.h[1],c=this.h[2],d=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),A=u(a(n,5),l(p,o,c,d),f,i[r],h[p]);f=d,d=c,c=a(o,30),o=n,n=A}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],f)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},mFPK:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},maJs:function(e,t,i){"use strict";var r=i("tSXQ"),n=i("mwrz");function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=n,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)i.push(parseInt(e[n]+e[n+1],16))}else for(var r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?i[r++]=a:a<2048?(i[r++]=a>>6|192,i[r++]=63&a|128):o(e,n)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),i[r++]=a>>18|240,i[r++]=a>>12&63|128,i[r++]=a>>6&63|128,i[r++]=63&a|128):(i[r++]=a>>12|224,i[r++]=a>>6&63|128,i[r++]=63&a|128)}else for(n=0;n<e.length;n++)i[n]=0|e[n];return i},t.toHex=function(e){for(var t="",i=0;i<e.length;i++)t+=s(e[i].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var i="",r=0;r<e.length;r++){var n=e[r];"little"===t&&(n=a(n)),i+=u(n.toString(16))}return i},t.zero2=s,t.zero8=u,t.join32=function(e,t,i,n){var o=i-t;r(o%4==0);for(var a=new Array(o/4),s=0,u=t;s<a.length;s++,u+=4){var l;l="big"===n?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[s]=l>>>0}return a},t.split32=function(e,t){for(var i=new Array(4*e.length),r=0,n=0;r<e.length;r++,n+=4){var o=e[r];"big"===t?(i[n]=o>>>24,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=255&o):(i[n+3]=o>>>24,i[n+2]=o>>>16&255,i[n+1]=o>>>8&255,i[n]=255&o)}return i},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,i){return e+t+i>>>0},t.sum32_4=function(e,t,i,r){return e+t+i+r>>>0},t.sum32_5=function(e,t,i,r,n){return e+t+i+r+n>>>0},t.sum64=function(e,t,i,r){var n=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+i+n;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,i,r){return(t+r>>>0<t?1:0)+e+i>>>0},t.sum64_lo=function(e,t,i,r){return t+r>>>0},t.sum64_4_hi=function(e,t,i,r,n,o,a,s){var u=0,l=t;return u+=(l=l+r>>>0)<t?1:0,u+=(l=l+o>>>0)<o?1:0,e+i+n+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,i,r,n,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,i,r,n,o,a,s,u,l){var c=0,h=t;return c+=(h=h+r>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+s>>>0)<s?1:0,e+i+n+a+u+(c+=(h=h+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,i,r,n,o,a,s,u,l){return t+r+o+s+l>>>0},t.rotr64_hi=function(e,t,i){return(t<<32-i|e>>>i)>>>0},t.rotr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0},t.shr64_hi=function(e,t,i){return e>>>i},t.shr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0}},mfgY:function(e,t){e.exports={Play:"播放",Pause:"暂停","Current Time":"当前时间",Duration:"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完成",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏","Picture-in-Picture":"画中画","Exit Picture-in-Picture":"退出画中画",Mute:"静音",Unmute:"取消静音","Playback Rate":"播放速度",Subtitles:"字幕","subtitles off":"关闭字幕",Captions:"内嵌字幕","captions off":"关闭内嵌字幕",Chapters:"节目段落","Close Modal Dialog":"关闭弹窗",Descriptions:"描述","descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"视频因格式不支持或者服务器或网络的问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:"关闭","Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:"重新播放","Progress Bar":"进度条","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:"文字",White:"白",Black:"黑",Red:"红",Green:"绿",Blue:"蓝",Yellow:"黄",Magenta:"紫红",Cyan:"青",Background:"背景",Window:"窗口",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:"无",Raised:"浮雕",Depressed:"压低",Uniform:"均匀",Dropshadow:"下阴影","Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:"舒适",Script:"手写体","Small Caps":"小型大写字体",Reset:"重置","restore all settings to the default values":"恢复全部设定至预设值",Done:"完成","Caption Settings Dialog":"字幕设定窗口","Beginning of dialog window. Escape will cancel and close the window.":"打开对话窗口。Escape键将取消并关闭对话窗口","End of dialog window.":"结束对话窗口","Seek to live, currently behind live":"尝试直播，当前为延时播放","Seek to live, currently playing live":"尝试直播，当前为实时播放","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":"正在加载 {1}。"}},mwrz:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},n1Xs:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},n4Nz:function(e,t,i){"use strict";var r=i("UXd7"),n=i("u/Wk"),o=i("mwrz"),a=i("qW1i"),s=r.assert;function u(e){a.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,i,r){a.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,i,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(i,16),this.z=new n(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new n(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?i=o[0]:(i=o[1],s(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map(function(e){return{a:new n(e.a,16),b:new n(e.b,16)}}):this._getEndoBasis(i)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),i=new n(2).toRed(t).redInvm(),r=i.redNeg(),o=new n(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,i,r,o,a,s,u,l,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new n(1),A=new n(0),g=new n(0),m=new n(1),y=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),c=g.sub(v.mul(p));var E=m.sub(v.mul(A));if(!r&&l.cmp(h)<0)t=u.neg(),i=p,r=l.neg(),o=c;else if(r&&2==++y)break;u=l,f=d,d=l,g=p,p=c,m=A,A=E}a=l.neg(),s=c;var w=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=i),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],n=r.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=n.mul(i.a),s=o.mul(r.a),u=n.mul(i.b),l=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:u.add(l).neg()}},u.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(n).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,n[2*o]=a.k1,n[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,n,2*o,i),c=0;c<2*o;c++)r[c]=null,n[c]=null;return l},o(l,a.BasePoint),u.prototype.point=function(e,t,i){return new l(this,e,t,i)},u.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,i){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],i);if(!t[2])return r;function n(t){return e.point(t[0],t[1],i)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(n))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)},l.prototype.jmulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,a.BasePoint),u.prototype.jpoint=function(e,t,i){return new c(this,e,t,i)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),n=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),s=r.redSub(n),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),h=r.redMul(l),d=u.redSqr().redIAdd(c).redISub(h).redISub(h),f=u.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,f,p)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(r),s=n.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=i.redMul(u),h=s.redSqr().redIAdd(l).redISub(c).redISub(c),d=s.redMul(c.redISub(h)).redISub(n.redMul(l)),f=this.z.redMul(a);return this.curve.jpoint(h,d,f)},c.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var r=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var c=o.redSqr(),h=l.redSqr(),d=h.redSqr(),f=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(u)),p=o.redMul(h),A=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(A),m=f.redMul(g);m=m.redIAdd(m).redISub(d);var y=l.redMul(s);t+1<e&&(u=u.redMul(d)),o=A,s=y,l=m}return this.curve.jpoint(o,l.redMul(n),s)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(a.redISub(u)).redISub(l),i=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(c).redISub(d);f=f.redIAdd(f);var p=c.redAdd(c).redIAdd(c),A=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=A.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},c.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(u)).redISub(l),i=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(c).redMul(this.x.redAdd(c));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),A=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(A),i=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,n=r.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(c),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=s.redMul(h).redISub(d),p=i.redAdd(i).redMul(r);return this.curve.jpoint(c,f,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=n.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(s).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(a).redSqr().redISub(i).redISub(s);return this.curve.jpoint(h,d,f)},c.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),n=i.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(r)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),0===this.x.cmp(i))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},nLML:function(e,t,i){var r=i("mwrz"),n=i("pZ5O"),o=i("QYQw"),a=i("DLTi").Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,n),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,i,r){e.writeInt32BE(t,r),e.writeInt32BE(i,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},nX6w:function(e,t,i){"use strict";var r=i("u/Wk"),n=i("UXd7"),o=n.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(e,t){var i=e[t.place++];if(!(128&i))return i;var r=15&i;if(0===r||r>4)return!1;for(var n=0,o=0,a=t.place;o<r;o++,a++)n<<=8,n|=e[a],n>>>=0;return!(n<=127)&&(t.place=a,n)}function u(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=n.toArray(e,t);var i=new function(){this.place=0};if(48!==e[i.place++])return!1;var o=s(e,i);if(!1===o)return!1;if(o+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var a=s(e,i);if(!1===a)return!1;var u=e.slice(i.place,a+i.place);if(i.place+=a,2!==e[i.place++])return!1;var l=s(e,i);if(!1===l)return!1;if(e.length!==l+i.place)return!1;var c=e.slice(i.place,l+i.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new r(u),this.s=new r(c),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=u(t),i=u(i);!(i[0]||128&i[1]);)i=i.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,i.length);var o=r.concat(i),a=[48];return l(a,o.length),a=a.concat(o),n.encode(a,e)}},nj8S:function(e,t){e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzI8QUzCAAABjAAAAGBjbWFwKVYfngAAAhwAAAI8Z2x5ZsYVxmoAAAR0AAAJaGhlYWQgyzh9AAAA4AAAADZoaGVhB94DjQAAALwAAAAkaG10eDAAAAAAAAHsAAAAMGxvY2EQiA60AAAEWAAAABptYXhwASMA4wAAARgAAAAgbmFtZRCjPLAAAA3cAAACZ3Bvc3QZ7sqZAAAQRAAAAJwAAQAAA4D/gABcBAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAAAwAAQAAAAEAAJwGiSpfDzz1AAsEAAAAAADe1fo+AAAAAN7V+j4AAP+fBAADZQAAAAgAAgAAAAAAAAABAAAADADXAA0AAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAQEAAGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOYs6fIDgP+AAAAD3ACAAAAAAQAAAAAAAAAAAAAAAAACBAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAABQAAAAMAAAAsAAAABAAAAagAAQAAAAAAogADAAEAAAAsAAMACgAAAagABAB2AAAAFAAQAAMABOYs5i7m5ed36Kvorei76MDp8v//AADmLOYu5uXnd+ir6K3ouui/6fL//wAAAAAAAAAAAAAAAAAAAAAAAAABABQAFAAUABQAFAAUABQAFgAYAAAABAABAAMAAgALAAoACQAIAAcABgAFAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAACUAAAAAAAAAAsAAOYsAADmLAAAAAQAAOYuAADmLgAAAAEAAOblAADm5QAAAAMAAOd3AADndwAAAAIAAOirAADoqwAAAAsAAOitAADorQAAAAoAAOi6AADougAAAAkAAOi7AADouwAAAAgAAOi/AADovwAAAAcAAOjAAADowAAAAAYAAOnyAADp8gAAAAUAAAAAAEQApgEgAkwC4ANMA3YD8gQaBIQEtAAAAAQAAAAAA8ADAAAHAA8AHAAoAAABFzMRIREzNwUhByMRIREjBzIeARQOASIuATQ+ARciDgEUHgEzMjY0JgK/QcD8gMBAAUn+7kCdAsydyS9PLy9PXk8vL08vFicWFicWIjExAwCA/YACgIBagP40AcwjL09eTy8vT15PL1oWJywnFjFFMAAAAAAEAAAAAAP/Av8AIgAyADYAPwAAASYGDwE1NC4BIyEiDgEVERQeATMhMj4BPQEXHgE+ATURNCYDFAYjISImNRE0NjMhMhYVEyc1NyUyHgEGIiY0NgPeECIPXiI6I/3DIzoiIjojAj0jOiJeDyIfERH+JBn93xkkJBkCIRkkxnR0/TcaJQEmNSUlAoMJAQo6OCI7IiI7Iv4CIjsiIjsiODoKAREeEQGYER7+EhkjIxkB4hkjIxn+W0feRzAlNSUlNSUAAAAABQAA/9UEAAMrAB8ALQA6AEcAUAAAATIfAjMyFh8CERQGDwEhIiYvARE0Nj8BMzc2PwIXBw4BIycRIREjIiYvAQcyHgEUDgEiLgE0PgEXIg4BFB4BMj4BNC4BJTIWFAYiJjQ2Ap0gFgQuuxYiBgEBHxkI/IAYIwQBHxkIuy4NHQgIDTUFFQzAA1bACxMGN5BGdUVFdYx1RUV1Ri5PLi5PXE8uLk8BEhslJTYlJQMrHQdcHBYHB/2qFyQEAR8aBwJWFyQEAVwZCAIBVWkLDQH91QIqCgltgEV1i3ZFRXaLdUVVLk9bUC0uTl1OLismNSUlNSYAAAsAAP/PA78DNwAMABkAJwA4AEUAUgBjAI8AtQDKANYAAAEiLgE0PgEyHgEUDgEDIg4BFB4BMj4BNC4BByImPQE0PgEeAQ8BFAY3Ii4BNz4BMzIWFAYjIgYHBgUiLgE0PgEyHgEUDgEDIg4BFB4BMj4BNC4BByIuATc+ATMyFhQGIyIGBwYTISImNRE0PgEzITIeARUHNjc2MzIXFhcWFREUBwYjMTMiLwEmJxcwNDEUBgEiBhURFBYzITI2NSc0NjMyFxYfARE0JwYHDgEHBiMiJjU3NCYjBSImPQE0NjsBMhYUBisBIgYdARQGNyMiJjQ2OwEyFhQGAQUtSywsS1lLLCxLLB4zHh4zPDIeHjJnBQgCCQoHAQEHBgQHAwMMJhYFCAgFDxoJBAGlLEssLEtZSywsSy0eMh4eMjwzHh4zWgQIAgMMJhUGCAgGDhsIBEf+GCc2GisYAegYKhkBTj0UEBMOCgMCCQwYAQwYBFc1AjX98g8ZFhIB6BAWBA8MBxkndwsBAwVaTA0IBQwPBBcP/hcFCB0TbwYHBwZvBw8Hzg0GBwcGDQUICAHwLEtYSywsS1hLLAESHjM8Mx0dMzwzHnwIBQMECgYCCQUHBQgoBQsFEhQICwgODAa+LEtYSywsS1hLLAESHjM8Mx0dMzwzHlQFCwUSFAgLCA4MBv0hLyQBVxkvHBosGQ4pIQkNChAJD/6bGAwRBwIuGhYBJTIB2R4R/qkPDxIPQAsQDBM+AwFjBwQBAjEnBgQRDDgRGaMIBkIUJQgKCBUKQgYIbwgKCAgKCAAAAAgAAP+fA9YDZQAWAB0AKgA0AD0ARABOAFcAAAEmJyYnJgYHBgcGFhcWFxY2NzY3NjU0JyEiBzceAQMUDgEiLgE0PgEyHgEDMhcDBgcnNjc2BRMWFxYXISY2EyEyNwcuAQUiJxM2NxcGBwYlAyYnJichFgYDsC5cWnJ05FNRIiMwTEpqbu1iYDc4WP6DJCGMZaO6KEVQRSgoRVBFKJUMDLwUBos8VFj+/LwNFAcI/ukjFiABfSQhjGWjAU8MDLwUBos8VFgBBLwNFAcIARcjFgI3bkpIFxdGVVJvcepbWS0tF0NBZWl3X2EN8hF6/uYoRSgoRVBFKChFAYMB/rogJvFJKSrB/rsZFAcGX8v+qw3yEXqRAQFGICbxSSkqwQFFGRQHBl/LAAAABAAA/9ED6AMvABgALABCAEMAAAEuATc+ARceAhQOAQcGLgE2Nz4BNTYnJgcmND4BFx4BFAYHBiYnLgE2NzY0ASIuAT0BND4BOwE3Nh4BFREUDgEvASMCtBINBwsnElB3QUF3UBInFgwTYm8EOTegDx0nDy8zMy8OKwsJBwcJRP3BGi0bGy0aU+oRJBkbJQ7qUwLPCiYSEgsKKIGisqKBKAoLJCQHLrNucFxZkgopHAILJm15bSYOBA8EFhcHO6b+8BorGrwaKxqzDAMaFf1sExoEC7MAAAAABAAA/8IDvQM+AAUACwARABcAADczFTMRIQEjFSMVIRMzNTM1IRM1IxEhNUPRc/68AURz0AFD8nrK/rx6egFEjMkBRQI1z3b9y8l8AWbP/rx1AAAABgAA/6ID8gNTAAsAGgAuADUAPABOAAAFASY0NjIXARYUBiIBFhUUBxc2JzYmJyYOARQ3FhcWBxQHFz4BNTQuAScmBgcGFhMOAR4BPwEDNTQuAQ8CIyIOAR0BFB4BOwEXFj4BPQEDlPynDRoiDQNaDRoj/tpFAk4XAQE0Lw8oHU9iNzkDLUcmJ0F4URInCwgOCxELFicSE/AZJRFPziMaLhoaLhpU7A4mG1EDWg0iGg38pw0jGgJtO1QODU00OT1uJgsBHSm4L1pdcWJTRzmDRVqkgigLDBISJv1LByUjCwoKAji0FBsCCz14GiwavhosGbYLBBsToAAEAAD/wQO/Az8ABQALABEAFwAANyMRITUjAzM1MzUpARUzFTMRAyMVIREjvXsBJap7e6r+2wJaqHp6qAEieuj+2nwB16x9fawBKf0AfAEmAA0AAP+tA4kDUgACAAMABgAHAAoACwAOAA8AHAAdACkANQA2AAATEQkBMxEJATcRCQEXAwkBJxQeATI+ATQuASIOARUBIgYUFhcWPgE1NCYBIgYUFhcWPgIuASOfAi/90S8CLv3SYAIz/c0CAgIw/dKRGSsyKxkZKzIrGQKMJzY2JxorGDf9qyY3NyYYKxoBGSsaAvX9FwF0AXX9FwF0AXVO/RgBcQF3nf0XAXQBdU8ZKxkZKzIrGRkrGf7oNk01AgEZLBknNv6MN0w2AQEZKzMrGQAAAgAA/8ADYQNAAA8AHwAAASMiBhURFBY7ATI2NRE0JiEjIgYVERQWOwEyNjURNCYBJ1QVHh4VVBUeHgHxVBUeHhVUFR4eA0AfFfzoFR8fFQMYFR8fFfzoFR8fFQMYFR8AAAASAN4AAQAAAAAAAAATAAAAAQAAAAAAAQAIABMAAQAAAAAAAgAHABsAAQAAAAAAAwAIACIAAQAAAAAABAAIACoAAQAAAAAABQALADIAAQAAAAAABgAIAD0AAQAAAAAACgArAEUAAQAAAAAACwATAHAAAwABBAkAAAAmAIMAAwABBAkAAQAQAKkAAwABBAkAAgAOALkAAwABBAkAAwAQAMcAAwABBAkABAAQANcAAwABBAkABQAWAOcAAwABBAkABgAQAP0AAwABBAkACgBWAQ0AAwABBAkACwAmAWNDcmVhdGVkIGJ5IGljb25mb250aWNvbmZvbnRSZWd1bGFyaWNvbmZvbnRpY29uZm9udFZlcnNpb24gMS4waWNvbmZvbnRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBDAHIAZQBhAHQAZQBkACAAYgB5ACAAaQBjAG8AbgBmAG8AbgB0AGkAYwBvAG4AZgBvAG4AdABSAGUAZwB1AGwAYQByAGkAYwBvAG4AZgBvAG4AdABpAGMAbwBuAGYAbwBuAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwAGkAYwBvAG4AZgBvAG4AdABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQAHeGlhbmdqaQhsdXhpYW5nMgh4aWFuZ2ppMQdsdXhpYW5nCHNuYXBzaG90CXNoZW5neWluMQh4aWFvcGluZwdqaW5neWluCXF1YW5waW5nMQZib2ZhbmcHemFudGluZwAA"},nkM1:function(e,t,i){var r=i("mwrz"),n=i("sdPl"),o=i("QYQw"),a=i("DLTi").Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,n),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},oCEa:function(e,t,i){"use strict";var r=i("u/Wk"),n=i("mwrz"),o=i("qW1i"),a=i("UXd7");function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,i){o.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},n(u,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),n=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,n)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(i),a=n.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var o=n.length-1;o>=0;o--)0===n[o]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},onRW:function(e,t,i){var r=i("DLTi").Buffer,n=i("GMoo").Transform,o=i("boXJ").StringDecoder;function a(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i("mwrz")(a,n),a.prototype.update=function(e,t,i){"string"==typeof e&&(e=r.from(e,t));var n=this._update(e);return this.hashMode?this:(i&&(n=this._toString(n,i)),n)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,i){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{i(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return i&&(r+=this._decoder.end()),r},e.exports=a},pLtV:function(e,t,i){var r=i("DLTi").Buffer;e.exports=function(e,t,i){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}},pOqu:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var r=i("mfgY"),n=i.n(r),o=i("DHvs"),a={methods:{initVideoJs:function(){videojs.addLanguage("zh-CN",n.a)},setPlayerEventListener:function(e){var t=this;null===e||this.isStreamH265||(e.on("loadstart",function(){return t.easyPlayerLoadstart()}),e.on("progress",function(e){return t.easyPlayerProgress(e)}),e.on("loadedmetadata",function(){return t.easyPlayerLoadedmetadata()}),e.on("canplaythrough",function(){return t.easyPlayerCanplaythrough()}),e.on("waiting",function(){return t.easyPlayerWaiting()}),e.on("play",function(e){return t.easyPlayerPlay(e)}),e.on("playing",function(){return t.easyPlayerPlaying()}),e.on("pause",function(e){return t.easyPlayerPause(e)}),e.on("ended",function(){return t.easyPlayerEnded()}),e.on("error",function(){return t.easyPlayerError()}),e.on("seeking",function(){return t.easyPlayerSeeking()}),e.on("seeked",function(){return t.easyPlayerSeeked()}),e.on("ratechange",function(){return t.easyPlayerRatechange()}),e.on("timeupdate",function(){return t.easyPlayerTimeupdate()}),e.on("volumechange",function(e){return t.easyPlayerVolumechange(e)}),e.on("stalled",function(){return t.easyPlayerStalled()}),e.on("fullscreenchange",function(){return t.easyPlayerFullScreenChange()}),this.setFlvPlayerListener(e))},setFlvPlayerListener:function(e){var t=this;e.tech_&&e.tech_.flvPlayer&&(e.tech_.flvPlayer._emitter.on("encoded_265",function(){t.isStreamH265=!0,t.loading=!1}),e.tech_.flvPlayer._emitter.on("source_ended",function(){t.easyPlayerEnded()}),e.tech_.flvPlayer._emitter.on("changeFullScreen",function(e){e?t.fullscreen():t.exitFullscreen()}))},easyPlayerLoadstart:function(){this.pause=!1,this.loading=!0,o.a(this,this.debug,"视频开始加载")},easyPlayerPlay:function(e){o.a(this,this.debug,"视频开始播放"),this.$emit("play",e)},easyPlayerWaiting:function(){o.a(this,this.debug,"等待数据"),this.startWaitingTime=(new Date).getTime()},easyPlayerCanplaythrough:function(){this.isFirstPaused&&(this.isFirstPaused=!1),this.loading&&(this.loading=!1),o.a(this,this.debug,"视频源数据加载完成");var e=this.$el.querySelector(".vjs-poster");e&&(this.$el.querySelector(".vjs-poster").classList=e.getAttribute("class")+" vjs-poster-animation")},easyPlayerLoadedmetadata:function(){o.a(this,this.debug,"获取资源长度完成","加载时长"+((new Date).getTime()-this.startWaitingTime)/1e3+"s")},easyPlayerPlaying:function(){this._playerPlaying=!0,this.isCacheCleanUp=!1,this.restartSnapshot=null,o.a(this,this.debug,"视频播放中")},easyPlayerProgress:function(){this.videoUrl.includes(".flv")&&this.setFLVListener()},easyPlayerPause:function(e){o.a(this,this.debug,"暂停事件"),this.pause=!0,this.$emit("pause",e)},easyPlayerFullScreenChange:function(){o.a(this,this.debug,"视频全屏状态")},easyPlayerEnded:function(){this.reconnection?this.initPlayer():this.$emit("ended"),o.a(this,this.debug,"视频播放结束")},easyPlayerError:function(){this.loading=!1,this.reconnection?this.initPlayer():this.$emit("error"),o.a(this,this.debug,"加载错误")},easyPlayerSeeking:function(){o.a(this,this.debug,"视频跳转中")},easyPlayerSeeked:function(){o.a(this,this.debug,"视频跳转结束")},easyPlayerRatechange:function(){o.a(this,this.debug,"播放速率改变")},easyPlayerTimeupdate:function(){if(!this.isStreamH265){this.loading&&(this.loading=!1);var e=this.easyPlayer.buffered().end(0)-this.easyPlayer.currentTime();if(this.videoUrl.includes(".flv")&&this.live){if(e<2)return this.easyPlayer.playbackRate(1);if(e<10)return this.easyPlayer.playbackRate(1.25);if(e<30)return this.easyPlayer.playbackRate(1.5);if(e<120)return this.easyPlayer.playbackRate(2);this.initPlayer()}this.$emit("timeupdate",this.easyPlayer.currentTime())}},easyPlayerVolumechange:function(e){o.a(this,this.debug,"音量改变"),this.playerMuted=this.easyPlayer.muted()},easyPlayerStalled:function(){o.a(this,this.debug,"网速异常")},loadDefinitionStreams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.videoUrl.includes(".m3u8")&&this.resolution){var i=[];this.resolution.split(",").forEach(function(t){var r="";r="yh"===t?e.videoUrl:e.videoUrl.replace(".m3u8","_"+t+".m3u8"),i.push({src:r,res:t,type:"application/x-mpegURL",label:e.resolutionDict[t]})}),t.updateSrc(i),this.$nextTick(function(){e.$el.querySelector(".vjs-resolution-button-label").style="position:absolute;left:10px;top:9px;"})}}}}},pZ5O:function(e,t,i){var r=i("mwrz"),n=i("QYQw"),o=i("DLTi").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,n.call(this,128,112)}function l(e,t,i){return i^e&(t^i)}function c(e,t,i){return e&t|i&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function A(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(u,n),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,i=0|this._ah,r=0|this._bh,n=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,y=0|this._gh,v=0|this._hh,E=0|this._al,w=0|this._bl,b=0|this._cl,C=0|this._dl,I=0|this._el,S=0|this._fl,M=0|this._gl,k=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var D=t[T-30],B=t[T-30+1],R=f(D,B),Q=p(B,D),O=A(D=t[T-4],B=t[T-4+1]),L=g(B,D),x=t[T-14],q=t[T-14+1],K=t[T-32],U=t[T-32+1],F=Q+q|0,j=R+x+m(F,Q)|0;j=(j=j+O+m(F=F+L|0,L)|0)+K+m(F=F+U|0,U)|0,t[T]=j,t[T+1]=F}for(var N=0;N<160;N+=2){j=t[N],F=t[N+1];var J=c(i,r,n),G=c(E,w,b),Y=h(i,E),P=h(E,i),z=d(s,I),Z=d(I,s),W=a[N],V=a[N+1],H=l(s,u,y),X=l(I,S,M),_=k+Z|0,$=v+z+m(_,k)|0;$=($=($=$+H+m(_=_+X|0,X)|0)+W+m(_=_+V|0,V)|0)+j+m(_=_+F|0,F)|0;var ee=P+G|0,te=Y+J+m(ee,P)|0;v=y,k=M,y=u,M=S,u=s,S=I,s=o+$+m(I=C+_|0,C)|0,o=n,C=b,n=r,b=w,r=i,w=E,i=$+te+m(E=_+ee|0,_)|0}this._al=this._al+E|0,this._bl=this._bl+w|0,this._cl=this._cl+b|0,this._dl=this._dl+C|0,this._el=this._el+I|0,this._fl=this._fl+S|0,this._gl=this._gl+M|0,this._hl=this._hl+k|0,this._ah=this._ah+i+m(this._al,E)|0,this._bh=this._bh+r+m(this._bl,w)|0,this._ch=this._ch+n+m(this._cl,b)|0,this._dh=this._dh+o+m(this._dl,C)|0,this._eh=this._eh+s+m(this._el,I)|0,this._fh=this._fh+u+m(this._fl,S)|0,this._gh=this._gh+y+m(this._gl,M)|0,this._hh=this._hh+v+m(this._hl,k)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,i,r){e.writeInt32BE(t,r),e.writeInt32BE(i,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},pb7G:function(e,t,i){e.exports=i("LcQ3").Transform},pmUU:function(e,t,i){var r=i("qWK6"),n=i("z7O9"),o=i("gCvn");t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},qHGM:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r={methods:{initH265Player:function(e){var t=this;12===e&&(-1!==this.videoUrl.indexOf(".m3u8")&&this.destroyPlayer(),this.$nextTick(function(){-1===t.videoUrl.indexOf(".m3u8")&&t.destroyPlayer(),t.initVideoEle();var e=t.$el.querySelector("video");e.parentNode.appendChild(t.easyPlayerLoadingEle),t.easyPlayer=new flvjs.createPlayer({url:t.videoUrl,hasAudio:t.hasAudio,recordMaxFileSize:t.recordMaxFileSize},{decodeType:flvjs.isSupported()?"auto":"sort"}),t.easyPlayer.attachMediaElement(e),t.easyPlayer.load(),t.easyPlayer.play(),setTimeout(function(){return t.loading=!1},3500),t.easyPlayer._emitter.on("source_ended",function(){t.easyPlayerEnded()}),t.easyPlayer._emitter.on("timeupdate",function(e){t.$emit("timeupdate",e)}),t.easyPlayer._emitter.on("changeFullScreen",function(e){e?t.fullscreen():t.exitFullscreen()})}))},recordDownload:function(){if(0!==this._recordArrayBuffer.length&&0!==this._recordArrayBuffer.byteLength){var e=this._recordArrayBuffer.slice(0,this._recordOffset),t=document.createElement("a");t.style.display="none",t.href=URL.createObjectURL(new Blob([e],{type:"video/mp4"})),t.download=this._recordFileName,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(t.href),document.body.removeChild(t),this._recordOffset=0,this._recordArrayBuffer=[],this._cacheArrayBuffer=[]}},_recordingUIChange:function(){this._recording=!this._recording,this.luXiangEle.title=this._recording?"关闭录像":"录像",this.luXiangEle.style.color=this._recording?"red":"white",this._recording&&(this._recordFileName=this.dateFormat(new Date,"YYYYMMDDhhmmss")+".mp4"),this.videoUrl.includes(".flv")&&this.easyPlayer.tech_.flvPlayer.startWebVideoRecord(this._recording?1:0,this._recordFileName,104857600)},wasmFrame2Image:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./channel_1.raw";return new Promise(function(i,r){var n=void 0;if(""===t)return i("");fetch(t,{method:"get",responseType:"arraybuffer",keepalive:!1,headers:{timeout:10}}).then(function(e){return e.arrayBuffer()}).then(function(t){n=parseInt(t.byteLength||"0"),t=new Uint8Array(t);var r=window.easyPlayerWasmModule,o=window.easyPlayerWasmKits,a=r._malloc(n);i(e.binaryToImageBase64(t,n,r,o,a))}).catch(function(e){console.log("i 帧 加载失败",e),i("")})})},binaryToImageBase64:function(e,t,i,r,n){r.applyMemory(),i.HEAP8.set(e,n);var o=void 0,a=void 0,s=void 0;try{o=r.convertFrame2Image(0,n,t,r.yuvData,0),i._free(n),r.freeMemory(),a=i.HEAPU8.subarray(r.yuvData,r.yuvData+o);var u="",l=void 0;for(l=0;l<a.length/8192;l++)u+=String.fromCharCode.apply(null,a.slice(8192*l,8192*(l+1)));u+=String.fromCharCode.apply(null,a.slice(8192*l)),s=btoa(u)}catch(e){return""}return"data:image/jpeg;base64,"+s}}}},qI9I:function(e,t,i){"use strict";var r=i("z2li"),n=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=h;var o=Object.create(i("rcOv"));o.inherits=i("mwrz");var a=i("TDlb"),s=i("y7x+");o.inherits(h,a);for(var u=n(s.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},qW1i:function(e,t,i){"use strict";var r=i("u/Wk"),n=i("UXd7"),o=n.getNAF,a=n.getJSF,s=n.assert;function u(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var i=e._getDoubles(),r=o(t,1,this._bitLength),n=(1<<i.step+1)-(i.step%2==0?2:1);n/=3;var a,u,l=[];for(a=0;a<r.length;a+=i.step){u=0;for(var c=a+i.step-1;c>=a;c--)u=(u<<1)+r[c];l.push(u)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=n;f>0;f--){for(a=0;a<l.length;a++)(u=l[a])===f?d=d.mixedAdd(i.points[a]):u===-f&&(d=d.mixedAdd(i.points[a].neg()));h=h.add(d)}return h.toP()},u.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var n=r.points,a=o(t,i,this._bitLength),u=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var c=0;l>=0&&0===a[l];l--)c++;if(l>=0&&c++,u=u.dblp(c),l<0)break;var h=a[l];s(0!==h),u="affine"===e.type?h>0?u.mixedAdd(n[h-1>>1]):u.mixedAdd(n[-h-1>>1].neg()):h>0?u.add(n[h-1>>1]):u.add(n[-h-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,i,r,n){var s,u,l,c=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(s=0;s<r;s++){var p=(l=t[s])._getNAFPoints(e);c[s]=p.wnd,h[s]=p.points}for(s=r-1;s>=1;s-=2){var A=s-1,g=s;if(1===c[A]&&1===c[g]){var m=[t[A],null,null,t[g]];0===t[A].y.cmp(t[g].y)?(m[1]=t[A].add(t[g]),m[2]=t[A].toJ().mixedAdd(t[g].neg())):0===t[A].y.cmp(t[g].y.redNeg())?(m[1]=t[A].toJ().mixedAdd(t[g]),m[2]=t[A].add(t[g].neg())):(m[1]=t[A].toJ().mixedAdd(t[g]),m[2]=t[A].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=a(i[A],i[g]);for(f=Math.max(v[0].length,f),d[A]=new Array(f),d[g]=new Array(f),u=0;u<f;u++){var E=0|v[0][u],w=0|v[1][u];d[A][u]=y[3*(E+1)+(w+1)],d[g][u]=0,h[A]=m}}else d[A]=o(i[A],c[A],this._bitLength),d[g]=o(i[g],c[g],this._bitLength),f=Math.max(d[A].length,f),f=Math.max(d[g].length,f)}var b=this.jpoint(null,null,null),C=this._wnafT4;for(s=f;s>=0;s--){for(var I=0;s>=0;){var S=!0;for(u=0;u<r;u++)C[u]=0|d[u][s],0!==C[u]&&(S=!1);if(!S)break;I++,s--}if(s>=0&&I++,b=b.dblp(I),s<0)break;for(u=0;u<r;u++){var M=C[u];0!==M&&(M>0?l=h[u][M-1>>1]:M<0&&(l=h[u][-M-1>>1].neg()),b="affine"===l.type?b.mixedAdd(l):b.add(l))}}for(s=0;s<r;s++)h[s]=null;return n?b:b.toP()},u.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*i)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)r=r.dbl();i.push(r)}return{step:e,points:i}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),n=1;n<i;n++)t[n]=t[n-1].add(r);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},qWK6:function(e,t,i){var r=i("4P1X"),n=i("s+YV"),o=i("DLTi").Buffer,a=i("GL8g"),s=i("onRW"),u=i("fS0F"),l=i("gHHA");function c(e,t,i){s.call(this),this._cache=new d,this._cipher=new u.AES(t),this._prev=o.from(i),this._mode=e,this._autopadding=!0}i("mwrz")(c,s),c.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get();)i=this._mode.encrypt(this,t),r.push(i);return o.concat(r)};var h=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function f(e,t,i){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof i&&(i=o.from(i)),"GCM"!==s.mode&&i.length!==s.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===s.type?new a(s.module,t,i):"auth"===s.type?new n(s.module,t,i):new c(s.module,t,i)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return o.concat([this.cache,t])},t.createCipheriv=f,t.createCipher=function(e,t){var i=r[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=l(t,!1,i.key,i.iv);return f(e,n.key,n.iv)}},"qve+":function(e,t,i){"use strict";var r=t;r.version=i("y76T").version,r.utils=i("UXd7"),r.rand=i("fCcy"),r.curve=i("OJ8B"),r.curves=i("+wZ5"),r.ec=i("BvRH"),r.eddsa=i("7tYQ")},rcOv:function(e,t,i){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i("NfRg").Buffer.isBuffer},rdaQ:function(e,t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={Player:null,VideoElement:null,BitBuffer:null,Source:{},Demuxer:{},Decoder:{},Renderer:{},AudioOutput:{},Now:function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},CreateVideoElements:function(){for(var e=document.querySelectorAll(".eplayer"),t=0;t<e.length;t++)new r.VideoElement(e[t])},Fill:function(e,t){if(e.fill)e.fill(t);else for(var i=0;i<e.length;i++)e[i]=t}};"complete"===document.readyState?r.CreateVideoElements():document.addEventListener("DOMContentLoaded",r.CreateVideoElements),r.VideoElement=function(){"use strict";var e=function e(t){var i=t.dataset.url;if(!i)throw"VideoElement has no `data-url` attribute";var n=function(e,t){for(var i in t)e.style[i]=t[i]};this.container=t,n(this.container,{display:"inline-block",position:"relative",minWidth:"80px",minHeight:"80px"}),this.canvas=document.createElement("canvas"),this.canvas.width=960,this.canvas.height=540,n(this.canvas,{display:"block",width:"100%"}),this.container.appendChild(this.canvas),this.playButton=document.createElement("div"),this.playButton.innerHTML=e.PLAY_BUTTON,n(this.playButton,{zIndex:2,position:"absolute",top:"0",bottom:"0",left:"0",right:"0",maxWidth:"75px",maxHeight:"75px",margin:"auto",opacity:"0.7",cursor:"pointer"}),this.container.appendChild(this.playButton);var o={canvas:this.canvas};for(var a in t.dataset)try{o[a]=JSON.parse(t.dataset[a])}catch(e){o[a]=t.dataset[a]}if(this.player=new r.Player(i,o),t.playerInstance=this.player,!o.poster||o.autoplay||this.player.options.streaming||(o.decodeFirstFrame=!1,this.poster=new Image,this.poster.src=o.poster,this.poster.addEventListener("load",this.posterLoaded),n(this.poster,{display:"block",zIndex:1,position:"absolute",top:0,left:0,bottom:0,right:0}),this.container.appendChild(this.poster)),this.player.options.streaming||this.container.addEventListener("click",this.onClick.bind(this)),(o.autoplay||this.player.options.streaming)&&(this.playButton.style.display="none"),this.player.audioOut&&!this.player.audioOut.unlocked){var s=this.container;(o.autoplay||this.player.options.streaming)&&(this.unmuteButton=document.createElement("div"),this.unmuteButton.innerHTML=e.UNMUTE_BUTTON,n(this.unmuteButton,{zIndex:2,position:"absolute",bottom:"10px",right:"20px",width:"75px",height:"75px",margin:"auto",opacity:"0.7",cursor:"pointer"}),this.container.appendChild(this.unmuteButton),s=this.unmuteButton),this.unlockAudioBound=this.onUnlockAudio.bind(this,s),s.addEventListener("touchstart",this.unlockAudioBound,!1),s.addEventListener("click",this.unlockAudioBound,!0)}};return e.prototype.onUnlockAudio=function(e,t){this.unmuteButton&&(t.preventDefault(),t.stopPropagation()),this.player.audioOut.unlock(function(){this.unmuteButton&&(this.unmuteButton.style.display="none"),e.removeEventListener("touchstart",this.unlockAudioBound),e.removeEventListener("click",this.unlockAudioBound)}.bind(this))},e.prototype.onClick=function(e){this.player.isPlaying?(this.player.pause(),this.playButton.style.display="block"):(this.player.play(),this.playButton.style.display="none",this.poster&&(this.poster.style.display="none"))},e.PLAY_BUTTON='<svg style="max-width: 75px; max-height: 75px;" viewBox="0 0 200 200" alt="Play video"><circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#fff"/><polygon points="70, 55 70, 145 145, 100" fill="#fff"/></svg>',e.UNMUTE_BUTTON='<svg style="max-width: 75px; max-height: 75px;" viewBox="0 0 75 75"><polygon class="audio-speaker" stroke="none" fill="#fff" points="39,13 22,28 6,28 6,47 21,47 39,62 39,13"/><g stroke="#fff" stroke-width="5"><path d="M 49,50 69,26"/><path d="M 69,50 49,26"/></g></svg>',e}(),r.Player=function(){"use strict";var e=function(e,t){this.options=t||{},t.source?(this.source=new t.source(e,t),t.streaming=!!this.source.streaming):e.match(/^wss?:\/\//)?(this.source=new r.Source.WebSocket(e,t),t.streaming=!0):!1!==t.progressive?(this.source=new r.Source.AjaxProgressive(e,t),t.streaming=!1):(this.source=new r.Source.Ajax(e,t),t.streaming=!1),this.maxAudioLag=t.maxAudioLag||.25,this.loop=!1!==t.loop,this.autoplay=!!t.autoplay||t.streaming,this.demuxer=new r.Demuxer.TS(t),this.source.connect(this.demuxer),!1!==t.video&&(this.video=new r.Decoder.MPEG1Video(t),this.renderer=!t.disableGl&&r.Renderer.WebGL.IsSupported()?new r.Renderer.WebGL(t):new r.Renderer.Canvas2D(t),this.demuxer.connect(r.Demuxer.TS.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),!1!==t.audio&&r.AudioOutput.WebAudio.IsSupported()&&(this.audio=new r.Decoder.MP2Audio(t),this.audioOut=new r.AudioOutput.WebAudio(t),this.demuxer.connect(r.Demuxer.TS.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this.unpauseOnShow=!1,!1!==t.pauseWhenHidden&&document.addEventListener("visibilitychange",this.showHide.bind(this)),this.source.start(),this.autoplay&&this.play()};return e.prototype.showHide=function(e){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},e.prototype.play=function(e){this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0},e.prototype.pause=function(e){cancelAnimationFrame(this.animationId),this.wantsToPlay=!1,this.isPlaying=!1,this.audio&&this.audio.canPlay&&(this.audioOut.stop(),this.seek(this.currentTime))},e.prototype.getVolume=function(){return this.audioOut?this.audioOut.volume:0},e.prototype.setVolume=function(e){this.audioOut&&(this.audioOut.volume=e)},e.prototype.stop=function(e){this.pause(),this.seek(0),this.video&&!1!==this.options.decodeFirstFrame&&this.video.decode()},e.prototype.destroy=function(){this.pause(),this.source.destroy(),this.renderer.destroy(),this.audioOut.destroy()},e.prototype.seek=function(e){var t=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(e+t),this.audio&&this.audio.seek(e+t),this.startTime=r.Now()-e},e.prototype.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},e.prototype.setCurrentTime=function(e){this.seek(e)},e.prototype.update=function(){this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=r.Now()-this.currentTime),this.options.streaming?this.updateForStreaming():this.updateForStaticFile()):this.renderer&&this.renderer.renderProgress(this.source.progress)},e.prototype.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){var e=!1;do{this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),e=this.audio.decode()}while(e);this.audioOut.enabled=!0}},e.prototype.updateForStaticFile=function(){var e=!1,t=0;if(this.audio&&this.audio.canPlay){for(;!e&&this.audio.decodedTime-this.audio.currentTime<.25;)e=!this.audio.decode();this.video&&this.video.currentTime<this.audio.currentTime&&(e=!this.video.decode()),t=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var i=r.Now()-this.startTime+this.video.startTime,n=i-this.video.currentTime,o=1/this.video.frameRate;this.video&&n>0&&(n>2*o&&(this.startTime+=n),e=!this.video.decode()),t=this.demuxer.currentTime-i}this.source.resume(t),e&&this.source.completed&&(this.loop?this.seek(0):this.pause())},e}(),r.BitBuffer=function(){"use strict";var e=function e(t,r){"object"==(void 0===t?"undefined":i(t))?(this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(t||1048576),this.byteLength=0),this.mode=r||e.MODE.EXPAND,this.index=0};return e.prototype.resize=function(e){var t=new Uint8Array(e);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,e),t.set(this.bytes,0,this.byteLength)),this.bytes=t,this.index=Math.min(this.index,this.byteLength<<3)},e.prototype.evict=function(e){var t=this.index>>3,i=this.bytes.length-this.byteLength;if(this.index===this.byteLength<<3||e>i+t)return this.byteLength=0,void(this.index=0);0!==t&&(this.bytes.copyWithin?this.bytes.copyWithin(0,t,this.byteLength):this.bytes.set(this.bytes.subarray(t,this.byteLength)),this.byteLength=this.byteLength-t,this.index-=t<<3)},e.prototype.write=function(t){var r="object"==i(t[0]),n=0,o=this.bytes.length-this.byteLength;if(r){n=0;for(var a=0;a<t.length;a++)n+=t[a].byteLength}else n=t.byteLength;if(n>o)if(this.mode===e.MODE.EXPAND){var s=Math.max(2*this.bytes.length,n-o);this.resize(s)}else this.evict(n);if(r)for(a=0;a<t.length;a++)this.appendSingleBuffer(t[a]);else this.appendSingleBuffer(t)},e.prototype.appendSingleBuffer=function(e){e=e instanceof Uint8Array?e:new Uint8Array(e),this.bytes.set(e,this.byteLength),this.byteLength+=e.length},e.prototype.findNextStartCode=function(){for(var e=this.index+7>>3;e<this.byteLength;e++)if(0==this.bytes[e]&&0==this.bytes[e+1]&&1==this.bytes[e+2])return this.index=e+4<<3,this.bytes[e+3];return this.index=this.byteLength<<3,-1},e.prototype.findStartCode=function(e){for(var t=0;;)if((t=this.findNextStartCode())===e||-1===t)return t;return-1},e.prototype.nextBytesAreStartCode=function(){var e=this.index+7>>3;return e>=this.byteLength||0==this.bytes[e]&&0==this.bytes[e+1]&&1==this.bytes[e+2]},e.prototype.peek=function(e){for(var t=this.index,i=0;e;){var r=this.bytes[t>>3],n=8-(7&t),o=n<e?n:e,a=n-o;i=i<<o|(r&255>>8-o<<a)>>a,t+=o,e-=o}return i},e.prototype.read=function(e){var t=this.peek(e);return this.index+=e,t},e.prototype.skip=function(e){return this.index+=e},e.prototype.rewind=function(e){this.index=Math.max(this.index-e,0)},e.prototype.has=function(e){return(this.byteLength<<3)-this.index>=e},e.MODE={EVICT:1,EXPAND:2},e}(),r.Source.Ajax=function(){"use strict";var e=function(e,t){this.url=e,this.destination=null,this.request=null,this.completed=!1,this.established=!1,this.progress=0};return e.prototype.connect=function(e){this.destination=e},e.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200===this.request.status&&this.onLoad(this.request.response)}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send()},e.prototype.resume=function(e){},e.prototype.destroy=function(){this.request.abort()},e.prototype.onProgress=function(e){this.progress=e.loaded/e.total},e.prototype.onLoad=function(e){this.established=!0,this.completed=!0,this.progress=1,this.destination&&this.destination.write(e)},e}(),r.Source.AjaxProgressive=function(){"use strict";var e=function(e,t){this.url=e,this.destination=null,this.request=null,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=t.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=!1!==t.throttled,this.aborted=!1};return e.prototype.connect=function(e){this.destination=e},e.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&(this.fileSize=parseInt(this.request.getResponseHeader("Content-Length")),this.loadNextChunk())}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send()},e.prototype.resume=function(e){!this.isLoading&&this.throttled&&8*this.loadTime+2>e&&this.loadNextChunk()},e.prototype.destroy=function(){this.request.abort(),this.aborted=!0},e.prototype.loadNextChunk=function(){var e=this.loadedSize,t=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);e>=this.fileSize||this.aborted?this.completed=!0:(this.isLoading=!0,this.loadStartTime=r.Now(),this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&this.request.status>=200&&this.request.status<300?this.onChunkLoad(this.request.response):this.request.readyState===this.request.DONE&&this.loadFails++<3&&this.loadNextChunk()}.bind(this),0===e&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+e+"-"+t),this.request.setRequestHeader("Range","bytes="+e+"-"+t),this.request.responseType="arraybuffer",this.request.send())},e.prototype.onProgress=function(e){this.progress=e.loaded/e.total},e.prototype.onChunkLoad=function(e){this.established=!0,this.progress=1,this.loadedSize+=e.byteLength,this.loadFails=0,this.isLoading=!1,this.destination&&this.destination.write(e),this.loadTime=r.Now()-this.loadStartTime,this.throttled||this.loadNextChunk()},e}(),r.Source.WebSocket=function(){"use strict";var e=function(e,t){this.url=e,this.options=t,this.socket=null,this.callbacks={connect:[],data:[]},this.destination=null,this.reconnectInterval=void 0!==t.reconnectInterval?t.reconnectInterval:5,this.shouldAttemptReconnect=!!this.reconnectInterval,this.completed=!1,this.established=!1,this.progress=0,this.reconnectTimeoutId=0};return e.prototype.connect=function(e){this.destination=e},e.prototype.destroy=function(){clearTimeout(this.reconnectTimeoutId),this.shouldAttemptReconnect=!1,this.socket.close()},e.prototype.start=function(){this.shouldAttemptReconnect=!!this.reconnectInterval,this.progress=0,this.established=!1,this.socket=new WebSocket(this.url,this.options.protocols||null),this.socket.binaryType="arraybuffer",this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onClose.bind(this),this.socket.onclose=this.onClose.bind(this)},e.prototype.resume=function(e){},e.prototype.onOpen=function(){this.progress=1,this.established=!0},e.prototype.onClose=function(){this.shouldAttemptReconnect&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=setTimeout(function(){this.start()}.bind(this),1e3*this.reconnectInterval))},e.prototype.onMessage=function(e){this.destination&&this.destination.write(e.data)},e}(),r.Demuxer.TS=function(){"use strict";var e=function(e){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0};return e.prototype.connect=function(e,t){this.pesPacketInfo[e]={destination:t,currentLength:0,totalLength:0,pts:0,buffers:[]}},e.prototype.write=function(e){if(this.leftoverBytes){var t=e.byteLength+this.leftoverBytes.byteLength;this.bits=new r.BitBuffer(t),this.bits.write([this.leftoverBytes,e])}else this.bits=new r.BitBuffer(e);for(;this.bits.has(1504)&&this.parsePacket(););var i=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=i>0?this.bits.bytes.subarray(this.bits.index>>3):null},e.prototype.parsePacket=function(){if(71!==this.bits.read(8)&&!this.resync())return!1;var e=187+(this.bits.index>>3),t=(this.bits.read(1),this.bits.read(1)),i=(this.bits.read(1),this.bits.read(13)),r=(this.bits.read(2),this.bits.read(2)),n=(this.bits.read(4),this.pidsToStreamIds[i]);t&&n&&((A=this.pesPacketInfo[n])&&A.currentLength&&this.packetComplete(A));if(1&r){if(2&r){var o=this.bits.read(8);this.bits.skip(o<<3)}if(t&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),n=this.bits.read(8),this.pidsToStreamIds[i]=n;var a=this.bits.read(16);this.bits.skip(8);var s=this.bits.read(2);this.bits.skip(6);var u=this.bits.read(8),l=this.bits.index+(u<<3);if(A=this.pesPacketInfo[n]){var c=0;if(2&s){this.bits.skip(4);var h=this.bits.read(3);this.bits.skip(1);var d=this.bits.read(15);this.bits.skip(1);var f=this.bits.read(15);this.bits.skip(1),c=(1073741824*h+32768*d+f)/9e4,this.currentTime=c,-1===this.startTime&&(this.startTime=c)}var p=a?a-u-3:0;this.packetStart(A,c,p)}this.bits.index=l}var A;if(n)if(A=this.pesPacketInfo[n]){var g=this.bits.index>>3,m=this.packetAddData(A,g,e),y=!t&&2&r;(m||this.guessVideoFrameEnd&&y)&&this.packetComplete(A)}}return this.bits.index=e<<3,!0},e.prototype.resync=function(){if(!this.bits.has(9024))return!1;for(var e=this.bits.index>>3,t=0;t<187;t++)if(71===this.bits.bytes[e+t]){for(var i=!0,r=1;r<5;r++)if(71!==this.bits.bytes[e+t+188*r]){i=!1;break}if(i)return this.bits.index=e+t+1<<3,!0}return console.warn("EPlayer: Possible garbage data. Skipping."),this.bits.skip(1496),!1},e.prototype.packetStart=function(e,t,i){e.totalLength=i,e.currentLength=0,e.pts=t},e.prototype.packetAddData=function(e,t,i){return e.buffers.push(this.bits.bytes.subarray(t,i)),e.currentLength+=i-t,0!==e.totalLength&&e.currentLength>=e.totalLength},e.prototype.packetComplete=function(e){e.destination.write(e.pts,e.buffers),e.totalLength=0,e.currentLength=0,e.buffers=[]},e.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255},e}(),r.Decoder.Base=function(){"use strict";var e=function(e){this.destination=null,this.canPlay=!1,this.collectTimestamps=!e.streaming,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})};return e.prototype.connect=function(e){this.destination=e},e.prototype.write=function(e,t){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=e,this.decodedTime=e),this.timestamps.push({index:this.bits.byteLength<<3,time:e})),this.bits.write(t),this.canPlay=!0},e.prototype.seek=function(e){if(this.collectTimestamps){this.timestampIndex=0;for(var t=0;t<this.timestamps.length&&!(this.timestamps[t].time>e);t++)this.timestampIndex=t;var i=this.timestamps[this.timestampIndex];i?(this.bits.index=i.index,this.decodedTime=i.time):(this.bits.index=0,this.decodedTime=this.startTime)}},e.prototype.decode=function(){this.advanceDecodedTime(0)},e.prototype.advanceDecodedTime=function(e){if(this.collectTimestamps){for(var t=-1,i=this.timestampIndex;i<this.timestamps.length&&!(this.timestamps[i].index>this.bits.index);i++)t=i;if(-1!==t&&t!==this.timestampIndex)return this.timestampIndex=t,void(this.decodedTime=this.timestamps[this.timestampIndex].time)}this.decodedTime+=e},e.prototype.getCurrentTime=function(){return this.decodedTime},e}(),r.Decoder.MPEG1Video=function(){"use strict";var e=function(e){r.Decoder.Base.call(this,e);var t=e.videoBufferSize||524288,i=e.streaming?r.BitBuffer.MODE.EVICT:r.BitBuffer.MODE.EXPAND;this.bits=new r.BitBuffer(t,i),this.customIntraQuantMatrix=new Uint8Array(64),this.customNonIntraQuantMatrix=new Uint8Array(64),this.blockData=new Int32Array(64),this.currentFrame=0,this.decodeFirstFrame=!1!==e.decodeFirstFrame};return(e.prototype=Object.create(r.Decoder.Base.prototype)).constructor=e,e.prototype.write=function(t,i){if(r.Decoder.Base.prototype.write.call(this,t,i),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(e.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},e.prototype.decode=function(){return!!this.hasSequenceHeader&&(-1===this.bits.findStartCode(e.START.PICTURE)?(this.bits.byteLength,this.bits.index,!1):(this.decodePicture(),this.advanceDecodedTime(1/this.frameRate),!0))},e.prototype.readHuffman=function(e){var t=0;do{t=e[t+this.bits.read(1)]}while(t>=0&&0!==e[t]);return e[t+2]},e.prototype.frameRate=30,e.prototype.decodeSequenceHeader=function(){var t=this.bits.read(12),i=this.bits.read(12);if(this.bits.skip(4),this.frameRate=e.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),t===this.width&&i===this.height||(this.width=t,this.height=i,this.initBuffers(),this.destination&&this.destination.resize(t,i)),this.bits.read(1)){for(var r=0;r<64;r++)this.customIntraQuantMatrix[e.ZIG_ZAG[r]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(r=0;r<64;r++){var n=e.ZIG_ZAG[r];this.customNonIntraQuantMatrix[n]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},e.prototype.initBuffers=function(){this.intraQuantMatrix=e.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=e.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},e.prototype.currentY=null,e.prototype.currentCr=null,e.prototype.currentCb=null,e.prototype.pictureType=0,e.prototype.forwardY=null,e.prototype.forwardCr=null,e.prototype.forwardCb=null,e.prototype.fullPelForward=!1,e.prototype.forwardFCode=0,e.prototype.forwardRSize=0,e.prototype.forwardF=0,e.prototype.decodePicture=function(t){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=e.PICTURE_TYPE.B)){if(this.pictureType===e.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var i=0;do{i=this.bits.findNextStartCode()}while(i===e.START.EXTENSION||i===e.START.USER_DATA);for(;i>=e.START.SLICE_FIRST&&i<=e.START.SLICE_LAST;)this.decodeSlice(255&i),i=this.bits.findNextStartCode();if(-1!==i&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb),this.pictureType===e.PICTURE_TYPE.INTRA||this.pictureType===e.PICTURE_TYPE.PREDICTIVE){var r=this.forwardY,n=this.forwardY32,o=this.forwardCr,a=this.forwardCr32,s=this.forwardCb,u=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=r,this.currentY32=n,this.currentCr=o,this.currentCr32=a,this.currentCb=s,this.currentCb32=u}}},e.prototype.quantizerScale=0,e.prototype.sliceBegin=!1,e.prototype.decodeSlice=function(e){for(this.sliceBegin=!0,this.macroblockAddress=(e-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);do{this.decodeMacroblock()}while(!this.bits.nextBytesAreStartCode())},e.prototype.macroblockAddress=0,e.prototype.mbRow=0,e.prototype.mbCol=0,e.prototype.macroblockType=0,e.prototype.macroblockIntra=!1,e.prototype.macroblockMotFw=!1,e.prototype.motionFwH=0,e.prototype.motionFwV=0,e.prototype.motionFwHPrev=0,e.prototype.motionFwVPrev=0,e.prototype.decodeMacroblock=function(){for(var t=0,i=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);34===i;)i=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);for(;35===i;)t+=33,i=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);if(t+=i,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=t;else{if(this.macroblockAddress+t>=this.mbSize)return;for(t>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===e.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));t>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),t--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var r=e.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(r),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var n=0!=(2&this.macroblockType)?this.readHuffman(e.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,o=0,a=32;o<6;o++)0!=(n&a)&&this.decodeBlock(o),a>>=1},e.prototype.decodeMotionVectors=function(){var t,i,r=0;this.macroblockMotFw?(0!==(t=this.readHuffman(e.MOTION))&&1!==this.forwardF?(r=this.bits.read(this.forwardRSize),i=(Math.abs(t)-1<<this.forwardRSize)+r+1,t<0&&(i=-i)):i=t,this.motionFwHPrev+=i,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),0!==(t=this.readHuffman(e.MOTION))&&1!==this.forwardF?(r=this.bits.read(this.forwardRSize),i=(Math.abs(t)-1<<this.forwardRSize)+r+1,t<0&&(i=-i)):i=t,this.motionFwVPrev+=i,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===e.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},e.prototype.copyMacroblock=function(e,t,i,r,n){var o,a,s,u,l,c,h,d,f,p,A,g,m,y,v,E,w,b,C,I=this.currentY32,S=this.currentCb32,M=this.currentCr32;if(a=(o=this.codedWidth)-16,s=e>>1,u=t>>1,l=1==(1&e),c=1==(1&t),h=((this.mbRow<<4)+u)*o+(this.mbCol<<4)+s,f=(d=this.mbRow*o+this.mbCol<<2)+(o<<2),l)if(c)for(;d<f;){for(A=i[h]+i[h+o],h++,p=0;p<4;p++)m=A+(g=i[h]+i[h+o])+2>>2&255,m|=(A=i[++h]+i[h+o])+g+2<<6&65280,m|=A+(g=i[++h]+i[h+o])+2<<14&16711680,A=i[++h]+i[h+o],h++,m|=A+g+2<<22&4278190080,I[d++]=m;d+=a>>2,h+=a-1}else for(;d<f;){for(A=i[h++],p=0;p<4;p++)m=A+(g=i[h++])+1>>1&255,m|=(A=i[h++])+g+1<<7&65280,m|=A+(g=i[h++])+1<<15&16711680,m|=(A=i[h++])+g+1<<23&4278190080,I[d++]=m;d+=a>>2,h+=a-1}else if(c)for(;d<f;){for(p=0;p<4;p++)m=i[h]+i[h+o]+1>>1&255,m|=i[++h]+i[h+o]+1<<7&65280,m|=i[++h]+i[h+o]+1<<15&16711680,m|=i[++h]+i[h+o]+1<<23&4278190080,h++,I[d++]=m;d+=a>>2,h+=a}else for(;d<f;){for(p=0;p<4;p++)m=i[h],m|=i[++h]<<8,m|=i[++h]<<16,m|=i[++h]<<24,h++,I[d++]=m;d+=a>>2,h+=a}if(a=(o=this.halfWidth)-8,s=e/2>>1,u=t/2>>1,l=1==(e/2&1),c=1==(t/2&1),h=((this.mbRow<<3)+u)*o+(this.mbCol<<3)+s,f=(d=this.mbRow*o+this.mbCol<<1)+(o<<1),l)if(c)for(;d<f;){for(y=r[h]+r[h+o],w=n[h]+n[h+o],h++,p=0;p<2;p++)E=y+(v=r[h]+r[h+o])+2>>2&255,C=w+(b=n[h]+n[h+o])+2>>2&255,E|=(y=r[++h]+r[h+o])+v+2<<6&65280,C|=(w=n[h]+n[h+o])+b+2<<6&65280,E|=y+(v=r[++h]+r[h+o])+2<<14&16711680,C|=w+(b=n[h]+n[h+o])+2<<14&16711680,y=r[++h]+r[h+o],w=n[h]+n[h+o],h++,E|=y+v+2<<22&4278190080,C|=w+b+2<<22&4278190080,M[d]=E,S[d]=C,d++;d+=a>>2,h+=a-1}else for(;d<f;){for(y=r[h],w=n[h],h++,p=0;p<2;p++)E=y+(v=r[h])+1>>1&255,C=w+(b=n[h++])+1>>1&255,E|=(y=r[h])+v+1<<7&65280,C|=(w=n[h++])+b+1<<7&65280,E|=y+(v=r[h])+1<<15&16711680,C|=w+(b=n[h++])+1<<15&16711680,E|=(y=r[h])+v+1<<23&4278190080,C|=(w=n[h++])+b+1<<23&4278190080,M[d]=E,S[d]=C,d++;d+=a>>2,h+=a-1}else if(c)for(;d<f;){for(p=0;p<2;p++)E=r[h]+r[h+o]+1>>1&255,C=n[h]+n[h+o]+1>>1&255,E|=r[++h]+r[h+o]+1<<7&65280,C|=n[h]+n[h+o]+1<<7&65280,E|=r[++h]+r[h+o]+1<<15&16711680,C|=n[h]+n[h+o]+1<<15&16711680,E|=r[++h]+r[h+o]+1<<23&4278190080,C|=n[h]+n[h+o]+1<<23&4278190080,h++,M[d]=E,S[d]=C,d++;d+=a>>2,h+=a}else for(;d<f;){for(p=0;p<2;p++)E=r[h],C=n[h],E|=r[++h]<<8,C|=n[h]<<8,E|=r[++h]<<16,C|=n[h]<<16,E|=r[++h]<<24,C|=n[h]<<24,h++,M[d]=E,S[d]=C,d++;d+=a>>2,h+=a}},e.prototype.dcPredictorY=0,e.prototype.dcPredictorCr=0,e.prototype.dcPredictorCb=0,e.prototype.blockData=null,e.prototype.decodeBlock=function(t){var i,n,o,a,s=0;if(this.macroblockIntra){var u,l;if(t<4?(u=this.dcPredictorY,l=this.readHuffman(e.DCT_DC_SIZE_LUMINANCE)):(u=4===t?this.dcPredictorCr:this.dcPredictorCb,l=this.readHuffman(e.DCT_DC_SIZE_CHROMINANCE)),l>0){var c=this.bits.read(l);this.blockData[0]=0!=(c&1<<l-1)?u+c:u+(-1<<l|c+1)}else this.blockData[0]=u;t<4?this.dcPredictorY=this.blockData[0]:4===t?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,i=this.intraQuantMatrix,s=1}else i=this.nonIntraQuantMatrix;for(var h=0;;){var d=0,f=this.readHuffman(e.DCT_COEFF);if(1===f&&s>0&&0===this.bits.read(1))break;65535===f?(d=this.bits.read(6),0===(h=this.bits.read(8))?h=this.bits.read(8):128===h?h=this.bits.read(8)-256:h>128&&(h-=256)):(d=f>>8,h=255&f,this.bits.read(1)&&(h=-h));var p=e.ZIG_ZAG[s+=d];s++,h<<=1,this.macroblockIntra||(h+=h<0?-1:1),0==(1&(h=h*this.quantizerScale*i[p]>>4))&&(h-=h>0?1:-1),h>2047?h=2047:h<-2048&&(h=-2048),this.blockData[p]=h*e.PREMULTIPLIER_MATRIX[p]}t<4?(n=this.currentY,a=this.codedWidth-8,o=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&t)&&(o+=8),0!=(2&t)&&(o+=this.codedWidth<<3)):(n=4===t?this.currentCb:this.currentCr,a=(this.codedWidth>>1)-8,o=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===s?(e.CopyValueToDestination(this.blockData[0]+128>>8,n,o,a),this.blockData[0]=0):(e.IDCT(this.blockData),e.CopyBlockToDestination(this.blockData,n,o,a),r.Fill(this.blockData,0)):1===s?(e.AddValueToDestination(this.blockData[0]+128>>8,n,o,a),this.blockData[0]=0):(e.IDCT(this.blockData),e.AddBlockToDestination(this.blockData,n,o,a),r.Fill(this.blockData,0)),s=0},e.CopyBlockToDestination=function(e,t,i,r){for(var n=0;n<64;n+=8,i+=r+8)t[i+0]=e[n+0],t[i+1]=e[n+1],t[i+2]=e[n+2],t[i+3]=e[n+3],t[i+4]=e[n+4],t[i+5]=e[n+5],t[i+6]=e[n+6],t[i+7]=e[n+7]},e.AddBlockToDestination=function(e,t,i,r){for(var n=0;n<64;n+=8,i+=r+8)t[i+0]+=e[n+0],t[i+1]+=e[n+1],t[i+2]+=e[n+2],t[i+3]+=e[n+3],t[i+4]+=e[n+4],t[i+5]+=e[n+5],t[i+6]+=e[n+6],t[i+7]+=e[n+7]},e.CopyValueToDestination=function(e,t,i,r){for(var n=0;n<64;n+=8,i+=r+8)t[i+0]=e,t[i+1]=e,t[i+2]=e,t[i+3]=e,t[i+4]=e,t[i+5]=e,t[i+6]=e,t[i+7]=e},e.AddValueToDestination=function(e,t,i,r){for(var n=0;n<64;n+=8,i+=r+8)t[i+0]+=e,t[i+1]+=e,t[i+2]+=e,t[i+3]+=e,t[i+4]+=e,t[i+5]+=e,t[i+6]+=e,t[i+7]+=e},e.IDCT=function(e){for(var t,i,r,n,o,a,s,u,l,c,h,d,f,p,A,g,m,y,v=0;v<8;++v)t=e[32+v],i=e[16+v]+e[48+v],r=e[40+v]-e[24+v],a=e[8+v]+e[56+v],s=e[24+v]+e[40+v],n=e[8+v]-e[56+v],o=a+s,u=e[0+v],l=(f=(473*n-196*r+128>>8)-o)-(362*(a-s)+128>>8),p=(c=u-t)+(h=(362*(e[16+v]-e[48+v])+128>>8)-i),A=(d=u+t)+i,g=c-h,m=d-i,y=-l-(473*r+196*n+128>>8),e[0+v]=o+A,e[8+v]=f+p,e[16+v]=g-l,e[24+v]=m-y,e[32+v]=m+y,e[40+v]=l+g,e[48+v]=p-f,e[56+v]=A-o;for(v=0;v<64;v+=8)t=e[4+v],i=e[2+v]+e[6+v],r=e[5+v]-e[3+v],a=e[1+v]+e[7+v],s=e[3+v]+e[5+v],n=e[1+v]-e[7+v],o=a+s,u=e[0+v],l=(f=(473*n-196*r+128>>8)-o)-(362*(a-s)+128>>8),p=(c=u-t)+(h=(362*(e[2+v]-e[6+v])+128>>8)-i),A=(d=u+t)+i,g=c-h,m=d-i,y=-l-(473*r+196*n+128>>8),e[0+v]=o+A+128>>8,e[1+v]=f+p+128>>8,e[2+v]=g-l+128>>8,e[3+v]=m-y+128>>8,e[4+v]=m+y+128>>8,e[5+v]=l+g+128>>8,e[6+v]=p-f+128>>8,e[7+v]=A-o+128>>8},e.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],e.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),e.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),e.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),e.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),e.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),e.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),e.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),e.MACROBLOCK_TYPE=[null,e.MACROBLOCK_TYPE_INTRA,e.MACROBLOCK_TYPE_PREDICTIVE,e.MACROBLOCK_TYPE_B],e.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),e.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),e.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),e.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),e.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),e.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},e.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178},e}(),r.Decoder.MP2Audio=function(){"use strict";var e=function e(t){r.Decoder.Base.call(this,t);var i=t.audioBufferSize||131072,n=t.streaming?r.BitBuffer.MODE.EVICT:r.BitBuffer.MODE.EXPAND;this.bits=new r.BitBuffer(i,n),this.left=new Float32Array(1152),this.right=new Float32Array(1152),this.sampleRate=44100,this.D=new Float32Array(1024),this.D.set(e.SYNTHESIS_WINDOW,0),this.D.set(e.SYNTHESIS_WINDOW,512),this.V=new Float32Array(1024),this.U=new Int32Array(32),this.VPos=0,this.allocation=[new Array(32),new Array(32)],this.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],this.scaleFactor=[new Array(32),new Array(32)],this.sample=[new Array(32),new Array(32)];for(var o=0;o<2;o++)for(var a=0;a<32;a++)this.scaleFactor[o][a]=[0,0,0],this.sample[o][a]=[0,0,0]};return(e.prototype=Object.create(r.Decoder.Base.prototype)).constructor=e,e.prototype.decode=function(){var e=this.bits.index>>3;if(e>=this.bits.byteLength)return!1;var t=this.decodeFrame(this.left,this.right);return this.bits.index=e+t<<3,!!t&&(this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate),!0)},e.prototype.getCurrentTime=function(){var e=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-e},e.prototype.decodeFrame=function(t,i){var n=this.bits.read(11),o=this.bits.read(2),a=this.bits.read(2),s=!this.bits.read(1);if(n!==e.FRAME_SYNC||o!==e.VERSION.MPEG_1||a!==e.LAYER.II)return 0;var u=this.bits.read(4)-1;if(u>13)return 0;var l=this.bits.read(2),c=e.SAMPLE_RATE[l];if(3===l)return 0;o===e.VERSION.MPEG_2&&(l+=4,u+=14);var h=this.bits.read(1),d=(this.bits.read(1),this.bits.read(2)),f=0;d===e.MODE.JOINT_STEREO?f=this.bits.read(2)+1<<2:(this.bits.skip(2),f=d===e.MODE.MONO?0:32),this.bits.skip(4),s&&this.bits.skip(16);var p=144e3*e.BIT_RATE[u]/(c=e.SAMPLE_RATE[l])+h|0,A=0,g=0;if(o===e.VERSION.MPEG_2)A=2,g=30;else{var m=d===e.MODE.MONO?0:1,y=e.QUANT_LUT_STEP_1[m][u];g=63&(A=e.QUANT_LUT_STEP_2[y][l]),A>>=6}f>g&&(f=g);for(var v=0;v<f;v++)this.allocation[0][v]=this.readAllocation(v,A),this.allocation[1][v]=this.readAllocation(v,A);for(v=f;v<g;v++)this.allocation[0][v]=this.allocation[1][v]=this.readAllocation(v,A);var E=d===e.MODE.MONO?1:2;for(v=0;v<g;v++){for(w=0;w<E;w++)this.allocation[w][v]&&(this.scaleFactorInfo[w][v]=this.bits.read(2));d===e.MODE.MONO&&(this.scaleFactorInfo[1][v]=this.scaleFactorInfo[0][v])}for(v=0;v<g;v++){for(var w=0;w<E;w++)if(this.allocation[w][v]){var b=this.scaleFactor[w][v];switch(this.scaleFactorInfo[w][v]){case 0:b[0]=this.bits.read(6),b[1]=this.bits.read(6),b[2]=this.bits.read(6);break;case 1:b[0]=b[1]=this.bits.read(6),b[2]=this.bits.read(6);break;case 2:b[0]=b[1]=b[2]=this.bits.read(6);break;case 3:b[0]=this.bits.read(6),b[1]=b[2]=this.bits.read(6)}}d===e.MODE.MONO&&(this.scaleFactor[1][v][0]=this.scaleFactor[0][v][0],this.scaleFactor[1][v][1]=this.scaleFactor[0][v][1],this.scaleFactor[1][v][2]=this.scaleFactor[0][v][2])}for(var C=0,I=0;I<3;I++)for(var S=0;S<4;S++){for(v=0;v<f;v++)this.readSamples(0,v,I),this.readSamples(1,v,I);for(v=f;v<g;v++)this.readSamples(0,v,I),this.sample[1][v][0]=this.sample[0][v][0],this.sample[1][v][1]=this.sample[0][v][1],this.sample[1][v][2]=this.sample[0][v][2];for(v=g;v<32;v++)this.sample[0][v][0]=0,this.sample[0][v][1]=0,this.sample[0][v][2]=0,this.sample[1][v][0]=0,this.sample[1][v][1]=0,this.sample[1][v][2]=0;for(var M=0;M<3;M++){this.VPos=this.VPos-64&1023;for(w=0;w<2;w++){e.MatrixTransform(this.sample[w],M,this.V,this.VPos),r.Fill(this.U,0);for(var k=512-(this.VPos>>1),T=this.VPos%128>>1;T<1024;){for(var D=0;D<32;++D)this.U[D]+=this.D[k++]*this.V[T++];T+=96,k+=32}for(T=1120-T,k-=480;T<1024;){for(D=0;D<32;++D)this.U[D]+=this.D[k++]*this.V[T++];T+=96,k+=32}for(var B=0===w?t:i,R=0;R<32;R++)B[C+R]=this.U[R]/2147418112}C+=32}}return this.sampleRate=c,p},e.prototype.readAllocation=function(t,i){var r=e.QUANT_LUT_STEP_3[i][t],n=e.QUANT_LUT_STEP4[15&r][this.bits.read(r>>4)];return n?e.QUANT_TAB[n-1]:0},e.prototype.readSamples=function(t,i,r){var n=this.allocation[t][i],o=this.scaleFactor[t][i][r],a=this.sample[t][i],s=0;if(n){if(63===o)o=0;else{var u=o/3|0;o=e.SCALEFACTOR_BASE[o%3]+(1<<u>>1)>>u}var l=n.levels;n.group?(s=this.bits.read(n.bits),a[0]=s%l,s=s/l|0,a[1]=s%l,a[2]=s/l|0):(a[0]=this.bits.read(n.bits),a[1]=this.bits.read(n.bits),a[2]=this.bits.read(n.bits));var c=65536/(l+1)|0;s=((l=(l+1>>1)-1)-a[0])*c,a[0]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12,s=(l-a[1])*c,a[1]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12,s=(l-a[2])*c,a[2]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12}else a[0]=a[1]=a[2]=0},e.MatrixTransform=function(e,t,i,r){var n,o,a,s,u,l,c,h,d,f,p,A,g,m,y,v,E,w,b,C,I,S,M,k,T,D,B,R,Q,O,L,x,q;n=e[0][t]+e[31][t],o=.500602998235*(e[0][t]-e[31][t]),a=e[1][t]+e[30][t],s=.505470959898*(e[1][t]-e[30][t]),u=e[2][t]+e[29][t],l=.515447309923*(e[2][t]-e[29][t]),c=e[3][t]+e[28][t],h=.53104259109*(e[3][t]-e[28][t]),d=e[4][t]+e[27][t],f=.553103896034*(e[4][t]-e[27][t]),p=e[5][t]+e[26][t],A=.582934968206*(e[5][t]-e[26][t]),g=e[6][t]+e[25][t],m=.622504123036*(e[6][t]-e[25][t]),y=e[7][t]+e[24][t],v=.674808341455*(e[7][t]-e[24][t]),E=e[8][t]+e[23][t],w=.744536271002*(e[8][t]-e[23][t]),b=e[9][t]+e[22][t],C=.839349645416*(e[9][t]-e[22][t]),I=e[10][t]+e[21][t],S=.972568237862*(e[10][t]-e[21][t]),M=e[11][t]+e[20][t],k=1.16943993343*(e[11][t]-e[20][t]),T=e[12][t]+e[19][t],D=1.48416461631*(e[12][t]-e[19][t]),B=e[13][t]+e[18][t],R=2.05778100995*(e[13][t]-e[18][t]),Q=e[14][t]+e[17][t],O=3.40760841847*(e[14][t]-e[17][t]),q=n+(L=e[15][t]+e[16][t]),L=.502419286188*(n-L),n=a+Q,Q=.52249861494*(a-Q),a=u+B,B=.566944034816*(u-B),u=c+T,T=.64682178336*(c-T),c=d+M,M=.788154623451*(d-M),d=p+I,I=1.06067768599*(p-I),p=g+b,b=1.72244709824*(g-b),g=y+E,E=5.10114861869*(y-E),y=q+g,g=.509795579104*(q-g),q=n+p,n=.601344886935*(n-p),p=a+d,d=.899976223136*(a-d),a=u+c,c=2.56291544774*(u-c),u=y+a,y=.541196100146*(y-a),a=q+p,p=1.30656296488*(q-p),q=u+a,u=.707106781187*(u-a),a=y+p,a+=y=.707106781187*(y-p),p=g+c,g=.541196100146*(g-c),c=n+d,d=1.30656296488*(n-d),n=p+c,c=.707106781187*(p-c),p=g+d,n+=p+=g=.707106781187*(g-d),p+=c,c+=g,d=L+E,L=.509795579104*(L-E),E=Q+b,Q=.601344886935*(Q-b),b=B+I,I=.899976223136*(B-I),B=T+M,M=2.56291544774*(T-M),T=d+B,d=.541196100146*(d-B),B=E+b,b=1.30656296488*(E-b),E=T+B,B=.707106781187*(T-B),T=d+b,b=.707106781187*(d-b),d=L+M,L=.541196100146*(L-M),M=Q+I,I=1.30656296488*(Q-I),Q=d+M,M=.707106781187*(d-M),d=L+I,E+=Q+=d+=L=.707106781187*(L-I),Q+=T+=b,T+=d+=M,d+=B,B+=M+=L,M+=b,b+=L,I=o+(x=10.1900081235*(e[15][t]-e[16][t])),o=.502419286188*(o-x),x=s+O,s=.52249861494*(s-O),O=l+R,R=.566944034816*(l-R),l=h+D,h=.64682178336*(h-D),D=f+k,f=.788154623451*(f-k),k=A+S,S=1.06067768599*(A-S),A=m+C,C=1.72244709824*(m-C),m=v+w,v=5.10114861869*(v-w),w=I+m,m=.509795579104*(I-m),I=x+A,x=.601344886935*(x-A),A=O+k,k=.899976223136*(O-k),O=l+D,D=2.56291544774*(l-D),l=w+O,w=.541196100146*(w-O),O=I+A,A=1.30656296488*(I-A),I=l+O,O=.707106781187*(l-O),l=w+A,A=.707106781187*(w-A),w=m+D,D=.541196100146*(m-D),m=x+k,k=1.30656296488*(x-k),x=w+m,m=.707106781187*(w-m),w=D+k,x+=w+=k=.707106781187*(D-k),w+=m,D=m+k,m=o+v,o=.509795579104*(o-v),v=s+C,s=.601344886935*(s-C),C=R+S,S=.899976223136*(R-S),R=h+f,f=2.56291544774*(h-f),h=m+R,m=.541196100146*(m-R),R=v+C,C=1.30656296488*(v-C),v=h+R,R=.707106781187*(h-R),h=m+C,C=.707106781187*(m-C),m=o+f,o=.541196100146*(o-f),f=s+S,S=1.30656296488*(s-S),s=m+f,f=.707106781187*(m-f),m=o+S,I+=v+=s+=m+=o=.707106781187*(o-S),v+=x,x+=s+=h+=C,s+=l+=A,l+=h+=m+=f,h+=w,w+=m+=R,m+=O,O+=R+=f+=o,R+=D,D+=f+=C,f+=A,A+=C+=o,C+=k,k+=o,i[r+48]=-q,i[r+49]=i[r+47]=-I,i[r+50]=i[r+46]=-E,i[r+51]=i[r+45]=-v,i[r+52]=i[r+44]=-n,i[r+53]=i[r+43]=-x,i[r+54]=i[r+42]=-Q,i[r+55]=i[r+41]=-s,i[r+56]=i[r+40]=-a,i[r+57]=i[r+39]=-l,i[r+58]=i[r+38]=-T,i[r+59]=i[r+37]=-h,i[r+60]=i[r+36]=-p,i[r+61]=i[r+35]=-w,i[r+62]=i[r+34]=-d,i[r+63]=i[r+33]=-m,i[r+32]=-u,i[r+0]=u,i[r+31]=-O,i[r+1]=O,i[r+30]=-B,i[r+2]=B,i[r+29]=-R,i[r+3]=R,i[r+28]=-c,i[r+4]=c,i[r+27]=-D,i[r+5]=D,i[r+26]=-M,i[r+6]=M,i[r+25]=-f,i[r+7]=f,i[r+24]=-y,i[r+8]=y,i[r+23]=-A,i[r+9]=A,i[r+22]=-b,i[r+10]=b,i[r+21]=-C,i[r+11]=C,i[r+20]=-g,i[r+12]=g,i[r+19]=-k,i[r+13]=k,i[r+18]=-L,i[r+14]=L,i[r+17]=-o,i[r+15]=o,i[r+16]=0},e.FRAME_SYNC=2047,e.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},e.LAYER={III:1,II:2,I:3},e.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},e.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),e.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),e.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),e.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),e.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],e.QUANT_LUT_STEP_2=[[(e.QUANT_TAB={A:91,B:94,C:8,D:12}).C,e.QUANT_TAB.C,e.QUANT_TAB.D],[e.QUANT_TAB.A,e.QUANT_TAB.A,e.QUANT_TAB.A],[e.QUANT_TAB.B,e.QUANT_TAB.A,e.QUANT_TAB.B]],e.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],e.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],e.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}],e}(),r.Renderer.WebGL=function(){"use strict";var e=function e(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0;var i={preserveDrawingBuffer:!!t.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1};if(this.gl=this.canvas.getContext("webgl",i)||this.canvas.getContext("experimental-webgl",i),!this.gl)throw new Error("Failed to get WebGL Context");var r=this.gl,n=null;this.vertexBuffer=r.createBuffer();var o=new Float32Array([0,0,0,1,1,0,1,1]);r.bindBuffer(r.ARRAY_BUFFER,this.vertexBuffer),r.bufferData(r.ARRAY_BUFFER,o,r.STATIC_DRAW),this.program=this.createProgram(e.SHADER.VERTEX_IDENTITY,e.SHADER.FRAGMENT_YCRCB_TO_RGBA),n=r.getAttribLocation(this.program,"vertex"),r.enableVertexAttribArray(n),r.vertexAttribPointer(n,2,r.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(e.SHADER.VERTEX_IDENTITY,e.SHADER.FRAGMENT_LOADING),n=r.getAttribLocation(this.loadingProgram,"vertex"),r.enableVertexAttribArray(n),r.vertexAttribPointer(n,2,r.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()};return e.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.textureY),e.deleteTexture(this.textureCb),e.deleteTexture(this.textureCr),e.deleteProgram(this.program),e.deleteProgram(this.loadingProgram),e.deleteBuffer(this.vertexBuffer)},e.prototype.resize=function(e,t){this.width=0|e,this.height=0|t,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program),this.gl.viewport(0,0,this.width,this.height)},e.prototype.createTexture=function(e,t){var i=this.gl,r=i.createTexture();return i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.uniform1i(i.getUniformLocation(this.program,t),e),r},e.prototype.createProgram=function(e,t){var i=this.gl,r=i.createProgram();return i.attachShader(r,this.compileShader(i.VERTEX_SHADER,e)),i.attachShader(r,this.compileShader(i.FRAGMENT_SHADER,t)),i.linkProgram(r),i.useProgram(r),r},e.prototype.compileShader=function(e,t){var i=this.gl,r=i.createShader(e);if(i.shaderSource(r,t),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(r));return r},e.prototype.allowsClampedTextureData=function(){var e=this.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,1,1,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===e.getError()},e.prototype.renderProgress=function(e){var t=this.gl;t.useProgram(this.loadingProgram);var i=t.getUniformLocation(this.loadingProgram,"progress");t.uniform1f(i,e),t.drawArrays(t.TRIANGLE_STRIP,0,4)},e.prototype.render=function(e,t,i){if(this.enabled){var r=this.gl,n=this.width+15>>4<<4,o=this.height,a=n>>1,s=o>>1;this.shouldCreateUnclampedViews&&(e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer),i=new Uint8Array(i.buffer)),r.useProgram(this.program),this.updateTexture(r.TEXTURE0,this.textureY,n,o,e),this.updateTexture(r.TEXTURE1,this.textureCb,a,s,t),this.updateTexture(r.TEXTURE2,this.textureCr,a,s,i),r.drawArrays(r.TRIANGLE_STRIP,0,4)}},e.prototype.updateTexture=function(e,t,i,r,n){var o=this.gl;o.activeTexture(e),o.bindTexture(o.TEXTURE_2D,t),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,i,r,0,o.LUMINANCE,o.UNSIGNED_BYTE,n)},e.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}},e.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},e}(),r.Renderer.Canvas2D=function(){"use strict";var e=function(e){this.canvas=e.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")};return e.prototype.destroy=function(){},e.prototype.resize=function(e,t){this.width=0|e,this.height=0|t,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),r.Fill(this.imageData.data,255)},e.prototype.renderProgress=function(e){var t=this.canvas.width,i=this.canvas.height,r=this.context;r.fillStyle="#222",r.fillRect(0,0,t,i),r.fillStyle="#fff",r.fillRect(0,i-i*e,t,i*e)},e.prototype.render=function(e,t,i){this.YCbCrToRGBA(e,t,i,this.imageData.data),this.context.putImageData(this.imageData,0,0)},e.prototype.YCbCrToRGBA=function(e,t,i,r){if(this.enabled)for(var n,o,a,s,u,l=this.width+15>>4<<4,c=l>>1,h=0,d=l,f=l+(l-this.width),p=0,A=c-(this.width>>1),g=0,m=4*this.width,y=4*this.width,v=this.width>>1,E=this.height>>1,w=0;w<E;w++){for(var b=0;b<v;b++){n=t[p],o=i[p],p++,a=n+(103*n>>8)-179,s=(88*o>>8)-44+(183*n>>8)-91,u=o+(198*o>>8)-227;var C=e[h++],I=e[h++];r[g]=C+a,r[g+1]=C-s,r[g+2]=C+u,r[g+4]=I+a,r[g+5]=I-s,r[g+6]=I+u,g+=8;var S=e[d++],M=e[d++];r[m]=S+a,r[m+1]=S-s,r[m+2]=S+u,r[m+4]=M+a,r[m+5]=M-s,r[m+6]=M+u,m+=8}h+=f,d+=f,g+=y,m+=y,p+=A}},e}(),r.AudioOutput.WebAudio=function(){"use strict";var e=function e(t){this.context=e.CachedContext=e.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.destination=this.gain,this.gain.connect(this.context.destination),this.context._connections=(this.context._connections||0)+1,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!e.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})};return e.prototype.destroy=function(){this.gain.disconnect(),0==--this.context._connections&&(this.context.close(),e.CachedContext=null)},e.prototype.play=function(e,t,i){if(this.enabled){if(!this.unlocked){var n=r.Now();return this.wallclockStartTime<n&&(this.wallclockStartTime=n),void(this.wallclockStartTime+=t.length/e)}this.gain.gain.value=this.volume;var o=this.context.createBuffer(2,t.length,e);o.getChannelData(0).set(t),o.getChannelData(1).set(i);var a=this.context.createBufferSource();a.buffer=o,a.connect(this.destination);var s=this.context.currentTime,u=o.duration;this.startTime<s&&(this.startTime=s,this.wallclockStartTime=r.Now()),a.start(this.startTime),this.startTime+=u,this.wallclockStartTime+=u}},e.prototype.stop=function(){this.gain.gain.value=0},e.prototype.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-r.Now(),0)},e.prototype.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=r.Now()},e.prototype.unlock=function(e){if(this.unlocked)e&&e();else{this.unlockCallback=e;var t=this.context.createBuffer(1,1,22050),i=this.context.createBufferSource();i.buffer=t,i.connect(this.destination),i.start(0),setTimeout(this.checkIfUnlocked.bind(this,i,0),0)}},e.prototype.checkIfUnlocked=function(e,t){e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):t<10&&setTimeout(this.checkIfUnlocked.bind(this,e,t+1),100)},e.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},e.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},e.CachedContext=null,e}(),e.exports=r},rfI5:function(e,t,i){"use strict";var r=i("maJs"),n=i("tSXQ");function o(e,t,i){if(!(this instanceof o))return new o(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,i))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},riO0:function(e,t,i){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,r){for(var n=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>>s+a&1;for(s=0;s<=24;s+=8)n<<=1,n|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}i[r+0]=n>>>0,i[r+1]=o>>>0},t.rip=function(e,t,i,r){for(var n=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)n<<=1,n|=t>>>s+a&1,n<<=1,n|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.pc1=function(e,t,i,r){for(var n=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(s=0;s<=24;s+=8)n<<=1,n|=e>>s+a&1}for(s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=t>>>r[u]&1;i[n+0]=o>>>0,i[n+1]=a>>>0},t.expand=function(e,t,i){var r=0,n=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)n|=e>>>o&63,n<<=6;n|=(31&e)<<1|e>>>31,t[i+0]=r>>>0,t[i+1]=n>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,r=0;r<4;r++){i<<=4,i|=n[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){i<<=4,i|=n[256+64*r+(t>>>18-6*r&63)]}return i>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<o.length;i++)t<<=1,t|=e>>>o[i]&1;return t>>>0},t.padSplit=function(e,t,i){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var n=[],o=0;o<t;o+=i)n.push(r.slice(o,o+i));return n.join(" ")}},rpH0:function(e,t,i){(e.exports=i("BkJT")(void 0)).push([e.i,".easy-player-fill-container .video-js{padding:0!important}.easy-player-fill-container .video-js .vjs-tech{object-fit:fill!important}.is-paused .vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:none!important}.easy-player-loading{position:absolute;top:50%;left:50%;width:200px;height:200px;margin-top:-100px;margin-left:-100px;z-index:9998;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;opacity:1;pointer-events:none;transition:opacity 1s cubic-bezier(0,0,.2,1)}.easy-player-loading img{width:180px;height:40px}.easy-player-loading .loading-text{letter-spacing:2px;text-align:center;color:hsla(0,0%,100%,.65);font-size:14px;font-weight:600;background-image:-webkit-linear-gradient(left,#0ff,#fff 25%,#0ff 50%,#fff 75%,#0ff);-webkit-text-fill-color:transparent;-webkit-background-clip:text;-webkit-background-size:200% 100%;-webkit-animation:masked-animation .5s infinite linear}@keyframes masked-animation{0%{background-position:0 0}to{background-position:-100% 0}}.easy-player-btn{position:absolute;top:50%;left:50%;width:200px;height:200px;margin-top:-100px;margin-left:-100px;z-index:9998;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;opacity:1;pointer-events:none;transition:opacity 1s cubic-bezier(0,0,.2,1)}.easy-play-btn{display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:row!important;flex-direction:row!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}.easy-play-btn-bofang{font-size:24px!important}",""])},rrHa:function(e,t,i){var r=i("mwrz"),n=i("QYQw"),o=i("DLTi").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,n.call(this,64,56)}function l(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function h(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}r(u,n),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,n=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,d=0;d<16;++d)i[d]=e.readInt32BE(4*d);for(;d<80;++d)i[d]=(t=i[d-3]^i[d-8]^i[d-14]^i[d-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),A=l(r)+h(p,n,o,s)+u+i[f]+a[p]|0;u=s,s=o,o=c(n),n=r,r=A}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},"s+YV":function(e,t,i){var r=i("fS0F"),n=i("DLTi").Buffer,o=i("onRW"),a=i("mwrz"),s=i("/gF+"),u=i("EUFM"),l=i("5zLF");function c(e,t,i,a){o.call(this);var u=n.alloc(4,0);this._cipher=new r.AES(t);var c=this._cipher.encryptBlock(u);this._ghash=new s(c),i=function(e,t,i){if(12===t.length)return e._finID=n.concat([t,n.from([0,0,0,1])]),n.concat([t,n.from([0,0,0,2])]);var r=new s(i),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(n.alloc(a,0))),r.update(n.alloc(8,0));var u=8*o,c=n.alloc(8);c.writeUIntBE(u,0,8),r.update(c),e._finID=r.state;var h=n.from(e._finID);return l(h),h}(this,i,c),this._prev=n.from(i),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(c,o),c.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=n.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var i=0;e.length!==t.length&&i++;for(var r=Math.min(e.length,t.length),n=0;n<r;++n)i+=e[n]^t[n];return i}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},c.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=c},sHTV:function(e,t){e.exports="data:font/woff;base64,d09GRgABAAAAAASwAAsAAAAABwAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFY9JUk9Y21hcAAAAYAAAABLAAABcOfXt7dnbHlmAAABzAAAAPkAAAEIO5HVdGhlYWQAAALIAAAALwAAADYXkug7aGhlYQAAAvgAAAAeAAAAJAj1BLpobXR4AAADGAAAAAgAAAAICTcAAGxvY2EAAAMgAAAABgAAAAYAhAAAbWF4cAAAAygAAAAgAAAAIAERAGBuYW1lAAADSAAAAUUAAAJtPlT+fXBvc3QAAASQAAAAIAAAADHm7Ml9eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkmcM4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDg8W/9sPXPD/waGGOYGhgagMCNIDgArIA3deJxjYGBgZWBgYAZiHSBmYWBgDGFgZAABP6AoI1icmYELLM7CoARWwwISf7b+/38YCeSzgEkGRjaGUcADJmWgPHBYQTADIwDU5wwlAHicHYtBSsNAGIX/N9NYnMVIOtOGplSIgWRXRxFdFJqI0BxAsBKhWSQ7F4J7V84FXHStK5c9gRfwCp7BE6itTtx873+P7yeP6PfJC/gdBXRIUyrokghxmsTRwR5iia6/jyCa4cyfgOsdNyepP8MUxxmiYOBy0Pec5iwnOWeC1B2uSrT/ulVOT5LO68uVkNtdKa6fTcZYZjraZEDGQ/X9qYfAUK+lWOBjIeRahZv35pFzW9e2ZbFkbFn8Ew8XUinZgotSiBL50ebW5EBu2Mqc/3zpMNRspUeiLMVI3zDb1JYxWzd2e49qXlRAVcwrvKE3VmrcI6I/6dgx8wAAAHicY2BkYGAA4pl/1zyO57f5ysDNwgACN9cFySPo/xNZxZnzgVwOBiaQKABRNwruAHicY2BkYGBu+N/AEMNqzgAErOIMjAyogAkATkoCuwAABAAAAAU3AAAAAAAAAIQAAAABAAAAAgBUAAUAAAAAAAIAAAAKAAoAAAD/AAAAAAAAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicY2BigAAuBuyAiZGJkZmBvSAzuaS0KJWBAQAUyAMZ"},sdPl:function(e,t,i){var r=i("mwrz"),n=i("QYQw"),o=i("DLTi").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,n.call(this,64,56)}function l(e,t,i){return i^e&(t^i)}function c(e,t,i){return e&t|i&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,n),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,n=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,A=0|this._g,g=0|this._h,m=0;m<16;++m)i[m]=e.readInt32BE(4*m);for(;m<64;++m)i[m]=0|(((t=i[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+i[m-7]+f(i[m-15])+i[m-16];for(var y=0;y<64;++y){var v=g+d(u)+l(u,p,A)+a[y]+i[y]|0,E=h(r)+c(r,n,o)|0;g=A,A=p,p=u,u=s+v|0,s=o,o=n,n=r,r=v+E|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=A+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},"t+7X":function(e,t,i){var r=i("yXLo"),n=i("DJz8"),o=i("96zr"),a=i("DLTi").Buffer,s=i("GpZv"),u=i("xJId"),l=i("pLtV"),c=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,i){var s=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new n).update(e).digest()}:"md5"===e?r:function(t){return o(e).update(t).digest()}}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=s(t):t.length<u&&(t=a.concat([t,c],u));for(var l=a.allocUnsafe(u+h[e]),d=a.allocUnsafe(u+h[e]),f=0;f<u;f++)l[f]=54^t[f],d[f]=92^t[f];var p=a.allocUnsafe(u+i+4);l.copy(p,0,0,u),this.ipad1=p,this.ipad2=l,this.opad=d,this.alg=e,this.blocksize=u,this.hash=s,this.size=h[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,i,r,n){s(i,r),e=l(e,u,"Password"),t=l(t,u,"Salt");var o=new d(n=n||"sha1",e,t.length),c=a.allocUnsafe(r),f=a.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var p=0,A=h[n],g=Math.ceil(r/A),m=1;m<=g;m++){f.writeUInt32BE(m,t.length);for(var y=o.run(f,o.ipad1),v=y,E=1;E<i;E++){v=o.run(v,o.ipad2);for(var w=0;w<A;w++)y[w]^=v[w]}y.copy(c,p),p+=A}return c}},t2AN:function(e,t,i){"use strict";e.exports=o;var r=i("R09Z"),n=Object.create(i("rcOv"));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n.inherits=i("mwrz"),n.inherits(o,r),o.prototype._transform=function(e,t,i){i(null,e)}},tSXQ:function(e,t){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=i,i.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},"u/Wk":function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(5).Buffer}catch(e){}function s(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function u(e,t,i){var r=s(e,i);return i-1>=t&&(r|=s(e,i-1)<<4),r}function l(e,t,i,r){for(var n=0,o=Math.min(e.length,i),a=t;a<o;a++){var s=e.charCodeAt(a)-48;n*=r,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,i):(this._parseBase(e,t,n),"le"===i&&this._initArray(this.toArray(),t,i)))},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,a=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)n=u(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)n=u(e,t,r)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,s=Math.min(o,o-a)+i,u=0,c=i;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,u=a/67108864|0;i.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;c+=(a=(n=0|e.words[p])*(o=0|t.words[f])+h)/67108864|0,h=67108863&a}i.words[l]=0|h,u=0|c}return 0!==u?i.words[l]=0|u:i.length--,i.strip()}o.prototype.toString=function(e,t){var i;if(e=e||10,t=0|t||1,16===e||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<n|o)).toString(16);i=0!==(o=s>>>24-n&16777215)||a!==this.length-1?c[6-u.length]+u+i:u+i,(n+=2)>=26&&(n-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=d[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?A+i:c[l-A.length]+A+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-n;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=e):(i=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|i.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<i.length;a++)o=(t=(0|i.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,n,o,a=e.words,s=t.words,u=i.words,l=0,c=0|a[0],h=8191&c,d=c>>>13,f=0|a[1],p=8191&f,A=f>>>13,g=0|a[2],m=8191&g,y=g>>>13,v=0|a[3],E=8191&v,w=v>>>13,b=0|a[4],C=8191&b,I=b>>>13,S=0|a[5],M=8191&S,k=S>>>13,T=0|a[6],D=8191&T,B=T>>>13,R=0|a[7],Q=8191&R,O=R>>>13,L=0|a[8],x=8191&L,q=L>>>13,K=0|a[9],U=8191&K,F=K>>>13,j=0|s[0],N=8191&j,J=j>>>13,G=0|s[1],Y=8191&G,P=G>>>13,z=0|s[2],Z=8191&z,W=z>>>13,V=0|s[3],H=8191&V,X=V>>>13,_=0|s[4],$=8191&_,ee=_>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,de=ce>>>13,fe=0|s[9],pe=8191&fe,Ae=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(l+(r=Math.imul(h,N))|0)+((8191&(n=(n=Math.imul(h,J))+Math.imul(d,N)|0))<<13)|0;l=((o=Math.imul(d,J))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,N),n=(n=Math.imul(p,J))+Math.imul(A,N)|0,o=Math.imul(A,J);var me=(l+(r=r+Math.imul(h,Y)|0)|0)+((8191&(n=(n=n+Math.imul(h,P)|0)+Math.imul(d,Y)|0))<<13)|0;l=((o=o+Math.imul(d,P)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,N),n=(n=Math.imul(m,J))+Math.imul(y,N)|0,o=Math.imul(y,J),r=r+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,P)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,P)|0;var ye=(l+(r=r+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,W)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,W)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(E,N),n=(n=Math.imul(E,J))+Math.imul(w,N)|0,o=Math.imul(w,J),r=r+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,P)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,P)|0,r=r+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,W)|0;var ve=(l+(r=r+Math.imul(h,H)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,H)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(C,N),n=(n=Math.imul(C,J))+Math.imul(I,N)|0,o=Math.imul(I,J),r=r+Math.imul(E,Y)|0,n=(n=n+Math.imul(E,P)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,P)|0,r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,H)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,X)|0;var Ee=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,$)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,N),n=(n=Math.imul(M,J))+Math.imul(k,N)|0,o=Math.imul(k,J),r=r+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,P)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,P)|0,r=r+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0;var we=(l+(r=r+Math.imul(h,ie)|0)|0)+((8191&(n=(n=n+Math.imul(h,re)|0)+Math.imul(d,ie)|0))<<13)|0;l=((o=o+Math.imul(d,re)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,N),n=(n=Math.imul(D,J))+Math.imul(B,N)|0,o=Math.imul(B,J),r=r+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,P)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,P)|0,r=r+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(E,H)|0,n=(n=n+Math.imul(E,X)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(m,$)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ie)|0,n=(n=n+Math.imul(p,re)|0)+Math.imul(A,ie)|0,o=o+Math.imul(A,re)|0;var be=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(Q,N),n=(n=Math.imul(Q,J))+Math.imul(O,N)|0,o=Math.imul(O,J),r=r+Math.imul(D,Y)|0,n=(n=n+Math.imul(D,P)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,P)|0,r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(C,H)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(E,$)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ie)|0,n=(n=n+Math.imul(m,re)|0)+Math.imul(y,ie)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0;var Ce=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ue)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(x,N),n=(n=Math.imul(x,J))+Math.imul(q,N)|0,o=Math.imul(q,J),r=r+Math.imul(Q,Y)|0,n=(n=n+Math.imul(Q,P)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,P)|0,r=r+Math.imul(D,Z)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(C,$)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(E,ie)|0,n=(n=n+Math.imul(E,re)|0)+Math.imul(w,ie)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0;var Ie=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,N),n=(n=Math.imul(U,J))+Math.imul(F,N)|0,o=Math.imul(F,J),r=r+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,P)|0)+Math.imul(q,Y)|0,o=o+Math.imul(q,P)|0,r=r+Math.imul(Q,Z)|0,n=(n=n+Math.imul(Q,W)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,W)|0,r=r+Math.imul(D,H)|0,n=(n=n+Math.imul(D,X)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,X)|0,r=r+Math.imul(M,$)|0,n=(n=n+Math.imul(M,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,re)|0)+Math.imul(I,ie)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,de)|0;var Se=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,Ae)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(U,Y),n=(n=Math.imul(U,P))+Math.imul(F,Y)|0,o=Math.imul(F,P),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,W)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,W)|0,r=r+Math.imul(Q,H)|0,n=(n=n+Math.imul(Q,X)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,X)|0,r=r+Math.imul(D,$)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(M,ie)|0,n=(n=n+Math.imul(M,re)|0)+Math.imul(k,ie)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(C,oe)|0,n=(n=n+Math.imul(C,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(E,ue)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var Me=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,Z),n=(n=Math.imul(U,W))+Math.imul(F,Z)|0,o=Math.imul(F,W),r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(q,H)|0,o=o+Math.imul(q,X)|0,r=r+Math.imul(Q,$)|0,n=(n=n+Math.imul(Q,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(D,ie)|0,n=(n=n+Math.imul(D,re)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(M,oe)|0,n=(n=n+Math.imul(M,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(E,he)|0,n=(n=n+Math.imul(E,de)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,de)|0;var ke=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,H),n=(n=Math.imul(U,X))+Math.imul(F,H)|0,o=Math.imul(F,X),r=r+Math.imul(x,$)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(q,$)|0,o=o+Math.imul(q,ee)|0,r=r+Math.imul(Q,ie)|0,n=(n=n+Math.imul(Q,re)|0)+Math.imul(O,ie)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(M,ue)|0,n=(n=n+Math.imul(M,le)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,le)|0,r=r+Math.imul(C,he)|0,n=(n=n+Math.imul(C,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Te=(l+(r=r+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,Ae)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,$),n=(n=Math.imul(U,ee))+Math.imul(F,$)|0,o=Math.imul(F,ee),r=r+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,re)|0)+Math.imul(q,ie)|0,o=o+Math.imul(q,re)|0,r=r+Math.imul(Q,oe)|0,n=(n=n+Math.imul(Q,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(D,ue)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,r=r+Math.imul(M,he)|0,n=(n=n+Math.imul(M,de)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,de)|0;var De=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(n=(n=n+Math.imul(C,Ae)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(U,ie),n=(n=Math.imul(U,re))+Math.imul(F,ie)|0,o=Math.imul(F,re),r=r+Math.imul(x,oe)|0,n=(n=n+Math.imul(x,ae)|0)+Math.imul(q,oe)|0,o=o+Math.imul(q,ae)|0,r=r+Math.imul(Q,ue)|0,n=(n=n+Math.imul(Q,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(D,he)|0,n=(n=n+Math.imul(D,de)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,de)|0;var Be=(l+(r=r+Math.imul(M,pe)|0)|0)+((8191&(n=(n=n+Math.imul(M,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;l=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(U,oe),n=(n=Math.imul(U,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(q,ue)|0,o=o+Math.imul(q,le)|0,r=r+Math.imul(Q,he)|0,n=(n=n+Math.imul(Q,de)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,de)|0;var Re=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,Ae)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(F,ue)|0,o=Math.imul(F,le),r=r+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(q,he)|0,o=o+Math.imul(q,de)|0;var Qe=(l+(r=r+Math.imul(Q,pe)|0)|0)+((8191&(n=(n=n+Math.imul(Q,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,r=Math.imul(U,he),n=(n=Math.imul(U,de))+Math.imul(F,he)|0,o=Math.imul(F,de);var Oe=(l+(r=r+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,Ae)|0)+Math.imul(q,pe)|0))<<13)|0;l=((o=o+Math.imul(q,Ae)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Le=(l+(r=Math.imul(U,pe))|0)+((8191&(n=(n=Math.imul(U,Ae))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,Ae))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=ve,u[4]=Ee,u[5]=we,u[6]=be,u[7]=Ce,u[8]=Ie,u[9]=Se,u[10]=Me,u[11]=ke,u[12]=Te,u[13]=De,u[14]=Be,u[15]=Re,u[16]=Qe,u[17]=Oe,u[18]=Le,0!==l&&(u[19]=l,i.length++),i};function A(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),d=67108863&h;s=67108863&(d=d+s|0),n+=(a=(a=a+(h/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i.strip()}(this,e,t):A(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},g.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<n;c+=s)for(var h=u,d=l,f=0;f<a;f++){var p=i[c+f],A=r[c+f],g=i[c+f+a],m=r[c+f+a],y=h*g-d*m;m=h*m+d*g,g=y,i[c+f]=p+g,r[c+f]=A+m,i[c+f+a]=p-g,r[c+f+a]=A-m,f!==s&&(y=u*h-l*d,d=u*d+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=i.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,n),this.transform(l,o,c,h,r,n);for(var f=0;f<r;f++){var p=s[f]*c[f]-u[f]*h[f];u[f]=s[f]*h[f]+u[f]*c[f],s[f]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,n),this.conjugate(d,o,r),this.normalize13b(d,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var n=(0|this.words[i])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=(e.words[r]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var n;r("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(n-=a,n=Math.max(0,n),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=n);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i)&&!!(this.words[i]&n)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o,a=e.length+i;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+i])+s;var u=(0|e.words[n])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)s=(o=(0|this.words[n+i])+s)>>26,this.words[n+i]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),n=e,a=0|n.words[n.length-1];0!==(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,u=r.length-n.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(n,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[n.length+h])+(0|r.words[n.length+h-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(n,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(n,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,n=this.length-1;n>=0;n--)i=(t*i+(0|this.words[n]))%e;return i},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*t;this.words[i]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++l;for(var c=i.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(c),a.isub(h)),n.iushrn(1),a.iushrn(1);for(var p=0,A=1;0==(i.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(u)):(i.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:i.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,a=new o(1),s=new o(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,d=1;0==(i.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(n=0===t.cmpn(1)?a:s).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new C(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(v,y),v.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(E,y),n(w,y),n(b,y),b.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new E;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new b}return m[e]=t,t},C.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},C.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var A=f,g=0;0!==A.cmp(s);g++)A=A.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=g}return d},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;n!==i[0]&&(n=this.sqr(n)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}u=26}return n},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},n(I,C),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,i("y5YM")(e))},uCaM:function(e,t,i){t.pbkdf2=i("yT9O"),t.pbkdf2Sync=i("t+7X")},uOJK:function(e,t,i){var r,n,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=r.apply(this,arguments)),n}),s=function(e){var t={};return function(e){if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),u=null,l=0,c=[],h=i("udGk");function d(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=o[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(e,t){for(var i=[],r={},n=0;n<e.length;n++){var o=e[n],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):i.push(r[a]={id:a,parts:[s]})}return i}function p(e,t){var i=s(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?i.insertBefore(t,r.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),c.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=s(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,n)}}function A(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function y(e,t){var i,r,n,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;i=u||(u=g(t)),r=w.bind(null,i,a,!1),n=w.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),r=function(e,t,i){var r=i.css,n=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(r=h(r));n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i,t),n=function(){A(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(t),r=function(e,t){var i=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),n=function(){A(i)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return d(i,t),function(e){for(var r=[],n=0;n<i.length;n++){var a=i[n];(s=o[a.id]).refs--,r.push(s)}e&&d(f(e,t),t);for(n=0;n<r.length;n++){var s;if(0===(s=r[n]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var v,E=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function w(e,t,i,r){var n=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},uWRE:function(e,t,i){"use strict";var r=i("3XBS");t.certificate=i("Re/X");var n=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=n;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=u;var l=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=l;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=r.define("DSAparam",function(){this.int()});var h=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=h;var d=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},udGk:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,r=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},vq6N:function(e,t,i){var r=i("UjI3"),n=i("IkND"),o=i("PeeF"),a=i("u/Wk"),s=i("2ZN/"),u=i("kFjB"),l=i("AKP/"),c=i("DLTi").Buffer;e.exports=function(e,t,i){var h;h=e.padding?e.padding:i?1:4;var d,f=r(e),p=f.modulus.byteLength();if(t.length>p||new a(t).cmp(f.modulus)>=0)throw new Error("decryption error");d=i?l(new a(t),f):s(t,f);var A=c.alloc(p-d.length);if(d=c.concat([A,d],p),4===h)return function(e,t){var i=e.modulus.byteLength(),r=u("sha1").update(c.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),l=t.slice(a+1),h=o(s,n(l,a)),d=o(l,n(h,i-a-1));if(function(e,t){e=c.from(e),t=c.from(t);var i=0,r=e.length;e.length!==t.length&&(i++,r=Math.min(e.length,t.length));var n=-1;for(;++n<r;)i+=e[n]^t[n];return i}(r,d.slice(0,a)))throw new Error("decryption error");var f=a;for(;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===h)return function(e,t,i){var r=t.slice(0,2),n=2,o=0;for(;0!==t[n++];)if(n>=t.length){o++;break}var a=t.slice(2,n-1);("0002"!==r.toString("hex")&&!i||"0001"!==r.toString("hex")&&i)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(n)}(0,d,i);if(3===h)return d;throw new Error("unknown padding")}},w4dA:function(e,t,i){"use strict";var r=i("tSXQ"),n=i("mwrz"),o={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}n(t,e);for(var i=Object.keys(o),r=0;r<i.length;r++){var a=i[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new function(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},o._update=function(e,t,i,r){var n=this._cbcState,o=this.constructor.super_.prototype,a=n.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,i,r);for(s=0;s<this.blockSize;s++)a[s]=i[r+s]}else{o._update.call(this,e,t,i,r);for(s=0;s<this.blockSize;s++)i[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},wjIV:function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(t,i("mFPK"))},xJId:function(e,t,i){(function(t,i){var r;if(t.process&&t.process.browser)r="utf-8";else if(t.process&&t.process.version){r=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";e.exports=r}).call(t,i("mFPK"),i("V0EG"))},xXUF:function(e,t,i){var r=i("u/Wk"),n=i("fCcy");function o(e){this.rand=e||new n.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var n=new r(this.rand.generate(i))}while(n.cmp(e)>=0);return n},o.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},o.prototype.test=function(e,t,i){var n=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,n/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var l=e.shrn(u),c=s.toRed(o);t>0;t--){var h=this._randrange(new r(2),s);i&&i(h);var d=h.toRed(o).redPow(l);if(0!==d.cmp(a)&&0!==d.cmp(c)){for(var f=1;f<u;f++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(c))break}if(f===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var i=e.bitLength(),n=r.mont(e),o=new r(1).toRed(n);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),l=a.toRed(n);t>0;t--){var c=this._randrange(new r(2),a),h=e.gcd(c);if(0!==h.cmpn(1))return h;var d=c.toRed(n).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var f=1;f<s;f++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(l))break}if(f===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},"y+MR":function(e,t,i){"use strict";(function(t,r){var n;e.exports=S,S.ReadableState=I;i("cGIK").EventEmitter;var o=function(e,t){return e.listeners(t).length},a=i("IwBp"),s=i("NfRg").Buffer,u=t.Uint8Array||function(){};var l,c=i(1);l=c&&c.debuglog?c.debuglog("stream"):function(){};var h,d,f,p=i("U8Ka"),A=i("Lxgc"),g=i("zBhI").getHighWaterMark,m=i("DzCi").codes,y=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,E=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("mwrz")(S,a);var b=A.errorOrDestroy,C=["error","close","destroy","pause","resume"];function I(e,t,r){n=n||i("4zZu"),e=e||{},"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=i("boXJ").StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||i("4zZu"),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function M(e,t,i,r,n){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?B(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,a);else if(n||(o=function(e,t){var i;r=t,s.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(i=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return i}(a,t)),o)b(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?b(e,new w):k(e,a,t,!0);else if(a.ended)b(e,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):Q(e,a)):k(e,a,t,!1)}else r||(a.reading=!1,Q(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&B(e)),Q(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=A.destroy,S.prototype._undestroy=A.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),i=!0),M(this,e,t,!1,i)},S.prototype.unshift=function(e){return M(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=i("boXJ").StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var T=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function B(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,K(e)}function Q(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(l("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function x(e){l("readable nexttick read 0"),e.read(0)}function q(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),K(e),t.flowing&&!t.reading&&e.read(0)}function K(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function F(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(j,t,e))}function j(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function N(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}S.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):B(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,n=t.needReadable;return l("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",n=!0),t.ended||t.reading?l("reading or ended",n=!1):n&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(i,t))),null===(r=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(e){b(this,new E("_read()"))},S.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:g;function s(t,r){l("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",A),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",g),i.removeListener("data",d),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){l("onend"),e.end()}n.endEmitted?r.nextTick(a):i.once("end",a),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,K(e))}}(i);e.on("drain",c);var h=!1;function d(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==N(n.pipes,e))&&!h&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function f(t){l("onerror",t),g(),e.removeListener("error",f),0===o(e,"error")&&b(e,t)}function p(){e.removeListener("finish",A),g()}function A(){l("onfinish"),e.removeListener("close",p),g()}function g(){l("unpipe"),i.unpipe(e)}return i.on("data",d),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",f),e.once("close",p),e.once("finish",A),e.emit("pipe",i),n.flowing||(l("pipe resume"),i.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=N(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},S.prototype.on=function(e,t){var i=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?B(this):n.reading||r.nextTick(x,this))),i},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var i=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),i},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(q,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",function(){if(l("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){(l("wrapped data"),i.decoder&&(n=i.decoder.write(n)),!i.objectMode||null!==n&&void 0!==n)&&((i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause())))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=i("2z0l")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=U,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=i("6Dfl")),f(S,e,t)})}).call(t,i("mFPK"),i("V0EG"))},y5YM:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},y76T:function(e,t){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},__npminstall_done:"Fri Jul 29 2022 11:06:35 GMT+0800 (CST)",_from:"elliptic@6.5.4",_resolved:"https://registry.npmmirror.com/elliptic/-/elliptic-6.5.4.tgz"}},"y7x+":function(e,t,i){"use strict";(function(t,r,n){var o=i("z2li");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;e.entry=null;for(;r;){var n=r.callback;t.pendingcb--,n(i),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=m;var l=Object.create(i("rcOv"));l.inherits=i("mwrz");var c={deprecate:i("wjIV")},h=i("KSX3"),d=i("QMyh").Buffer,f=n.Uint8Array||function(){};var p,A=i("/sSn");function g(){}function m(e,t){s=s||i("qI9I"),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,r=i.sync,n=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,r,n){--t.pendingcb,i?(o.nextTick(n,r),o.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(n(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}(e,i,r,t,n);else{var a=b(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||w(e,i),r?u(E,e,i,a,n):E(e,i,a,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||i("qI9I"),!(p.call(y,this)||this instanceof s))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function v(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function E(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),I(e,t)}function w(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,n=new Array(r),o=t.corkedRequestsFree;o.entry=i;for(var s=0,u=!0;i;)n[s]=i,i.isBuf||(u=!1),i=i.next,s+=1;n.allBuffers=u,v(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,c=i.encoding,h=i.callback;if(v(e,t,!1,t.objectMode?1:l.length,l,c,h),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function I(e,t){var i=b(t);return i&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}l.inherits(y,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var r,n=this._writableState,a=!1,s=!n.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=g),n.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),o.nextTick(t,i)}(this,i):(s||function(e,t,i,r){var n=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),n=!1),n}(this,n,e,i))&&(n.pendingcb++,a=function(e,t,i,r,n,o){if(!i){var a=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,i));return t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,s,r,n,o);return u}(this,n,s,e,t,i)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var r=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,i){t.ending=!0,I(e,t),i&&(t.finished?o.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,r,i)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=A.destroy,y.prototype._undestroy=A.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,i("V0EG"),i("PKNu").setImmediate,i("mFPK"))},yT9O:function(e,t,i){(function(t){var r,n,o=i("DLTi").Buffer,a=i("GpZv"),s=i("xJId"),u=i("t+7X"),l=i("pLtV"),c=t.crypto&&t.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function f(){return n||(n=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function p(e,t,i,r,n){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:n}},e,r<<3)}).then(function(e){return o.from(e)})}e.exports=function(e,i,n,A,g,m){"function"==typeof g&&(m=g,g=void 0);var y=h[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof t.Promise){if(a(n,A),e=l(e,s,"Password"),i=l(i,s,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then(function(e){f()(function(){t(null,e)})},function(e){f()(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var i=p(r=r||o.alloc(8),r,10,128,e).then(function(){return!0}).catch(function(){return!1});return d[e]=i,i}(y).then(function(t){return t?p(e,i,n,A,y):u(e,i,n,A,g)}),m)}else f()(function(){var t;try{t=u(e,i,n,A,g)}catch(e){return m(e)}m(null,t)})}}).call(t,i("mFPK"))},yXLo:function(e,t,i){var r=i("DnPA");e.exports=function(e){return(new r).update(e).digest()}},yeH7:function(e,t,i){e.exports=i("LcQ3").PassThrough},yg5J:function(e,t,i){"use strict";var r=i("UXd7"),n=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},ytBe:function(e,t,i){"use strict";var r=i("UTjk"),n=i("97nf");var o=function(e){i("LEVF"),i("I+d/")},a=i("46Yf")(r.a,n.a,!1,o,"data-v-7512d01a",null);t.a=a.exports},z2li:function(e,t,i){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,i,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,r)});case 4:return t.nextTick(function(){e.call(null,i,r,n)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(t,i("V0EG"))},z7O9:function(e,t,i){var r=i("s+YV"),n=i("DLTi").Buffer,o=i("4P1X"),a=i("GL8g"),s=i("onRW"),u=i("fS0F"),l=i("gHHA");function c(e,t,i){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(t),this._prev=n.from(i),this._mode=e,this._autopadding=!0}function h(){this.cache=n.allocUnsafe(0)}function d(e,t,i){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=n.from(i)),"GCM"!==s.mode&&i.length!==s.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof t&&(t=n.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,i,!0):"auth"===s.type?new r(s.module,t,i,!0):new c(s.module,t,i)}i("mwrz")(c,s),c.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),r.push(i);return n.concat(r)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var i=-1;for(;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=n.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var i=o[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=l(t,!1,i.key,i.iv);return d(e,r.key,r.iv)},t.createDecipheriv=d},zBhI:function(e,t,i){"use strict";var r=i("DzCi").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,n){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,n,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(n?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},zGdw:function(e,t,i){"use strict";t.byteLength=function(e){var t=l(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,r=l(e),a=r[0],s=r[1],u=new o(function(e,t,i){return 3*(t+i)/4-i}(0,a,s)),c=0,h=s>0?a-4:a;for(i=0;i<h;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,u[c++]=255&t);1===s&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,o=[],a=0,s=i-n;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===n?(t=e[i-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,i){for(var n,o,a=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=n)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},zLEk:function(e,t){e.exports="data:font/woff2;base64,d09GMgABAAAAAAlMAAsAAAAAEOAAAAj+AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACEPAqSaI80ATYCJAMwCxoABCAFhGcHgRwbUA4RFazfI/viwDz9UwQQaoWtoxI6Bg55+g1tP7RnvwfPf/u1+2bmi2LWVJvZ6XgjtG1I/hWTrIlQaRs6YhbiDuGmXdA1ghR8XlGgbrB5NUDFqClVKpPk35N/p0yNwUwMmAq8awBQ1G5/7pVjClADbnNLFNuMi1B8cvb1rw/9KFeSLg37Do6lfi0D5GNrm8tH3Vf2KinaBvxAi0ywjYdRNuANSAbAM7FNLsykdcwCM31tXAUBfFrJhDE8bQ4O4pSpvwuUwkLMFEhjJdXabALuXIxpqRBcns3d0gBZB2xQC4wrALDmn1++QayMAygsDcR+Rpp0DSD9WuX7KeJ/AtA3wFKO14GWVoAFaKDxyqRy2K4+AMwYGj3br0tmMQ8gH8H8u82b6rXm9as3Fq/Tu9V72HvC99P/f1N9yHu8azFTyJdqKfIz/5snaBQBPh4uDjYWiA2IHSJnmxU8ZaoWYjxHAyECzis0Q8O7pRkKPpxCAnC2QogPziEI8cA5DCEuOMchxAHnBJphw+dPlG+Gfk3JxQAGAFqT5AGI4gkAJnRbBLgx2OGaEcodh6GBApbfFB6G+SkBT4i5hKoQCSrjYrAfF06FWApxRAjKF3O5/rGECclHikEoCgkEFj3CErARownFYQafCeO0y0XcuUO53aTHo6cObCG2HkTo2+S1UdseMQ6Rp67BPOrKCcBITl5F+PT10xCkH9vrdEJM0lFKHGmAYwkc3wQeBWUGyNjl72LNEeoYeXyUDpfoEfqgQiJhEVuCxALqkFLKJreHyhDjMvNVMj1uXQ8bWEI2TG2UGi5hszt3CJeL9nhIt7uePkocjNPcQO30uy6nLuwgdl6kL+8md13CKRsEkYsWjY2JxYR1MmWzyZYdRugxwgpT68VWU68utsYqlLp2K2tuP4xg9MGtQHxesAmhJWNyn4CRiBfDEEKFSN2zFCQJETd6KXsNbGDtxwkFkIsQOvigXsIkpVbxnTviQ4UvhQJJB1x7XZLtyPHng6nFACRWI0zZ2JSyctRtkAV38AKXvsBjXAUiDSgVb3S5Sh8I6dKDy2lJqX2CoW2N2rIl4WMS1O0pw+gkPAg2UdIK52T98M3ry5dG2KSY645l48rxy/YHu+54P/j6fdtWhXo8kMfgxm2kc7/kaNUG6dZ9UtvSZTIPaaYObbvEMx5GEOOmvZsBK7HvkRpgIwICjbbDwCeaRiCZjFZAMAODhkeG75eWDI8RdqrNBQixfnfAOnembY+dMF6+Eydw/enpvt1uw8Y98sUrqtYv37o3NLQaIh37gnAc/sJEAMxTEP3YficEGY8nhssPLuKD80HlIljDNay+XkQjjfn6SjDwQ+jD28lthwav3EPdIG4mbDi8HSJvmVPmuvpkeBSm7ICTbH62WTkhLunA8gHH/s9eeIIQASeyFs4o8zeCFVeQuOJCQFS+RpNfrYiOXx3fXlMmbTSoDI3SAKDjg56nt/8Q+KpSkgOUnwdmBH6uDPgvYCZXreMTPMWEi4XYv08Rq5iquc+94+z6vmmPVcKFKKWWhSdo5ZFB3XHklMpEdcVh6Xg9h2OQvXjbTMg1KfFdHFZXXDjfY0bx+JZZc9DjIHIq4gQSXprY8enCaf1abT+tHXDwERADiP75dbgmX63Or1AX5KsqA8HcKkWkvQgjxusStInaBB0w/+pZkZGzSkEEvyyeJ1I4SX0r/ZYqfYL9kSY2jbItbCZL8e7nLSwOu9nIaogI2lkiZVsQC5u/gk5Yf1Q1HKFCTqyYkK4KUpeVsPqVAwoknKfK4W0dTZj22BtaHWRUrHTKvfIltAKbG3YiWSB6uCRKzm+U0zvkAAoHYwzqmRIAUTWA3eV/LDTyq/29giJ+FvI9yqXrBjPW1nOZU3LKomeHnO1jo0/RJGEL37uWbeHkis+IujnNcDOnm/sSzuU0X+3Csg8EY1tgC+hSSerOipll03ukfdIXumK8sGhqV4A5yje7fGZpq6pT9Y3UlFuTndiQ1GKpMdbOD0LpHxsEa4cPKsJCtdrQQkV0/ML4tta30B2HdVl66oe0GSVhxnDmicPaC3FNA7KAasmlyfjA8eZ/xlkT7L6mOGta06YoCB0kstfsUkRHTM6iaCvZHWJSd+3qYnYnVySWrvrcF37Z9NWr2I5huoNXj9Zte7ux6b281I2ZfOVFh/KI0nFRWeLbhcR+KLGKNufdx3lKwCB982KfTpsX33f9xmDej/EjFy/N0w43Xh/5QP480NFflPBl+ZWAJQFXEtaVXQlcEhjcoU3FeRPmzqkfh8Z1vvrKfCU8f79Jk1iWXMkw16mKp00rDXlLV569zkIWhirb1/S44D2c9cVtivDvk/aIqRw4P/2qJVB5b5nymHLZXSX+9d77JQ7RanDkzWhI8DzHiHt0i2N+cPl8+5aR8OH/7TcgZATs/OLT9Gn6o3zqPnV/zVxvrDl2EFoOeaOy6Z/lKyh7rJ2KtfejoGWh+rm46TP7qCK0Ee8LaZrTWGi2L2VQdiXwn8nGJY8lck3zQ/2YN4PuH4DQ6DST5suo/8lc7zgzKcCuys1sxN7My4zCnuooMxO7tp8qgZMcZBZ2ax8yi70nMjGzR5lLscz5MKKGn/6ri/yNzrpz/XVCU2bVguO6cFEItcAIklPJHNJsLRCaur7RlMH4kHOAORXgy2EwVtTn8vgc3Dw2dWzMzUtrFA5loOtyysEgp77GIqAdbOT01Pg0oNs+IA8z0IjxA1DN26gRstlco4g5Ao2c82CQ46mxKOQN2Mj5t8ZnCsL2FlCtGXMQh+osjD+Ihskrnvpsry6sCaXK8XRSImzQN13Rd3Hk5BDrlHcYVD144QXO0+O5lBiy8OyMNpNq3retr1unMbxUB3GotqEF469lNEx+aM2/vqsLa0JhIp9KKSGZsge9RsdAXtjE6vJKkss7DJSUHjQIwRJzz1ulS9LNINcvNjujjWmAM++1NJTnspvzc5ePm81n1604SAgp0WLEElscccUT/9e+iURwhyJSmOM2rbF02Bak/WY6x7YQ5jKx7kyoo/CL1LencY4UNnMk1+61Ik2C+npkj5XGP5IuRVUFAA=="}});